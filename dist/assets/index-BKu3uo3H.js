var bue=Object.defineProperty;var YL=e=>{throw TypeError(e)};var wue=(e,t,n)=>t in e?bue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var wC=(e,t,n)=>wue(e,typeof t!="symbol"?t+"":t,n),jC=(e,t,n)=>t.has(e)||YL("Cannot "+n);var J=(e,t,n)=>(jC(e,t,"read from private field"),n?n.call(e):t.get(e)),Ke=(e,t,n)=>t.has(e)?YL("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Fe=(e,t,n,r)=>(jC(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Tt=(e,t,n)=>(jC(e,t,"access private method"),n);var Kb=(e,t,n,r)=>({set _(i){Fe(e,t,i,n)},get _(){return J(e,t,r)}});function jue(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _ue(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var T9={exports:{}},HN={},P9={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=Symbol.for("react.element"),Nue=Symbol.for("react.portal"),Sue=Symbol.for("react.fragment"),Cue=Symbol.for("react.strict_mode"),Eue=Symbol.for("react.profiler"),kue=Symbol.for("react.provider"),Aue=Symbol.for("react.context"),Tue=Symbol.for("react.forward_ref"),Pue=Symbol.for("react.suspense"),Oue=Symbol.for("react.memo"),Rue=Symbol.for("react.lazy"),XL=Symbol.iterator;function Due(e){return e===null||typeof e!="object"?null:(e=XL&&e[XL]||e["@@iterator"],typeof e=="function"?e:null)}var O9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R9=Object.assign,D9={};function Ap(e,t,n){this.props=e,this.context=t,this.refs=D9,this.updater=n||O9}Ap.prototype.isReactComponent={};Ap.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ap.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function M9(){}M9.prototype=Ap.prototype;function cR(e,t,n){this.props=e,this.context=t,this.refs=D9,this.updater=n||O9}var uR=cR.prototype=new M9;uR.constructor=cR;R9(uR,Ap.prototype);uR.isPureReactComponent=!0;var QL=Array.isArray,I9=Object.prototype.hasOwnProperty,dR={current:null},L9={key:!0,ref:!0,__self:!0,__source:!0};function $9(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)I9.call(t,r)&&!L9.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:$y,type:e,key:a,ref:o,props:i,_owner:dR.current}}function Mue(e,t){return{$$typeof:$y,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fR(e){return typeof e=="object"&&e!==null&&e.$$typeof===$y}function Iue(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var JL=/\/+/g;function _C(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iue(""+e.key):t.toString(36)}function vw(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $y:case Nue:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+_C(o,0):r,QL(i)?(n="",e!=null&&(n=e.replace(JL,"$&/")+"/"),vw(i,t,n,"",function(u){return u})):i!=null&&(fR(i)&&(i=Mue(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(JL,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",QL(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+_C(a,l);o+=vw(a,t,n,c,i)}else if(c=Due(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+_C(a,l++),o+=vw(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Yb(e,t,n){if(e==null)return e;var r=[],i=0;return vw(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Lue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bs={current:null},yw={transition:null},$ue={ReactCurrentDispatcher:Bs,ReactCurrentBatchConfig:yw,ReactCurrentOwner:dR};function F9(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:Yb,forEach:function(e,t,n){Yb(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yb(e,function(){t++}),t},toArray:function(e){return Yb(e,function(t){return t})||[]},only:function(e){if(!fR(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zt.Component=Ap;zt.Fragment=Sue;zt.Profiler=Eue;zt.PureComponent=cR;zt.StrictMode=Cue;zt.Suspense=Pue;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$ue;zt.act=F9;zt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=R9({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=dR.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)I9.call(t,c)&&!L9.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:$y,type:e.type,key:i,ref:a,props:r,_owner:o}};zt.createContext=function(e){return e={$$typeof:Aue,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kue,_context:e},e.Consumer=e};zt.createElement=$9;zt.createFactory=function(e){var t=$9.bind(null,e);return t.type=e,t};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:Tue,render:e}};zt.isValidElement=fR;zt.lazy=function(e){return{$$typeof:Rue,_payload:{_status:-1,_result:e},_init:Lue}};zt.memo=function(e,t){return{$$typeof:Oue,type:e,compare:t===void 0?null:t}};zt.startTransition=function(e){var t=yw.transition;yw.transition={};try{e()}finally{yw.transition=t}};zt.unstable_act=F9;zt.useCallback=function(e,t){return Bs.current.useCallback(e,t)};zt.useContext=function(e){return Bs.current.useContext(e)};zt.useDebugValue=function(){};zt.useDeferredValue=function(e){return Bs.current.useDeferredValue(e)};zt.useEffect=function(e,t){return Bs.current.useEffect(e,t)};zt.useId=function(){return Bs.current.useId()};zt.useImperativeHandle=function(e,t,n){return Bs.current.useImperativeHandle(e,t,n)};zt.useInsertionEffect=function(e,t){return Bs.current.useInsertionEffect(e,t)};zt.useLayoutEffect=function(e,t){return Bs.current.useLayoutEffect(e,t)};zt.useMemo=function(e,t){return Bs.current.useMemo(e,t)};zt.useReducer=function(e,t,n){return Bs.current.useReducer(e,t,n)};zt.useRef=function(e){return Bs.current.useRef(e)};zt.useState=function(e){return Bs.current.useState(e)};zt.useSyncExternalStore=function(e,t,n){return Bs.current.useSyncExternalStore(e,t,n)};zt.useTransition=function(){return Bs.current.useTransition()};zt.version="18.3.1";P9.exports=zt;var x=P9.exports;const B=Vt(x),hR=jue({__proto__:null,default:B},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fue=x,zue=Symbol.for("react.element"),Bue=Symbol.for("react.fragment"),Uue=Object.prototype.hasOwnProperty,que=Fue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vue={key:!0,ref:!0,__self:!0,__source:!0};function z9(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Uue.call(t,r)&&!Vue.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zue,type:e,key:a,ref:o,props:i,_owner:que.current}}HN.Fragment=Bue;HN.jsx=z9;HN.jsxs=z9;T9.exports=HN;var s=T9.exports,B9={exports:{}},Bi={},U9={exports:{}},q9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var M=P.length;P.push(I);e:for(;0<M;){var U=M-1>>>1,D=P[U];if(0<i(D,I))P[U]=I,P[M]=D,M=U;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var I=P[0],M=P.pop();if(M!==I){P[0]=M;e:for(var U=0,D=P.length,L=D>>>1;U<L;){var V=2*(U+1)-1,K=P[V],G=V+1,X=P[G];if(0>i(K,M))G<D&&0>i(X,K)?(P[U]=X,P[G]=M,U=G):(P[U]=K,P[V]=M,U=V);else if(G<D&&0>i(X,M))P[U]=X,P[G]=M,U=G;else break e}}return I}function i(P,I){var M=P.sortIndex-I.sortIndex;return M!==0?M:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=P)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function j(P){if(g=!1,b(P),!p)if(n(c)!==null)p=!0,F(_);else{var I=n(u);I!==null&&z(j,I.startTime-P)}}function _(P,I){p=!1,g&&(g=!1,v(C),C=-1),m=!0;var M=h;try{for(b(I),f=n(c);f!==null&&(!(f.expirationTime>I)||P&&!T());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var D=U(f.expirationTime<=I);I=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(c)&&r(c),b(I)}else r(c);f=n(c)}if(f!==null)var L=!0;else{var V=n(u);V!==null&&z(j,V.startTime-I),L=!1}return L}finally{f=null,h=M,m=!1}}var N=!1,S=null,C=-1,k=5,A=-1;function T(){return!(e.unstable_now()-A<k)}function E(){if(S!==null){var P=e.unstable_now();A=P;var I=!0;try{I=S(!0,P)}finally{I?R():(N=!1,S=null)}}else N=!1}var R;if(typeof w=="function")R=function(){w(E)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,O=$.port2;$.port1.onmessage=E,R=function(){O.postMessage(null)}}else R=function(){y(E,0)};function F(P){S=P,N||(N=!0,R())}function z(P,I){C=y(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,F(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var M=h;h=I;try{return P()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=h;h=P;try{return I()}finally{h=M}},e.unstable_scheduleCallback=function(P,I,M){var U=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?U+M:U):M=U,P){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=M+D,P={id:d++,callback:I,priorityLevel:P,startTime:M,expirationTime:D,sortIndex:-1},M>U?(P.sortIndex=M,t(u,P),n(c)===null&&P===n(u)&&(g?(v(C),C=-1):g=!0,z(j,M-U))):(P.sortIndex=D,t(c,P),p||m||(p=!0,F(_))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var I=h;return function(){var M=h;h=I;try{return P.apply(this,arguments)}finally{h=M}}}})(q9);U9.exports=q9;var Hue=U9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wue=x,Fi=Hue;function Re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V9=new Set,nv={};function Df(e,t){Dm(e,t),Dm(e+"Capture",t)}function Dm(e,t){for(nv[e]=t,e=0;e<t.length;e++)V9.add(t[e])}var Al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vA=Object.prototype.hasOwnProperty,Gue=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZL={},e$={};function Kue(e){return vA.call(e$,e)?!0:vA.call(ZL,e)?!1:Gue.test(e)?e$[e]=!0:(ZL[e]=!0,!1)}function Yue(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xue(e,t,n,r){if(t===null||typeof t>"u"||Yue(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Us(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var es={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){es[e]=new Us(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];es[t]=new Us(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){es[e]=new Us(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){es[e]=new Us(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){es[e]=new Us(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){es[e]=new Us(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){es[e]=new Us(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){es[e]=new Us(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){es[e]=new Us(e,5,!1,e.toLowerCase(),null,!1,!1)});var mR=/[\-:]([a-z])/g;function pR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mR,pR);es[t]=new Us(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mR,pR);es[t]=new Us(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mR,pR);es[t]=new Us(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){es[e]=new Us(e,1,!1,e.toLowerCase(),null,!1,!1)});es.xlinkHref=new Us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){es[e]=new Us(e,1,!1,e.toLowerCase(),null,!0,!0)});function gR(e,t,n,r){var i=es.hasOwnProperty(t)?es[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xue(t,n,i,r)&&(n=null),r||i===null?Kue(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kl=Wue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xb=Symbol.for("react.element"),Ah=Symbol.for("react.portal"),Th=Symbol.for("react.fragment"),xR=Symbol.for("react.strict_mode"),yA=Symbol.for("react.profiler"),H9=Symbol.for("react.provider"),W9=Symbol.for("react.context"),vR=Symbol.for("react.forward_ref"),bA=Symbol.for("react.suspense"),wA=Symbol.for("react.suspense_list"),yR=Symbol.for("react.memo"),bc=Symbol.for("react.lazy"),G9=Symbol.for("react.offscreen"),t$=Symbol.iterator;function Eg(e){return e===null||typeof e!="object"?null:(e=t$&&e[t$]||e["@@iterator"],typeof e=="function"?e:null)}var Qn=Object.assign,NC;function ix(e){if(NC===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);NC=t&&t[1]||""}return`
`+NC+e}var SC=!1;function CC(e,t){if(!e||SC)return"";SC=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{SC=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ix(e):""}function Que(e){switch(e.tag){case 5:return ix(e.type);case 16:return ix("Lazy");case 13:return ix("Suspense");case 19:return ix("SuspenseList");case 0:case 2:case 15:return e=CC(e.type,!1),e;case 11:return e=CC(e.type.render,!1),e;case 1:return e=CC(e.type,!0),e;default:return""}}function jA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Th:return"Fragment";case Ah:return"Portal";case yA:return"Profiler";case xR:return"StrictMode";case bA:return"Suspense";case wA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W9:return(e.displayName||"Context")+".Consumer";case H9:return(e._context.displayName||"Context")+".Provider";case vR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yR:return t=e.displayName||null,t!==null?t:jA(e.type)||"Memo";case bc:t=e._payload,e=e._init;try{return jA(e(t))}catch{}}return null}function Jue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jA(t);case 8:return t===xR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zue(e){var t=K9(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qb(e){e._valueTracker||(e._valueTracker=Zue(e))}function Y9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K9(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rj(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _A(e,t){var n=t.checked;return Qn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function n$(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function X9(e,t){t=t.checked,t!=null&&gR(e,"checked",t,!1)}function NA(e,t){X9(e,t);var n=pu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?SA(e,t.type,n):t.hasOwnProperty("defaultValue")&&SA(e,t.type,pu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function r$(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function SA(e,t,n){(t!=="number"||rj(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ax=Array.isArray;function em(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function CA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Re(91));return Qn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function s$(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Re(92));if(ax(n)){if(1<n.length)throw Error(Re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pu(n)}}function Q9(e,t){var n=pu(t.value),r=pu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function i$(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function J9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?J9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jb,Z9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jb=Jb||document.createElement("div"),Jb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ede=["Webkit","ms","Moz","O"];Object.keys(bx).forEach(function(e){ede.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bx[t]=bx[e]})});function eH(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bx.hasOwnProperty(e)&&bx[e]?(""+t).trim():t+"px"}function tH(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eH(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var tde=Qn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kA(e,t){if(t){if(tde[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Re(62))}}function AA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TA=null;function bR(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var PA=null,tm=null,nm=null;function a$(e){if(e=By(e)){if(typeof PA!="function")throw Error(Re(280));var t=e.stateNode;t&&(t=XN(t),PA(e.stateNode,e.type,t))}}function nH(e){tm?nm?nm.push(e):nm=[e]:tm=e}function rH(){if(tm){var e=tm,t=nm;if(nm=tm=null,a$(e),t)for(e=0;e<t.length;e++)a$(t[e])}}function sH(e,t){return e(t)}function iH(){}var EC=!1;function aH(e,t,n){if(EC)return e(t,n);EC=!0;try{return sH(e,t,n)}finally{EC=!1,(tm!==null||nm!==null)&&(iH(),rH())}}function sv(e,t){var n=e.stateNode;if(n===null)return null;var r=XN(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Re(231,t,typeof n));return n}var OA=!1;if(Al)try{var kg={};Object.defineProperty(kg,"passive",{get:function(){OA=!0}}),window.addEventListener("test",kg,kg),window.removeEventListener("test",kg,kg)}catch{OA=!1}function nde(e,t,n,r,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var wx=!1,sj=null,ij=!1,RA=null,rde={onError:function(e){wx=!0,sj=e}};function sde(e,t,n,r,i,a,o,l,c){wx=!1,sj=null,nde.apply(rde,arguments)}function ide(e,t,n,r,i,a,o,l,c){if(sde.apply(this,arguments),wx){if(wx){var u=sj;wx=!1,sj=null}else throw Error(Re(198));ij||(ij=!0,RA=u)}}function Mf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oH(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function o$(e){if(Mf(e)!==e)throw Error(Re(188))}function ade(e){var t=e.alternate;if(!t){if(t=Mf(e),t===null)throw Error(Re(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return o$(i),e;if(a===r)return o$(i),t;a=a.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?e:t}function lH(e){return e=ade(e),e!==null?cH(e):null}function cH(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cH(e);if(t!==null)return t;e=e.sibling}return null}var uH=Fi.unstable_scheduleCallback,l$=Fi.unstable_cancelCallback,ode=Fi.unstable_shouldYield,lde=Fi.unstable_requestPaint,ar=Fi.unstable_now,cde=Fi.unstable_getCurrentPriorityLevel,wR=Fi.unstable_ImmediatePriority,dH=Fi.unstable_UserBlockingPriority,aj=Fi.unstable_NormalPriority,ude=Fi.unstable_LowPriority,fH=Fi.unstable_IdlePriority,WN=null,Oo=null;function dde(e){if(Oo&&typeof Oo.onCommitFiberRoot=="function")try{Oo.onCommitFiberRoot(WN,e,void 0,(e.current.flags&128)===128)}catch{}}var Ka=Math.clz32?Math.clz32:mde,fde=Math.log,hde=Math.LN2;function mde(e){return e>>>=0,e===0?32:31-(fde(e)/hde|0)|0}var Zb=64,e0=4194304;function ox(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oj(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ox(l):(a&=o,a!==0&&(r=ox(a)))}else o=n&~i,o!==0?r=ox(o):a!==0&&(r=ox(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ka(t),i=1<<n,r|=e[n],t&=~i;return r}function pde(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gde(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ka(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=pde(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function DA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hH(){var e=Zb;return Zb<<=1,!(Zb&4194240)&&(Zb=64),e}function kC(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fy(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ka(t),e[t]=n}function xde(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ka(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function jR(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ka(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var un=0;function mH(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pH,_R,gH,xH,vH,MA=!1,t0=[],eu=null,tu=null,nu=null,iv=new Map,av=new Map,Nc=[],vde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c$(e,t){switch(e){case"focusin":case"focusout":eu=null;break;case"dragenter":case"dragleave":tu=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":iv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":av.delete(t.pointerId)}}function Ag(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=By(t),t!==null&&_R(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yde(e,t,n,r,i){switch(t){case"focusin":return eu=Ag(eu,e,t,n,r,i),!0;case"dragenter":return tu=Ag(tu,e,t,n,r,i),!0;case"mouseover":return nu=Ag(nu,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return iv.set(a,Ag(iv.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,av.set(a,Ag(av.get(a)||null,e,t,n,r,i)),!0}return!1}function yH(e){var t=jd(e.target);if(t!==null){var n=Mf(t);if(n!==null){if(t=n.tag,t===13){if(t=oH(n),t!==null){e.blockedOn=t,vH(e.priority,function(){gH(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=IA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);TA=r,n.target.dispatchEvent(r),TA=null}else return t=By(n),t!==null&&_R(t),e.blockedOn=n,!1;t.shift()}return!0}function u$(e,t,n){bw(e)&&n.delete(t)}function bde(){MA=!1,eu!==null&&bw(eu)&&(eu=null),tu!==null&&bw(tu)&&(tu=null),nu!==null&&bw(nu)&&(nu=null),iv.forEach(u$),av.forEach(u$)}function Tg(e,t){e.blockedOn===t&&(e.blockedOn=null,MA||(MA=!0,Fi.unstable_scheduleCallback(Fi.unstable_NormalPriority,bde)))}function ov(e){function t(i){return Tg(i,e)}if(0<t0.length){Tg(t0[0],e);for(var n=1;n<t0.length;n++){var r=t0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(eu!==null&&Tg(eu,e),tu!==null&&Tg(tu,e),nu!==null&&Tg(nu,e),iv.forEach(t),av.forEach(t),n=0;n<Nc.length;n++)r=Nc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nc.length&&(n=Nc[0],n.blockedOn===null);)yH(n),n.blockedOn===null&&Nc.shift()}var rm=Kl.ReactCurrentBatchConfig,lj=!0;function wde(e,t,n,r){var i=un,a=rm.transition;rm.transition=null;try{un=1,NR(e,t,n,r)}finally{un=i,rm.transition=a}}function jde(e,t,n,r){var i=un,a=rm.transition;rm.transition=null;try{un=4,NR(e,t,n,r)}finally{un=i,rm.transition=a}}function NR(e,t,n,r){if(lj){var i=IA(e,t,n,r);if(i===null)$C(e,t,r,cj,n),c$(e,r);else if(yde(i,e,t,n,r))r.stopPropagation();else if(c$(e,r),t&4&&-1<vde.indexOf(e)){for(;i!==null;){var a=By(i);if(a!==null&&pH(a),a=IA(e,t,n,r),a===null&&$C(e,t,r,cj,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else $C(e,t,r,null,n)}}var cj=null;function IA(e,t,n,r){if(cj=null,e=bR(r),e=jd(e),e!==null)if(t=Mf(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oH(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cj=e,null}function bH(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cde()){case wR:return 1;case dH:return 4;case aj:case ude:return 16;case fH:return 536870912;default:return 16}default:return 16}}var Lc=null,SR=null,ww=null;function wH(){if(ww)return ww;var e,t=SR,n=t.length,r,i="value"in Lc?Lc.value:Lc.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return ww=i.slice(e,1<r?1-r:void 0)}function jw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function n0(){return!0}function d$(){return!1}function Ui(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?n0:d$,this.isPropagationStopped=d$,this}return Qn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=n0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=n0)},persist:function(){},isPersistent:n0}),t}var Tp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CR=Ui(Tp),zy=Qn({},Tp,{view:0,detail:0}),_de=Ui(zy),AC,TC,Pg,GN=Qn({},zy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ER,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pg&&(Pg&&e.type==="mousemove"?(AC=e.screenX-Pg.screenX,TC=e.screenY-Pg.screenY):TC=AC=0,Pg=e),AC)},movementY:function(e){return"movementY"in e?e.movementY:TC}}),f$=Ui(GN),Nde=Qn({},GN,{dataTransfer:0}),Sde=Ui(Nde),Cde=Qn({},zy,{relatedTarget:0}),PC=Ui(Cde),Ede=Qn({},Tp,{animationName:0,elapsedTime:0,pseudoElement:0}),kde=Ui(Ede),Ade=Qn({},Tp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tde=Ui(Ade),Pde=Qn({},Tp,{data:0}),h$=Ui(Pde),Ode={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rde={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dde={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mde(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dde[e])?!!t[e]:!1}function ER(){return Mde}var Ide=Qn({},zy,{key:function(e){if(e.key){var t=Ode[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rde[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ER,charCode:function(e){return e.type==="keypress"?jw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lde=Ui(Ide),$de=Qn({},GN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m$=Ui($de),Fde=Qn({},zy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ER}),zde=Ui(Fde),Bde=Qn({},Tp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ude=Ui(Bde),qde=Qn({},GN,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vde=Ui(qde),Hde=[9,13,27,32],kR=Al&&"CompositionEvent"in window,jx=null;Al&&"documentMode"in document&&(jx=document.documentMode);var Wde=Al&&"TextEvent"in window&&!jx,jH=Al&&(!kR||jx&&8<jx&&11>=jx),p$=" ",g$=!1;function _H(e,t){switch(e){case"keyup":return Hde.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NH(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ph=!1;function Gde(e,t){switch(e){case"compositionend":return NH(t);case"keypress":return t.which!==32?null:(g$=!0,p$);case"textInput":return e=t.data,e===p$&&g$?null:e;default:return null}}function Kde(e,t){if(Ph)return e==="compositionend"||!kR&&_H(e,t)?(e=wH(),ww=SR=Lc=null,Ph=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jH&&t.locale!=="ko"?null:t.data;default:return null}}var Yde={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yde[e.type]:t==="textarea"}function SH(e,t,n,r){nH(r),t=uj(t,"onChange"),0<t.length&&(n=new CR("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _x=null,lv=null;function Xde(e){IH(e,0)}function KN(e){var t=Dh(e);if(Y9(t))return e}function Qde(e,t){if(e==="change")return t}var CH=!1;if(Al){var OC;if(Al){var RC="oninput"in document;if(!RC){var v$=document.createElement("div");v$.setAttribute("oninput","return;"),RC=typeof v$.oninput=="function"}OC=RC}else OC=!1;CH=OC&&(!document.documentMode||9<document.documentMode)}function y$(){_x&&(_x.detachEvent("onpropertychange",EH),lv=_x=null)}function EH(e){if(e.propertyName==="value"&&KN(lv)){var t=[];SH(t,lv,e,bR(e)),aH(Xde,t)}}function Jde(e,t,n){e==="focusin"?(y$(),_x=t,lv=n,_x.attachEvent("onpropertychange",EH)):e==="focusout"&&y$()}function Zde(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return KN(lv)}function efe(e,t){if(e==="click")return KN(t)}function tfe(e,t){if(e==="input"||e==="change")return KN(t)}function nfe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var to=typeof Object.is=="function"?Object.is:nfe;function cv(e,t){if(to(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vA.call(t,i)||!to(e[i],t[i]))return!1}return!0}function b$(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function w$(e,t){var n=b$(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=b$(n)}}function kH(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kH(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AH(){for(var e=window,t=rj();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rj(e.document)}return t}function AR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rfe(e){var t=AH(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kH(n.ownerDocument.documentElement,n)){if(r!==null&&AR(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=w$(n,a);var o=w$(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sfe=Al&&"documentMode"in document&&11>=document.documentMode,Oh=null,LA=null,Nx=null,$A=!1;function j$(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$A||Oh==null||Oh!==rj(r)||(r=Oh,"selectionStart"in r&&AR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nx&&cv(Nx,r)||(Nx=r,r=uj(LA,"onSelect"),0<r.length&&(t=new CR("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Oh)))}function r0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rh={animationend:r0("Animation","AnimationEnd"),animationiteration:r0("Animation","AnimationIteration"),animationstart:r0("Animation","AnimationStart"),transitionend:r0("Transition","TransitionEnd")},DC={},TH={};Al&&(TH=document.createElement("div").style,"AnimationEvent"in window||(delete Rh.animationend.animation,delete Rh.animationiteration.animation,delete Rh.animationstart.animation),"TransitionEvent"in window||delete Rh.transitionend.transition);function YN(e){if(DC[e])return DC[e];if(!Rh[e])return e;var t=Rh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in TH)return DC[e]=t[n];return e}var PH=YN("animationend"),OH=YN("animationiteration"),RH=YN("animationstart"),DH=YN("transitionend"),MH=new Map,_$="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tu(e,t){MH.set(e,t),Df(t,[e])}for(var MC=0;MC<_$.length;MC++){var IC=_$[MC],ife=IC.toLowerCase(),afe=IC[0].toUpperCase()+IC.slice(1);Tu(ife,"on"+afe)}Tu(PH,"onAnimationEnd");Tu(OH,"onAnimationIteration");Tu(RH,"onAnimationStart");Tu("dblclick","onDoubleClick");Tu("focusin","onFocus");Tu("focusout","onBlur");Tu(DH,"onTransitionEnd");Dm("onMouseEnter",["mouseout","mouseover"]);Dm("onMouseLeave",["mouseout","mouseover"]);Dm("onPointerEnter",["pointerout","pointerover"]);Dm("onPointerLeave",["pointerout","pointerover"]);Df("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Df("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Df("onBeforeInput",["compositionend","keypress","textInput","paste"]);Df("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Df("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Df("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ofe=new Set("cancel close invalid load scroll toggle".split(" ").concat(lx));function N$(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ide(r,t,void 0,e),e.currentTarget=null}function IH(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;N$(i,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;N$(i,l,u),a=c}}}if(ij)throw e=RA,ij=!1,RA=null,e}function On(e,t){var n=t[qA];n===void 0&&(n=t[qA]=new Set);var r=e+"__bubble";n.has(r)||(LH(t,e,2,!1),n.add(r))}function LC(e,t,n){var r=0;t&&(r|=4),LH(n,e,r,t)}var s0="_reactListening"+Math.random().toString(36).slice(2);function uv(e){if(!e[s0]){e[s0]=!0,V9.forEach(function(n){n!=="selectionchange"&&(ofe.has(n)||LC(n,!1,e),LC(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[s0]||(t[s0]=!0,LC("selectionchange",!1,t))}}function LH(e,t,n,r){switch(bH(t)){case 1:var i=wde;break;case 4:i=jde;break;default:i=NR}n=i.bind(null,t,n,e),i=void 0,!OA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $C(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=jd(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}aH(function(){var u=a,d=bR(n),f=[];e:{var h=MH.get(e);if(h!==void 0){var m=CR,p=e;switch(e){case"keypress":if(jw(n)===0)break e;case"keydown":case"keyup":m=Lde;break;case"focusin":p="focus",m=PC;break;case"focusout":p="blur",m=PC;break;case"beforeblur":case"afterblur":m=PC;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=f$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Sde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zde;break;case PH:case OH:case RH:m=kde;break;case DH:m=Ude;break;case"scroll":m=_de;break;case"wheel":m=Vde;break;case"copy":case"cut":case"paste":m=Tde;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=m$}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,v!==null&&(j=sv(w,v),j!=null&&g.push(dv(w,j,b)))),y)break;w=w.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==TA&&(p=n.relatedTarget||n.fromElement)&&(jd(p)||p[Tl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?jd(p):null,p!==null&&(y=Mf(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=f$,j="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=m$,j="onPointerLeave",v="onPointerEnter",w="pointer"),y=m==null?h:Dh(m),b=p==null?h:Dh(p),h=new g(j,w+"leave",m,n,d),h.target=y,h.relatedTarget=b,j=null,jd(d)===u&&(g=new g(v,w+"enter",p,n,d),g.target=b,g.relatedTarget=y,j=g),y=j,m&&p)t:{for(g=m,v=p,w=0,b=g;b;b=nh(b))w++;for(b=0,j=v;j;j=nh(j))b++;for(;0<w-b;)g=nh(g),w--;for(;0<b-w;)v=nh(v),b--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=nh(g),v=nh(v)}g=null}else g=null;m!==null&&S$(f,h,m,g,!1),p!==null&&y!==null&&S$(f,y,p,g,!0)}}e:{if(h=u?Dh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=Qde;else if(x$(h))if(CH)_=tfe;else{_=Zde;var N=Jde}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=efe);if(_&&(_=_(e,u))){SH(f,_,n,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&SA(h,"number",h.value)}switch(N=u?Dh(u):window,e){case"focusin":(x$(N)||N.contentEditable==="true")&&(Oh=N,LA=u,Nx=null);break;case"focusout":Nx=LA=Oh=null;break;case"mousedown":$A=!0;break;case"contextmenu":case"mouseup":case"dragend":$A=!1,j$(f,n,d);break;case"selectionchange":if(sfe)break;case"keydown":case"keyup":j$(f,n,d)}var S;if(kR)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ph?_H(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(jH&&n.locale!=="ko"&&(Ph||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ph&&(S=wH()):(Lc=d,SR="value"in Lc?Lc.value:Lc.textContent,Ph=!0)),N=uj(u,C),0<N.length&&(C=new h$(C,e,null,n,d),f.push({event:C,listeners:N}),S?C.data=S:(S=NH(n),S!==null&&(C.data=S)))),(S=Wde?Gde(e,n):Kde(e,n))&&(u=uj(u,"onBeforeInput"),0<u.length&&(d=new h$("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}IH(f,t)})}function dv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uj(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=sv(e,n),a!=null&&r.unshift(dv(e,a,i)),a=sv(e,t),a!=null&&r.push(dv(e,a,i))),e=e.return}return r}function nh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function S$(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=sv(n,a),c!=null&&o.unshift(dv(n,c,l))):i||(c=sv(n,a),c!=null&&o.push(dv(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var lfe=/\r\n?/g,cfe=/\u0000|\uFFFD/g;function C$(e){return(typeof e=="string"?e:""+e).replace(lfe,`
`).replace(cfe,"")}function i0(e,t,n){if(t=C$(t),C$(e)!==t&&n)throw Error(Re(425))}function dj(){}var FA=null,zA=null;function BA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var UA=typeof setTimeout=="function"?setTimeout:void 0,ufe=typeof clearTimeout=="function"?clearTimeout:void 0,E$=typeof Promise=="function"?Promise:void 0,dfe=typeof queueMicrotask=="function"?queueMicrotask:typeof E$<"u"?function(e){return E$.resolve(null).then(e).catch(ffe)}:UA;function ffe(e){setTimeout(function(){throw e})}function FC(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ov(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ov(t)}function ru(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function k$(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pp=Math.random().toString(36).slice(2),No="__reactFiber$"+Pp,fv="__reactProps$"+Pp,Tl="__reactContainer$"+Pp,qA="__reactEvents$"+Pp,hfe="__reactListeners$"+Pp,mfe="__reactHandles$"+Pp;function jd(e){var t=e[No];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tl]||n[No]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=k$(e);e!==null;){if(n=e[No])return n;e=k$(e)}return t}e=n,n=e.parentNode}return null}function By(e){return e=e[No]||e[Tl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function XN(e){return e[fv]||null}var VA=[],Mh=-1;function Pu(e){return{current:e}}function Mn(e){0>Mh||(e.current=VA[Mh],VA[Mh]=null,Mh--)}function En(e,t){Mh++,VA[Mh]=e.current,e.current=t}var gu={},xs=Pu(gu),oi=Pu(!1),rf=gu;function Mm(e,t){var n=e.type.contextTypes;if(!n)return gu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function li(e){return e=e.childContextTypes,e!=null}function fj(){Mn(oi),Mn(xs)}function A$(e,t,n){if(xs.current!==gu)throw Error(Re(168));En(xs,t),En(oi,n)}function $H(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Re(108,Jue(e)||"Unknown",i));return Qn({},n,r)}function hj(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gu,rf=xs.current,En(xs,e),En(oi,oi.current),!0}function T$(e,t,n){var r=e.stateNode;if(!r)throw Error(Re(169));n?(e=$H(e,t,rf),r.__reactInternalMemoizedMergedChildContext=e,Mn(oi),Mn(xs),En(xs,e)):Mn(oi),En(oi,n)}var ll=null,QN=!1,zC=!1;function FH(e){ll===null?ll=[e]:ll.push(e)}function pfe(e){QN=!0,FH(e)}function Ou(){if(!zC&&ll!==null){zC=!0;var e=0,t=un;try{var n=ll;for(un=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ll=null,QN=!1}catch(i){throw ll!==null&&(ll=ll.slice(e+1)),uH(wR,Ou),i}finally{un=t,zC=!1}}return null}var Ih=[],Lh=0,mj=null,pj=0,na=[],ra=0,sf=null,pl=1,gl="";function sd(e,t){Ih[Lh++]=pj,Ih[Lh++]=mj,mj=e,pj=t}function zH(e,t,n){na[ra++]=pl,na[ra++]=gl,na[ra++]=sf,sf=e;var r=pl;e=gl;var i=32-Ka(r)-1;r&=~(1<<i),n+=1;var a=32-Ka(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pl=1<<32-Ka(t)+i|n<<i|r,gl=a+e}else pl=1<<a|n<<i|r,gl=e}function TR(e){e.return!==null&&(sd(e,1),zH(e,1,0))}function PR(e){for(;e===mj;)mj=Ih[--Lh],Ih[Lh]=null,pj=Ih[--Lh],Ih[Lh]=null;for(;e===sf;)sf=na[--ra],na[ra]=null,gl=na[--ra],na[ra]=null,pl=na[--ra],na[ra]=null}var Pi=null,ki=null,Fn=!1,Ua=null;function BH(e,t){var n=aa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function P$(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pi=e,ki=ru(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pi=e,ki=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sf!==null?{id:pl,overflow:gl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=aa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pi=e,ki=null,!0):!1;default:return!1}}function HA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function WA(e){if(Fn){var t=ki;if(t){var n=t;if(!P$(e,t)){if(HA(e))throw Error(Re(418));t=ru(n.nextSibling);var r=Pi;t&&P$(e,t)?BH(r,n):(e.flags=e.flags&-4097|2,Fn=!1,Pi=e)}}else{if(HA(e))throw Error(Re(418));e.flags=e.flags&-4097|2,Fn=!1,Pi=e}}}function O$(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pi=e}function a0(e){if(e!==Pi)return!1;if(!Fn)return O$(e),Fn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!BA(e.type,e.memoizedProps)),t&&(t=ki)){if(HA(e))throw UH(),Error(Re(418));for(;t;)BH(e,t),t=ru(t.nextSibling)}if(O$(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ki=ru(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ki=null}}else ki=Pi?ru(e.stateNode.nextSibling):null;return!0}function UH(){for(var e=ki;e;)e=ru(e.nextSibling)}function Im(){ki=Pi=null,Fn=!1}function OR(e){Ua===null?Ua=[e]:Ua.push(e)}var gfe=Kl.ReactCurrentBatchConfig;function Og(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,e))}return e}function o0(e,t){throw e=Object.prototype.toString.call(t),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function R$(e){var t=e._init;return t(e._payload)}function qH(e){function t(v,w){if(e){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=ou(v,w),v.index=0,v.sibling=null,v}function a(v,w,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,w,b,j){return w===null||w.tag!==6?(w=GC(b,v.mode,j),w.return=v,w):(w=i(w,b),w.return=v,w)}function c(v,w,b,j){var _=b.type;return _===Th?d(v,w,b.props.children,j,b.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bc&&R$(_)===w.type)?(j=i(w,b.props),j.ref=Og(v,w,b),j.return=v,j):(j=Aw(b.type,b.key,b.props,null,v.mode,j),j.ref=Og(v,w,b),j.return=v,j)}function u(v,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=KC(b,v.mode,j),w.return=v,w):(w=i(w,b.children||[]),w.return=v,w)}function d(v,w,b,j,_){return w===null||w.tag!==7?(w=Hd(b,v.mode,j,_),w.return=v,w):(w=i(w,b),w.return=v,w)}function f(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=GC(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xb:return b=Aw(w.type,w.key,w.props,null,v.mode,b),b.ref=Og(v,null,w),b.return=v,b;case Ah:return w=KC(w,v.mode,b),w.return=v,w;case bc:var j=w._init;return f(v,j(w._payload),b)}if(ax(w)||Eg(w))return w=Hd(w,v.mode,b,null),w.return=v,w;o0(v,w)}return null}function h(v,w,b,j){var _=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(v,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xb:return b.key===_?c(v,w,b,j):null;case Ah:return b.key===_?u(v,w,b,j):null;case bc:return _=b._init,h(v,w,_(b._payload),j)}if(ax(b)||Eg(b))return _!==null?null:d(v,w,b,j,null);o0(v,b)}return null}function m(v,w,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(b)||null,l(w,v,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Xb:return v=v.get(j.key===null?b:j.key)||null,c(w,v,j,_);case Ah:return v=v.get(j.key===null?b:j.key)||null,u(w,v,j,_);case bc:var N=j._init;return m(v,w,b,N(j._payload),_)}if(ax(j)||Eg(j))return v=v.get(b)||null,d(w,v,j,_,null);o0(w,j)}return null}function p(v,w,b,j){for(var _=null,N=null,S=w,C=w=0,k=null;S!==null&&C<b.length;C++){S.index>C?(k=S,S=null):k=S.sibling;var A=h(v,S,b[C],j);if(A===null){S===null&&(S=k);break}e&&S&&A.alternate===null&&t(v,S),w=a(A,w,C),N===null?_=A:N.sibling=A,N=A,S=k}if(C===b.length)return n(v,S),Fn&&sd(v,C),_;if(S===null){for(;C<b.length;C++)S=f(v,b[C],j),S!==null&&(w=a(S,w,C),N===null?_=S:N.sibling=S,N=S);return Fn&&sd(v,C),_}for(S=r(v,S);C<b.length;C++)k=m(S,v,C,b[C],j),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?C:k.key),w=a(k,w,C),N===null?_=k:N.sibling=k,N=k);return e&&S.forEach(function(T){return t(v,T)}),Fn&&sd(v,C),_}function g(v,w,b,j){var _=Eg(b);if(typeof _!="function")throw Error(Re(150));if(b=_.call(b),b==null)throw Error(Re(151));for(var N=_=null,S=w,C=w=0,k=null,A=b.next();S!==null&&!A.done;C++,A=b.next()){S.index>C?(k=S,S=null):k=S.sibling;var T=h(v,S,A.value,j);if(T===null){S===null&&(S=k);break}e&&S&&T.alternate===null&&t(v,S),w=a(T,w,C),N===null?_=T:N.sibling=T,N=T,S=k}if(A.done)return n(v,S),Fn&&sd(v,C),_;if(S===null){for(;!A.done;C++,A=b.next())A=f(v,A.value,j),A!==null&&(w=a(A,w,C),N===null?_=A:N.sibling=A,N=A);return Fn&&sd(v,C),_}for(S=r(v,S);!A.done;C++,A=b.next())A=m(S,v,C,A.value,j),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?C:A.key),w=a(A,w,C),N===null?_=A:N.sibling=A,N=A);return e&&S.forEach(function(E){return t(v,E)}),Fn&&sd(v,C),_}function y(v,w,b,j){if(typeof b=="object"&&b!==null&&b.type===Th&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Xb:e:{for(var _=b.key,N=w;N!==null;){if(N.key===_){if(_=b.type,_===Th){if(N.tag===7){n(v,N.sibling),w=i(N,b.props.children),w.return=v,v=w;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bc&&R$(_)===N.type){n(v,N.sibling),w=i(N,b.props),w.ref=Og(v,N,b),w.return=v,v=w;break e}n(v,N);break}else t(v,N);N=N.sibling}b.type===Th?(w=Hd(b.props.children,v.mode,j,b.key),w.return=v,v=w):(j=Aw(b.type,b.key,b.props,null,v.mode,j),j.ref=Og(v,w,b),j.return=v,v=j)}return o(v);case Ah:e:{for(N=b.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(v,w.sibling),w=i(w,b.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else t(v,w);w=w.sibling}w=KC(b,v.mode,j),w.return=v,v=w}return o(v);case bc:return N=b._init,y(v,w,N(b._payload),j)}if(ax(b))return p(v,w,b,j);if(Eg(b))return g(v,w,b,j);o0(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,b),w.return=v,v=w):(n(v,w),w=GC(b,v.mode,j),w.return=v,v=w),o(v)):n(v,w)}return y}var Lm=qH(!0),VH=qH(!1),gj=Pu(null),xj=null,$h=null,RR=null;function DR(){RR=$h=xj=null}function MR(e){var t=gj.current;Mn(gj),e._currentValue=t}function GA(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sm(e,t){xj=e,RR=$h=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ti=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(RR!==e)if(e={context:e,memoizedValue:t,next:null},$h===null){if(xj===null)throw Error(Re(308));$h=e,xj.dependencies={lanes:0,firstContext:e}}else $h=$h.next=e;return t}var _d=null;function IR(e){_d===null?_d=[e]:_d.push(e)}function HH(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,IR(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pl(e,r)}function Pl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wc=!1;function LR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WH(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function su(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ht&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pl(e,n)}return i=r.interleaved,i===null?(t.next=t,IR(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pl(e,n)}function _w(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jR(e,n)}}function D$(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vj(e,t,n,r){var i=e.updateQueue;wc=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Qn({},f,h);break e;case 2:wc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);of|=o,e.lanes=o,e.memoizedState=f}}function M$(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Re(191,i));i.call(r)}}}var Uy={},Ro=Pu(Uy),hv=Pu(Uy),mv=Pu(Uy);function Nd(e){if(e===Uy)throw Error(Re(174));return e}function $R(e,t){switch(En(mv,t),En(hv,e),En(Ro,Uy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:EA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=EA(t,e)}Mn(Ro),En(Ro,t)}function $m(){Mn(Ro),Mn(hv),Mn(mv)}function GH(e){Nd(mv.current);var t=Nd(Ro.current),n=EA(t,e.type);t!==n&&(En(hv,e),En(Ro,n))}function FR(e){hv.current===e&&(Mn(Ro),Mn(hv))}var Vn=Pu(0);function yj(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var BC=[];function zR(){for(var e=0;e<BC.length;e++)BC[e]._workInProgressVersionPrimary=null;BC.length=0}var Nw=Kl.ReactCurrentDispatcher,UC=Kl.ReactCurrentBatchConfig,af=0,Xn=null,Cr=null,$r=null,bj=!1,Sx=!1,pv=0,xfe=0;function is(){throw Error(Re(321))}function BR(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!to(e[n],t[n]))return!1;return!0}function UR(e,t,n,r,i,a){if(af=a,Xn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nw.current=e===null||e.memoizedState===null?wfe:jfe,e=n(r,i),Sx){a=0;do{if(Sx=!1,pv=0,25<=a)throw Error(Re(301));a+=1,$r=Cr=null,t.updateQueue=null,Nw.current=_fe,e=n(r,i)}while(Sx)}if(Nw.current=wj,t=Cr!==null&&Cr.next!==null,af=0,$r=Cr=Xn=null,bj=!1,t)throw Error(Re(300));return e}function qR(){var e=pv!==0;return pv=0,e}function go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?Xn.memoizedState=$r=e:$r=$r.next=e,$r}function va(){if(Cr===null){var e=Xn.alternate;e=e!==null?e.memoizedState:null}else e=Cr.next;var t=$r===null?Xn.memoizedState:$r.next;if(t!==null)$r=t,Cr=e;else{if(e===null)throw Error(Re(310));Cr=e,e={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},$r===null?Xn.memoizedState=$r=e:$r=$r.next=e}return $r}function gv(e,t){return typeof t=="function"?t(e):t}function qC(e){var t=va(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=Cr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((af&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Xn.lanes|=d,of|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,to(r,t.memoizedState)||(ti=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Xn.lanes|=a,of|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function VC(e){var t=va(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);to(a,t.memoizedState)||(ti=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function KH(){}function YH(e,t){var n=Xn,r=va(),i=t(),a=!to(r.memoizedState,i);if(a&&(r.memoizedState=i,ti=!0),r=r.queue,VR(JH.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||$r!==null&&$r.memoizedState.tag&1){if(n.flags|=2048,xv(9,QH.bind(null,n,r,i,t),void 0,null),qr===null)throw Error(Re(349));af&30||XH(n,t,i)}return i}function XH(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xn.updateQueue,t===null?(t={lastEffect:null,stores:null},Xn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function QH(e,t,n,r){t.value=n,t.getSnapshot=r,ZH(t)&&eW(e)}function JH(e,t,n){return n(function(){ZH(t)&&eW(e)})}function ZH(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!to(e,n)}catch{return!0}}function eW(e){var t=Pl(e,1);t!==null&&Ya(t,e,1,-1)}function I$(e){var t=go();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:e},t.queue=e,e=e.dispatch=bfe.bind(null,Xn,e),[t.memoizedState,e]}function xv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xn.updateQueue,t===null?(t={lastEffect:null,stores:null},Xn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tW(){return va().memoizedState}function Sw(e,t,n,r){var i=go();Xn.flags|=e,i.memoizedState=xv(1|t,n,void 0,r===void 0?null:r)}function JN(e,t,n,r){var i=va();r=r===void 0?null:r;var a=void 0;if(Cr!==null){var o=Cr.memoizedState;if(a=o.destroy,r!==null&&BR(r,o.deps)){i.memoizedState=xv(t,n,a,r);return}}Xn.flags|=e,i.memoizedState=xv(1|t,n,a,r)}function L$(e,t){return Sw(8390656,8,e,t)}function VR(e,t){return JN(2048,8,e,t)}function nW(e,t){return JN(4,2,e,t)}function rW(e,t){return JN(4,4,e,t)}function sW(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iW(e,t,n){return n=n!=null?n.concat([e]):null,JN(4,4,sW.bind(null,t,e),n)}function HR(){}function aW(e,t){var n=va();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&BR(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oW(e,t){var n=va();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&BR(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lW(e,t,n){return af&21?(to(n,t)||(n=hH(),Xn.lanes|=n,of|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ti=!0),e.memoizedState=n)}function vfe(e,t){var n=un;un=n!==0&&4>n?n:4,e(!0);var r=UC.transition;UC.transition={};try{e(!1),t()}finally{un=n,UC.transition=r}}function cW(){return va().memoizedState}function yfe(e,t,n){var r=au(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uW(e))dW(t,n);else if(n=HH(e,t,n,r),n!==null){var i=$s();Ya(n,e,r,i),fW(n,t,r)}}function bfe(e,t,n){var r=au(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uW(e))dW(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,to(l,o)){var c=t.interleaved;c===null?(i.next=i,IR(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=HH(e,t,i,r),n!==null&&(i=$s(),Ya(n,e,r,i),fW(n,t,r))}}function uW(e){var t=e.alternate;return e===Xn||t!==null&&t===Xn}function dW(e,t){Sx=bj=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fW(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jR(e,n)}}var wj={readContext:xa,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useInsertionEffect:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useSyncExternalStore:is,useId:is,unstable_isNewReconciler:!1},wfe={readContext:xa,useCallback:function(e,t){return go().memoizedState=[e,t===void 0?null:t],e},useContext:xa,useEffect:L$,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sw(4194308,4,sW.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sw(4,2,e,t)},useMemo:function(e,t){var n=go();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=go();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yfe.bind(null,Xn,e),[r.memoizedState,e]},useRef:function(e){var t=go();return e={current:e},t.memoizedState=e},useState:I$,useDebugValue:HR,useDeferredValue:function(e){return go().memoizedState=e},useTransition:function(){var e=I$(!1),t=e[0];return e=vfe.bind(null,e[1]),go().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xn,i=go();if(Fn){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=t(),qr===null)throw Error(Re(349));af&30||XH(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,L$(JH.bind(null,r,a,e),[e]),r.flags|=2048,xv(9,QH.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=go(),t=qr.identifierPrefix;if(Fn){var n=gl,r=pl;n=(r&~(1<<32-Ka(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xfe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jfe={readContext:xa,useCallback:aW,useContext:xa,useEffect:VR,useImperativeHandle:iW,useInsertionEffect:nW,useLayoutEffect:rW,useMemo:oW,useReducer:qC,useRef:tW,useState:function(){return qC(gv)},useDebugValue:HR,useDeferredValue:function(e){var t=va();return lW(t,Cr.memoizedState,e)},useTransition:function(){var e=qC(gv)[0],t=va().memoizedState;return[e,t]},useMutableSource:KH,useSyncExternalStore:YH,useId:cW,unstable_isNewReconciler:!1},_fe={readContext:xa,useCallback:aW,useContext:xa,useEffect:VR,useImperativeHandle:iW,useInsertionEffect:nW,useLayoutEffect:rW,useMemo:oW,useReducer:VC,useRef:tW,useState:function(){return VC(gv)},useDebugValue:HR,useDeferredValue:function(e){var t=va();return Cr===null?t.memoizedState=e:lW(t,Cr.memoizedState,e)},useTransition:function(){var e=VC(gv)[0],t=va().memoizedState;return[e,t]},useMutableSource:KH,useSyncExternalStore:YH,useId:cW,unstable_isNewReconciler:!1};function Ma(e,t){if(e&&e.defaultProps){t=Qn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function KA(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ZN={isMounted:function(e){return(e=e._reactInternals)?Mf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$s(),i=au(e),a=Nl(r,i);a.payload=t,n!=null&&(a.callback=n),t=su(e,a,i),t!==null&&(Ya(t,e,i,r),_w(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$s(),i=au(e),a=Nl(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=su(e,a,i),t!==null&&(Ya(t,e,i,r),_w(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$s(),r=au(e),i=Nl(n,r);i.tag=2,t!=null&&(i.callback=t),t=su(e,i,r),t!==null&&(Ya(t,e,r,n),_w(t,e,r))}};function $$(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!cv(n,r)||!cv(i,a):!0}function hW(e,t,n){var r=!1,i=gu,a=t.contextType;return typeof a=="object"&&a!==null?a=xa(a):(i=li(t)?rf:xs.current,r=t.contextTypes,a=(r=r!=null)?Mm(e,i):gu),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ZN,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function F$(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ZN.enqueueReplaceState(t,t.state,null)}function YA(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},LR(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=xa(a):(a=li(t)?rf:xs.current,i.context=Mm(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(KA(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ZN.enqueueReplaceState(i,i.state,null),vj(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fm(e,t){try{var n="",r=t;do n+=Que(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function HC(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function XA(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nfe=typeof WeakMap=="function"?WeakMap:Map;function mW(e,t,n){n=Nl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_j||(_j=!0,a2=r),XA(e,t)},n}function pW(e,t,n){n=Nl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){XA(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){XA(e,t),typeof r!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function z$(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Nfe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$fe.bind(null,e,t,n),t.then(e,e))}function B$(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function U$(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nl(-1,1),t.tag=2,su(n,t,1))),n.lanes|=1),e)}var Sfe=Kl.ReactCurrentOwner,ti=!1;function Cs(e,t,n,r){t.child=e===null?VH(t,null,n,r):Lm(t,e.child,n,r)}function q$(e,t,n,r,i){n=n.render;var a=t.ref;return sm(t,i),r=UR(e,t,n,r,a,i),n=qR(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ol(e,t,i)):(Fn&&n&&TR(t),t.flags|=1,Cs(e,t,r,i),t.child)}function V$(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!ZR(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,gW(e,t,a,r,i)):(e=Aw(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:cv,n(o,r)&&e.ref===t.ref)return Ol(e,t,i)}return t.flags|=1,e=ou(a,r),e.ref=t.ref,e.return=t,t.child=e}function gW(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(cv(a,r)&&e.ref===t.ref)if(ti=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ti=!0);else return t.lanes=e.lanes,Ol(e,t,i)}return QA(e,t,n,r,i)}function xW(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(zh,_i),_i|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,En(zh,_i),_i|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,En(zh,_i),_i|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,En(zh,_i),_i|=r;return Cs(e,t,i,n),t.child}function vW(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function QA(e,t,n,r,i){var a=li(n)?rf:xs.current;return a=Mm(t,a),sm(t,i),n=UR(e,t,n,r,a,i),r=qR(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ol(e,t,i)):(Fn&&r&&TR(t),t.flags|=1,Cs(e,t,n,i),t.child)}function H$(e,t,n,r,i){if(li(n)){var a=!0;hj(t)}else a=!1;if(sm(t,i),t.stateNode===null)Cw(e,t),hW(t,n,r),YA(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xa(u):(u=li(n)?rf:xs.current,u=Mm(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&F$(t,o,r,u),wc=!1;var h=t.memoizedState;o.state=h,vj(t,r,o,i),c=t.memoizedState,l!==r||h!==c||oi.current||wc?(typeof d=="function"&&(KA(t,n,d,r),c=t.memoizedState),(l=wc||$$(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,WH(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ma(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xa(c):(c=li(n)?rf:xs.current,c=Mm(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&F$(t,o,r,c),wc=!1,h=t.memoizedState,o.state=h,vj(t,r,o,i);var p=t.memoizedState;l!==f||h!==p||oi.current||wc?(typeof m=="function"&&(KA(t,n,m,r),p=t.memoizedState),(u=wc||$$(t,n,u,r,h,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return JA(e,t,n,r,a,i)}function JA(e,t,n,r,i,a){vW(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&T$(t,n,!1),Ol(e,t,a);r=t.stateNode,Sfe.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lm(t,e.child,null,a),t.child=Lm(t,null,l,a)):Cs(e,t,l,a),t.memoizedState=r.state,i&&T$(t,n,!0),t.child}function yW(e){var t=e.stateNode;t.pendingContext?A$(e,t.pendingContext,t.pendingContext!==t.context):t.context&&A$(e,t.context,!1),$R(e,t.containerInfo)}function W$(e,t,n,r,i){return Im(),OR(i),t.flags|=256,Cs(e,t,n,r),t.child}var ZA={dehydrated:null,treeContext:null,retryLane:0};function e2(e){return{baseLanes:e,cachePool:null,transitions:null}}function bW(e,t,n){var r=t.pendingProps,i=Vn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),En(Vn,i&1),e===null)return WA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=n1(o,r,0,null),e=Hd(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=e2(n),t.memoizedState=ZA,e):WR(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Cfe(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ou(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ou(l,a):(a=Hd(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?e2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=ZA,r}return a=e.child,e=a.sibling,r=ou(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function WR(e,t){return t=n1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function l0(e,t,n,r){return r!==null&&OR(r),Lm(t,e.child,null,n),e=WR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cfe(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=HC(Error(Re(422))),l0(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=n1({mode:"visible",children:r.children},i,0,null),a=Hd(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Lm(t,e.child,null,o),t.child.memoizedState=e2(o),t.memoizedState=ZA,a);if(!(t.mode&1))return l0(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Re(419)),r=HC(a,r,void 0),l0(e,t,o,r)}if(l=(o&e.childLanes)!==0,ti||l){if(r=qr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Pl(e,i),Ya(r,e,i,-1))}return JR(),r=HC(Error(Re(421))),l0(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ffe.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ki=ru(i.nextSibling),Pi=t,Fn=!0,Ua=null,e!==null&&(na[ra++]=pl,na[ra++]=gl,na[ra++]=sf,pl=e.id,gl=e.overflow,sf=t),t=WR(t,r.children),t.flags|=4096,t)}function G$(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),GA(e.return,t,n)}function WC(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function wW(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Cs(e,t,r.children,n),r=Vn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&G$(e,n,t);else if(e.tag===19)G$(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(En(Vn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&yj(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),WC(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yj(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}WC(t,!0,n,null,a);break;case"together":WC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ol(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),of|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Re(153));if(t.child!==null){for(e=t.child,n=ou(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ou(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Efe(e,t,n){switch(t.tag){case 3:yW(t),Im();break;case 5:GH(t);break;case 1:li(t.type)&&hj(t);break;case 4:$R(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;En(gj,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(En(Vn,Vn.current&1),t.flags|=128,null):n&t.child.childLanes?bW(e,t,n):(En(Vn,Vn.current&1),e=Ol(e,t,n),e!==null?e.sibling:null);En(Vn,Vn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wW(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),En(Vn,Vn.current),r)break;return null;case 22:case 23:return t.lanes=0,xW(e,t,n)}return Ol(e,t,n)}var jW,t2,_W,NW;jW=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};t2=function(){};_W=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Nd(Ro.current);var a=null;switch(n){case"input":i=_A(e,i),r=_A(e,r),a=[];break;case"select":i=Qn({},i,{value:void 0}),r=Qn({},r,{value:void 0}),a=[];break;case"textarea":i=CA(e,i),r=CA(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dj)}kA(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nv.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&On("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};NW=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rg(e,t){if(!Fn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function as(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kfe(e,t,n){var r=t.pendingProps;switch(PR(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return as(t),null;case 1:return li(t.type)&&fj(),as(t),null;case 3:return r=t.stateNode,$m(),Mn(oi),Mn(xs),zR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(a0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ua!==null&&(c2(Ua),Ua=null))),t2(e,t),as(t),null;case 5:FR(t);var i=Nd(mv.current);if(n=t.type,e!==null&&t.stateNode!=null)_W(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Re(166));return as(t),null}if(e=Nd(Ro.current),a0(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[No]=t,r[fv]=a,e=(t.mode&1)!==0,n){case"dialog":On("cancel",r),On("close",r);break;case"iframe":case"object":case"embed":On("load",r);break;case"video":case"audio":for(i=0;i<lx.length;i++)On(lx[i],r);break;case"source":On("error",r);break;case"img":case"image":case"link":On("error",r),On("load",r);break;case"details":On("toggle",r);break;case"input":n$(r,a),On("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},On("invalid",r);break;case"textarea":s$(r,a),On("invalid",r)}kA(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&i0(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&i0(r.textContent,l,e),i=["children",""+l]):nv.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&On("scroll",r)}switch(n){case"input":Qb(r),r$(r,a,!0);break;case"textarea":Qb(r),i$(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=dj)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=J9(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[No]=t,e[fv]=r,jW(e,t,!1,!1),t.stateNode=e;e:{switch(o=AA(n,r),n){case"dialog":On("cancel",e),On("close",e),i=r;break;case"iframe":case"object":case"embed":On("load",e),i=r;break;case"video":case"audio":for(i=0;i<lx.length;i++)On(lx[i],e);i=r;break;case"source":On("error",e),i=r;break;case"img":case"image":case"link":On("error",e),On("load",e),i=r;break;case"details":On("toggle",e),i=r;break;case"input":n$(e,r),i=_A(e,r),On("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Qn({},r,{value:void 0}),On("invalid",e);break;case"textarea":s$(e,r),i=CA(e,r),On("invalid",e);break;default:i=r}kA(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?tH(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z9(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&rv(e,c):typeof c=="number"&&rv(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(nv.hasOwnProperty(a)?c!=null&&a==="onScroll"&&On("scroll",e):c!=null&&gR(e,a,c,o))}switch(n){case"input":Qb(e),r$(e,r,!1);break;case"textarea":Qb(e),i$(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pu(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?em(e,!!r.multiple,a,!1):r.defaultValue!=null&&em(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=dj)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return as(t),null;case 6:if(e&&t.stateNode!=null)NW(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Re(166));if(n=Nd(mv.current),Nd(Ro.current),a0(t)){if(r=t.stateNode,n=t.memoizedProps,r[No]=t,(a=r.nodeValue!==n)&&(e=Pi,e!==null))switch(e.tag){case 3:i0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&i0(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[No]=t,t.stateNode=r}return as(t),null;case 13:if(Mn(Vn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fn&&ki!==null&&t.mode&1&&!(t.flags&128))UH(),Im(),t.flags|=98560,a=!1;else if(a=a0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Re(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Re(317));a[No]=t}else Im(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;as(t),a=!1}else Ua!==null&&(c2(Ua),Ua=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Vn.current&1?Ar===0&&(Ar=3):JR())),t.updateQueue!==null&&(t.flags|=4),as(t),null);case 4:return $m(),t2(e,t),e===null&&uv(t.stateNode.containerInfo),as(t),null;case 10:return MR(t.type._context),as(t),null;case 17:return li(t.type)&&fj(),as(t),null;case 19:if(Mn(Vn),a=t.memoizedState,a===null)return as(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Rg(a,!1);else{if(Ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yj(e),o!==null){for(t.flags|=128,Rg(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return En(Vn,Vn.current&1|2),t.child}e=e.sibling}a.tail!==null&&ar()>zm&&(t.flags|=128,r=!0,Rg(a,!1),t.lanes=4194304)}else{if(!r)if(e=yj(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rg(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Fn)return as(t),null}else 2*ar()-a.renderingStartTime>zm&&n!==1073741824&&(t.flags|=128,r=!0,Rg(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ar(),t.sibling=null,n=Vn.current,En(Vn,r?n&1|2:n&1),t):(as(t),null);case 22:case 23:return QR(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_i&1073741824&&(as(t),t.subtreeFlags&6&&(t.flags|=8192)):as(t),null;case 24:return null;case 25:return null}throw Error(Re(156,t.tag))}function Afe(e,t){switch(PR(t),t.tag){case 1:return li(t.type)&&fj(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $m(),Mn(oi),Mn(xs),zR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return FR(t),null;case 13:if(Mn(Vn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Re(340));Im()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mn(Vn),null;case 4:return $m(),null;case 10:return MR(t.type._context),null;case 22:case 23:return QR(),null;case 24:return null;default:return null}}var c0=!1,us=!1,Tfe=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Fh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tr(e,t,r)}else n.current=null}function n2(e,t,n){try{n()}catch(r){tr(e,t,r)}}var K$=!1;function Pfe(e,t){if(FA=lj,e=AH(),AR(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(l=o),h===a&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zA={focusedElem:e,selectionRange:n},lj=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ma(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(j){tr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return p=K$,K$=!1,p}function Cx(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&n2(t,n,a)}i=i.next}while(i!==r)}}function e1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function r2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function SW(e){var t=e.alternate;t!==null&&(e.alternate=null,SW(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[No],delete t[fv],delete t[qA],delete t[hfe],delete t[mfe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CW(e){return e.tag===5||e.tag===3||e.tag===4}function Y$(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function s2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dj));else if(r!==4&&(e=e.child,e!==null))for(s2(e,t,n),e=e.sibling;e!==null;)s2(e,t,n),e=e.sibling}function i2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(i2(e,t,n),e=e.sibling;e!==null;)i2(e,t,n),e=e.sibling}var Yr=null,$a=!1;function ic(e,t,n){for(n=n.child;n!==null;)EW(e,t,n),n=n.sibling}function EW(e,t,n){if(Oo&&typeof Oo.onCommitFiberUnmount=="function")try{Oo.onCommitFiberUnmount(WN,n)}catch{}switch(n.tag){case 5:us||Fh(n,t);case 6:var r=Yr,i=$a;Yr=null,ic(e,t,n),Yr=r,$a=i,Yr!==null&&($a?(e=Yr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yr.removeChild(n.stateNode));break;case 18:Yr!==null&&($a?(e=Yr,n=n.stateNode,e.nodeType===8?FC(e.parentNode,n):e.nodeType===1&&FC(e,n),ov(e)):FC(Yr,n.stateNode));break;case 4:r=Yr,i=$a,Yr=n.stateNode.containerInfo,$a=!0,ic(e,t,n),Yr=r,$a=i;break;case 0:case 11:case 14:case 15:if(!us&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&n2(n,t,o),i=i.next}while(i!==r)}ic(e,t,n);break;case 1:if(!us&&(Fh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tr(n,t,l)}ic(e,t,n);break;case 21:ic(e,t,n);break;case 22:n.mode&1?(us=(r=us)||n.memoizedState!==null,ic(e,t,n),us=r):ic(e,t,n);break;default:ic(e,t,n)}}function X$(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tfe),t.forEach(function(r){var i=zfe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ka(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yr=l.stateNode,$a=!1;break e;case 3:Yr=l.stateNode.containerInfo,$a=!0;break e;case 4:Yr=l.stateNode.containerInfo,$a=!0;break e}l=l.return}if(Yr===null)throw Error(Re(160));EW(a,o,i),Yr=null,$a=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){tr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kW(t,e),t=t.sibling}function kW(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ka(t,e),mo(e),r&4){try{Cx(3,e,e.return),e1(3,e)}catch(g){tr(e,e.return,g)}try{Cx(5,e,e.return)}catch(g){tr(e,e.return,g)}}break;case 1:ka(t,e),mo(e),r&512&&n!==null&&Fh(n,n.return);break;case 5:if(ka(t,e),mo(e),r&512&&n!==null&&Fh(n,n.return),e.flags&32){var i=e.stateNode;try{rv(i,"")}catch(g){tr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&X9(i,a),AA(l,o);var u=AA(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?tH(i,f):d==="dangerouslySetInnerHTML"?Z9(i,f):d==="children"?rv(i,f):gR(i,d,f,u)}switch(l){case"input":NA(i,a);break;case"textarea":Q9(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?em(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?em(i,!!a.multiple,a.defaultValue,!0):em(i,!!a.multiple,a.multiple?[]:"",!1))}i[fv]=a}catch(g){tr(e,e.return,g)}}break;case 6:if(ka(t,e),mo(e),r&4){if(e.stateNode===null)throw Error(Re(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){tr(e,e.return,g)}}break;case 3:if(ka(t,e),mo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ov(t.containerInfo)}catch(g){tr(e,e.return,g)}break;case 4:ka(t,e),mo(e);break;case 13:ka(t,e),mo(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(YR=ar())),r&4&&X$(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(us=(u=us)||d,ka(t,e),us=u):ka(t,e),mo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ue=e,d=e.child;d!==null;){for(f=Ue=d;Ue!==null;){switch(h=Ue,m=h.child,h.tag){case 0:case 11:case 14:case 15:Cx(4,h,h.return);break;case 1:Fh(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){tr(r,n,g)}}break;case 5:Fh(h,h.return);break;case 22:if(h.memoizedState!==null){J$(f);continue}}m!==null?(m.return=h,Ue=m):J$(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=eH("display",o))}catch(g){tr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){tr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ka(t,e),mo(e),r&4&&X$(e);break;case 21:break;default:ka(t,e),mo(e)}}function mo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(CW(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rv(i,""),r.flags&=-33);var a=Y$(e);i2(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Y$(e);s2(e,l,o);break;default:throw Error(Re(161))}}catch(c){tr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ofe(e,t,n){Ue=e,AW(e)}function AW(e,t,n){for(var r=(e.mode&1)!==0;Ue!==null;){var i=Ue,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||c0;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||us;l=c0;var u=us;if(c0=o,(us=c)&&!u)for(Ue=i;Ue!==null;)o=Ue,c=o.child,o.tag===22&&o.memoizedState!==null?Z$(i):c!==null?(c.return=o,Ue=c):Z$(i);for(;a!==null;)Ue=a,AW(a),a=a.sibling;Ue=i,c0=l,us=u}Q$(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ue=a):Q$(e)}}function Q$(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:us||e1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!us)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&M$(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}M$(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ov(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}us||t.flags&512&&r2(t)}catch(h){tr(t,t.return,h)}}if(t===e){Ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function J$(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function Z$(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{e1(4,t)}catch(c){tr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){tr(t,i,c)}}var a=t.return;try{r2(t)}catch(c){tr(t,a,c)}break;case 5:var o=t.return;try{r2(t)}catch(c){tr(t,o,c)}}}catch(c){tr(t,t.return,c)}if(t===e){Ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ue=l;break}Ue=t.return}}var Rfe=Math.ceil,jj=Kl.ReactCurrentDispatcher,GR=Kl.ReactCurrentOwner,fa=Kl.ReactCurrentBatchConfig,Ht=0,qr=null,pr=null,Jr=0,_i=0,zh=Pu(0),Ar=0,vv=null,of=0,t1=0,KR=0,Ex=null,Xs=null,YR=0,zm=1/0,sl=null,_j=!1,a2=null,iu=null,u0=!1,$c=null,Nj=0,kx=0,o2=null,Ew=-1,kw=0;function $s(){return Ht&6?ar():Ew!==-1?Ew:Ew=ar()}function au(e){return e.mode&1?Ht&2&&Jr!==0?Jr&-Jr:gfe.transition!==null?(kw===0&&(kw=hH()),kw):(e=un,e!==0||(e=window.event,e=e===void 0?16:bH(e.type)),e):1}function Ya(e,t,n,r){if(50<kx)throw kx=0,o2=null,Error(Re(185));Fy(e,n,r),(!(Ht&2)||e!==qr)&&(e===qr&&(!(Ht&2)&&(t1|=n),Ar===4&&Sc(e,Jr)),ci(e,r),n===1&&Ht===0&&!(t.mode&1)&&(zm=ar()+500,QN&&Ou()))}function ci(e,t){var n=e.callbackNode;gde(e,t);var r=oj(e,e===qr?Jr:0);if(r===0)n!==null&&l$(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&l$(n),t===1)e.tag===0?pfe(eF.bind(null,e)):FH(eF.bind(null,e)),dfe(function(){!(Ht&6)&&Ou()}),n=null;else{switch(mH(r)){case 1:n=wR;break;case 4:n=dH;break;case 16:n=aj;break;case 536870912:n=fH;break;default:n=aj}n=LW(n,TW.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function TW(e,t){if(Ew=-1,kw=0,Ht&6)throw Error(Re(327));var n=e.callbackNode;if(im()&&e.callbackNode!==n)return null;var r=oj(e,e===qr?Jr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sj(e,r);else{t=r;var i=Ht;Ht|=2;var a=OW();(qr!==e||Jr!==t)&&(sl=null,zm=ar()+500,Vd(e,t));do try{Ife();break}catch(l){PW(e,l)}while(!0);DR(),jj.current=a,Ht=i,pr!==null?t=0:(qr=null,Jr=0,t=Ar)}if(t!==0){if(t===2&&(i=DA(e),i!==0&&(r=i,t=l2(e,i))),t===1)throw n=vv,Vd(e,0),Sc(e,r),ci(e,ar()),n;if(t===6)Sc(e,r);else{if(i=e.current.alternate,!(r&30)&&!Dfe(i)&&(t=Sj(e,r),t===2&&(a=DA(e),a!==0&&(r=a,t=l2(e,a))),t===1))throw n=vv,Vd(e,0),Sc(e,r),ci(e,ar()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Re(345));case 2:id(e,Xs,sl);break;case 3:if(Sc(e,r),(r&130023424)===r&&(t=YR+500-ar(),10<t)){if(oj(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$s(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=UA(id.bind(null,e,Xs,sl),t);break}id(e,Xs,sl);break;case 4:if(Sc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ka(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rfe(r/1960))-r,10<r){e.timeoutHandle=UA(id.bind(null,e,Xs,sl),r);break}id(e,Xs,sl);break;case 5:id(e,Xs,sl);break;default:throw Error(Re(329))}}}return ci(e,ar()),e.callbackNode===n?TW.bind(null,e):null}function l2(e,t){var n=Ex;return e.current.memoizedState.isDehydrated&&(Vd(e,t).flags|=256),e=Sj(e,t),e!==2&&(t=Xs,Xs=n,t!==null&&c2(t)),e}function c2(e){Xs===null?Xs=e:Xs.push.apply(Xs,e)}function Dfe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!to(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sc(e,t){for(t&=~KR,t&=~t1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ka(t),r=1<<n;e[n]=-1,t&=~r}}function eF(e){if(Ht&6)throw Error(Re(327));im();var t=oj(e,0);if(!(t&1))return ci(e,ar()),null;var n=Sj(e,t);if(e.tag!==0&&n===2){var r=DA(e);r!==0&&(t=r,n=l2(e,r))}if(n===1)throw n=vv,Vd(e,0),Sc(e,t),ci(e,ar()),n;if(n===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,id(e,Xs,sl),ci(e,ar()),null}function XR(e,t){var n=Ht;Ht|=1;try{return e(t)}finally{Ht=n,Ht===0&&(zm=ar()+500,QN&&Ou())}}function lf(e){$c!==null&&$c.tag===0&&!(Ht&6)&&im();var t=Ht;Ht|=1;var n=fa.transition,r=un;try{if(fa.transition=null,un=1,e)return e()}finally{un=r,fa.transition=n,Ht=t,!(Ht&6)&&Ou()}}function QR(){_i=zh.current,Mn(zh)}function Vd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ufe(n)),pr!==null)for(n=pr.return;n!==null;){var r=n;switch(PR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fj();break;case 3:$m(),Mn(oi),Mn(xs),zR();break;case 5:FR(r);break;case 4:$m();break;case 13:Mn(Vn);break;case 19:Mn(Vn);break;case 10:MR(r.type._context);break;case 22:case 23:QR()}n=n.return}if(qr=e,pr=e=ou(e.current,null),Jr=_i=t,Ar=0,vv=null,KR=t1=of=0,Xs=Ex=null,_d!==null){for(t=0;t<_d.length;t++)if(n=_d[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}_d=null}return e}function PW(e,t){do{var n=pr;try{if(DR(),Nw.current=wj,bj){for(var r=Xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bj=!1}if(af=0,$r=Cr=Xn=null,Sx=!1,pv=0,GR.current=null,n===null||n.return===null){Ar=1,vv=t,pr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Jr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=B$(o);if(m!==null){m.flags&=-257,U$(m,o,l,a,t),m.mode&1&&z$(a,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){z$(a,u,t),JR();break e}c=Error(Re(426))}}else if(Fn&&l.mode&1){var y=B$(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),U$(y,o,l,a,t),OR(Fm(c,l));break e}}a=c=Fm(c,l),Ar!==4&&(Ar=2),Ex===null?Ex=[a]:Ex.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=mW(a,c,t);D$(a,v);break e;case 1:l=c;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(iu===null||!iu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=pW(a,l,t);D$(a,j);break e}}a=a.return}while(a!==null)}DW(n)}catch(_){t=_,pr===n&&n!==null&&(pr=n=n.return);continue}break}while(!0)}function OW(){var e=jj.current;return jj.current=wj,e===null?wj:e}function JR(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),qr===null||!(of&268435455)&&!(t1&268435455)||Sc(qr,Jr)}function Sj(e,t){var n=Ht;Ht|=2;var r=OW();(qr!==e||Jr!==t)&&(sl=null,Vd(e,t));do try{Mfe();break}catch(i){PW(e,i)}while(!0);if(DR(),Ht=n,jj.current=r,pr!==null)throw Error(Re(261));return qr=null,Jr=0,Ar}function Mfe(){for(;pr!==null;)RW(pr)}function Ife(){for(;pr!==null&&!ode();)RW(pr)}function RW(e){var t=IW(e.alternate,e,_i);e.memoizedProps=e.pendingProps,t===null?DW(e):pr=t,GR.current=null}function DW(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Afe(n,t),n!==null){n.flags&=32767,pr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ar=6,pr=null;return}}else if(n=kfe(n,t,_i),n!==null){pr=n;return}if(t=t.sibling,t!==null){pr=t;return}pr=t=e}while(t!==null);Ar===0&&(Ar=5)}function id(e,t,n){var r=un,i=fa.transition;try{fa.transition=null,un=1,Lfe(e,t,n,r)}finally{fa.transition=i,un=r}return null}function Lfe(e,t,n,r){do im();while($c!==null);if(Ht&6)throw Error(Re(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(xde(e,a),e===qr&&(pr=qr=null,Jr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||u0||(u0=!0,LW(aj,function(){return im(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=fa.transition,fa.transition=null;var o=un;un=1;var l=Ht;Ht|=4,GR.current=null,Pfe(e,n),kW(n,e),rfe(zA),lj=!!FA,zA=FA=null,e.current=n,Ofe(n),lde(),Ht=l,un=o,fa.transition=a}else e.current=n;if(u0&&(u0=!1,$c=e,Nj=i),a=e.pendingLanes,a===0&&(iu=null),dde(n.stateNode),ci(e,ar()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_j)throw _j=!1,e=a2,a2=null,e;return Nj&1&&e.tag!==0&&im(),a=e.pendingLanes,a&1?e===o2?kx++:(kx=0,o2=e):kx=0,Ou(),null}function im(){if($c!==null){var e=mH(Nj),t=fa.transition,n=un;try{if(fa.transition=null,un=16>e?16:e,$c===null)var r=!1;else{if(e=$c,$c=null,Nj=0,Ht&6)throw Error(Re(331));var i=Ht;for(Ht|=4,Ue=e.current;Ue!==null;){var a=Ue,o=a.child;if(Ue.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ue=u;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:Cx(8,d,a)}var f=d.child;if(f!==null)f.return=d,Ue=f;else for(;Ue!==null;){d=Ue;var h=d.sibling,m=d.return;if(SW(d),d===u){Ue=null;break}if(h!==null){h.return=m,Ue=h;break}Ue=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ue=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ue=o;else e:for(;Ue!==null;){if(a=Ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Cx(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Ue=v;break e}Ue=a.return}}var w=e.current;for(Ue=w;Ue!==null;){o=Ue;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ue=b;else e:for(o=w;Ue!==null;){if(l=Ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:e1(9,l)}}catch(_){tr(l,l.return,_)}if(l===o){Ue=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ue=j;break e}Ue=l.return}}if(Ht=i,Ou(),Oo&&typeof Oo.onPostCommitFiberRoot=="function")try{Oo.onPostCommitFiberRoot(WN,e)}catch{}r=!0}return r}finally{un=n,fa.transition=t}}return!1}function tF(e,t,n){t=Fm(n,t),t=mW(e,t,1),e=su(e,t,1),t=$s(),e!==null&&(Fy(e,1,t),ci(e,t))}function tr(e,t,n){if(e.tag===3)tF(e,e,n);else for(;t!==null;){if(t.tag===3){tF(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(iu===null||!iu.has(r))){e=Fm(n,e),e=pW(t,e,1),t=su(t,e,1),e=$s(),t!==null&&(Fy(t,1,e),ci(t,e));break}}t=t.return}}function $fe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$s(),e.pingedLanes|=e.suspendedLanes&n,qr===e&&(Jr&n)===n&&(Ar===4||Ar===3&&(Jr&130023424)===Jr&&500>ar()-YR?Vd(e,0):KR|=n),ci(e,t)}function MW(e,t){t===0&&(e.mode&1?(t=e0,e0<<=1,!(e0&130023424)&&(e0=4194304)):t=1);var n=$s();e=Pl(e,t),e!==null&&(Fy(e,t,n),ci(e,n))}function Ffe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MW(e,n)}function zfe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(t),MW(e,n)}var IW;IW=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||oi.current)ti=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ti=!1,Efe(e,t,n);ti=!!(e.flags&131072)}else ti=!1,Fn&&t.flags&1048576&&zH(t,pj,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cw(e,t),e=t.pendingProps;var i=Mm(t,xs.current);sm(t,n),i=UR(null,t,r,e,i,n);var a=qR();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,li(r)?(a=!0,hj(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,LR(t),i.updater=ZN,t.stateNode=i,i._reactInternals=t,YA(t,r,e,n),t=JA(null,t,r,!0,a,n)):(t.tag=0,Fn&&a&&TR(t),Cs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cw(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Ufe(r),e=Ma(r,e),i){case 0:t=QA(null,t,r,e,n);break e;case 1:t=H$(null,t,r,e,n);break e;case 11:t=q$(null,t,r,e,n);break e;case 14:t=V$(null,t,r,Ma(r.type,e),n);break e}throw Error(Re(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ma(r,i),QA(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ma(r,i),H$(e,t,r,i,n);case 3:e:{if(yW(t),e===null)throw Error(Re(387));r=t.pendingProps,a=t.memoizedState,i=a.element,WH(e,t),vj(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Fm(Error(Re(423)),t),t=W$(e,t,r,n,i);break e}else if(r!==i){i=Fm(Error(Re(424)),t),t=W$(e,t,r,n,i);break e}else for(ki=ru(t.stateNode.containerInfo.firstChild),Pi=t,Fn=!0,Ua=null,n=VH(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Im(),r===i){t=Ol(e,t,n);break e}Cs(e,t,r,n)}t=t.child}return t;case 5:return GH(t),e===null&&WA(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,BA(r,i)?o=null:a!==null&&BA(r,a)&&(t.flags|=32),vW(e,t),Cs(e,t,o,n),t.child;case 6:return e===null&&WA(t),null;case 13:return bW(e,t,n);case 4:return $R(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lm(t,null,r,n):Cs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ma(r,i),q$(e,t,r,i,n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:return Cs(e,t,t.pendingProps.children,n),t.child;case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,En(gj,r._currentValue),r._currentValue=o,a!==null)if(to(a.value,o)){if(a.children===i.children&&!oi.current){t=Ol(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Nl(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),GA(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Re(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),GA(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Cs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sm(t,n),i=xa(i),r=r(i),t.flags|=1,Cs(e,t,r,n),t.child;case 14:return r=t.type,i=Ma(r,t.pendingProps),i=Ma(r.type,i),V$(e,t,r,i,n);case 15:return gW(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ma(r,i),Cw(e,t),t.tag=1,li(r)?(e=!0,hj(t)):e=!1,sm(t,n),hW(t,r,i),YA(t,r,i,n),JA(null,t,r,!0,e,n);case 19:return wW(e,t,n);case 22:return xW(e,t,n)}throw Error(Re(156,t.tag))};function LW(e,t){return uH(e,t)}function Bfe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,n,r){return new Bfe(e,t,n,r)}function ZR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ufe(e){if(typeof e=="function")return ZR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vR)return 11;if(e===yR)return 14}return 2}function ou(e,t){var n=e.alternate;return n===null?(n=aa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Aw(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")ZR(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Th:return Hd(n.children,i,a,t);case xR:o=8,i|=8;break;case yA:return e=aa(12,n,t,i|2),e.elementType=yA,e.lanes=a,e;case bA:return e=aa(13,n,t,i),e.elementType=bA,e.lanes=a,e;case wA:return e=aa(19,n,t,i),e.elementType=wA,e.lanes=a,e;case G9:return n1(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H9:o=10;break e;case W9:o=9;break e;case vR:o=11;break e;case yR:o=14;break e;case bc:o=16,r=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return t=aa(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Hd(e,t,n,r){return e=aa(7,e,r,t),e.lanes=n,e}function n1(e,t,n,r){return e=aa(22,e,r,t),e.elementType=G9,e.lanes=n,e.stateNode={isHidden:!1},e}function GC(e,t,n){return e=aa(6,e,null,t),e.lanes=n,e}function KC(e,t,n){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qfe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kC(0),this.expirationTimes=kC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function eD(e,t,n,r,i,a,o,l,c){return e=new qfe(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=aa(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},LR(a),e}function Vfe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ah,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $W(e){if(!e)return gu;e=e._reactInternals;e:{if(Mf(e)!==e||e.tag!==1)throw Error(Re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Re(171))}if(e.tag===1){var n=e.type;if(li(n))return $H(e,n,t)}return t}function FW(e,t,n,r,i,a,o,l,c){return e=eD(n,r,!0,e,i,a,o,l,c),e.context=$W(null),n=e.current,r=$s(),i=au(n),a=Nl(r,i),a.callback=t??null,su(n,a,i),e.current.lanes=i,Fy(e,i,r),ci(e,r),e}function r1(e,t,n,r){var i=t.current,a=$s(),o=au(i);return n=$W(n),t.context===null?t.context=n:t.pendingContext=n,t=Nl(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=su(i,t,o),e!==null&&(Ya(e,i,o,a),_w(e,i,o)),o}function Cj(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nF(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tD(e,t){nF(e,t),(e=e.alternate)&&nF(e,t)}function Hfe(){return null}var zW=typeof reportError=="function"?reportError:function(e){console.error(e)};function nD(e){this._internalRoot=e}s1.prototype.render=nD.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Re(409));r1(e,t,null,null)};s1.prototype.unmount=nD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lf(function(){r1(null,e,null,null)}),t[Tl]=null}};function s1(e){this._internalRoot=e}s1.prototype.unstable_scheduleHydration=function(e){if(e){var t=xH();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nc.length&&t!==0&&t<Nc[n].priority;n++);Nc.splice(n,0,e),n===0&&yH(e)}};function rD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function i1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rF(){}function Wfe(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Cj(o);a.call(u)}}var o=FW(t,r,e,0,null,!1,!1,"",rF);return e._reactRootContainer=o,e[Tl]=o.current,uv(e.nodeType===8?e.parentNode:e),lf(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Cj(c);l.call(u)}}var c=eD(e,0,!1,null,null,!1,!1,"",rF);return e._reactRootContainer=c,e[Tl]=c.current,uv(e.nodeType===8?e.parentNode:e),lf(function(){r1(t,c,n,r)}),c}function a1(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Cj(o);l.call(c)}}r1(t,o,e,i)}else o=Wfe(n,t,e,i,r);return Cj(o)}pH=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ox(t.pendingLanes);n!==0&&(jR(t,n|1),ci(t,ar()),!(Ht&6)&&(zm=ar()+500,Ou()))}break;case 13:lf(function(){var r=Pl(e,1);if(r!==null){var i=$s();Ya(r,e,1,i)}}),tD(e,1)}};_R=function(e){if(e.tag===13){var t=Pl(e,134217728);if(t!==null){var n=$s();Ya(t,e,134217728,n)}tD(e,134217728)}};gH=function(e){if(e.tag===13){var t=au(e),n=Pl(e,t);if(n!==null){var r=$s();Ya(n,e,t,r)}tD(e,t)}};xH=function(){return un};vH=function(e,t){var n=un;try{return un=e,t()}finally{un=n}};PA=function(e,t,n){switch(t){case"input":if(NA(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=XN(r);if(!i)throw Error(Re(90));Y9(r),NA(r,i)}}}break;case"textarea":Q9(e,n);break;case"select":t=n.value,t!=null&&em(e,!!n.multiple,t,!1)}};sH=XR;iH=lf;var Gfe={usingClientEntryPoint:!1,Events:[By,Dh,XN,nH,rH,XR]},Dg={findFiberByHostInstance:jd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kfe={bundleType:Dg.bundleType,version:Dg.version,rendererPackageName:Dg.rendererPackageName,rendererConfig:Dg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lH(e),e===null?null:e.stateNode},findFiberByHostInstance:Dg.findFiberByHostInstance||Hfe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{WN=d0.inject(Kfe),Oo=d0}catch{}}Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gfe;Bi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rD(t))throw Error(Re(200));return Vfe(e,t,null,n)};Bi.createRoot=function(e,t){if(!rD(e))throw Error(Re(299));var n=!1,r="",i=zW;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=eD(e,1,!1,null,null,n,!1,r,i),e[Tl]=t.current,uv(e.nodeType===8?e.parentNode:e),new nD(t)};Bi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=lH(t),e=e===null?null:e.stateNode,e};Bi.flushSync=function(e){return lf(e)};Bi.hydrate=function(e,t,n){if(!i1(t))throw Error(Re(200));return a1(null,e,t,!0,n)};Bi.hydrateRoot=function(e,t,n){if(!rD(e))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=zW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=FW(t,null,e,1,n??null,i,!1,a,o),e[Tl]=t.current,uv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new s1(t)};Bi.render=function(e,t,n){if(!i1(t))throw Error(Re(200));return a1(null,e,t,!1,n)};Bi.unmountComponentAtNode=function(e){if(!i1(e))throw Error(Re(40));return e._reactRootContainer?(lf(function(){a1(null,null,e,!1,function(){e._reactRootContainer=null,e[Tl]=null})}),!0):!1};Bi.unstable_batchedUpdates=XR;Bi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!i1(n))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return a1(e,t,n,!1,r)};Bi.version="18.3.1-next-f1338f8080-20240426";function BW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BW)}catch(e){console.error(e)}}BW(),B9.exports=Bi;var Rs=B9.exports;const UW=Vt(Rs);var qW,sF=Rs;qW=sF.createRoot,sF.hydrateRoot;const Yfe=1,Xfe=1e6;let YC=0;function Qfe(){return YC=(YC+1)%Number.MAX_SAFE_INTEGER,YC.toString()}const XC=new Map,iF=e=>{if(XC.has(e))return;const t=setTimeout(()=>{XC.delete(e),Ax({type:"REMOVE_TOAST",toastId:e})},Xfe);XC.set(e,t)},Jfe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Yfe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?iF(n):e.toasts.forEach(r=>{iF(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Tw=[];let Pw={toasts:[]};function Ax(e){Pw=Jfe(Pw,e),Tw.forEach(t=>{t(Pw)})}function we({...e}){const t=Qfe(),n=i=>Ax({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Ax({type:"DISMISS_TOAST",toastId:t});return Ax({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function ja(){const[e,t]=x.useState(Pw);return x.useEffect(()=>(Tw.push(t),()=>{const n=Tw.indexOf(t);n>-1&&Tw.splice(n,1)}),[e]),{...e,toast:we,dismiss:n=>Ax({type:"DISMISS_TOAST",toastId:n})}}function Te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function aF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rl(...e){return t=>{let n=!1;const r=e.map(i=>{const a=aF(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():aF(e[i],null)}}}}function it(...e){return x.useCallback(Rl(...e),e)}function Zfe(e,t){const n=x.createContext(t),r=a=>{const{children:o,...l}=a,c=x.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=x.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function sr(e,t=[]){let n=[];function r(a,o){const l=x.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:h,children:m,...p}=f,g=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,y=x.useMemo(()=>p,Object.values(p));return s.jsx(g.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,p=x.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,ehe(i,...t)]}function ehe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function xu(e){const t=nhe(e),n=x.forwardRef((r,i)=>{const{children:a,...o}=r,l=x.Children.toArray(a),c=l.find(rhe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var the=xu("Slot");function nhe(e){const t=x.forwardRef((n,r)=>{const{children:i,...a}=n;if(x.isValidElement(i)){const o=ihe(i),l=she(a,i.props);return i.type!==x.Fragment&&(l.ref=r?Rl(r,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VW=Symbol("radix.slottable");function HW(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=VW,t}function rhe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VW}function she(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function ihe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Op(e){const t=e+"CollectionProvider",[n,r]=sr(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:v}=g,w=B.useRef(null),b=B.useRef(new Map).current;return s.jsx(i,{scope:y,itemMap:b,collectionRef:w,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=xu(l),u=B.forwardRef((g,y)=>{const{scope:v,children:w}=g,b=a(l,v),j=it(y,b.collectionRef);return s.jsx(c,{ref:j,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=xu(d),m=B.forwardRef((g,y)=>{const{scope:v,children:w,...b}=g,j=B.useRef(null),_=it(y,j),N=a(d,v);return B.useEffect(()=>(N.itemMap.set(j,{ref:j,...b}),()=>void N.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:_,children:w})});m.displayName=d;function p(g){const y=a(e+"CollectionConsumer",g);return B.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,S)=>b.indexOf(N.ref.current)-b.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},p,r]}var ahe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=ahe.reduce((e,t)=>{const n=xu(`Primitive.${t}`),r=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function sD(e,t){e&&Rs.flushSync(()=>e.dispatchEvent(t))}function zs(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ohe(e,t=globalThis==null?void 0:globalThis.document){const n=zs(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var lhe="DismissableLayer",u2="dismissableLayer.update",che="dismissableLayer.pointerDownOutside",uhe="dismissableLayer.focusOutside",oF,WW=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),If=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(WW),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),p=it(t,S=>f(S)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),w=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=w>=v,_=fhe(S=>{const C=S.target,k=[...u.branches].some(A=>A.contains(C));!j||k||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=hhe(S=>{const C=S.target;[...u.branches].some(A=>A.contains(C))||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return ohe(S=>{w===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(oF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lF(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=oF)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lF())},[d,u]),x.useEffect(()=>{const S=()=>m({});return document.addEventListener(u2,S),()=>document.removeEventListener(u2,S)},[]),s.jsx($e.div,{...c,ref:p,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:Te(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Te(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Te(e.onPointerDownCapture,_.onPointerDownCapture)})});If.displayName=lhe;var dhe="DismissableLayerBranch",GW=x.forwardRef((e,t)=>{const n=x.useContext(WW),r=x.useRef(null),i=it(t,r);return x.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx($e.div,{...e,ref:i})});GW.displayName=dhe;function fhe(e,t=globalThis==null?void 0:globalThis.document){const n=zs(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){KW(che,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function hhe(e,t=globalThis==null?void 0:globalThis.document){const n=zs(e),r=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!r.current&&KW(uhe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lF(){const e=new CustomEvent(u2);document.dispatchEvent(e)}function KW(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?sD(i,a):i.dispatchEvent(a)}var mhe=If,phe=GW,lr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},ghe="Portal",Rp=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=x.useState(!1);lr(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?UW.createPortal(s.jsx($e.div,{...r,ref:t}),o):null});Rp.displayName=ghe;function xhe(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var vs=e=>{const{present:t,children:n}=e,r=vhe(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),a=it(r.ref,yhe(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:a}):null};vs.displayName="Presence";function vhe(e){const[t,n]=x.useState(),r=x.useRef(null),i=x.useRef(e),a=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=xhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=f0(r.current);a.current=l==="mounted"?u:"none"},[l]),lr(()=>{const u=r.current,d=i.current;if(d!==e){const h=a.current,m=f0(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),lr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=f0(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(a.current=f0(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function f0(e){return(e==null?void 0:e.animationName)||"none"}function yhe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bhe=hR[" useInsertionEffect ".trim().toString()]||lr;function Or({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=whe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const h=jhe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function whe({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),i=x.useRef(n),a=x.useRef(t);return bhe(()=>{a.current=t},[t]),x.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function jhe(e){return typeof e=="function"}var YW=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_he="VisuallyHidden",o1=x.forwardRef((e,t)=>s.jsx($e.span,{...e,ref:t,style:{...YW,...e.style}}));o1.displayName=_he;var Nhe=o1,iD="ToastProvider",[aD,She,Che]=Op("Toast"),[XW]=sr("Toast",[Che]),[Ehe,l1]=XW(iD),QW=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${iD}\`. Expected non-empty \`string\`.`),s.jsx(aD.Provider,{scope:t,children:s.jsx(Ehe,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};QW.displayName=iD;var JW="ToastViewport",khe=["F8"],d2="toast.viewportPause",f2="toast.viewportResume",ZW=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=khe,label:i="Notifications ({hotkey})",...a}=e,o=l1(JW,n),l=She(n),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=it(t,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;x.useEffect(()=>{const y=v=>{var b;r.length!==0&&r.every(j=>v[j]||v.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),x.useEffect(()=>{const y=c.current,v=f.current;if(p&&y&&v){const w=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(d2);v.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(f2);v.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!y.contains(N.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",j),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[p,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:y})=>{const w=l().map(b=>{const j=b.ref.current,_=[j,...Bhe(j)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?w.reverse():w).flat()},[l]);return x.useEffect(()=>{const y=f.current;if(y){const v=w=>{var _,N,S;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const C=document.activeElement,k=w.shiftKey;if(w.target===y&&k){(_=u.current)==null||_.focus();return}const E=g({tabbingDirection:k?"backwards":"forwards"}),R=E.findIndex($=>$===C);QC(E.slice(R+1))?w.preventDefault():k?(N=u.current)==null||N.focus():(S=d.current)==null||S.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[l,g]),s.jsxs(phe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&s.jsx(h2,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});QC(y)}}),s.jsx(aD.Slot,{scope:n,children:s.jsx($e.ol,{tabIndex:-1,...a,ref:h})}),p&&s.jsx(h2,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});QC(y)}})]})});ZW.displayName=JW;var e7="ToastFocusProxy",h2=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=l1(e7,n);return s.jsx(o1,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});h2.displayName=e7;var qy="Toast",Ahe="toast.swipeStart",The="toast.swipeMove",Phe="toast.swipeCancel",Ohe="toast.swipeEnd",t7=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=Or({prop:r,defaultProp:i??!0,onChange:a,caller:qy});return s.jsx(vs,{present:n||l,children:s.jsx(Mhe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:zs(e.onPause),onResume:zs(e.onResume),onSwipeStart:Te(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Te(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});t7.displayName=qy;var[Rhe,Dhe]=XW(qy,{onClose(){}}),Mhe=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...p}=e,g=l1(qy,n),[y,v]=x.useState(null),w=it(t,$=>v($)),b=x.useRef(null),j=x.useRef(null),_=i||g.duration,N=x.useRef(0),S=x.useRef(_),C=x.useRef(0),{onToastAdd:k,onToastRemove:A}=g,T=zs(()=>{var O;(y==null?void 0:y.contains(document.activeElement))&&((O=g.viewport)==null||O.focus()),o()}),E=x.useCallback($=>{!$||$===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(T,$))},[T]);x.useEffect(()=>{const $=g.viewport;if($){const O=()=>{E(S.current),u==null||u()},F=()=>{const z=new Date().getTime()-N.current;S.current=S.current-z,window.clearTimeout(C.current),c==null||c()};return $.addEventListener(d2,F),$.addEventListener(f2,O),()=>{$.removeEventListener(d2,F),$.removeEventListener(f2,O)}}},[g.viewport,_,c,u,E]),x.useEffect(()=>{a&&!g.isClosePausedRef.current&&E(_)},[a,_,g.isClosePausedRef,E]),x.useEffect(()=>(k(),()=>A()),[k,A]);const R=x.useMemo(()=>y?l7(y):null,[y]);return g.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(Ihe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:R}),s.jsx(Rhe,{scope:n,onClose:T,children:Rs.createPortal(s.jsx(aD.ItemSlot,{scope:n,children:s.jsx(mhe,{asChild:!0,onEscapeKeyDown:Te(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx($e.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Te(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Te(e.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:Te(e.onPointerMove,$=>{if(!b.current)return;const O=$.clientX-b.current.x,F=$.clientY-b.current.y,z=!!j.current,P=["left","right"].includes(g.swipeDirection),I=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,M=P?I(0,O):0,U=P?0:I(0,F),D=$.pointerType==="touch"?10:2,L={x:M,y:U},V={originalEvent:$,delta:L};z?(j.current=L,h0(The,f,V,{discrete:!1})):cF(L,g.swipeDirection,D)?(j.current=L,h0(Ahe,d,V,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(O)>D||Math.abs(F)>D)&&(b.current=null)}),onPointerUp:Te(e.onPointerUp,$=>{const O=j.current,F=$.target;if(F.hasPointerCapture($.pointerId)&&F.releasePointerCapture($.pointerId),j.current=null,b.current=null,O){const z=$.currentTarget,P={originalEvent:$,delta:O};cF(O,g.swipeDirection,g.swipeThreshold)?h0(Ohe,m,P,{discrete:!0}):h0(Phe,h,P,{discrete:!0}),z.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Ihe=e=>{const{__scopeToast:t,children:n,...r}=e,i=l1(qy,t),[a,o]=x.useState(!1),[l,c]=x.useState(!1);return Fhe(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Rp,{asChild:!0,children:s.jsx(o1,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},Lhe="ToastTitle",n7=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx($e.div,{...r,ref:t})});n7.displayName=Lhe;var $he="ToastDescription",r7=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx($e.div,{...r,ref:t})});r7.displayName=$he;var s7="ToastAction",i7=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(o7,{altText:n,asChild:!0,children:s.jsx(oD,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${s7}\`. Expected non-empty \`string\`.`),null)});i7.displayName=s7;var a7="ToastClose",oD=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=Dhe(a7,n);return s.jsx(o7,{asChild:!0,children:s.jsx($e.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,i.onClose)})})});oD.displayName=a7;var o7=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function l7(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),zhe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...l7(r))}}),t}function h0(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?sD(i,a):i.dispatchEvent(a)}var cF=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function Fhe(e=()=>{}){const t=zs(e);lr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function zhe(e){return e.nodeType===e.ELEMENT_NODE}function Bhe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function QC(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Uhe=QW,c7=ZW,u7=t7,d7=n7,f7=r7,h7=i7,m7=oD;function p7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=p7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=p7(e))&&(r&&(r+=" "),r+=t);return r}const uF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,dF=ct,Lf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return dF(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=uF(d)||uF(f);return i[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[g,y]=p;return Array.isArray(y)?y.includes({...a,...l}[g]):{...a,...l}[g]===y})?[...u,f,h]:u},[]);return dF(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g7=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vhe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...Vhe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:g7("lucide",i),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=x.forwardRef(({className:r,...i},a)=>x.createElement(Hhe,{ref:a,iconNode:t,className:g7(`lucide-${qhe(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=xe("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=xe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=xe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=xe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=xe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=xe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=xe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=xe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=xe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=xe("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=xe("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=xe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=xe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=xe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=xe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=xe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=xe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=xe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=xe("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=xe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=xe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=xe("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=xe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=xe("FolderSearch",[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=xe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=xe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=xe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=xe("HandHeart",[["path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1ifwr1"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"17abbs"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z",key:"1h3036"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=xe("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=xe("LandPlot",[["path",{d:"m12 8 6-3-6-3v10",key:"mvpnpy"}],["path",{d:"m8 11.99-5.5 3.14a1 1 0 0 0 0 1.74l8.5 4.86a2 2 0 0 0 2 0l8.5-4.86a1 1 0 0 0 0-1.74L16 12",key:"ek95tt"}],["path",{d:"m6.49 12.85 11.02 6.3",key:"1kt42w"}],["path",{d:"M17.51 12.85 6.5 19.15",key:"v55bdg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=xe("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=xe("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=xe("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=xe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=xe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=xe("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=xe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=xe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=xe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=xe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=xe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=xe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ame=xe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=xe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=xe("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=xe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=xe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=xe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=xe("RectangleEllipsis",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=xe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=xe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=xe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=xe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=xe("SquareArrowOutUpRight",[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=xe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=xe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=xe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=xe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=xe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=xe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=xe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=xe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),pD="-",gme=e=>{const t=vme(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(pD);return l[0]===""&&l.length!==1&&l.shift(),k7(l,t)||xme(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},k7=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?k7(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(pD);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},yF=/^\[(.+)\]$/,xme=e=>{if(yF.test(e)){const t=yF.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},vme=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return bme(Object.entries(e.classGroups),n).forEach(([a,o])=>{_2(o,r,a,t)}),r},_2=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:bF(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(yme(i)){_2(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{_2(o,bF(t,a),n,r)})})},bF=(e,t)=>{let n=e;return t.split(pD).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},yme=e=>e.isThemeGetter,bme=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,wme=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},A7="!",jme=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let v=l[y];if(u===0){if(v===i&&(r||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(v==="/"){f=y;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(A7),p=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},_me=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Nme=e=>({cache:wme(e.cacheSize),parseClassName:jme(e),...gme(e)}),Sme=/\s+/,Cme=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(Sme);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let p=!!m,g=r(p?h.substring(0,m):h);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const y=_me(d).join(":"),v=f?y+A7:y,w=v+g;if(a.includes(w))continue;a.push(w);const b=i(g,p);for(let j=0;j<b.length;++j){const _=b[j];a.push(v+_)}l=u+(l.length>0?" "+l:l)}return l};function Eme(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=T7(t))&&(r&&(r+=" "),r+=n);return r}const T7=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=T7(e[r]))&&(n&&(n+=" "),n+=t);return n};function kme(e,...t){let n,r,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=Nme(u),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=Cme(c,n);return i(c,d),d}return function(){return a(Eme.apply(null,arguments))}}const Pn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},P7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ame=/^\d+\/\d+$/,Tme=new Set(["px","full","screen"]),Pme=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ome=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rme=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Dme=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mme=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=e=>om(e)||Tme.has(e)||Ame.test(e),oc=e=>Ip(e,"length",qme),om=e=>!!e&&!Number.isNaN(Number(e)),eE=e=>Ip(e,"number",om),Mg=e=>!!e&&Number.isInteger(Number(e)),Ime=e=>e.endsWith("%")&&om(e.slice(0,-1)),kt=e=>P7.test(e),lc=e=>Pme.test(e),Lme=new Set(["length","size","percentage"]),$me=e=>Ip(e,Lme,O7),Fme=e=>Ip(e,"position",O7),zme=new Set(["image","url"]),Bme=e=>Ip(e,zme,Hme),Ume=e=>Ip(e,"",Vme),Ig=()=>!0,Ip=(e,t,n)=>{const r=P7.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},qme=e=>Ome.test(e)&&!Rme.test(e),O7=()=>!1,Vme=e=>Dme.test(e),Hme=e=>Mme.test(e),Wme=()=>{const e=Pn("colors"),t=Pn("spacing"),n=Pn("blur"),r=Pn("brightness"),i=Pn("borderColor"),a=Pn("borderRadius"),o=Pn("borderSpacing"),l=Pn("borderWidth"),c=Pn("contrast"),u=Pn("grayscale"),d=Pn("hueRotate"),f=Pn("invert"),h=Pn("gap"),m=Pn("gradientColorStops"),p=Pn("gradientColorStopPositions"),g=Pn("inset"),y=Pn("margin"),v=Pn("opacity"),w=Pn("padding"),b=Pn("saturate"),j=Pn("scale"),_=Pn("sepia"),N=Pn("skew"),S=Pn("space"),C=Pn("translate"),k=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",kt,t],E=()=>[kt,t],R=()=>["",Jo,oc],$=()=>["auto",om,kt],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",kt],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[om,kt];return{cacheSize:500,separator:":",theme:{colors:[Ig],spacing:[Jo,oc],blur:["none","",lc,kt],brightness:U(),borderColor:[e],borderRadius:["none","","full",lc,kt],borderSpacing:E(),borderWidth:R(),contrast:U(),grayscale:I(),hueRotate:U(),invert:I(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[Ime,oc],inset:T(),margin:T(),opacity:U(),padding:E(),saturate:U(),scale:U(),sepia:I(),skew:U(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[lc]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),kt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mg,kt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Mg,kt]}],"grid-cols":[{"grid-cols":[Ig]}],"col-start-end":[{col:["auto",{span:["full",Mg,kt]},kt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ig]}],"row-start-end":[{row:["auto",{span:[Mg,kt]},kt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,t]}],"min-w":[{"min-w":[kt,t,"min","max","fit"]}],"max-w":[{"max-w":[kt,t,"none","full","min","max","fit","prose",{screen:[lc]},lc]}],h:[{h:[kt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",lc,oc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eE]}],"font-family":[{font:[Ig]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",om,eE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jo,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jo,oc]}],"underline-offset":[{"underline-offset":["auto",Jo,kt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),Fme]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$me]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Bme]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Jo,kt]}],"outline-w":[{outline:[Jo,oc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Jo,oc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lc,Ume]}],"shadow-color":[{shadow:[Ig]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",lc,kt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Mg,kt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jo,oc,eE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gme=kme(Wme);function de(...e){return Gme(ct(e))}const Kme=Uhe,R7=x.forwardRef(({className:e,...t},n)=>s.jsx(c7,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));R7.displayName=c7.displayName;const Yme=Lf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),D7=x.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(u7,{ref:r,className:de(Yme({variant:t}),e),...n}));D7.displayName=u7.displayName;const Xme=x.forwardRef(({className:e,...t},n)=>s.jsx(h7,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Xme.displayName=h7.displayName;const M7=x.forwardRef(({className:e,...t},n)=>s.jsx(m7,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(tn,{className:"h-4 w-4"})}));M7.displayName=m7.displayName;const I7=x.forwardRef(({className:e,...t},n)=>s.jsx(d7,{ref:n,className:de("text-sm font-semibold",e),...t}));I7.displayName=d7.displayName;const L7=x.forwardRef(({className:e,...t},n)=>s.jsx(f7,{ref:n,className:de("text-sm opacity-90",e),...t}));L7.displayName=f7.displayName;function Qme(){const{toasts:e}=ja();return s.jsxs(Kme,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return s.jsxs(D7,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(I7,{children:n}),r&&s.jsx(L7,{children:r})]}),i,s.jsx(M7,{})]},t)}),s.jsx(R7,{})]})}var wF=["light","dark"],Jme="(prefers-color-scheme: dark)",Zme=x.createContext(void 0),epe={setTheme:e=>{},themes:[]},tpe=()=>{var e;return(e=x.useContext(Zme))!=null?e:epe};x.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?wF.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,g=!1,y=!0)=>{let v=o?o[p]:p,w=g?p+"|| ''":`'${v}'`,b="";return i&&y&&!g&&wF.includes(p)&&(b+=`d.style.colorScheme = '${p}';`),n==="class"?g||v?b+=`c.add(${w})`:b+="null":v&&(b+=`d[s](n,${w})`),b},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Jme}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var npe=e=>{switch(e){case"success":return ipe;case"info":return ope;case"warning":return ape;case"error":return lpe;default:return null}},rpe=Array(12).fill(0),spe=({visible:e,className:t})=>B.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},B.createElement("div",{className:"sonner-spinner"},rpe.map((n,r)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ipe=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ape=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ope=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lpe=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cpe=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),upe=()=>{let[e,t]=B.useState(document.hidden);return B.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},N2=1,dpe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:N2++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],B.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(hpe(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||N2++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ys=new dpe,fpe=(e,t)=>{let n=(t==null?void 0:t.id)||N2++;return Ys.addToast({title:e,...t,id:n}),n},hpe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",mpe=fpe,ppe=()=>Ys.toasts,gpe=()=>Ys.getActiveToasts(),Ne=Object.assign(mpe,{success:Ys.success,info:Ys.info,warning:Ys.warning,error:Ys.error,custom:Ys.custom,message:Ys.message,promise:Ys.promise,dismiss:Ys.dismiss,loading:Ys.loading},{getHistory:ppe,getToasts:gpe});function xpe(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}xpe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function p0(e){return e.label!==void 0}var vpe=3,ype="32px",bpe="16px",jF=4e3,wpe=356,jpe=14,_pe=20,Npe=200;function Aa(...e){return e.filter(Boolean).join(" ")}function Spe(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Cpe=e=>{var t,n,r,i,a,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:p,interacting:g,setHeights:y,visibleToasts:v,heights:w,index:b,toasts:j,expanded:_,removeToast:N,defaultRichColors:S,closeButton:C,style:k,cancelButtonStyle:A,actionButtonStyle:T,className:E="",descriptionClassName:R="",duration:$,position:O,gap:F,loadingIcon:z,expandByDefault:P,classNames:I,icons:M,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:D}=e,[L,V]=B.useState(null),[K,G]=B.useState(null),[X,oe]=B.useState(!1),[Y,ne]=B.useState(!1),[ge,se]=B.useState(!1),[ce,ve]=B.useState(!1),[te,ue]=B.useState(!1),[ee,le]=B.useState(0),[Ie,Pe]=B.useState(0),Ae=B.useRef(m.duration||$||jF),W=B.useRef(null),_e=B.useRef(null),Le=b===0,Qe=b+1<=v,Q=m.type,ae=m.dismissible!==!1,Se=m.className||"",ye=m.descriptionClassName||"",ze=B.useMemo(()=>w.findIndex(Ee=>Ee.toastId===m.id)||0,[w,m.id]),je=B.useMemo(()=>{var Ee;return(Ee=m.closeButton)!=null?Ee:C},[m.closeButton,C]),We=B.useMemo(()=>m.duration||$||jF,[m.duration,$]),Ge=B.useRef(0),ut=B.useRef(0),nn=B.useRef(0),Rt=B.useRef(null),[hn,ss]=O.split("-"),eh=B.useMemo(()=>w.reduce((Ee,mt,nt)=>nt>=ze?Ee:Ee+mt.height,0),[w,ze]),th=upe(),rc=m.invert||h,$n=Q==="loading";ut.current=B.useMemo(()=>ze*F+eh,[ze,eh]),B.useEffect(()=>{Ae.current=We},[We]),B.useEffect(()=>{oe(!0)},[]),B.useEffect(()=>{let Ee=_e.current;if(Ee){let mt=Ee.getBoundingClientRect().height;return Pe(mt),y(nt=>[{toastId:m.id,height:mt,position:m.position},...nt]),()=>y(nt=>nt.filter(mn=>mn.toastId!==m.id))}},[y,m.id]),B.useLayoutEffect(()=>{if(!X)return;let Ee=_e.current,mt=Ee.style.height;Ee.style.height="auto";let nt=Ee.getBoundingClientRect().height;Ee.style.height=mt,Pe(nt),y(mn=>mn.find(Dt=>Dt.toastId===m.id)?mn.map(Dt=>Dt.toastId===m.id?{...Dt,height:nt}:Dt):[{toastId:m.id,height:nt,position:m.position},...mn])},[X,m.title,m.description,y,m.id]);let St=B.useCallback(()=>{ne(!0),le(ut.current),y(Ee=>Ee.filter(mt=>mt.toastId!==m.id)),setTimeout(()=>{N(m)},Npe)},[m,N,y,ut]);B.useEffect(()=>{if(m.promise&&Q==="loading"||m.duration===1/0||m.type==="loading")return;let Ee;return _||g||D&&th?(()=>{if(nn.current<Ge.current){let mt=new Date().getTime()-Ge.current;Ae.current=Ae.current-mt}nn.current=new Date().getTime()})():Ae.current!==1/0&&(Ge.current=new Date().getTime(),Ee=setTimeout(()=>{var mt;(mt=m.onAutoClose)==null||mt.call(m,m),St()},Ae.current)),()=>clearTimeout(Ee)},[_,g,m,Q,D,th,St]),B.useEffect(()=>{m.delete&&St()},[St,m.delete]);function Ct(){var Ee,mt,nt;return M!=null&&M.loading?B.createElement("div",{className:Aa(I==null?void 0:I.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Q==="loading"},M.loading):z?B.createElement("div",{className:Aa(I==null?void 0:I.loader,(mt=m==null?void 0:m.classNames)==null?void 0:mt.loader,"sonner-loader"),"data-visible":Q==="loading"},z):B.createElement(spe,{className:Aa(I==null?void 0:I.loader,(nt=m==null?void 0:m.classNames)==null?void 0:nt.loader),visible:Q==="loading"})}return B.createElement("li",{tabIndex:0,ref:_e,className:Aa(E,Se,I==null?void 0:I.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[Q],(n=m==null?void 0:m.classNames)==null?void 0:n[Q]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:S,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":X,"data-promise":!!m.promise,"data-swiped":te,"data-removed":Y,"data-visible":Qe,"data-y-position":hn,"data-x-position":ss,"data-index":b,"data-front":Le,"data-swiping":ge,"data-dismissible":ae,"data-type":Q,"data-invert":rc,"data-swipe-out":ce,"data-swipe-direction":K,"data-expanded":!!(_||P&&X),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${Y?ee:ut.current}px`,"--initial-height":P?"auto":`${Ie}px`,...k,...m.style},onDragEnd:()=>{se(!1),V(null),Rt.current=null},onPointerDown:Ee=>{$n||!ae||(W.current=new Date,le(ut.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(se(!0),Rt.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,mt,nt,mn;if(ce||!ae)return;Rt.current=null;let Dt=Number(((Ee=_e.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qt=Number(((mt=_e.current)==null?void 0:mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),br=new Date().getTime()-((nt=W.current)==null?void 0:nt.getTime()),Jn=L==="x"?Dt:Qt,Mr=Math.abs(Jn)/br;if(Math.abs(Jn)>=_pe||Mr>.11){le(ut.current),(mn=m.onDismiss)==null||mn.call(m,m),G(L==="x"?Dt>0?"right":"left":Qt>0?"down":"up"),St(),ve(!0),ue(!1);return}se(!1),V(null)},onPointerMove:Ee=>{var mt,nt,mn,Dt;if(!Rt.current||!ae||((mt=window.getSelection())==null?void 0:mt.toString().length)>0)return;let Qt=Ee.clientY-Rt.current.y,br=Ee.clientX-Rt.current.x,Jn=(nt=e.swipeDirections)!=null?nt:Spe(O);!L&&(Math.abs(br)>1||Math.abs(Qt)>1)&&V(Math.abs(br)>Math.abs(Qt)?"x":"y");let Mr={x:0,y:0};L==="y"?(Jn.includes("top")||Jn.includes("bottom"))&&(Jn.includes("top")&&Qt<0||Jn.includes("bottom")&&Qt>0)&&(Mr.y=Qt):L==="x"&&(Jn.includes("left")||Jn.includes("right"))&&(Jn.includes("left")&&br<0||Jn.includes("right")&&br>0)&&(Mr.x=br),(Math.abs(Mr.x)>0||Math.abs(Mr.y)>0)&&ue(!0),(mn=_e.current)==null||mn.style.setProperty("--swipe-amount-x",`${Mr.x}px`),(Dt=_e.current)==null||Dt.style.setProperty("--swipe-amount-y",`${Mr.y}px`)}},je&&!m.jsx?B.createElement("button",{"aria-label":U,"data-disabled":$n,"data-close-button":!0,onClick:$n||!ae?()=>{}:()=>{var Ee;St(),(Ee=m.onDismiss)==null||Ee.call(m,m)},className:Aa(I==null?void 0:I.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(a=M==null?void 0:M.close)!=null?a:cpe):null,m.jsx||x.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:B.createElement(B.Fragment,null,Q||m.icon||m.promise?B.createElement("div",{"data-icon":"",className:Aa(I==null?void 0:I.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ct():null,m.type!=="loading"?m.icon||(M==null?void 0:M[Q])||npe(Q):null):null,B.createElement("div",{"data-content":"",className:Aa(I==null?void 0:I.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},B.createElement("div",{"data-title":"",className:Aa(I==null?void 0:I.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?B.createElement("div",{"data-description":"",className:Aa(R,ye,I==null?void 0:I.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),x.isValidElement(m.cancel)?m.cancel:m.cancel&&p0(m.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:Ee=>{var mt,nt;p0(m.cancel)&&ae&&((nt=(mt=m.cancel).onClick)==null||nt.call(mt,Ee),St())},className:Aa(I==null?void 0:I.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,x.isValidElement(m.action)?m.action:m.action&&p0(m.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||T,onClick:Ee=>{var mt,nt;p0(m.action)&&((nt=(mt=m.action).onClick)==null||nt.call(mt,Ee),!Ee.defaultPrevented&&St())},className:Aa(I==null?void 0:I.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function _F(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Epe(e,t){let n={};return[e,t].forEach((r,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?bpe:ype;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var kpe=x.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:p=vpe,toastOptions:g,dir:y=_F(),gap:v=jpe,loadingIcon:w,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[N,S]=B.useState([]),C=B.useMemo(()=>Array.from(new Set([r].concat(N.filter(D=>D.position).map(D=>D.position)))),[N,r]),[k,A]=B.useState([]),[T,E]=B.useState(!1),[R,$]=B.useState(!1),[O,F]=B.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=B.useRef(null),P=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=B.useRef(null),M=B.useRef(!1),U=B.useCallback(D=>{S(L=>{var V;return(V=L.find(K=>K.id===D.id))!=null&&V.delete||Ys.dismiss(D.id),L.filter(({id:K})=>K!==D.id)})},[]);return B.useEffect(()=>Ys.subscribe(D=>{if(D.dismiss){S(L=>L.map(V=>V.id===D.id?{...V,delete:!0}:V));return}setTimeout(()=>{UW.flushSync(()=>{S(L=>{let V=L.findIndex(K=>K.id===D.id);return V!==-1?[...L.slice(0,V),{...L[V],...D},...L.slice(V+1)]:[D,...L]})})})}),[]),B.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:L})=>{F(L?"dark":"light")})}catch{D.addListener(({matches:V})=>{try{F(V?"dark":"light")}catch(K){console.error(K)}})}},[d]),B.useEffect(()=>{N.length<=1&&E(!1)},[N]),B.useEffect(()=>{let D=L=>{var V,K;i.every(G=>L[G]||L.code===G)&&(E(!0),(V=z.current)==null||V.focus()),L.code==="Escape"&&(document.activeElement===z.current||(K=z.current)!=null&&K.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[i]),B.useEffect(()=>{if(z.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,M.current=!1)}},[z.current]),B.createElement("section",{ref:t,"aria-label":`${j} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((D,L)=>{var V;let[K,G]=D.split("-");return N.length?B.createElement("ol",{key:D,dir:y==="auto"?_F():y,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":K,"data-lifted":T&&N.length>1&&!a,"data-x-position":G,style:{"--front-toast-height":`${((V=k[0])==null?void 0:V.height)||0}px`,"--width":`${wpe}px`,"--gap":`${v}px`,...m,...Epe(c,u)},onBlur:X=>{M.current&&!X.currentTarget.contains(X.relatedTarget)&&(M.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||M.current||(M.current=!0,I.current=X.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{R||E(!1)},onDragEnd:()=>E(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},N.filter(X=>!X.position&&L===0||X.position===D).map((X,oe)=>{var Y,ne;return B.createElement(Cpe,{key:X.id,icons:b,index:oe,toast:X,defaultRichColors:f,duration:(Y=g==null?void 0:g.duration)!=null?Y:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:p,closeButton:(ne=g==null?void 0:g.closeButton)!=null?ne:o,interacting:R,position:D,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:U,toasts:N.filter(ge=>ge.position==X.position),heights:k.filter(ge=>ge.position==X.position),setHeights:A,expandByDefault:a,gap:v,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const Ape=({...e})=>{const{theme:t="system"}=tpe();return s.jsx(kpe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Tpe=hR[" useId ".trim().toString()]||(()=>{}),Ppe=0;function xr(e){const[t,n]=x.useState(Tpe());return lr(()=>{n(r=>r??String(Ppe++))},[e]),e||(t?`radix-${t}`:"")}const Ope=["top","right","bottom","left"],yu=Math.min,Si=Math.max,Lj=Math.round,g0=Math.floor,Do=e=>({x:e,y:e}),Rpe={left:"right",right:"left",bottom:"top",top:"bottom"},Dpe={start:"end",end:"start"};function S2(e,t,n){return Si(e,yu(t,n))}function Ml(e,t){return typeof e=="function"?e(t):e}function Il(e){return e.split("-")[0]}function Lp(e){return e.split("-")[1]}function gD(e){return e==="x"?"y":"x"}function xD(e){return e==="y"?"height":"width"}const Mpe=new Set(["top","bottom"]);function ko(e){return Mpe.has(Il(e))?"y":"x"}function vD(e){return gD(ko(e))}function Ipe(e,t,n){n===void 0&&(n=!1);const r=Lp(e),i=vD(e),a=xD(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=$j(o)),[o,$j(o)]}function Lpe(e){const t=$j(e);return[C2(e),t,C2(t)]}function C2(e){return e.replace(/start|end/g,t=>Dpe[t])}const NF=["left","right"],SF=["right","left"],$pe=["top","bottom"],Fpe=["bottom","top"];function zpe(e,t,n){switch(e){case"top":case"bottom":return n?t?SF:NF:t?NF:SF;case"left":case"right":return t?$pe:Fpe;default:return[]}}function Bpe(e,t,n,r){const i=Lp(e);let a=zpe(Il(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(C2)))),a}function $j(e){return e.replace(/left|right|bottom|top/g,t=>Rpe[t])}function Upe(e){return{top:0,right:0,bottom:0,left:0,...e}}function $7(e){return typeof e!="number"?Upe(e):{top:e,right:e,bottom:e,left:e}}function Fj(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function CF(e,t,n){let{reference:r,floating:i}=e;const a=ko(t),o=vD(t),l=xD(o),c=Il(t),u=a==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Lp(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const qpe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=CF(u,r,c),h=r,m={},p=0;for(let g=0;g<l.length;g++){const{name:y,fn:v}=l[g],{x:w,y:b,data:j,reset:_}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,f=b??f,m={...m,[y]:{...m[y],...j}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:f}=CF(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function yv(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ml(t,e),p=$7(m),y=l[h?f==="floating"?"reference":"floating":f],v=Fj(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Fj(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(v.top-_.top+p.top)/j.y,bottom:(_.bottom-v.bottom+p.bottom)/j.y,left:(v.left-_.left+p.left)/j.x,right:(_.right-v.right+p.right)/j.x}}const Vpe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ml(e,t)||{};if(u==null)return{};const f=$7(d),h={x:n,y:r},m=vD(i),p=xD(m),g=await o.getDimensions(u),y=m==="y",v=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",j=a.reference[p]+a.reference[m]-h[m]-a.floating[p],_=h[m]-a.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[b]||a.floating[p]);const C=j/2-_/2,k=S/2-g[p]/2-1,A=yu(f[v],k),T=yu(f[w],k),E=A,R=S-g[p]-T,$=S/2-g[p]/2+C,O=S2(E,$,R),F=!c.arrow&&Lp(i)!=null&&$!==O&&a.reference[p]/2-($<E?A:T)-g[p]/2<0,z=F?$<E?$-E:$-R:0;return{[m]:h[m]+z,data:{[m]:O,centerOffset:$-O-z,...F&&{alignmentOffset:z}},reset:F}}}),Hpe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...y}=Ml(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=Il(i),w=ko(l),b=Il(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!g?[$j(l)]:Lpe(l)),N=p!=="none";!h&&N&&_.push(...Bpe(l,g,p,j));const S=[l,..._],C=await yv(t,y),k=[];let A=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&k.push(C[v]),f){const $=Ipe(i,o,j);k.push(C[$[0]],C[$[1]])}if(A=[...A,{placement:i,overflows:k}],!k.every($=>$<=0)){var T,E;const $=(((T=a.flip)==null?void 0:T.index)||0)+1,O=S[$];if(O&&(!(f==="alignment"?w!==ko(O):!1)||A.every(P=>ko(P.placement)===w?P.overflows[0]>0:!0)))return{data:{index:$,overflows:A},reset:{placement:O}};let F=(E=A.filter(z=>z.overflows[0]<=0).sort((z,P)=>z.overflows[1]-P.overflows[1])[0])==null?void 0:E.placement;if(!F)switch(m){case"bestFit":{var R;const z=(R=A.filter(P=>{if(N){const I=ko(P.placement);return I===w||I==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(I=>I>0).reduce((I,M)=>I+M,0)]).sort((P,I)=>P[1]-I[1])[0])==null?void 0:R[0];z&&(F=z);break}case"initialPlacement":F=l;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function EF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kF(e){return Ope.some(t=>e[t]>=0)}const Wpe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ml(e,t);switch(r){case"referenceHidden":{const a=await yv(t,{...i,elementContext:"reference"}),o=EF(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kF(o)}}}case"escaped":{const a=await yv(t,{...i,altBoundary:!0}),o=EF(a,n.floating);return{data:{escapedOffsets:o,escaped:kF(o)}}}default:return{}}}}},F7=new Set(["left","top"]);async function Gpe(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Il(n),l=Lp(n),c=ko(n)==="y",u=F7.has(o)?-1:1,d=a&&c?-1:1,f=Ml(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Kpe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Gpe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Ype=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:v,y:w}=y;return{x:v,y:w}}},...c}=Ml(e,t),u={x:n,y:r},d=await yv(t,c),f=ko(Il(i)),h=gD(f);let m=u[h],p=u[f];if(a){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=m+d[y],b=m-d[v];m=S2(w,m,b)}if(o){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=p+d[y],b=p-d[v];p=S2(w,p,b)}const g=l.fn({...t,[h]:m,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[f]:o}}}}}},Xpe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ml(e,t),d={x:n,y:r},f=ko(i),h=gD(f);let m=d[h],p=d[f];const g=Ml(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",j=a.reference[h]-a.floating[b]+y.mainAxis,_=a.reference[h]+a.reference[b]-y.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var v,w;const b=h==="y"?"width":"height",j=F7.has(Il(i)),_=a.reference[f]-a.floating[b]+(j&&((v=o.offset)==null?void 0:v[f])||0)+(j?0:y.crossAxis),N=a.reference[f]+a.reference[b]+(j?0:((w=o.offset)==null?void 0:w[f])||0)-(j?y.crossAxis:0);p<_?p=_:p>N&&(p=N)}return{[h]:m,[f]:p}}}},Qpe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ml(e,t),d=await yv(t,u),f=Il(i),h=Lp(i),m=ko(i)==="y",{width:p,height:g}=a.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,y=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,b=p-d.left-d.right,j=yu(g-d[y],w),_=yu(p-d[v],b),N=!t.middlewareData.shift;let S=j,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=w),N&&!h){const A=Si(d.left,0),T=Si(d.right,0),E=Si(d.top,0),R=Si(d.bottom,0);m?C=p-2*(A!==0||T!==0?A+T:Si(d.left,d.right)):S=g-2*(E!==0||R!==0?E+R:Si(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:S});const k=await o.getDimensions(l.floating);return p!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function d1(){return typeof window<"u"}function $p(e){return z7(e)?(e.nodeName||"").toLowerCase():"#document"}function Ri(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wo(e){var t;return(t=(z7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function z7(e){return d1()?e instanceof Node||e instanceof Ri(e).Node:!1}function no(e){return d1()?e instanceof Element||e instanceof Ri(e).Element:!1}function Bo(e){return d1()?e instanceof HTMLElement||e instanceof Ri(e).HTMLElement:!1}function AF(e){return!d1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ri(e).ShadowRoot}const Jpe=new Set(["inline","contents"]);function Wy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ro(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Jpe.has(i)}const Zpe=new Set(["table","td","th"]);function ege(e){return Zpe.has($p(e))}const tge=[":popover-open",":modal"];function f1(e){return tge.some(t=>{try{return e.matches(t)}catch{return!1}})}const nge=["transform","translate","scale","rotate","perspective"],rge=["transform","translate","scale","rotate","perspective","filter"],sge=["paint","layout","strict","content"];function yD(e){const t=bD(),n=no(e)?ro(e):e;return nge.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||rge.some(r=>(n.willChange||"").includes(r))||sge.some(r=>(n.contain||"").includes(r))}function ige(e){let t=bu(e);for(;Bo(t)&&!Bm(t);){if(yD(t))return t;if(f1(t))return null;t=bu(t)}return null}function bD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const age=new Set(["html","body","#document"]);function Bm(e){return age.has($p(e))}function ro(e){return Ri(e).getComputedStyle(e)}function h1(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bu(e){if($p(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AF(e)&&e.host||Wo(e);return AF(t)?t.host:t}function B7(e){const t=bu(e);return Bm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bo(t)&&Wy(t)?t:B7(t)}function bv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=B7(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Ri(i);if(a){const l=E2(o);return t.concat(o,o.visualViewport||[],Wy(i)?i:[],l&&n?bv(l):[])}return t.concat(i,bv(i,[],n))}function E2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U7(e){const t=ro(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Bo(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=Lj(n)!==a||Lj(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function wD(e){return no(e)?e:e.contextElement}function lm(e){const t=wD(e);if(!Bo(t))return Do(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=U7(t);let o=(a?Lj(n.width):n.width)/r,l=(a?Lj(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oge=Do(0);function q7(e){const t=Ri(e);return!bD()||!t.visualViewport?oge:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lge(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ri(e)?!1:t}function pf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=wD(e);let o=Do(1);t&&(r?no(r)&&(o=lm(r)):o=lm(e));const l=lge(a,n,r)?q7(a):Do(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=Ri(a),m=r&&no(r)?Ri(r):r;let p=h,g=E2(p);for(;g&&r&&m!==p;){const y=lm(g),v=g.getBoundingClientRect(),w=ro(g),b=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,j=v.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=j,p=Ri(g),g=E2(p)}}return Fj({width:d,height:f,x:c,y:u})}function m1(e,t){const n=h1(e).scrollLeft;return t?t.left+n:pf(Wo(e)).left+n}function V7(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-m1(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function cge(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Wo(r),l=t?f1(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Do(1);const d=Do(0),f=Bo(r);if((f||!f&&!a)&&(($p(r)!=="body"||Wy(o))&&(c=h1(r)),Bo(r))){const m=pf(r);u=lm(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!a?V7(o,c):Do(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function uge(e){return Array.from(e.getClientRects())}function dge(e){const t=Wo(e),n=h1(e),r=e.ownerDocument.body,i=Si(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Si(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+m1(e);const l=-n.scrollTop;return ro(r).direction==="rtl"&&(o+=Si(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const TF=25;function fge(e,t){const n=Ri(e),r=Wo(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=bD();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=m1(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(r.clientWidth-f.clientWidth-m);p<=TF&&(a-=p)}else u<=TF&&(a+=u);return{width:a,height:o,x:l,y:c}}const hge=new Set(["absolute","fixed"]);function mge(e,t){const n=pf(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Bo(e)?lm(e):Do(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function PF(e,t,n){let r;if(t==="viewport")r=fge(e,n);else if(t==="document")r=dge(Wo(e));else if(no(t))r=mge(t,n);else{const i=q7(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Fj(r)}function H7(e,t){const n=bu(e);return n===t||!no(n)||Bm(n)?!1:ro(n).position==="fixed"||H7(n,t)}function pge(e,t){const n=t.get(e);if(n)return n;let r=bv(e,[],!1).filter(l=>no(l)&&$p(l)!=="body"),i=null;const a=ro(e).position==="fixed";let o=a?bu(e):e;for(;no(o)&&!Bm(o);){const l=ro(o),c=yD(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&hge.has(i.position)||Wy(o)&&!c&&H7(e,o))?r=r.filter(d=>d!==o):i=l,o=bu(o)}return t.set(e,r),r}function gge(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?f1(t)?[]:pge(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=PF(t,d,i);return u.top=Si(f.top,u.top),u.right=yu(f.right,u.right),u.bottom=yu(f.bottom,u.bottom),u.left=Si(f.left,u.left),u},PF(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xge(e){const{width:t,height:n}=U7(e);return{width:t,height:n}}function vge(e,t,n){const r=Bo(t),i=Wo(t),a=n==="fixed",o=pf(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Do(0);function u(){c.x=m1(i)}if(r||!r&&!a)if(($p(t)!=="body"||Wy(i))&&(l=h1(t)),r){const m=pf(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&u();a&&!r&&i&&u();const d=i&&!r&&!a?V7(i,l):Do(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function tE(e){return ro(e).position==="static"}function OF(e,t){if(!Bo(e)||ro(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Wo(e)===n&&(n=n.ownerDocument.body),n}function W7(e,t){const n=Ri(e);if(f1(e))return n;if(!Bo(e)){let i=bu(e);for(;i&&!Bm(i);){if(no(i)&&!tE(i))return i;i=bu(i)}return n}let r=OF(e,t);for(;r&&ege(r)&&tE(r);)r=OF(r,t);return r&&Bm(r)&&tE(r)&&!yD(r)?n:r||ige(e)||n}const yge=async function(e){const t=this.getOffsetParent||W7,n=this.getDimensions,r=await n(e.floating);return{reference:vge(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bge(e){return ro(e).direction==="rtl"}const wge={convertOffsetParentRelativeRectToViewportRelativeRect:cge,getDocumentElement:Wo,getClippingRect:gge,getOffsetParent:W7,getElementRects:yge,getClientRects:uge,getDimensions:xge,getScale:lm,isElement:no,isRTL:bge};function G7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jge(e,t){let n=null,r;const i=Wo(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const p=g0(f),g=g0(i.clientWidth-(d+h)),y=g0(i.clientHeight-(f+m)),v=g0(d),b={rootMargin:-p+"px "+-g+"px "+-y+"px "+-v+"px",threshold:Si(0,yu(1,c))||1};let j=!0;function _(N){const S=N[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!G7(u,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(_,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return o(!0),a}function _ge(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=wD(e),d=i||a?[...u?bv(u):[],...bv(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const f=u&&l?jge(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let p,g=c?pf(e):null;c&&y();function y(){const v=pf(e);g&&!G7(g,v)&&n(),g=v,p=requestAnimationFrame(y)}return n(),()=>{var v;d.forEach(w=>{i&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const Nge=Kpe,Sge=Ype,Cge=Hpe,Ege=Qpe,kge=Wpe,RF=Vpe,Age=Xpe,Tge=(e,t,n)=>{const r=new Map,i={platform:wge,...n},a={...i.platform,_c:r};return qpe(e,t,{...i,platform:a})};var Pge=typeof document<"u",Oge=function(){},Mw=Pge?x.useLayoutEffect:Oge;function zj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zj(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!zj(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function K7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function DF(e,t){const n=K7(e);return Math.round(t*n)/n}function nE(e){const t=x.useRef(e);return Mw(()=>{t.current=e}),t}function Rge(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(r);zj(h,r)||m(r);const[p,g]=x.useState(null),[y,v]=x.useState(null),w=x.useCallback(P=>{P!==N.current&&(N.current=P,g(P))},[]),b=x.useCallback(P=>{P!==S.current&&(S.current=P,v(P))},[]),j=a||p,_=o||y,N=x.useRef(null),S=x.useRef(null),C=x.useRef(d),k=c!=null,A=nE(c),T=nE(i),E=nE(u),R=x.useCallback(()=>{if(!N.current||!S.current)return;const P={placement:t,strategy:n,middleware:h};T.current&&(P.platform=T.current),Tge(N.current,S.current,P).then(I=>{const M={...I,isPositioned:E.current!==!1};$.current&&!zj(C.current,M)&&(C.current=M,Rs.flushSync(()=>{f(M)}))})},[h,t,n,T,E]);Mw(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const $=x.useRef(!1);Mw(()=>($.current=!0,()=>{$.current=!1}),[]),Mw(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(A.current)return A.current(j,_,R);R()}},[j,_,R,A,k]);const O=x.useMemo(()=>({reference:N,floating:S,setReference:w,setFloating:b}),[w,b]),F=x.useMemo(()=>({reference:j,floating:_}),[j,_]),z=x.useMemo(()=>{const P={position:n,left:0,top:0};if(!F.floating)return P;const I=DF(F.floating,d.x),M=DF(F.floating,d.y);return l?{...P,transform:"translate("+I+"px, "+M+"px)",...K7(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:M}},[n,l,F.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:R,refs:O,elements:F,floatingStyles:z}),[d,R,O,F,z])}const Dge=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?RF({element:r.current,padding:i}).fn(n):{}:r?RF({element:r,padding:i}).fn(n):{}}}},Mge=(e,t)=>({...Nge(e),options:[e,t]}),Ige=(e,t)=>({...Sge(e),options:[e,t]}),Lge=(e,t)=>({...Age(e),options:[e,t]}),$ge=(e,t)=>({...Cge(e),options:[e,t]}),Fge=(e,t)=>({...Ege(e),options:[e,t]}),zge=(e,t)=>({...kge(e),options:[e,t]}),Bge=(e,t)=>({...Dge(e),options:[e,t]});var Uge="Arrow",Y7=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return s.jsx($e.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Y7.displayName=Uge;var qge=Y7;function Gy(e){const[t,n]=x.useState(void 0);return lr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var jD="Popper",[X7,Ru]=sr(jD),[Vge,Q7]=X7(jD),J7=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return s.jsx(Vge,{scope:t,anchor:r,onAnchorChange:i,children:n})};J7.displayName=jD;var Z7="PopperAnchor",eG=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=Q7(Z7,n),o=x.useRef(null),l=it(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),r?null:s.jsx($e.div,{...i,ref:l})});eG.displayName=Z7;var _D="PopperContent",[Hge,Wge]=X7(_D),tG=x.forwardRef((e,t)=>{var X,oe,Y,ne,ge,se;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,y=Q7(_D,n),[v,w]=x.useState(null),b=it(t,ce=>w(ce)),[j,_]=x.useState(null),N=Gy(j),S=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,k=r+(a!=="center"?"-"+a:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],E=T.length>0,R={padding:A,boundary:T.filter(Kge),altBoundary:E},{refs:$,floatingStyles:O,placement:F,isPositioned:z,middlewareData:P}=Rge({strategy:"fixed",placement:k,whileElementsMounted:(...ce)=>_ge(...ce,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[Mge({mainAxis:i+C,alignmentAxis:o}),c&&Ige({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Lge():void 0,...R}),c&&$ge({...R}),Fge({...R,apply:({elements:ce,rects:ve,availableWidth:te,availableHeight:ue})=>{const{width:ee,height:le}=ve.reference,Ie=ce.floating.style;Ie.setProperty("--radix-popper-available-width",`${te}px`),Ie.setProperty("--radix-popper-available-height",`${ue}px`),Ie.setProperty("--radix-popper-anchor-width",`${ee}px`),Ie.setProperty("--radix-popper-anchor-height",`${le}px`)}}),j&&Bge({element:j,padding:l}),Yge({arrowWidth:S,arrowHeight:C}),h&&zge({strategy:"referenceHidden",...R})]}),[I,M]=sG(F),U=zs(p);lr(()=>{z&&(U==null||U())},[z,U]);const D=(X=P.arrow)==null?void 0:X.x,L=(oe=P.arrow)==null?void 0:oe.y,V=((Y=P.arrow)==null?void 0:Y.centerOffset)!==0,[K,G]=x.useState();return lr(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:z?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(ne=P.transformOrigin)==null?void 0:ne.x,(ge=P.transformOrigin)==null?void 0:ge.y].join(" "),...((se=P.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Hge,{scope:n,placedSide:I,onArrowChange:_,arrowX:D,arrowY:L,shouldHideArrow:V,children:s.jsx($e.div,{"data-side":I,"data-align":M,...g,ref:b,style:{...g.style,animation:z?void 0:"none"}})})})});tG.displayName=_D;var nG="PopperArrow",Gge={top:"bottom",right:"left",bottom:"top",left:"right"},rG=x.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=Wge(nG,r),o=Gge[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(qge,{...i,ref:n,style:{...i.style,display:"block"}})})});rG.displayName=nG;function Kge(e){return e!==null}var Yge=e=>({name:"transformOrigin",options:e,fn(t){var y,v,w;const{placement:n,rects:r,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=sG(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=o?f:`${h}px`,g=`${-c}px`):u==="top"?(p=o?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(p=`${r.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:p,y:g}}}});function sG(e){const[t,n="center"]=e.split("-");return[t,n]}var p1=J7,Ky=eG,g1=tG,x1=rG,[v1]=sr("Tooltip",[Ru]),y1=Ru(),iG="TooltipProvider",Xge=700,k2="tooltip.open",[Qge,ND]=v1(iG),aG=e=>{const{__scopeTooltip:t,delayDuration:n=Xge,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(Qge,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};aG.displayName=iG;var wv="Tooltip",[Jge,b1]=v1(wv),oG=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=ND(wv,e.__scopeTooltip),u=y1(t),[d,f]=x.useState(null),h=xr(),m=x.useRef(0),p=o??c.disableHoverableContent,g=l??c.delayDuration,y=x.useRef(!1),[v,w]=Or({prop:r,defaultProp:i??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(k2))):c.onClose(),a==null||a(S)},caller:wv}),b=x.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),j=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,w(!0)},[w]),_=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),N=x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,w(!0),m.current=0},g)},[g,w]);return x.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(p1,{...u,children:s.jsx(Jge,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?N():j()},[c.isOpenDelayedRef,N,j]),onTriggerLeave:x.useCallback(()=>{p?_():(window.clearTimeout(m.current),m.current=0)},[_,p]),onOpen:j,onClose:_,disableHoverableContent:p,children:n})})};oG.displayName=wv;var A2="TooltipTrigger",lG=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=b1(A2,n),a=ND(A2,n),o=y1(n),l=x.useRef(null),c=it(t,l,i.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Ky,{asChild:!0,...o,children:s.jsx($e.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Te(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Te(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Te(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Te(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Te(e.onBlur,i.onClose),onClick:Te(e.onClick,i.onClose)})})});lG.displayName=A2;var Zge="TooltipPortal",[j_t,exe]=v1(Zge,{forceMount:void 0}),Um="TooltipContent",cG=x.forwardRef((e,t)=>{const n=exe(Um,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=b1(Um,e.__scopeTooltip);return s.jsx(vs,{present:r||o.open,children:o.disableHoverableContent?s.jsx(uG,{side:i,...a,ref:t}):s.jsx(txe,{side:i,...a,ref:t})})}),txe=x.forwardRef((e,t)=>{const n=b1(Um,e.__scopeTooltip),r=ND(Um,e.__scopeTooltip),i=x.useRef(null),a=it(t,i),[o,l]=x.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=x.useCallback(()=>{l(null),f(!1)},[f]),m=x.useCallback((p,g)=>{const y=p.currentTarget,v={x:p.clientX,y:p.clientY},w=axe(v,y.getBoundingClientRect()),b=oxe(v,w),j=lxe(g.getBoundingClientRect()),_=uxe([...b,...j]);l(_),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const p=y=>m(y,d),g=y=>m(y,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),x.useEffect(()=>{if(o){const p=g=>{const y=g.target,v={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!cxe(v,o);w?h():b&&(h(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,o,u,h]),s.jsx(uG,{...e,ref:a})}),[nxe,rxe]=v1(wv,{isInside:!1}),sxe=HW("TooltipContent"),uG=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=b1(Um,n),u=y1(n),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(k2,d),()=>document.removeEventListener(k2,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(If,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(g1,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(sxe,{children:r}),s.jsx(nxe,{scope:n,isInside:!0,children:s.jsx(Nhe,{id:c.contentId,role:"tooltip",children:i||r})})]})})});cG.displayName=Um;var dG="TooltipArrow",ixe=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=y1(n);return rxe(dG,n).isInside?null:s.jsx(x1,{...i,...r,ref:t})});ixe.displayName=dG;function axe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oxe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function lxe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function cxe(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function uxe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),dxe(t)}function dxe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var fxe=aG,hxe=oG,mxe=lG,fG=cG;const SD=fxe,Bj=hxe,Uj=mxe,jv=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(fG,{ref:r,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));jv.displayName=fG.displayName;var Fp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pxe={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},kc,lR,y9,gxe=(y9=class{constructor(){Ke(this,kc,pxe);Ke(this,lR,!1)}setTimeoutProvider(e){Fe(this,kc,e)}setTimeout(e,t){return J(this,kc).setTimeout(e,t)}clearTimeout(e){J(this,kc).clearTimeout(e)}setInterval(e,t){return J(this,kc).setInterval(e,t)}clearInterval(e){J(this,kc).clearInterval(e)}},kc=new WeakMap,lR=new WeakMap,y9),Sd=new gxe;function xxe(e){setTimeout(e,0)}var gf=typeof window>"u"||"Deno"in globalThis;function Es(){}function vxe(e,t){return typeof e=="function"?e(t):e}function T2(e){return typeof e=="number"&&e>=0&&e!==1/0}function hG(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lu(e,t){return typeof e=="function"?e(t):e}function ea(e,t){return typeof e=="function"?e(t):e}function MF(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==CD(o,t.options))return!1}else if(!_v(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function IF(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(xf(t.options.mutationKey)!==xf(a))return!1}else if(!_v(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function CD(e,t){return((t==null?void 0:t.queryKeyHashFn)||xf)(e)}function xf(e){return JSON.stringify(e,(t,n)=>P2(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function _v(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>_v(e[n],t[n])):!1}var yxe=Object.prototype.hasOwnProperty;function mG(e,t){if(e===t)return e;const n=LF(e)&&LF(t);if(!n&&!(P2(e)&&P2(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=e[d],h=t[d];if(f===h){l[d]=f,(n?u<i:yxe.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=mG(f,h);l[d]=m,m===f&&c++}return i===o&&c===i?e:l}function qj(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function LF(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function P2(e){if(!$F(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!$F(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $F(e){return Object.prototype.toString.call(e)==="[object Object]"}function bxe(e){return new Promise(t=>{Sd.setTimeout(t,e)})}function O2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?mG(e,t):t}function wxe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function jxe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ED=Symbol();function pG(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ED?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function gG(e,t){return typeof e=="function"?e(...t):!!e}var Md,Ac,jm,b9,_xe=(b9=class extends Fp{constructor(){super();Ke(this,Md);Ke(this,Ac);Ke(this,jm);Fe(this,jm,t=>{if(!gf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,Ac)||this.setEventListener(J(this,jm))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Ac))==null||t.call(this),Fe(this,Ac,void 0))}setEventListener(t){var n;Fe(this,jm,t),(n=J(this,Ac))==null||n.call(this),Fe(this,Ac,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){J(this,Md)!==t&&(Fe(this,Md,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof J(this,Md)=="boolean"?J(this,Md):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Md=new WeakMap,Ac=new WeakMap,jm=new WeakMap,b9),kD=new _xe;function R2(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var Nxe=xxe;function Sxe(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=Nxe;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var kr=Sxe(),_m,Tc,Nm,w9,Cxe=(w9=class extends Fp{constructor(){super();Ke(this,_m,!0);Ke(this,Tc);Ke(this,Nm);Fe(this,Nm,t=>{if(!gf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,Tc)||this.setEventListener(J(this,Nm))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Tc))==null||t.call(this),Fe(this,Tc,void 0))}setEventListener(t){var n;Fe(this,Nm,t),(n=J(this,Tc))==null||n.call(this),Fe(this,Tc,t(this.setOnline.bind(this)))}setOnline(t){J(this,_m)!==t&&(Fe(this,_m,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return J(this,_m)}},_m=new WeakMap,Tc=new WeakMap,Nm=new WeakMap,w9),Vj=new Cxe;function Exe(e){return Math.min(1e3*2**e,3e4)}function xG(e){return(e??"online")==="online"?Vj.isOnline():!0}var D2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function vG(e){let t=!1,n=0,r;const i=R2(),a=()=>i.status!=="pending",o=g=>{var y;if(!a()){const v=new D2(g);h(v),(y=e.onCancel)==null||y.call(e,v)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>kD.isFocused()&&(e.networkMode==="always"||Vj.isOnline())&&e.canRun(),d=()=>xG(e.networkMode)&&e.canRun(),f=g=>{a()||(r==null||r(),i.resolve(g))},h=g=>{a()||(r==null||r(),i.reject(g))},m=()=>new Promise(g=>{var y;r=v=>{(a()||u())&&g(v)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;r=void 0,a()||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(a())return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var N;if(a())return;const w=e.retry??(gf?0:3),b=e.retryDelay??Exe,j=typeof b=="function"?b(n,v):b,_=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(t||!_){h(v);return}n++,(N=e.onFail)==null||N.call(e,n,v),bxe(j).then(()=>u()?void 0:m()).then(()=>{t?h(v):p()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),i)}}var Id,j9,yG=(j9=class{constructor(){Ke(this,Id)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T2(this.gcTime)&&Fe(this,Id,Sd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gf?1/0:5*60*1e3))}clearGcTimeout(){J(this,Id)&&(Sd.clearTimeout(J(this,Id)),Fe(this,Id,void 0))}},Id=new WeakMap,j9),Ld,Sm,Zi,$d,Ir,Ry,Fd,Ia,nl,_9,kxe=(_9=class extends yG{constructor(t){super();Ke(this,Ia);Ke(this,Ld);Ke(this,Sm);Ke(this,Zi);Ke(this,$d);Ke(this,Ir);Ke(this,Ry);Ke(this,Fd);Fe(this,Fd,!1),Fe(this,Ry,t.defaultOptions),this.setOptions(t.options),this.observers=[],Fe(this,$d,t.client),Fe(this,Zi,J(this,$d).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Fe(this,Ld,FF(this.options)),this.state=t.state??J(this,Ld),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=J(this,Ir))==null?void 0:t.promise}setOptions(t){if(this.options={...J(this,Ry),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=FF(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Fe(this,Ld,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,Zi).remove(this)}setData(t,n){const r=O2(this.state.data,t,this.options);return Tt(this,Ia,nl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Tt(this,Ia,nl).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=J(this,Ir))==null?void 0:r.promise;return(i=J(this,Ir))==null||i.cancel(t),n?n.then(Es).catch(Es):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,Ld))}isActive(){return this.observers.some(t=>ea(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ED||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>lu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hG(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,Ir))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,Ir))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),J(this,Zi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(J(this,Ir)&&(J(this,Fd)?J(this,Ir).cancel({revert:!0}):J(this,Ir).cancelRetry()),this.scheduleGc()),J(this,Zi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,Ia,nl).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,h,m,p,g,y,v,w,b;if(this.state.fetchStatus!=="idle"&&((c=J(this,Ir))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,Ir))return J(this,Ir).continueRetry(),J(this,Ir).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(_=>_.options.queryFn);j&&this.setOptions(j.options)}const r=new AbortController,i=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Fe(this,Fd,!0),r.signal)})},a=()=>{const j=pG(this.options,n),N=(()=>{const S={client:J(this,$d),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return Fe(this,Fd,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:J(this,$d),state:this.state,fetchFn:a};return i(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Fe(this,Sm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Tt(this,Ia,nl).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Fe(this,Ir,vG({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof D2&&j.revert&&this.setState({...J(this,Sm),fetchStatus:"idle"}),r.abort()},onFail:(j,_)=>{Tt(this,Ia,nl).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{Tt(this,Ia,nl).call(this,{type:"pause"})},onContinue:()=>{Tt(this,Ia,nl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await J(this,Ir).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=J(this,Zi).config).onSuccess)==null||m.call(h,j,this),(g=(p=J(this,Zi).config).onSettled)==null||g.call(p,j,this.state.error,this),j}catch(j){if(j instanceof D2){if(j.silent)return J(this,Ir).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Tt(this,Ia,nl).call(this,{type:"error",error:j}),(v=(y=J(this,Zi).config).onError)==null||v.call(y,j,this),(b=(w=J(this,Zi).config).onSettled)==null||b.call(w,this.state.data,j,this),j}finally{this.scheduleGc()}}},Ld=new WeakMap,Sm=new WeakMap,Zi=new WeakMap,$d=new WeakMap,Ir=new WeakMap,Ry=new WeakMap,Fd=new WeakMap,Ia=new WeakSet,nl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bG(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Fe(this,Sm,t.manual?i:void 0),i;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),kr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),J(this,Zi).notify({query:this,type:"updated",action:t})})},_9);function bG(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xG(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function FF(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Gs,Bt,Dy,js,zd,Cm,cl,Pc,My,Em,km,Bd,Ud,Oc,Am,an,cx,M2,I2,L2,$2,F2,z2,B2,wG,N9,Axe=(N9=class extends Fp{constructor(t,n){super();Ke(this,an);Ke(this,Gs);Ke(this,Bt);Ke(this,Dy);Ke(this,js);Ke(this,zd);Ke(this,Cm);Ke(this,cl);Ke(this,Pc);Ke(this,My);Ke(this,Em);Ke(this,km);Ke(this,Bd);Ke(this,Ud);Ke(this,Oc);Ke(this,Am,new Set);this.options=n,Fe(this,Gs,t),Fe(this,Pc,null),Fe(this,cl,R2()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(J(this,Bt).addObserver(this),zF(J(this,Bt),this.options)?Tt(this,an,cx).call(this):this.updateResult(),Tt(this,an,$2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U2(J(this,Bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U2(J(this,Bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Tt(this,an,F2).call(this),Tt(this,an,z2).call(this),J(this,Bt).removeObserver(this)}setOptions(t){const n=this.options,r=J(this,Bt);if(this.options=J(this,Gs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ea(this.options.enabled,J(this,Bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Tt(this,an,B2).call(this),J(this,Bt).setOptions(this.options),n._defaulted&&!qj(this.options,n)&&J(this,Gs).getQueryCache().notify({type:"observerOptionsUpdated",query:J(this,Bt),observer:this});const i=this.hasListeners();i&&BF(J(this,Bt),r,this.options,n)&&Tt(this,an,cx).call(this),this.updateResult(),i&&(J(this,Bt)!==r||ea(this.options.enabled,J(this,Bt))!==ea(n.enabled,J(this,Bt))||lu(this.options.staleTime,J(this,Bt))!==lu(n.staleTime,J(this,Bt)))&&Tt(this,an,M2).call(this);const a=Tt(this,an,I2).call(this);i&&(J(this,Bt)!==r||ea(this.options.enabled,J(this,Bt))!==ea(n.enabled,J(this,Bt))||a!==J(this,Oc))&&Tt(this,an,L2).call(this,a)}getOptimisticResult(t){const n=J(this,Gs).getQueryCache().build(J(this,Gs),t),r=this.createResult(n,t);return Pxe(this,r)&&(Fe(this,js,r),Fe(this,Cm,this.options),Fe(this,zd,J(this,Bt).state)),r}getCurrentResult(){return J(this,js)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&J(this,cl).status==="pending"&&J(this,cl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,i))})}trackProp(t){J(this,Am).add(t)}getCurrentQuery(){return J(this,Bt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=J(this,Gs).defaultQueryOptions(t),r=J(this,Gs).getQueryCache().build(J(this,Gs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Tt(this,an,cx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),J(this,js)))}createResult(t,n){var k;const r=J(this,Bt),i=this.options,a=J(this,js),o=J(this,zd),l=J(this,Cm),u=t!==r?t.state:J(this,Dy),{state:d}=t;let f={...d},h=!1,m;if(n._optimisticResults){const A=this.hasListeners(),T=!A&&zF(t,n),E=A&&BF(t,r,n,i);(T||E)&&(f={...f,...bG(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:y}=f;m=f.data;let v=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let A;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(A=a.data,v=!0):A=typeof n.placeholderData=="function"?n.placeholderData((k=J(this,km))==null?void 0:k.state.data,J(this,km)):n.placeholderData,A!==void 0&&(y="success",m=O2(a==null?void 0:a.data,A,n),h=!0)}if(n.select&&m!==void 0&&!v)if(a&&m===(o==null?void 0:o.data)&&n.select===J(this,My))m=J(this,Em);else try{Fe(this,My,n.select),m=n.select(m),m=O2(a==null?void 0:a.data,m,n),Fe(this,Em,m),Fe(this,Pc,null)}catch(A){Fe(this,Pc,A)}J(this,Pc)&&(p=J(this,Pc),m=J(this,Em),g=Date.now(),y="error");const w=f.fetchStatus==="fetching",b=y==="pending",j=y==="error",_=b&&w,N=m!==void 0,C={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:j,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&N,isStale:AD(t,n),refetch:this.refetch,promise:J(this,cl),isEnabled:ea(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=R=>{C.status==="error"?R.reject(C.error):C.data!==void 0&&R.resolve(C.data)},T=()=>{const R=Fe(this,cl,C.promise=R2());A(R)},E=J(this,cl);switch(E.status){case"pending":t.queryHash===r.queryHash&&A(E);break;case"fulfilled":(C.status==="error"||C.data!==E.value)&&T();break;case"rejected":(C.status!=="error"||C.error!==E.reason)&&T();break}}return C}updateResult(){const t=J(this,js),n=this.createResult(J(this,Bt),this.options);if(Fe(this,zd,J(this,Bt).state),Fe(this,Cm,this.options),J(this,zd).data!==void 0&&Fe(this,km,J(this,Bt)),qj(n,t))return;Fe(this,js,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!J(this,Am).size)return!0;const o=new Set(a??J(this,Am));return this.options.throwOnError&&o.add("error"),Object.keys(J(this,js)).some(l=>{const c=l;return J(this,js)[c]!==t[c]&&o.has(c)})};Tt(this,an,wG).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Tt(this,an,$2).call(this)}},Gs=new WeakMap,Bt=new WeakMap,Dy=new WeakMap,js=new WeakMap,zd=new WeakMap,Cm=new WeakMap,cl=new WeakMap,Pc=new WeakMap,My=new WeakMap,Em=new WeakMap,km=new WeakMap,Bd=new WeakMap,Ud=new WeakMap,Oc=new WeakMap,Am=new WeakMap,an=new WeakSet,cx=function(t){Tt(this,an,B2).call(this);let n=J(this,Bt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Es)),n},M2=function(){Tt(this,an,F2).call(this);const t=lu(this.options.staleTime,J(this,Bt));if(gf||J(this,js).isStale||!T2(t))return;const r=hG(J(this,js).dataUpdatedAt,t)+1;Fe(this,Bd,Sd.setTimeout(()=>{J(this,js).isStale||this.updateResult()},r))},I2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(J(this,Bt)):this.options.refetchInterval)??!1},L2=function(t){Tt(this,an,z2).call(this),Fe(this,Oc,t),!(gf||ea(this.options.enabled,J(this,Bt))===!1||!T2(J(this,Oc))||J(this,Oc)===0)&&Fe(this,Ud,Sd.setInterval(()=>{(this.options.refetchIntervalInBackground||kD.isFocused())&&Tt(this,an,cx).call(this)},J(this,Oc)))},$2=function(){Tt(this,an,M2).call(this),Tt(this,an,L2).call(this,Tt(this,an,I2).call(this))},F2=function(){J(this,Bd)&&(Sd.clearTimeout(J(this,Bd)),Fe(this,Bd,void 0))},z2=function(){J(this,Ud)&&(Sd.clearInterval(J(this,Ud)),Fe(this,Ud,void 0))},B2=function(){const t=J(this,Gs).getQueryCache().build(J(this,Gs),this.options);if(t===J(this,Bt))return;const n=J(this,Bt);Fe(this,Bt,t),Fe(this,Dy,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},wG=function(t){kr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(J(this,js))}),J(this,Gs).getQueryCache().notify({query:J(this,Bt),type:"observerResultsUpdated"})})},N9);function Txe(e,t){return ea(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function zF(e,t){return Txe(e,t)||e.state.data!==void 0&&U2(e,t,t.refetchOnMount)}function U2(e,t,n){if(ea(t.enabled,e)!==!1&&lu(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&AD(e,t)}return!1}function BF(e,t,n,r){return(e!==t||ea(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&AD(e,n)}function AD(e,t){return ea(t.enabled,e)!==!1&&e.isStaleByTime(lu(t.staleTime,e))}function Pxe(e,t){return!qj(e.getCurrentResult(),t)}function UF(e){return{onFetch:(t,n)=>{var d,f,h,m,p;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=pG(t.options,t.fetchOptions),w=async(b,j,_)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return y(T),T})(),C=await v(S),{maxPages:k}=t.options,A=_?jxe:wxe;return{pages:A(b.pages,C,k),pageParams:A(b.pageParams,j,k)}};if(i&&a.length){const b=i==="backward",j=b?Oxe:qF,_={pages:a,pageParams:o},N=j(r,_);l=await w(_,N,b)}else{const b=e??a.length;do{const j=c===0?o[0]??r.initialPageParam:qF(r,l);if(c>0&&j==null)break;l=await w(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function qF(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Oxe(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Iy,bo,_s,qd,wo,pc,S9,Rxe=(S9=class extends yG{constructor(t){super();Ke(this,wo);Ke(this,Iy);Ke(this,bo);Ke(this,_s);Ke(this,qd);Fe(this,Iy,t.client),this.mutationId=t.mutationId,Fe(this,_s,t.mutationCache),Fe(this,bo,[]),this.state=t.state||jG(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){J(this,bo).includes(t)||(J(this,bo).push(t),this.clearGcTimeout(),J(this,_s).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Fe(this,bo,J(this,bo).filter(n=>n!==t)),this.scheduleGc(),J(this,_s).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){J(this,bo).length||(this.state.status==="pending"?this.scheduleGc():J(this,_s).remove(this))}continue(){var t;return((t=J(this,qd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,p,g,y,v,w,b,j,_,N,S,C,k;const n=()=>{Tt(this,wo,pc).call(this,{type:"continue"})},r={client:J(this,Iy),meta:this.options.meta,mutationKey:this.options.mutationKey};Fe(this,qd,vG({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,T)=>{Tt(this,wo,pc).call(this,{type:"failed",failureCount:A,error:T})},onPause:()=>{Tt(this,wo,pc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,_s).canRun(this)}));const i=this.state.status==="pending",a=!J(this,qd).canStart();try{if(i)n();else{Tt(this,wo,pc).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=J(this,_s).config).onMutate)==null?void 0:l.call(o,t,this,r));const T=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));T!==this.state.context&&Tt(this,wo,pc).call(this,{type:"pending",context:T,variables:t,isPaused:a})}const A=await J(this,qd).start();return await((f=(d=J(this,_s).config).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,this,r)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,A,t,this.state.context,r)),await((g=(p=J(this,_s).config).onSettled)==null?void 0:g.call(p,A,null,this.state.variables,this.state.context,this,r)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,A,null,t,this.state.context,r)),Tt(this,wo,pc).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(w=J(this,_s).config).onError)==null?void 0:b.call(w,A,t,this.state.context,this,r)),await((_=(j=this.options).onError)==null?void 0:_.call(j,A,t,this.state.context,r)),await((S=(N=J(this,_s).config).onSettled)==null?void 0:S.call(N,void 0,A,this.state.variables,this.state.context,this,r)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,A,t,this.state.context,r)),A}finally{Tt(this,wo,pc).call(this,{type:"error",error:A})}}finally{J(this,_s).runNext(this)}}},Iy=new WeakMap,bo=new WeakMap,_s=new WeakMap,qd=new WeakMap,wo=new WeakSet,pc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kr.batch(()=>{J(this,bo).forEach(r=>{r.onMutationUpdate(t)}),J(this,_s).notify({mutation:this,type:"updated",action:t})})},S9);function jG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ul,La,Ly,C9,Dxe=(C9=class extends Fp{constructor(t={}){super();Ke(this,ul);Ke(this,La);Ke(this,Ly);this.config=t,Fe(this,ul,new Set),Fe(this,La,new Map),Fe(this,Ly,0)}build(t,n,r){const i=new Rxe({client:t,mutationCache:this,mutationId:++Kb(this,Ly)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){J(this,ul).add(t);const n=x0(t);if(typeof n=="string"){const r=J(this,La).get(n);r?r.push(t):J(this,La).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(J(this,ul).delete(t)){const n=x0(t);if(typeof n=="string"){const r=J(this,La).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&J(this,La).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=x0(t);if(typeof n=="string"){const r=J(this,La).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=x0(t);if(typeof n=="string"){const i=(r=J(this,La).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kr.batch(()=>{J(this,ul).forEach(t=>{this.notify({type:"removed",mutation:t})}),J(this,ul).clear(),J(this,La).clear()})}getAll(){return Array.from(J(this,ul))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>IF(n,r))}findAll(t={}){return this.getAll().filter(n=>IF(t,n))}notify(t){kr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return kr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Es))))}},ul=new WeakMap,La=new WeakMap,Ly=new WeakMap,C9);function x0(e){var t;return(t=e.options.scope)==null?void 0:t.id}var dl,Rc,Ks,fl,kl,Iw,q2,E9,Mxe=(E9=class extends Fp{constructor(n,r){super();Ke(this,kl);Ke(this,dl);Ke(this,Rc);Ke(this,Ks);Ke(this,fl);Fe(this,dl,n),this.setOptions(r),this.bindMethods(),Tt(this,kl,Iw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=J(this,dl).defaultMutationOptions(n),qj(this.options,r)||J(this,dl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:J(this,Ks),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&xf(r.mutationKey)!==xf(this.options.mutationKey)?this.reset():((i=J(this,Ks))==null?void 0:i.state.status)==="pending"&&J(this,Ks).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=J(this,Ks))==null||n.removeObserver(this)}onMutationUpdate(n){Tt(this,kl,Iw).call(this),Tt(this,kl,q2).call(this,n)}getCurrentResult(){return J(this,Rc)}reset(){var n;(n=J(this,Ks))==null||n.removeObserver(this),Fe(this,Ks,void 0),Tt(this,kl,Iw).call(this),Tt(this,kl,q2).call(this)}mutate(n,r){var i;return Fe(this,fl,r),(i=J(this,Ks))==null||i.removeObserver(this),Fe(this,Ks,J(this,dl).getMutationCache().build(J(this,dl),this.options)),J(this,Ks).addObserver(this),J(this,Ks).execute(n)}},dl=new WeakMap,Rc=new WeakMap,Ks=new WeakMap,fl=new WeakMap,kl=new WeakSet,Iw=function(){var r;const n=((r=J(this,Ks))==null?void 0:r.state)??jG();Fe(this,Rc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},q2=function(n){kr.batch(()=>{var r,i,a,o,l,c,u,d;if(J(this,fl)&&this.hasListeners()){const f=J(this,Rc).variables,h=J(this,Rc).context,m={client:J(this,dl),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=J(this,fl)).onSuccess)==null||i.call(r,n.data,f,h,m),(o=(a=J(this,fl)).onSettled)==null||o.call(a,n.data,null,f,h,m)):(n==null?void 0:n.type)==="error"&&((c=(l=J(this,fl)).onError)==null||c.call(l,n.error,f,h,m),(d=(u=J(this,fl)).onSettled)==null||d.call(u,void 0,n.error,f,h,m))}this.listeners.forEach(f=>{f(J(this,Rc))})})},E9),jo,k9,Ixe=(k9=class extends Fp{constructor(t={}){super();Ke(this,jo);this.config=t,Fe(this,jo,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??CD(i,n);let o=this.get(a);return o||(o=new kxe({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){J(this,jo).has(t.queryHash)||(J(this,jo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=J(this,jo).get(t.queryHash);n&&(t.destroy(),n===t&&J(this,jo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return J(this,jo).get(t)}getAll(){return[...J(this,jo).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>MF(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>MF(t,r)):n}notify(t){kr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},jo=new WeakMap,k9),Zn,Dc,Mc,Tm,Pm,Ic,Om,Rm,A9,Lxe=(A9=class{constructor(e={}){Ke(this,Zn);Ke(this,Dc);Ke(this,Mc);Ke(this,Tm);Ke(this,Pm);Ke(this,Ic);Ke(this,Om);Ke(this,Rm);Fe(this,Zn,e.queryCache||new Ixe),Fe(this,Dc,e.mutationCache||new Dxe),Fe(this,Mc,e.defaultOptions||{}),Fe(this,Tm,new Map),Fe(this,Pm,new Map),Fe(this,Ic,0)}mount(){Kb(this,Ic)._++,J(this,Ic)===1&&(Fe(this,Om,kD.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Zn).onFocus())})),Fe(this,Rm,Vj.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Zn).onOnline())})))}unmount(){var e,t;Kb(this,Ic)._--,J(this,Ic)===0&&((e=J(this,Om))==null||e.call(this),Fe(this,Om,void 0),(t=J(this,Rm))==null||t.call(this),Fe(this,Rm,void 0))}isFetching(e){return J(this,Zn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,Dc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,Zn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=J(this,Zn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(lu(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return J(this,Zn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=J(this,Zn).get(r.queryHash),a=i==null?void 0:i.state.data,o=vxe(t,a);if(o!==void 0)return J(this,Zn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return kr.batch(()=>J(this,Zn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,Zn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=J(this,Zn);kr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=J(this,Zn);return kr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=kr.batch(()=>J(this,Zn).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Es).catch(Es)}invalidateQueries(e,t={}){return kr.batch(()=>(J(this,Zn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=kr.batch(()=>J(this,Zn).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Es)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Es)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=J(this,Zn).build(this,t);return n.isStaleByTime(lu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Es).catch(Es)}fetchInfiniteQuery(e){return e.behavior=UF(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Es).catch(Es)}ensureInfiniteQueryData(e){return e.behavior=UF(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vj.isOnline()?J(this,Dc).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,Zn)}getMutationCache(){return J(this,Dc)}getDefaultOptions(){return J(this,Mc)}setDefaultOptions(e){Fe(this,Mc,e)}setQueryDefaults(e,t){J(this,Tm).set(xf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,Tm).values()],n={};return t.forEach(r=>{_v(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){J(this,Pm).set(xf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,Pm).values()],n={};return t.forEach(r=>{_v(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...J(this,Mc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=CD(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ED&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,Mc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,Zn).clear(),J(this,Dc).clear()}},Zn=new WeakMap,Dc=new WeakMap,Mc=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,Ic=new WeakMap,Om=new WeakMap,Rm=new WeakMap,A9),_G=x.createContext(void 0),TD=e=>{const t=x.useContext(_G);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$xe=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(_G.Provider,{value:e,children:t})),NG=x.createContext(!1),Fxe=()=>x.useContext(NG);NG.Provider;function zxe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Bxe=x.createContext(zxe()),Uxe=()=>x.useContext(Bxe),qxe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Vxe=e=>{x.useEffect(()=>{e.clearReset()},[e])},Hxe=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||gG(n,[e.error,r])),Wxe=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Gxe=(e,t)=>e.isLoading&&e.isFetching&&!t,Kxe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,VF=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Yxe(e,t,n){var f,h,m,p,g;const r=Fxe(),i=Uxe(),a=TD(),o=a.defaultQueryOptions(e);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",Wxe(o),qxe(o,i),Vxe(i);const l=!a.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(y=>{const v=d?c.subscribe(kr.batchCalls(y)):Es;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),Kxe(o,u))throw VF(o,c,i);if(Hxe({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((p=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,u),o.experimental_prefetchInRender&&!gf&&Gxe(u,r)){const y=l?VF(o,c,i):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(Es).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Xxe(e,t){return Yxe(e,Axe)}function Qxe(e,t){const n=TD(),[r]=x.useState(()=>new Mxe(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const i=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(kr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=x.useCallback((o,l)=>{r.mutate(o,l).catch(Es)},[r]);if(i.error&&gG(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(this,arguments)}var Bc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bc||(Bc={}));const HF="popstate";function Jxe(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return V2("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hj(i)}return eve(t,n,null,e)}function or(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function SG(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zxe(){return Math.random().toString(36).substr(2,8)}function WF(e,t){return{usr:e.state,key:e.key,idx:t}}function V2(e,t,n,r){return n===void 0&&(n=null),Nv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zp(t):t,{state:n,key:t&&t.key||r||Zxe()})}function Hj(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function zp(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function eve(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=Bc.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Nv({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Bc.Pop;let y=d(),v=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:v})}function h(y,v){l=Bc.Push;let w=V2(g.location,y,v);u=d()+1;let b=WF(w,u),j=g.createHref(w);try{o.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(j)}a&&c&&c({action:l,location:g.location,delta:1})}function m(y,v){l=Bc.Replace;let w=V2(g.location,y,v);u=d();let b=WF(w,u),j=g.createHref(w);o.replaceState(b,"",j),a&&c&&c({action:l,location:g.location,delta:0})}function p(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:Hj(y);return w=w.replace(/ $/,"%20"),or(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(HF,f),c=y,()=>{i.removeEventListener(HF,f),c=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let v=p(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(y){return o.go(y)}};return g}var GF;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(GF||(GF={}));function tve(e,t,n){return n===void 0&&(n="/"),nve(e,t,n)}function nve(e,t,n,r){let i=typeof t=="string"?zp(t):t,a=PD(i.pathname||"/",n);if(a==null)return null;let o=CG(e);rve(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=pve(a);l=fve(o[c],u)}return l}function CG(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(or(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=cu([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(or(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),CG(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:uve(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of EG(a.path))i(a,o,c)}),t}function EG(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=EG(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function rve(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dve(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sve=/^:[\w-]+$/,ive=3,ave=2,ove=1,lve=10,cve=-2,KF=e=>e==="*";function uve(e,t){let n=e.split("/"),r=n.length;return n.some(KF)&&(r+=cve),t&&(r+=ave),n.filter(i=>!KF(i)).reduce((i,a)=>i+(sve.test(a)?ive:a===""?ove:lve),r)}function dve(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function fve(e,t,n){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=hve({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:cu([a,f.pathname]),pathnameBase:yve(cu([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=cu([a,f.pathnameBase]))}return o}function hve(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mve(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function mve(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),SG(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function pve(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return SG(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function PD(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gve(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?zp(e):e;return{pathname:n?n.startsWith("/")?n:xve(n,t):t,search:bve(r),hash:wve(i)}}function xve(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rE(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vve(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function OD(e,t){let n=vve(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RD(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=zp(e):(i=Nv({},e),or(!i.pathname||!i.pathname.includes("?"),rE("?","pathname","search",i)),or(!i.pathname||!i.pathname.includes("#"),rE("#","pathname","hash",i)),or(!i.search||!i.search.includes("#"),rE("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=gve(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const cu=e=>e.join("/").replace(/\/\/+/g,"/"),yve=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bve=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wve=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jve(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kG=["post","put","patch","delete"];new Set(kG);const _ve=["get",...kG];new Set(_ve);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(this,arguments)}const DD=x.createContext(null),Nve=x.createContext(null),Du=x.createContext(null),w1=x.createContext(null),Go=x.createContext({outlet:null,matches:[],isDataRoute:!1}),AG=x.createContext(null);function Sve(e,t){let{relative:n}=t===void 0?{}:t;Bp()||or(!1);let{basename:r,navigator:i}=x.useContext(Du),{hash:a,pathname:o,search:l}=PG(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:cu([r,o])),i.createHref({pathname:c,search:l,hash:a})}function Bp(){return x.useContext(w1)!=null}function qi(){return Bp()||or(!1),x.useContext(w1).location}function TG(e){x.useContext(Du).static||x.useLayoutEffect(e)}function It(){let{isDataRoute:e}=x.useContext(Go);return e?zve():Cve()}function Cve(){Bp()||or(!1);let e=x.useContext(DD),{basename:t,future:n,navigator:r}=x.useContext(Du),{matches:i}=x.useContext(Go),{pathname:a}=qi(),o=JSON.stringify(OD(i,n.v7_relativeSplatPath)),l=x.useRef(!1);return TG(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=RD(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:cu([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,a,e])}const Eve=x.createContext(null);function kve(e){let t=x.useContext(Go).outlet;return t&&x.createElement(Eve.Provider,{value:e},t)}function Nt(){let{matches:e}=x.useContext(Go),t=e[e.length-1];return t?t.params:{}}function PG(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Du),{matches:i}=x.useContext(Go),{pathname:a}=qi(),o=JSON.stringify(OD(i,r.v7_relativeSplatPath));return x.useMemo(()=>RD(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function Ave(e,t){return Tve(e,t)}function Tve(e,t,n,r){Bp()||or(!1);let{navigator:i}=x.useContext(Du),{matches:a}=x.useContext(Go),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=qi(),d;if(t){var f;let y=typeof t=="string"?zp(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||or(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=tve(e,{pathname:m}),g=Mve(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:cu([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:cu([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&g?x.createElement(w1.Provider,{value:{location:Sv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bc.Pop}},g):g}function Pve(){let e=Fve(),t=jve(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const Ove=x.createElement(Pve,null);class Rve extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Go.Provider,{value:this.props.routeContext},x.createElement(AG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dve(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(DD);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Go.Provider,{value:t},r)}function Mve(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||or(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,p=!1,g=null,y=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||Ove,c&&(u<0&&h===0?(Bve("route-fallback"),p=!0,y=null):u===h&&(p=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),w=()=>{let b;return m?b=g:p?b=y:f.route.Component?b=x.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,x.createElement(Dve,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Rve,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var OG=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(OG||{}),RG=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(RG||{});function Ive(e){let t=x.useContext(DD);return t||or(!1),t}function Lve(e){let t=x.useContext(Nve);return t||or(!1),t}function $ve(e){let t=x.useContext(Go);return t||or(!1),t}function DG(e){let t=$ve(),n=t.matches[t.matches.length-1];return n.route.id||or(!1),n.route.id}function Fve(){var e;let t=x.useContext(AG),n=Lve(),r=DG();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function zve(){let{router:e}=Ive(OG.UseNavigateStable),t=DG(RG.UseNavigateStable),n=x.useRef(!1);return TG(()=>{n.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Sv({fromRouteId:t},a)))},[e,t])}const YF={};function Bve(e,t,n){YF[e]||(YF[e]=!0)}function Uve(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qr(e){let{to:t,replace:n,state:r,relative:i}=e;Bp()||or(!1);let{future:a,static:o}=x.useContext(Du),{matches:l}=x.useContext(Go),{pathname:c}=qi(),u=It(),d=RD(t,OD(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function H2(e){return kve(e.context)}function Ve(e){or(!1)}function qve(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Bc.Pop,navigator:a,static:o=!1,future:l}=e;Bp()&&or(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:a,static:o,future:Sv({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=zp(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=r,g=x.useMemo(()=>{let y=PD(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:p},navigationType:i}},[c,d,f,h,m,p,i]);return g==null?null:x.createElement(Du.Provider,{value:u},x.createElement(w1.Provider,{children:n,value:g}))}function Vve(e){let{children:t,location:n}=e;return Ave(W2(t),n)}new Promise(()=>{});function W2(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,W2(r.props.children,a));return}r.type!==Ve&&or(!1),!r.props.index||!r.props.children||or(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=W2(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G2.apply(this,arguments)}function Hve(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Wve(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gve(e,t){return e.button===0&&(!t||t==="_self")&&!Wve(e)}function K2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Kve(e,t){let n=K2(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const Yve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xve="6";try{window.__reactRouterVersion=Xve}catch{}const Qve="startTransition",XF=hR[Qve];function Jve(e){let{basename:t,children:n,future:r,window:i}=e,a=x.useRef();a.current==null&&(a.current=Jxe({window:i,v5Compat:!0}));let o=a.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=x.useCallback(f=>{u&&XF?XF(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Uve(r),[r]),x.createElement(qve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Zve=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cm=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Hve(t,Yve),{basename:m}=x.useContext(Du),p,g=!1;if(typeof u=="string"&&eye.test(u)&&(p=u,Zve))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=PD(j.pathname,m);j.origin===b.origin&&_!=null?u=_+j.search+j.hash:g=!0}catch{}let y=Sve(u,{relative:i}),v=tye(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||v(b)}return x.createElement("a",G2({},h,{href:p||y,onClick:g||a?r:w,ref:n,target:c}))});var QF;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(QF||(QF={}));var JF;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(JF||(JF={}));function tye(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=It(),u=qi(),d=PG(e,{relative:o});return x.useCallback(f=>{if(Gve(f,n)){f.preventDefault();let h=r!==void 0?r:Hj(u)===Hj(d);c(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,i,n,e,a,o,l])}function Up(e){let t=x.useRef(K2(e)),n=x.useRef(!1),r=qi(),i=x.useMemo(()=>Kve(r.search,n.current?null:t.current),[r.search]),a=It(),o=x.useCallback((l,c)=>{const u=K2(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const Ln=({message:e="Chargement...",size:t="md",fullScreen:n=!1})=>{const r={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12"},i={sm:"text-sm",md:"text-base",lg:"text-lg"},a=n?"min-h-screen flex items-center justify-center":"flex items-center justify-center py-8";return s.jsx("div",{className:a,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`animate-spin rounded-full ${r[t]} border-b-2 border-aurentia-pink mx-auto mb-4`}),s.jsx("p",{className:`text-gray-500 ${i[t]}`,children:e})]})})},nye="modulepreload",rye=function(e){return"/"+e},ZF={},qp=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=rye(c),c in ZF)return;ZF[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":nye,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},sye=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qp(async()=>{const{default:r}=await Promise.resolve().then(()=>Vp);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class MD extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class iye extends MD{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class e5 extends MD{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class t5 extends MD{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Y2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Y2||(Y2={}));var aye=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class oye{constructor(t,{headers:n={},customFetch:r,region:i=Y2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=sye(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return aye(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(g=>{throw new iye(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new e5(f);if(!f.ok)throw new t5(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof t5||i instanceof e5?i.context:void 0}}})}}var Qs={},ID={},j1={},Yy={},_1={},N1={},lye=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qm=lye();const cye=qm.fetch,MG=qm.fetch.bind(qm),IG=qm.Headers,uye=qm.Request,dye=qm.Response,Vp=Object.freeze(Object.defineProperty({__proto__:null,Headers:IG,Request:uye,Response:dye,default:MG,fetch:cye},Symbol.toStringTag,{value:"Module"})),fye=_ue(Vp);var S1={};Object.defineProperty(S1,"__esModule",{value:!0});let hye=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};S1.default=hye;var LG=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(N1,"__esModule",{value:!0});const mye=LG(fye),pye=LG(S1);let gye=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mye.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,f=null,h=null,m=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const w=await a.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=w:f=JSON.parse(w))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,m=200,p="OK")}catch{a.status===404&&y===""?(m=204,p="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new pye.default(d)}return{error:d,data:f,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};N1.default=gye;var xye=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_1,"__esModule",{value:!0});const vye=xye(N1);let yye=class extends vye.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};_1.default=yye;var bye=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yy,"__esModule",{value:!0});const wye=bye(_1);let jye=class extends wye.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Yy.default=jye;var _ye=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j1,"__esModule",{value:!0});const Lg=_ye(Yy);let Nye=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Lg.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Lg.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Lg.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Lg.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Lg.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};j1.default=Nye;var $G=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ID,"__esModule",{value:!0});const Sye=$G(j1),Cye=$G(Yy);let Eye=class FG{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Sye.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new FG(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new Cye.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ID.default=Eye;var Hp=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.PostgrestError=Qs.PostgrestBuilder=Qs.PostgrestTransformBuilder=Qs.PostgrestFilterBuilder=Qs.PostgrestQueryBuilder=Qs.PostgrestClient=void 0;const zG=Hp(ID);Qs.PostgrestClient=zG.default;const BG=Hp(j1);Qs.PostgrestQueryBuilder=BG.default;const UG=Hp(Yy);Qs.PostgrestFilterBuilder=UG.default;const qG=Hp(_1);Qs.PostgrestTransformBuilder=qG.default;const VG=Hp(N1);Qs.PostgrestBuilder=VG.default;const HG=Hp(S1);Qs.PostgrestError=HG.default;var kye=Qs.default={PostgrestClient:zG.default,PostgrestQueryBuilder:BG.default,PostgrestFilterBuilder:UG.default,PostgrestTransformBuilder:qG.default,PostgrestBuilder:VG.default,PostgrestError:HG.default};const{PostgrestClient:Aye,PostgrestQueryBuilder:A_t,PostgrestFilterBuilder:T_t,PostgrestTransformBuilder:P_t,PostgrestBuilder:O_t,PostgrestError:R_t}=kye;class Tye{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Pye="2.15.5",Oye=`realtime-js/${Pye}`,Rye="1.0.0",X2=1e4,Dye=1e3,Mye=100;var Px;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Px||(Px={}));var Nr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nr||(Nr={}));var Fa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fa||(Fa={}));var Q2;(function(e){e.websocket="websocket"})(Q2||(Q2={}));var xd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xd||(xd={}));class Iye{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class WG{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _n;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_n||(_n={}));const n5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=Lye(o,e,t,i),a),{})},Lye=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?GG(a,o):J2(o)},GG=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Bye(t,n)}switch(e){case _n.bool:return $ye(t);case _n.float4:case _n.float8:case _n.int2:case _n.int4:case _n.int8:case _n.numeric:case _n.oid:return Fye(t);case _n.json:case _n.jsonb:return zye(t);case _n.timestamp:return Uye(t);case _n.abstime:case _n.date:case _n.daterange:case _n.int4range:case _n.int8range:case _n.money:case _n.reltime:case _n.text:case _n.time:case _n.timestamptz:case _n.timetz:case _n.tsrange:case _n.tstzrange:return J2(t);default:return J2(t)}},J2=e=>e,$ye=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Fye=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zye=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Bye=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>GG(t,l))}return e},Uye=e=>typeof e=="string"?e.replace(" ","T"):e,KG=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class sE{constructor(t,n,r={},i=X2){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var r5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(r5||(r5={}));class Ox{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ox.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Ox.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ox.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),p=d.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(l[u]=p),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var s5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(s5||(s5={}));var Rx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Rx||(Rx={}));var il;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(il||(il={}));class LD{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Nr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sE(this,Fa.join,this.params,this.timeout),this.rejoinTimer=new WG(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Nr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Nr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fa.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ox(this),this.broadcastEndpointURL=KG(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Nr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Rx.PRESENCE]&&this.bindings[Rx.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(il.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(il.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(il.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,v=[];for(let w=0;w<y;w++){const b=g[w],{filter:{event:j,schema:_,table:N,filter:S}}=b,C=m&&m[w];if(C&&C.event===j&&C.schema===_&&C.table===N&&C.filter===S)v.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=Nr.errored,t==null||t(il.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(il.SUBSCRIBED);return}}).receive("error",m=>{this.state=Nr.errored,t==null||t(il.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(il.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Nr.joined&&t===Rx.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new sE(this,Fa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new sE(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Mye){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Fa;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,g,y;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var p,g,y,v,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((g=n.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(w=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:y,commit_timestamp:v,type:w,errors:b}=p;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(p))}m.callback(h,r)})}_isClosed(){return this.state===Nr.closed}_isJoined(){return this.state===Nr.joined}_isJoining(){return this.state===Nr.joining}_isLeaving(){return this.state===Nr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&LD.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fa.close,{},t)}_onError(t){this._on(Fa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=n5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=n5(t.columns,t.old_record)),n}}const iE=()=>{},v0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qye=[1e3,2e3,5e3,1e4],Vye=1e4,Hye=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wye{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=X2,this.transport=null,this.heartbeatIntervalMs=v0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iE,this.ref=0,this.reconnectTimer=null,this.logger=iE,this.conn=null,this.sendBuffer=[],this.serializer=new Iye,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>qp(async()=>{const{default:l}=await Promise.resolve().then(()=>Vp);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Q2.websocket}`,this.httpEndpoint=KG(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tye.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rye}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Px.connecting:return xd.Connecting;case Px.open:return xd.Open;case Px.closing:return xd.Closing;default:return xd.Closed}}isConnected(){return this.connectionState()===xd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new LD(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Dye,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},v0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Hye],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Oye};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Fa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new WG(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},v0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:X2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:v0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:iE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>qye[f-1]||Vye,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class $D extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Gye extends $D{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Z2 extends $D{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Kye=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const YG=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qp(async()=>{const{default:r}=await Promise.resolve().then(()=>Vp);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Yye=()=>Kye(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qp(()=>Promise.resolve().then(()=>Vp),void 0)).Response:Response}),eT=e=>{if(Array.isArray(e))return e.map(n=>eT(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=eT(r)}),t},Xye=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var $f=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const aE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qye=(e,t,n)=>$f(void 0,void 0,void 0,function*(){const r=yield Yye();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new Gye(aE(i),a,o))}).catch(i=>{t(new Z2(aE(i),i))}):t(new Z2(aE(e),e))}),Jye=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(Xye(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Xy(e,t,n,r,i,a){return $f(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Jye(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Qye(c,l,r))})})}function Wj(e,t,n,r){return $f(this,void 0,void 0,function*(){return Xy(e,"GET",t,n,r)})}function xo(e,t,n,r,i){return $f(this,void 0,void 0,function*(){return Xy(e,"POST",t,r,i,n)})}function tT(e,t,n,r,i){return $f(this,void 0,void 0,function*(){return Xy(e,"PUT",t,r,i,n)})}function Zye(e,t,n,r){return $f(this,void 0,void 0,function*(){return Xy(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function XG(e,t,n,r,i){return $f(this,void 0,void 0,function*(){return Xy(e,"DELETE",t,r,i,n)})}var bs=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ebe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},i5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tbe{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=YG(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return bs(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},i5),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?tT:xo)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Sr(a))return{data:null,error:a};throw a}})}upload(t,n,r){return bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return bs(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:i5.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield tT(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Sr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return bs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield xo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new $D("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}update(t,n,r){return bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return bs(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Sr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return bs(this,void 0,void 0,function*(){try{return{data:{path:(yield xo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Sr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return bs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield xo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Sr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return bs(this,void 0,void 0,function*(){try{const i=yield xo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Sr(i))return{data:null,error:i};throw i}})}download(t,n){return bs(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Wj(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Sr(l))return{data:null,error:l};throw l}})}info(t){return bs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Wj(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:eT(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}exists(t){return bs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Zye(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r)&&r instanceof Z2){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return bs(this,void 0,void 0,function*(){try{return{data:yield XG(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}list(t,n,r){return bs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ebe),n),{prefix:t||""});return{data:yield xo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Sr(i))return{data:null,error:i};throw i}})}listV2(t,n){return bs(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield xo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const nbe="2.12.1",rbe={"X-Client-Info":`storage-js/${nbe}`};var rh=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class sbe{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},rbe),n),this.fetch=YG(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return rh(this,void 0,void 0,function*(){try{return{data:yield Wj(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Sr(t))return{data:null,error:t};throw t}})}getBucket(t){return rh(this,void 0,void 0,function*(){try{return{data:yield Wj(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return rh(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return rh(this,void 0,void 0,function*(){try{return{data:yield tT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return rh(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return rh(this,void 0,void 0,function*(){try{return{data:yield XG(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}})}}class ibe extends sbe{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new tbe(this.url,this.headers,t,this.fetch)}}const abe="2.57.4";let ux="";typeof Deno<"u"?ux="deno":typeof document<"u"?ux="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ux="react-native":ux="node";const obe={"X-Client-Info":`supabase-js-${ux}/${abe}`},lbe={headers:obe},cbe={schema:"public"},ube={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dbe={};var fbe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const hbe=e=>{let t;return e?t=e:typeof fetch>"u"?t=MG:t=fetch,(...n)=>t(...n)},mbe=()=>typeof Headers>"u"?IG:Headers,pbe=(e,t,n)=>{const r=hbe(n),i=mbe();return(a,o)=>fbe(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var gbe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function xbe(e){return e.endsWith("/")?e:e+"/"}function vbe(e,t){var n,r;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>gbe(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function ybe(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xbe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const QG="2.71.1",bh=30*1e3,nT=3,oE=nT*bh,bbe="http://localhost:9999",wbe="supabase.auth.token",jbe={"X-Client-Info":`gotrue-js/${QG}`},rT="X-Supabase-Api-Version",JG={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_be=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Nbe=10*60*1e3;class FD extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Et(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sbe extends FD{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Cbe(e){return Et(e)&&e.name==="AuthApiError"}class ZG extends FD{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Mu extends FD{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class gc extends Mu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ebe(e){return Et(e)&&e.name==="AuthSessionMissingError"}class y0 extends Mu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class b0 extends Mu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class w0 extends Mu{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kbe(e){return Et(e)&&e.name==="AuthImplicitGrantRedirectError"}class a5 extends Mu{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sT extends Mu{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function lE(e){return Et(e)&&e.name==="AuthRetryableFetchError"}class o5 extends Mu{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class iT extends Mu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),l5=` 	
\r=`.split(""),Abe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<l5.length;t+=1)e[l5[t].charCodeAt(0)]=-2;for(let t=0;t<Gj.length;t+=1)e[Gj[t].charCodeAt(0)]=t;return e})();function c5(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gj[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gj[r]),t.queuedBits-=6}}function eK(e,t,n){const r=Abe[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function u5(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Obe(o,r,n)};for(let o=0;o<e.length;o+=1)eK(e.charCodeAt(o),i,a);return t.join("")}function Tbe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Pbe(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Tbe(r,t)}}function Obe(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Rbe(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)eK(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Dbe(e){const t=[];return Pbe(e,n=>t.push(n)),new Uint8Array(t)}function Mbe(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>c5(i,n,r)),c5(null,n,r),t.join("")}function Ibe(e){return Math.round(Date.now()/1e3)+e}function Lbe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Oa=()=>typeof window<"u"&&typeof document<"u",Yu={tested:!1,writable:!1},tK=()=>{if(!Oa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yu.tested)return Yu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yu.tested=!0,Yu.writable=!0}catch{Yu.tested=!0,Yu.writable=!1}return Yu.writable};function $be(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const nK=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qp(async()=>{const{default:r}=await Promise.resolve().then(()=>Vp);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Fbe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wh=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},cc=async(e,t)=>{await e.removeItem(t)};class C1{constructor(){this.promise=new C1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}C1.promiseConstructor=Promise;function cE(e){const t=e.split(".");if(t.length!==3)throw new iT("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!_be.test(t[r]))throw new iT("JWT not in base64url format");return{header:JSON.parse(u5(t[0])),payload:JSON.parse(u5(t[1])),signature:Rbe(t[2]),raw:{header:t[0],payload:t[1]}}}async function zbe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Bbe(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Ube(e){return("0"+e.toString(16)).substr(-2)}function qbe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Ube).join("")}async function Vbe(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Hbe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Vbe(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sh(e,t,n=!1){const r=qbe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await wh(e,`${t}-code-verifier`,i);const a=await Hbe(r);return[a,r===a?"plain":"s256"]}const Wbe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gbe(e){const t=e.headers.get(rT);if(!t||!t.match(Wbe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kbe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ybe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xbe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ih(e){if(!Xbe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uE(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function d5(e){return JSON.parse(JSON.stringify(e))}var Qbe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ad=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jbe=[502,503,504];async function f5(e){var t;if(!Fbe(e))throw new sT(ad(e),0);if(Jbe.includes(e.status))throw new sT(ad(e),e.status);let n;try{n=await e.json()}catch(a){throw new ZG(ad(a),a)}let r;const i=Gbe(e);if(i&&i.getTime()>=JG["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new o5(ad(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new gc}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new o5(ad(n),e.status,n.weak_password.reasons);throw new Sbe(ad(n),e.status||500,r)}const Zbe=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Lt(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[rT]||(a[rT]=JG["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await e0e(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function e0e(e,t,n,r,i,a){const o=Zbe(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new sT(ad(c),0)}if(l.ok||await f5(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await f5(c)}}function rl(e){var t;let n=null;s0e(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ibe(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function h5(e){const t=rl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function t0e(e){return{data:e,error:null}}function n0e(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Qbe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function r0e(e){return e}function s0e(e){return e.access_token&&e.refresh_token&&e.expires_in}const dE=["global","local","others"];var i0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class a0e{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=nK(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=dE[0]){if(dE.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dE.join(", ")}`);try{return await Lt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Cc})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=i0e(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:n0e,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Et(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cc})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:r0e});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Et(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ih(t);try{return await Lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cc})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ih(t);try{return await Lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Cc})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ih(t);try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Cc})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ih(t.userId);try{const{data:n,error:r}=await Lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ih(t.userId),ih(t.id);try{return{data:await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}}}function m5(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function o0e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ah={debug:!!(globalThis&&tK()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rK extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class l0e extends rK{}async function c0e(e,t,n){ah.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ah.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ah.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ah.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ah.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new l0e(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ah.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}o0e();const u0e={url:bbe,storageKey:wbe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jbe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function p5(e,t,n){return await n()}const oh={};class Cv{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cv.nextInstanceID,Cv.nextInstanceID+=1,this.instanceID>0&&Oa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},u0e),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new a0e({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nK(i.fetch),this.lock=i.lock||p5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Oa()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=c0e:this.lock=p5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:tK()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=m5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=m5(this.memoryStorage)),Oa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=oh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){oh[this.storageKey]=Object.assign(Object.assign({},oh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=oh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oh[this.storageKey]=Object.assign(Object.assign({},oh[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${QG}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=$be(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Oa()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kbe(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Et(n)?{error:n}:{error:new ZG("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:rl}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Et(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await sh(this.storage,this.storageKey)),a=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:rl})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:rl})}else throw new b0("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Et(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h5})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h5})}else throw new b0("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new y0}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Et(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,a,o,l,c,u,d,f,h,m;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:w,options:b}=t;let j;if(Oa())if(typeof v=="object")j=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),w?{statement:w}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:y,error:v}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Mbe(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:rl});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new y0}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Et(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await Xu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:rl});if(await cc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new y0}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Et(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rl}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new y0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Et(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sh(this.storage,this.storageKey));const{error:f}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new b0("You must provide either an email or phone number.")}catch(l){if(Et(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:rl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Et(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await sh(this.storage,this.storageKey)),await Lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:t0e})}catch(a){if(Et(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new gc;const{error:i}=await Lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Et(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await Lt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await Lt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new b0("You must provide either an email or phone number and a type")}catch(n){if(Et(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<oE:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Xu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=uE()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cc}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gc}:await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Cc})})}catch(n){if(Et(n))return Ebe(n)&&(await this._removeSession(),await cc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new gc;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await sh(this.storage,this.storageKey));const{data:u,error:d}=await Lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Cc});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gc;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=cE(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Et(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new gc;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Et(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Oa())throw new w0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new w0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new a5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new w0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new a5("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new w0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=bh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(Et(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Cbe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await cc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Lbe(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await sh(this.storage,this.storageKey,!0));try{return await Lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Et(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Lt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Oa()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Et(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Bbe(async i=>(i>0&&await zbe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rl})),(i,a)=>{const o=200*Math.pow(2,i);return a&&lE(a)&&Date.now()+o-r<bh})}catch(r){if(this._debug(n,"error",r),Et(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Oa()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Xu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Xu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await wh(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:uE()}else if(i&&!i.user&&!i.user){const o=await Xu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await cc(this.storage,this.storageKey+"-user"),await wh(this.storage,this.storageKey,i)):i.user=uE()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<oE;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${oE}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),lE(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new gc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new C1;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new gc;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Et(a)){const o={session:null,error:a};return lE(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await wh(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=d5(i);await wh(this.storage,this.storageKey,a)}else{const i=d5(n);await wh(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await cc(this.storage,this.storageKey),await cc(this.storage,this.storageKey+"-code-verifier"),await cc(this.storage,this.storageKey+"-user"),this.userStorage&&await cc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Oa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/bh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${bh}ms, refresh threshold is ${nT} ticks`),i<=nT&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rK)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Oa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await sh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Lt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Et(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Et(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=cE(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Nbe>i)return r;const{data:a,error:o}=await Lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};r=m.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=cE(r);n!=null&&n.allowExpired||Kbe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:i,signature:o},error:null}}const d=Ybe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Dbe(`${l}.${c}`)))throw new iT("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}}}Cv.nextInstanceID=0;const d0e=Cv;class f0e extends d0e{constructor(t){super(t)}}var h0e=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class m0e{constructor(t,n,r){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const l=ybe(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:cbe,realtime:dbe,auth:Object.assign(Object.assign({},ube),{storageKey:c}),global:lbe},d=vbe(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=pbe(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Aye(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ibe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new oye(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return h0e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f0e({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Wye(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zD=(e,t,n)=>new m0e(e,t,n);function p0e(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}p0e()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const g0e="https://llcliurrrrxnkquwmwsi.supabase.co",x0e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsY2xpdXJycnJ4bmtxdXdtd3NpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc5MDMwOTEsImV4cCI6MjA1MzQ3OTA5MX0.UWfFrlMEQRvRhXYUORmUhrc1A6WLAJbLBnpCWAVaWSQ";let fE=null;const v0e=()=>(fE||(console.log("[Supabase Client] Creating new singleton instance"),fE=zD(g0e,x0e,{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,detectSessionInUrl:!0,storageKey:"sb-llcliurrrrxnkquwmwsi-auth-token",flowType:"pkce"}}),console.log("[Supabase Client] Singleton instance created")),fE),q=v0e(),sK=x.createContext(void 0),y0e=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(null),[a,o]=x.useState(!0),l=x.useRef(!0),c=x.useRef(!1),u=x.useCallback(async()=>{if(c.current){console.log("[UserContext] Fetch already in progress, skipping...");return}c.current=!0,console.log("[UserContext] Fetching user profile and organization...");try{const{data:{session:h},error:m}=await q.auth.getSession();if(m||!(h!=null&&h.user)){console.log("[UserContext] No active session"),l.current&&(n(null),i(null),o(!1));return}console.log("[UserContext] Session valid, fetching profile for user:",h.user.id);const{data:p,error:g}=await q.from("profiles").select("email,first_name,last_name,user_role,subscription_status,stripe_customer_id,organization_setup_pending,organization_setup_dismissed").eq("id",h.user.id).single();if(!l.current)return;if(g){console.error("[UserContext] Profile fetch failed:",g),n(null),i(null),o(!1);return}if(p){const y=p;let v=null,w=null;try{const{data:j,error:_}=await q.from("user_organizations").select(`
              organization_id,
              user_role,
              is_primary,
              status,
              organizations (*)
            `).eq("user_id",h.user.id).eq("status","active").order("is_primary",{ascending:!1}).limit(1).maybeSingle();if(!_&&j){const N=j;v=N.organization_id,w=N.organizations,console.log("[UserContext] Organization loaded:",v)}}catch(j){console.warn("[UserContext] Exception fetching organization:",j)}const b={id:h.user.id,...y,organization_id:v,organization:w};console.log("[UserContext] ✅ Profile and organization loaded successfully"),n(b),i(v)}else n(null),i(null)}catch(h){console.error("[UserContext] Unexpected error:",h),l.current&&(n(null),i(null))}finally{l.current&&o(!1),c.current=!1}},[]);x.useEffect(()=>{console.log("[UserContext] Provider mounting, fetching profile..."),l.current=!0,u();const{data:{subscription:h}}=q.auth.onAuthStateChange(async m=>{if(console.log("[UserContext] Auth state changed:",m),!!l.current){if(m==="INITIAL_SESSION"){console.log("[UserContext] 🚫 Ignoring INITIAL_SESSION");return}m==="SIGNED_IN"?setTimeout(()=>{l.current&&u()},200):m==="SIGNED_OUT"&&(n(null),i(null),o(!1))}});return()=>{console.log("[UserContext] Provider unmounting"),l.current=!1,h.unsubscribe()}},[u]);const d=(t==null?void 0:t.user_role)||"individual",f={userProfile:t,userRole:d,organizationId:r,loading:a,refetchProfile:u};return s.jsx(sK.Provider,{value:f,children:e})},iK=()=>{const e=x.useContext(sK);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},cr=()=>{const{userProfile:e,userRole:t,organizationId:n,loading:r}=iK(),i=t==="individual",a=t==="member",o=t==="staff",l=t==="organisation",c=t==="super_admin",u=o||l,d=()=>n!=null,f=()=>o||l||c,h=()=>o||l||c,m=()=>c,p=()=>o||l||c,g=()=>a||o||l||c,y=()=>l||c,v=()=>l||c,w=()=>{switch(t){case"super_admin":return"/super-admin";case"organisation":case"staff":return n?`/organisation/${n}`:(console.warn("Utilisateur organisation sans organization_id, redirection vers setup"),"/setup-organization");case"member":return"/member";case"individual":default:return"/individual"}};return{userRole:t,userProfile:e,organizationId:n,loading:r,isIndividual:i,isMember:a,isStaff:o,isOrganisation:l,isSuperAdmin:c,isAdmin:u,hasOrganizationAccess:d,canManageUsers:f,canCreateInvitationCodes:h,canAccessSuperAdminFeatures:m,canAccessAdminFeatures:p,canAccessMemberFeatures:g,canManageOrganization:y,canManageStaff:v,getBasePath:w,getDefaultDashboard:()=>`${w()}/dashboard`}};function g5(){return typeof window<"u"?window.location.origin:"https://aurentia.app"}class x5{static async sendCollaborationInvitation(t,n,r,i,a){try{console.log("📧 EmailService.sendCollaborationInvitation appelé avec:",{email:t,projectName:r,inviterEmail:i,hasToken:!!n});const l=`${g5()}/login?invitation_token=${n}`;console.log("🔗 URL d'invitation:",l);const{error:c}=await q.functions.invoke("send-email",{body:{to:t,subject:"Invitation à collaborer - Aurentia",template:"collaboration-invitation-template",data:{InviterEmail:i,ProjectName:r,ProjectDescription:a||"",InvitationURL:l}}});return c?(console.error("❌ Erreur lors de l'envoi de l'email:",c),{success:!1,error:"Erreur lors de l'envoi de l'email"}):(console.log("✅ Appel à la fonction send-email réussi"),{success:!0})}catch(o){return console.error("❌ Exception lors de l'envoi de l'email d'invitation:",o),{success:!1,error:o.message}}}static async sendInvitationAcceptedNotification(t,n,r){try{const i=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <title>Invitation acceptée - Aurentia</title>
          <style>
            body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px; }
            .header { background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 30px; border-radius: 8px 8px 0 0; text-align: center; }
            .content { background: #fff; padding: 30px; border: 1px solid #ddd; border-top: none; border-radius: 0 0 8px 8px; }
            .footer { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; color: #666; font-size: 14px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>🎉 Invitation acceptée !</h1>
          </div>
          <div class="content">
            <h2>Bonne nouvelle !</h2>
            <p><strong>${n}</strong> a accepté votre invitation à collaborer sur le projet <strong>${r}</strong>.</p>
            <p>Vous pouvez maintenant commencer à collaborer ensemble sur Aurentia.</p>
            <p><a href="${g5()}/individual/collaborateurs" style="color: #667eea;">Voir vos collaborateurs</a></p>
          </div>
          <div class="footer">
            <p>Aurentia - Votre plateforme de développement de projets entrepreneuriaux</p>
          </div>
        </body>
        </html>
      `,a=`
INVITATION ACCEPTÉE - AURENTIA

Bonne nouvelle !

${n} a accepté votre invitation à collaborer sur le projet "${r}".

Vous pouvez maintenant commencer à collaborer ensemble sur Aurentia.

---
Aurentia - Votre plateforme de développement de projets entrepreneuriaux
https://app.aurentia.fr
      `.trim(),{error:o}=await q.functions.invoke("send-notification-email",{body:{email:t,subject:"🎉 Invitation acceptée - Aurentia",htmlContent:i,textContent:a}});return o?(console.error("Erreur lors de l'envoi de la notification:",o),{success:!1,error:"Erreur lors de l'envoi de la notification"}):{success:!0}}catch(i){return console.error("Erreur lors de l'envoi de la notification:",i),{success:!1,error:i.message}}}}class ji{static async getProjectCollaborators(t){const{data:n,error:r}=await q.from("project_collaborators").select("*").eq("project_id",t).order("joined_at",{ascending:!1});if(r)throw r;return n?await Promise.all(n.map(async a=>{const{data:o}=await q.from("profiles").select("id, email").eq("id",a.user_id).single(),{data:l}=await q.from("project_summary").select("project_id, nom_projet, description_synthetique").eq("project_id",a.project_id).single();return{id:a.id,project_id:a.project_id,user_id:a.user_id,role:a.role,status:a.status,permissions:a.permissions||null,joined_at:a.joined_at||new Date().toISOString(),updated_at:a.updated_at||new Date().toISOString(),user:o||void 0,project:l||void 0,inviter:null||void 0}})):[]}static async getUserCollaborators(){try{const{data:{user:t}}=await q.auth.getUser();if(!t)return console.warn("Utilisateur non authentifié pour getUserCollaborators"),[];console.log("Récupération des projets pour l'utilisateur:",t.id);const{data:n,error:r}=await q.from("project_summary").select("project_id, nom_projet").eq("user_id",t.id);if(r)throw console.error("Erreur lors de la récupération des projets:",r),r;if(console.log("Projets trouvés:",(n==null?void 0:n.length)||0),!n||n.length===0)return console.log("Aucun projet trouvé pour cet utilisateur"),[];const{data:i,error:a}=await q.from("project_collaborators").select("*").in("project_id",n.map(l=>l.project_id)).order("joined_at",{ascending:!1});if(a)throw console.error("Erreur lors de la récupération des collaborateurs:",a),a;return console.log("Collaborateurs trouvés:",(i==null?void 0:i.length)||0),i?await Promise.all(i.map(async l=>{try{const{data:c}=await q.from("profiles").select("id, email").eq("id",l.user_id).single(),u=n.find(d=>d.project_id===l.project_id);return{id:l.id,project_id:l.project_id,user_id:l.user_id,role:l.role,status:l.status,permissions:l.permissions||null,joined_at:l.joined_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString(),user:c||void 0,project:u?{project_id:u.project_id,nom_projet:u.nom_projet,description_synthetique:""}:void 0,inviter:null}}catch(c){return console.error("Erreur lors de l'enrichissement du collaborateur:",l.id,c),{id:l.id,project_id:l.project_id,user_id:l.user_id,role:l.role,status:l.status,permissions:null,joined_at:l.joined_at||new Date().toISOString(),updated_at:l.updated_at||new Date().toISOString(),user:void 0,project:void 0,inviter:void 0}}})):[]}catch(t){throw console.error("Erreur dans getUserCollaborators:",t),t}}static async inviteCollaborator(t,n,r){try{const{data:{user:i}}=await q.auth.getUser();if(!i)throw new Error("Not authenticated");const{data:a}=await q.from("profiles").select("id").eq("email",n).single();if(a){const{data:g}=await q.from("project_collaborators").select("*").eq("project_id",t).eq("user_id",a.id).single();if(g)return{success:!1,error:"Cet utilisateur est déjà collaborateur sur ce projet"}}const{data:o}=await q.from("project_invitations").select("*").eq("project_id",t).eq("email",n).eq("status","pending").gt("expires_at",new Date().toISOString()).single();if(o)return{success:!1,error:"Une invitation est déjà en attente pour cet email"};const l=crypto.randomUUID(),c=new Date;c.setDate(c.getDate()+7);const{data:u,error:d}=await q.from("project_summary").select("nom_projet").eq("project_id",t).single();if(d)throw new Error(`Impossible de récupérer les informations du projet: ${d.message}`);const{data:f,error:h}=await q.from("project_invitations").insert({project_id:t,project_name:u.nom_projet,email:n,role:r,token:l,expires_at:c.toISOString(),invited_by:i.id}).select().single();if(h)throw h;const{data:m}=await q.from("profiles").select("email").eq("id",i.id).single();console.log("📧 Tentative d'envoi d'email d'invitation...");const p=await x5.sendCollaborationInvitation(n,l,u.nom_projet||"Projet Aurentia",(m==null?void 0:m.email)||i.email||"un collaborateur");return p.success?console.log("✅ Email d'invitation envoyé avec succès"):console.error("❌ Email d'invitation non envoyé:",p.error),{success:!0,invitation_id:f.id,token:f.token}}catch(i){return{success:!1,error:i.message}}}static async getInvitationByToken(t){try{const{data:n,error:r}=await q.from("project_invitations").select("*").eq("token",t).single();if(r||!n)throw new Error("Invitation introuvable");if(n.status==="accepted")throw new Error("Cette invitation a déjà été acceptée");if(n.status!=="pending")throw new Error("Invitation invalide");if(new Date(n.expires_at)<=new Date)throw new Error("Cette invitation a expiré");const{data:i}=await q.from("project_summary").select("nom_projet, description_synthetique").eq("project_id",n.project_id).single();return{id:n.id,email:n.email,role:n.role,projectName:(i==null?void 0:i.nom_projet)||"Projet inconnu",projectDescription:(i==null?void 0:i.description_synthetique)||"",expiresAt:n.expires_at}}catch(n){throw new Error(n.message)}}static async acceptInvitation(t){try{console.log("Tentative d'acceptation avec token:",t);const{data:n,error:r}=await q.from("project_invitations").select("*").eq("token",t).eq("status","pending").gt("expires_at",new Date().toISOString()).single();return console.log("Invitation trouvée:",n),console.log("Erreur invitation:",r),r||!n?{success:!1,error:"Invitation invalide ou expirée"}:this.processInvitationAcceptance(n)}catch(n){return{success:!1,error:n.message}}}static async acceptInvitationById(t){try{console.log("Tentative d'acceptation avec ID:",t);const{data:n,error:r}=await q.from("project_invitations").select("*").eq("id",t).eq("status","pending").gt("expires_at",new Date().toISOString()).single();return console.log("Invitation trouvée:",n),console.log("Erreur invitation:",r),r||!n?{success:!1,error:"Invitation invalide ou expirée"}:this.processInvitationAcceptance(n)}catch(n){return{success:!1,error:n.message}}}static async processInvitationAcceptance(t){try{console.log("=== DÉBUT ACCEPTATION INVITATION ==="),console.log("Invitation reçue:",t);const{data:{user:n}}=await q.auth.getUser();if(console.log("Utilisateur actuel:",n==null?void 0:n.email,n==null?void 0:n.id),!n)return{success:!1,error:"Vous devez être connecté pour accepter une invitation"};const{data:r}=await q.from("profiles").select("id, email").eq("id",n.id).single();if(console.log("Profil trouvé:",r),!r)return{success:!1,error:"Profil utilisateur introuvable"};if(r.email!==t.email)return console.log("Email mismatch:",r.email,"vs",t.email),{success:!1,error:"Cette invitation n'est pas destinée à votre compte"};const{data:i}=await q.from("project_collaborators").select("*").eq("project_id",t.project_id).eq("user_id",r.id).single();if(i)return await q.from("project_invitations").update({status:"accepted",accepted_at:new Date().toISOString(),accepted_by:r.id}).eq("id",t.id),{success:!1,error:"Vous êtes déjà collaborateur sur ce projet"};const{error:a}=await q.from("project_collaborators").insert({project_id:t.project_id,user_id:r.id,role:t.role});if(a)throw a;console.log("Mise à jour de l'invitation avec ID:",t.id);const{error:o}=await q.from("project_invitations").update({status:"accepted",accepted_at:new Date().toISOString(),accepted_by:r.id}).eq("id",t.id);if(console.log("Erreur de mise à jour:",o),o)throw o;const{data:l}=await q.from("profiles").select("email").eq("id",t.invited_by).single();if(l!=null&&l.email){const c=await x5.sendInvitationAcceptedNotification(l.email,t.email,t.project_id);c.success||console.warn("Email de confirmation non envoyé:",c.error)}return console.log("=== INVITATION ACCEPTÉE AVEC SUCCÈS ==="),{success:!0}}catch(n){return console.error("=== ERREUR LORS DE L'ACCEPTATION ===",n),{success:!1,error:n.message}}}static async updateCollaboratorRole(t,n){try{const{data:r,error:i}=await q.from("project_collaborators").update({role:n,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return await this.enrichCollaboratorData(r)}catch(r){throw console.error("Erreur updateCollaboratorRole:",r),r}}static async updateCollaboratorStatus(t,n){try{const{data:r,error:i}=await q.from("project_collaborators").update({status:n,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return await this.enrichCollaboratorData(r)}catch(r){throw console.error("Erreur updateCollaboratorStatus:",r),r}}static async removeCollaborator(t){try{const{error:n}=await q.from("project_collaborators").delete().eq("id",t);if(n)throw n}catch(n){throw console.error("Erreur removeCollaborator:",n),n}}static async getPendingInvitations(){try{const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");console.log("Tentative de récupération des invitations pour:",t.email);const{data:n,error:r}=await q.from("project_invitations").select("*").eq("email",t.email).eq("status","pending").gt("expires_at",new Date().toISOString()).order("invited_at",{ascending:!1});if(r)throw console.error("Erreur lors de la requête project_invitations:",r),r;return n?(console.log("Invitations trouvées:",n),n.map(i=>({...i,role:i.role,project:void 0,inviter:void 0}))):[]}catch(t){throw console.error("Erreur dans getPendingInvitations:",t),t}}static async getSentInvitations(){const{data:{user:t}}=await q.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:n,error:r}=await q.from("project_invitations").select("*").eq("invited_by",t.id).eq("status","pending").gt("expires_at",new Date().toISOString()).order("invited_at",{ascending:!1});if(r)throw r;return n?await Promise.all(n.map(async a=>{const{data:o}=await q.from("project_summary").select("project_id, nom_projet, description_synthetique").eq("project_id",a.project_id).single();return{...a,role:a.role,project:o||void 0}})):[]}static async cancelInvitation(t){const{error:n}=await q.from("project_invitations").delete().eq("id",t);if(n)throw n}static async checkUserPermissions(t,n){const{data:r,error:i}=await q.from("project_summary").select("user_id").eq("project_id",t).single();if(i)throw i;if(r.user_id===n)return{isOwner:!0,isCollaborator:!1,permissions:{canRead:!0,canWrite:!0,canDelete:!0,canManageCollaborators:!0,canChangeSettings:!0}};const{data:o,error:l}=await q.from("project_collaborators").select("role, status").eq("project_id",t).eq("user_id",n).eq("status","accepted").single();if(l||!o)return{isOwner:!1,isCollaborator:!1,permissions:{canRead:!1,canWrite:!1,canDelete:!1,canManageCollaborators:!1,canChangeSettings:!1}};const c=o.role;return{isOwner:!1,isCollaborator:!0,role:c,permissions:{canRead:!0,canWrite:c==="editor"||c==="admin"||c==="owner",canDelete:c==="admin"||c==="owner",canManageCollaborators:c==="admin"||c==="owner",canChangeSettings:c==="admin"||c==="owner"}}}static async enrichCollaboratorData(t){const{data:n}=await q.from("profiles").select("id, email").eq("id",t.user_id).single(),{data:r}=await q.from("project_summary").select("project_id, nom_projet, description_synthetique").eq("project_id",t.project_id).single();return{id:t.id,project_id:t.project_id,user_id:t.user_id,role:t.role,status:t.status,permissions:t.permissions||null,joined_at:t.joined_at||new Date().toISOString(),updated_at:t.updated_at||new Date().toISOString(),user:n||void 0,project:r||void 0,inviter:null||void 0}}static async sendInvitationEmail(t,n,r){try{const{data:i}=await q.from("project_summary").select("nom_projet").eq("project_id",r).single(),o=`http://localhost:8080/accept-invitation?token=${n}`,{error:l}=await q.functions.invoke("send-invitation-email",{body:{email:t,inviteUrl:o,projectName:(i==null?void 0:i.nom_projet)||"Projet Aurentia"}});l&&console.error("Erreur lors de l'envoi de l'email:",l)}catch(i){console.error("Erreur lors de l'envoi de l'email d'invitation:",i)}}static async processAcceptedInvitations(t,n){try{if(!t)return console.error("Email utilisateur non fourni pour processAcceptedInvitations"),0;const{data:r,error:i}=await q.rpc("get_accepted_invitations_for_email",{user_email:t.toLowerCase()});if(i)return console.error("Erreur lors de la récupération des invitations acceptées:",i),0;if(!r||!Array.isArray(r)||r.length===0)return 0;let a=0;for(const o of r){const{data:l}=await q.from("project_collaborators").select("id").eq("project_id",o.project_id).eq("user_id",n).single();if(!l){const{error:c}=await q.from("project_collaborators").insert({project_id:o.project_id,user_id:n,role:o.role,status:"active"});c?console.error("Erreur lors de la création du collaborateur:",c):a++}}return a}catch(r){return console.error("Erreur lors du traitement des invitations acceptées:",r),0}}}var hE="focusScope.autoFocusOnMount",mE="focusScope.autoFocusOnUnmount",v5={bubbles:!1,cancelable:!0},b0e="FocusScope",Qy=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=x.useState(null),u=zs(i),d=zs(a),f=x.useRef(null),h=it(t,g=>c(g)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(b){if(m.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:xc(f.current,{select:!0})},y=function(b){if(m.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||xc(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&xc(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(v);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,l,m.paused]),x.useEffect(()=>{if(l){b5.add(m);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(hE,v5);l.addEventListener(hE,u),l.dispatchEvent(v),v.defaultPrevented||(w0e(C0e(aK(l)),{select:!0}),document.activeElement===g&&xc(l))}return()=>{l.removeEventListener(hE,u),setTimeout(()=>{const v=new CustomEvent(mE,v5);l.addEventListener(mE,d),l.dispatchEvent(v),v.defaultPrevented||xc(g??document.body,{select:!0}),l.removeEventListener(mE,d),b5.remove(m)},0)}}},[l,u,d,m]);const p=x.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const w=g.currentTarget,[b,j]=j0e(w);b&&j?!g.shiftKey&&v===j?(g.preventDefault(),n&&xc(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),n&&xc(j,{select:!0})):v===w&&g.preventDefault()}},[n,r,m.paused]);return s.jsx($e.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});Qy.displayName=b0e;function w0e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(xc(r,{select:t}),document.activeElement!==n)return}function j0e(e){const t=aK(e),n=y5(t,e),r=y5(t.reverse(),e);return[n,r]}function aK(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function y5(e,t){for(const n of e)if(!_0e(n,{upTo:t}))return n}function _0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function N0e(e){return e instanceof HTMLInputElement&&"select"in e}function xc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&N0e(e)&&t&&e.select()}}var b5=S0e();function S0e(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=w5(e,t),e.unshift(t)},remove(t){var n;e=w5(e,t),(n=e[0])==null||n.resume()}}}function w5(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function C0e(e){return e.filter(t=>t.tagName!=="A")}var pE=0;function E1(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??j5()),document.body.insertAdjacentElement("beforeend",e[1]??j5()),pE++,()=>{pE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pE--}},[])}function j5(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var So=function(){return So=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},So.apply(this,arguments)};function oK(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function E0e(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Lw="right-scroll-bar-position",$w="width-before-scroll-bar",k0e="with-scroll-bars-hidden",A0e="--removed-body-scroll-bar-size";function gE(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function T0e(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var P0e=typeof window<"u"?x.useLayoutEffect:x.useEffect,_5=new WeakMap;function O0e(e,t){var n=T0e(null,function(r){return e.forEach(function(i){return gE(i,r)})});return P0e(function(){var r=_5.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||gE(l,null)}),a.forEach(function(l){i.has(l)||gE(l,o)})}_5.set(n,e)},[e]),n}function R0e(e){return e}function D0e(e,t){t===void 0&&(t=R0e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function M0e(e){e===void 0&&(e={});var t=D0e(null);return t.options=So({async:!0,ssr:!1},e),t}var lK=function(e){var t=e.sideCar,n=oK(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,So({},n))};lK.isSideCarExport=!0;function I0e(e,t){return e.useMedium(t),lK}var cK=M0e(),xE=function(){},k1=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:xE,onWheelCapture:xE,onTouchMoveCapture:xE}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,p=e.noIsolation,g=e.inert,y=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,b=e.gapMode,j=oK(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=O0e([n,t]),S=So(So({},j),i);return x.createElement(x.Fragment,null,d&&x.createElement(_,{sideCar:cK,removeScrollBar:u,shards:f,noRelative:m,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?x.cloneElement(x.Children.only(l),So(So({},S),{ref:N})):x.createElement(w,So({},S,{className:c,ref:N}),l))});k1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};k1.classNames={fullWidth:$w,zeroRight:Lw};var L0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=L0e();return t&&e.setAttribute("nonce",t),e}function F0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function z0e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B0e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$0e())&&(F0e(t,n),z0e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U0e=function(){var e=B0e();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},uK=function(){var e=U0e(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},q0e={left:0,top:0,right:0,gap:0},vE=function(e){return parseInt(e||"",10)||0},V0e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[vE(n),vE(r),vE(i)]},H0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return q0e;var t=V0e(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},W0e=uK(),um="data-scroll-locked",G0e=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(k0e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(um,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lw,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($w,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Lw," .").concat(Lw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($w," .").concat($w,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(um,`] {
    `).concat(A0e,": ").concat(l,`px;
  }
`)},N5=function(){var e=parseInt(document.body.getAttribute(um)||"0",10);return isFinite(e)?e:0},K0e=function(){x.useEffect(function(){return document.body.setAttribute(um,(N5()+1).toString()),function(){var e=N5()-1;e<=0?document.body.removeAttribute(um):document.body.setAttribute(um,e.toString())}},[])},Y0e=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;K0e();var a=x.useMemo(function(){return H0e(i)},[i]);return x.createElement(W0e,{styles:G0e(a,!t,i,n?"":"!important")})},aT=!1;if(typeof window<"u")try{var j0=Object.defineProperty({},"passive",{get:function(){return aT=!0,!0}});window.addEventListener("test",j0,j0),window.removeEventListener("test",j0,j0)}catch{aT=!1}var lh=aT?{passive:!1}:!1,X0e=function(e){return e.tagName==="TEXTAREA"},dK=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!X0e(e)&&n[t]==="visible")},Q0e=function(e){return dK(e,"overflowY")},J0e=function(e){return dK(e,"overflowX")},S5=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=fK(e,r);if(i){var a=hK(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Z0e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ewe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},fK=function(e,t){return e==="v"?Q0e(t):J0e(t)},hK=function(e,t){return e==="v"?Z0e(t):ewe(t)},twe=function(e,t){return e==="h"&&t==="rtl"?-1:1},nwe=function(e,t,n,r,i){var a=twe(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=hK(e,l),p=m[0],g=m[1],y=m[2],v=g-y-a*p;(p||v)&&fK(e,l)&&(f+=v,h+=p);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},_0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},C5=function(e){return[e.deltaX,e.deltaY]},E5=function(e){return e&&"current"in e?e.current:e},rwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},swe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iwe=0,ch=[];function awe(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(iwe++)[0],a=x.useState(uK)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=E0e([e.lockRef.current],(e.shards||[]).map(E5),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=_0(g),w=n.current,b="deltaX"in g?g.deltaX:w[0]-v[0],j="deltaY"in g?g.deltaY:w[1]-v[1],_,N=g.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&S==="h"&&N.type==="range")return!1;var C=S5(S,N);if(!C)return!0;if(C?_=S:(_=S==="v"?"h":"v",C=S5(S,N)),!C)return!1;if(!r.current&&"changedTouches"in g&&(b||j)&&(r.current=_),!_)return!0;var k=r.current||_;return nwe(k,y,g,k==="h"?b:j)},[]),c=x.useCallback(function(g){var y=g;if(!(!ch.length||ch[ch.length-1]!==a)){var v="deltaY"in y?C5(y):_0(y),w=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&rwe(_.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(E5).filter(Boolean).filter(function(_){return _.contains(y.target)}),j=b.length>0?l(y,b[0]):!o.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=x.useCallback(function(g,y,v,w){var b={name:g,delta:y,target:v,should:w,shadowParent:owe(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=x.useCallback(function(g){n.current=_0(g),r.current=void 0},[]),f=x.useCallback(function(g){u(g.type,C5(g),g.target,l(g,e.lockRef.current))},[]),h=x.useCallback(function(g){u(g.type,_0(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return ch.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,lh),document.addEventListener("touchmove",c,lh),document.addEventListener("touchstart",d,lh),function(){ch=ch.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,lh),document.removeEventListener("touchmove",c,lh),document.removeEventListener("touchstart",d,lh)}},[]);var m=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(a,{styles:swe(i)}):null,m?x.createElement(Y0e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function owe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lwe=I0e(cK,awe);var Jy=x.forwardRef(function(e,t){return x.createElement(k1,So({},e,{ref:t,sideCar:lwe}))});Jy.classNames=k1.classNames;var cwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},uh=new WeakMap,N0=new WeakMap,S0={},yE=0,mK=function(e){return e&&(e.host||mK(e.parentNode))},uwe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=mK(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dwe=function(e,t,n,r){var i=uwe(t,Array.isArray(e)?e:[e]);S0[n]||(S0[n]=new WeakMap);var a=S0[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),p=m!==null&&m!=="false",g=(uh.get(h)||0)+1,y=(a.get(h)||0)+1;uh.set(h,g),a.set(h,y),o.push(h),g===1&&p&&N0.set(h,!0),y===1&&h.setAttribute(n,"true"),p||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),yE++,function(){o.forEach(function(f){var h=uh.get(f)-1,m=a.get(f)-1;uh.set(f,h),a.set(f,m),h||(N0.has(f)||f.removeAttribute(r),N0.delete(f)),m||f.removeAttribute(n)}),yE--,yE||(uh=new WeakMap,uh=new WeakMap,N0=new WeakMap,S0={})}},A1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=cwe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),dwe(r,i,n,"aria-hidden")):function(){return null}},T1="Dialog",[pK,gK]=sr(T1),[fwe,uo]=pK(T1),xK=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=Or({prop:r,defaultProp:i??!1,onChange:a,caller:T1});return s.jsx(fwe,{scope:t,triggerRef:l,contentRef:c,contentId:xr(),titleId:xr(),descriptionId:xr(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};xK.displayName=T1;var vK="DialogTrigger",yK=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=uo(vK,n),a=it(t,i.triggerRef);return s.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":qD(i.open),...r,ref:a,onClick:Te(e.onClick,i.onOpenToggle)})});yK.displayName=vK;var BD="DialogPortal",[hwe,bK]=pK(BD,{forceMount:void 0}),wK=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=uo(BD,t);return s.jsx(hwe,{scope:t,forceMount:n,children:x.Children.map(r,o=>s.jsx(vs,{present:n||a.open,children:s.jsx(Rp,{asChild:!0,container:i,children:o})}))})};wK.displayName=BD;var Kj="DialogOverlay",jK=x.forwardRef((e,t)=>{const n=bK(Kj,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=uo(Kj,e.__scopeDialog);return a.modal?s.jsx(vs,{present:r||a.open,children:s.jsx(pwe,{...i,ref:t})}):null});jK.displayName=Kj;var mwe=xu("DialogOverlay.RemoveScroll"),pwe=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=uo(Kj,n);return s.jsx(Jy,{as:mwe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx($e.div,{"data-state":qD(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),vf="DialogContent",_K=x.forwardRef((e,t)=>{const n=bK(vf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=uo(vf,e.__scopeDialog);return s.jsx(vs,{present:r||a.open,children:a.modal?s.jsx(gwe,{...i,ref:t}):s.jsx(xwe,{...i,ref:t})})});_K.displayName=vf;var gwe=x.forwardRef((e,t)=>{const n=uo(vf,e.__scopeDialog),r=x.useRef(null),i=it(t,n.contentRef,r);return x.useEffect(()=>{const a=r.current;if(a)return A1(a)},[]),s.jsx(NK,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Te(e.onFocusOutside,a=>a.preventDefault())})}),xwe=x.forwardRef((e,t)=>{const n=uo(vf,e.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return s.jsx(NK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),NK=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=uo(vf,n),c=x.useRef(null),u=it(t,c);return E1(),s.jsxs(s.Fragment,{children:[s.jsx(Qy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(If,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qD(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ywe,{titleId:l.titleId}),s.jsx(wwe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),UD="DialogTitle",SK=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=uo(UD,n);return s.jsx($e.h2,{id:i.titleId,...r,ref:t})});SK.displayName=UD;var CK="DialogDescription",EK=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=uo(CK,n);return s.jsx($e.p,{id:i.descriptionId,...r,ref:t})});EK.displayName=CK;var kK="DialogClose",AK=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=uo(kK,n);return s.jsx($e.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,()=>i.onOpenChange(!1))})});AK.displayName=kK;function qD(e){return e?"open":"closed"}var TK="DialogTitleWarning",[vwe,PK]=Zfe(TK,{contentName:vf,titleName:UD,docsSlug:"dialog"}),ywe=({titleId:e})=>{const t=PK(TK),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},bwe="DialogDescriptionWarning",wwe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PK(bwe).contentName}}.`;return x.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},VD=xK,OK=yK,P1=wK,Wp=jK,Gp=_K,Zy=SK,eb=EK,tb=AK;const pt=VD,Ll=OK,jwe=P1,_we=tb,RK=x.forwardRef(({className:e,...t},n)=>s.jsx(Wp,{ref:n,className:de("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));RK.displayName=Wp.displayName;const gt=x.forwardRef(({className:e,children:t,hideCloseButton:n,...r},i)=>s.jsxs(jwe,{children:[s.jsx(RK,{}),s.jsx(Gp,{ref:i,className:de("fixed left-[50%] top-[50%] z-50 grid w-[80vw] max-w-none translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg transition-[height] ease-in-out duration-300 overflow-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:t})]}));gt.displayName=Gp.displayName;const jt=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});jt.displayName="DialogHeader";const Kt=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Kt.displayName="DialogFooter";const xt=x.forwardRef(({className:e,...t},n)=>s.jsx(Zy,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));xt.displayName=Zy.displayName;const Mt=x.forwardRef(({className:e,...t},n)=>s.jsx(eb,{ref:n,className:de("text-sm text-muted-foreground",e),...t}));Mt.displayName=eb.displayName;const Ev=Lf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?the:"button";return s.jsx(o,{className:de(Ev({variant:t,size:n,className:e})),ref:a,...i})});H.displayName="Button";const Nwe=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(""),d=It(),[f]=Up(),{getDefaultDashboard:h}=cr(),[m,p]=x.useState(null),[g,y]=x.useState(null),[v,w]=x.useState(!1),[b,j]=x.useState(!1);x.useEffect(()=>{const A=f.get("invitation_token");A&&(p(A),_(A));const{data:T}=q.auth.onAuthStateChange(async(R,$)=>{if(R==="SIGNED_IN"&&$)if(m)await N();else{const O=h();d(O)}});return(async()=>{const{data:{session:R}}=await q.auth.getSession();if(R){if(m&&g)w(!0);else if(!m){const $=h();d($)}}})(),()=>{T&&T.subscription&&T.subscription.unsubscribe()}},[d,h,f,m]);const _=async A=>{try{const T=await ji.getInvitationByToken(A);if(T){y(T);const{data:{session:E}}=await q.auth.getSession();E&&w(!0)}}catch(T){console.error("Erreur lors de la vérification de l'invitation:",T),p(null),y(null),d("/login",{replace:!0}),we({title:"Invitation invalide",description:"Le lien d'invitation est invalide ou a expiré",variant:"destructive"})}},N=async()=>{if(!(!m||!g)){j(!0);try{const A=await ji.acceptInvitation(m);if(A.success)we({title:"Invitation acceptée",description:`Vous avez rejoint le projet "${g.projectName}" avec succès`}),w(!1),p(null),y(null),d("/login",{replace:!0}),setTimeout(()=>{d(h())},1e3);else throw new Error(A.error)}catch(A){console.error("Erreur lors de l'acceptation de l'invitation:",A),we({title:"Erreur",description:"Impossible d'accepter l'invitation",variant:"destructive"})}finally{j(!1)}}},S=()=>{w(!1),p(null),y(null),d("/login",{replace:!0}),we({title:"Invitation refusée",description:"Vous avez refusé l'invitation de collaboration"})},C=async A=>{A.preventDefault(),a(!0);try{const{error:T}=await q.auth.signInWithPassword({email:e,password:n});if(T)throw T;const E=h();d(E)}catch(T){we({title:"Erreur de connexion",description:T.message||"Une erreur s'est produite lors de la connexion",variant:"destructive"})}finally{a(!1)}},k=async()=>{a(!0);try{const{data:A,error:T}=await q.auth.signInWithOAuth({provider:"google",options:{queryParams:{access_type:"offline",prompt:"consent"},redirectTo:`${window.location.origin}/auth/callback`}});if(T)throw T}catch(A){we({title:"Erreur de connexion",description:A.message||"Une erreur s'est produite lors de la connexion avec Google",variant:"destructive"}),a(!1)}};return s.jsxs("div",{className:"min-h-[calc(100vh-73px)] flex items-center justify-center p-4",children:[s.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-xl shadow-sm animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-2 bg-gradient-to-r from-aurentia-pink to-aurentia-orange bg-clip-text text-transparent",children:"Bienvenue sur Aurentia"}),s.jsx("p",{className:"text-gray-600",children:"Transformez vos idées en projets viables"})]}),s.jsxs("form",{onSubmit:C,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:A=>t(A.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"votre@email.com",required:!0,disabled:i})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),s.jsx("button",{type:"button",className:"text-sm text-aurentia-pink hover:text-aurentia-orange transition",onClick:()=>l(!0),children:"Mot de passe oublié"})]}),s.jsx("input",{id:"password",type:"password",value:n,onChange:A=>r(A.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"••••••••",required:!0,disabled:i})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{type:"submit",className:"w-full btn-primary py-3",disabled:i,children:i?"Connexion...":"Se connecter"})}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-white px-2 text-gray-400",children:"ou"})})]}),s.jsxs("button",{type:"button",onClick:k,className:"w-full flex items-center justify-center gap-2 py-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition",disabled:i,children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M18.1716 8.36791H17.5001V8.33333H10.0001V11.6667H14.7097C14.0221 13.6071 12.1801 15 10.0001 15C7.23866 15 5.00008 12.7614 5.00008 10C5.00008 7.23858 7.23866 5 10.0001 5C11.2959 5 12.4784 5.48098 13.3618 6.26625L15.8001 3.82791C14.2918 2.46425 12.2584 1.66667 10.0001 1.66667C5.39758 1.66667 1.66675 5.3975 1.66675 10C1.66675 14.6025 5.39758 18.3333 10.0001 18.3333C14.6026 18.3333 18.3334 14.6025 18.3334 10C18.3334 9.44125 18.2726 8.89625 18.1716 8.36791Z",fill:"#FFC107"}),s.jsx("path",{d:"M2.62744 6.12425L5.36494 8.1485C6.10119 6.30508 7.90036 5 10.0001 5C11.2959 5 12.4784 5.48098 13.3618 6.26625L15.8001 3.82791C14.2918 2.46425 12.2584 1.66667 10.0001 1.66667C6.87911 1.66667 4.21619 3.47633 2.62744 6.12425Z",fill:"#FF3D00"}),s.jsx("path",{d:"M10.0001 18.3333C12.2126 18.3333 14.2084 17.5646 15.7068 16.2481L13.0326 13.9888C12.1352 14.6441 11.0468 15 10.0001 15C7.83019 15 5.99769 13.6221 5.30185 11.6975L2.48352 13.8695C4.05185 16.5783 6.74269 18.3333 10.0001 18.3333Z",fill:"#4CAF50"}),s.jsx("path",{d:"M18.1716 8.36791H17.5001V8.33333H10.0001V11.6667H14.7097C14.3809 12.6051 13.7889 13.4221 13.0309 13.9896L13.0326 13.9879L15.7068 16.2471C15.5068 16.4279 18.3334 14.1667 18.3334 10C18.3334 9.44125 18.2726 8.89625 18.1716 8.36791Z",fill:"#1976D2"})]}),s.jsx("span",{children:"Continuer avec Google"})]})]}),o&&s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-center",children:"Réinitialiser le mot de passe"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"forgot-password-email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{id:"forgot-password-email",type:"email",value:c,onChange:A=>u(A.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"votre@email.com",required:!0,disabled:i})]}),s.jsx("button",{type:"button",className:"w-full btn-primary py-3",onClick:async()=>{a(!0);try{const{data:A,error:T}=await q.functions.invoke("send-password-reset",{body:{email:c}});if(T)throw T;we({title:"Email envoyé",description:A.message||"Veuillez vérifier votre email pour le lien de réinitialisation."}),l(!1),u("")}catch(A){we({title:"Erreur",description:A.message||"Une erreur s'est produite.",variant:"destructive"})}finally{a(!1)}},disabled:i,children:i?"Envoi...":"Envoyer le lien de réinitialisation"}),s.jsx("button",{type:"button",className:"w-full text-sm text-gray-600 hover:text-gray-800 transition",onClick:()=>l(!1),disabled:i,children:"Annuler"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:["Pas encore de compte ?"," ",s.jsx("a",{href:"/signup",className:"text-aurentia-pink hover:text-aurentia-orange transition",children:"Inscrivez-vous"})]})]}),s.jsx(pt,{open:v,onOpenChange:w,children:s.jsxs(gt,{className:"sm:max-w-md",children:[s.jsxs(jt,{children:[s.jsxs(xt,{className:"flex items-center gap-2",children:[s.jsx(et,{className:"text-blue-600",size:24}),"Invitation de collaboration"]}),s.jsx(Mt,{children:"Vous avez été invité à collaborer sur un projet Aurentia"})]}),g&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:g.projectName}),g.projectDescription&&s.jsx("p",{className:"text-blue-700 text-sm",children:g.projectDescription}),s.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:[s.jsx("strong",{children:"Rôle :"})," ",g.role==="admin"?"Administrateur":g.role==="editor"?"Éditeur":"Lecteur"]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"En acceptant cette invitation, vous rejoindrez l'équipe de ce projet et pourrez collaborer selon vos permissions."})]}),s.jsxs(Kt,{className:"flex gap-2 sm:justify-between",children:[s.jsxs(H,{variant:"outline",onClick:S,disabled:b,className:"flex items-center gap-2",children:[s.jsx(hi,{size:16}),"Refuser"]}),s.jsx(H,{onClick:N,disabled:b,className:"bg-gradient-primary text-white flex items-center gap-2",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Acceptation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gt,{size:16}),"Accepter"]})})]})]})})]})},DK=async e=>{try{const{data:t,error:n}=await q.rpc("validate_invitation_code",{p_code:e});return n?(console.error("Error validating invitation code:",n),{valid:!1,reason:"Erreur lors de la validation"}):!t||!t.valid?{valid:!1,reason:"Code invalide ou expiré"}:{valid:!0,role:t.role,organization:t.organization_name?{id:t.organization_id,name:t.organization_name}:void 0,codeData:{id:t.code,code:t.code,expires_at:t.expires_at,max_uses:t.max_uses,current_uses:t.current_uses,remaining_uses:t.remaining_uses,is_active:t.is_active,created_at:t.created_at}}}catch(t){return console.error("Error validating invitation code:",t),{valid:!1,reason:"Erreur lors de la validation"}}},MK=async(e,t)=>{const n=await DK(e);if(!n.valid)throw new Error(n.reason);try{const{data:r,error:i}=await q.rpc("redeem_invitation_code_v2",{p_code:e,p_user_id:t});if(i)throw console.error("Error redeeming invitation code:",i),new Error("Erreur lors de l'utilisation du code d'invitation");if(!r||!r.success)throw new Error("Échec de l'utilisation du code d'invitation");return{userRole:r.user_role,organization:n.organization}}catch(r){throw console.error("Error using invitation code:",r),r}};class Swe{async sendConfirmationEmail(t){var n;try{console.log("[EmailConfirmationService] Sending confirmation email request:",{email:t.email,userId:t.userId,isResend:t.isResend}),console.log("[EmailConfirmationService] Invoking edge function: send-confirmation-email");const{data:r,error:i}=await q.functions.invoke("send-confirmation-email",{body:{...t,userAgent:navigator.userAgent}});if(console.log("[EmailConfirmationService] Edge function response:",{data:r,error:i}),i){console.error("[EmailConfirmationService] Erreur fonction send-confirmation-email:",i),console.error("[EmailConfirmationService] Détails de l'erreur de la fonction Edge:",JSON.stringify(i,null,2));let a=i.message||"Erreur lors de l'envoi",o,l;try{if(i.context&&typeof i.context=="object"&&i.context.errors&&i.context.errors.length>0){const c=i.context.errors[0];c.message&&(a=c.message),c.details&&c.details.retryAfter&&(o=c.details.retryAfter),c.details&&c.details.limits&&(l=c.details.limits)}else i.message.includes("429")&&(a="Trop de tentatives. Veuillez patienter avant de réessayer.",o=3600)}catch(c){console.warn("Erreur lors du parsing du détail de l'erreur de la fonction Edge:",c)}return console.error("[EmailConfirmationService] Returning error response:",{errorMessage:a,retryAfter:o,limits:l}),{success:!1,error:a,retryAfter:o,limits:l}}return console.log("[EmailConfirmationService] Email sent successfully, returning data:",r),r}catch(r){return console.error("Erreur sendConfirmationEmail (catch global):",r),(n=r.message)!=null&&n.includes("429")?{success:!1,error:"Trop de tentatives. Veuillez patienter avant de réessayer.",retryAfter:3600}:{success:!1,message:"Échec de l'envoi",error:r.message||"Erreur lors de l'envoi de l'email de confirmation"}}}async verifyEmailToken(t){try{const{data:n,error:r}=await q.functions.invoke("confirm-email",{body:{...t,userAgent:navigator.userAgent}});if(r)throw console.error("Erreur fonction confirm-email:",r),new Error(r.message||"Erreur lors de la confirmation");return n}catch(n){return console.error("Erreur verifyEmailToken:",n),{success:!1,error:n.message||"Erreur lors de la vérification du token",code:"INTERNAL_ERROR"}}}async getConfirmationStatus(t){try{const{data:n,error:r}=await q.rpc("get_email_confirmation_status",{p_user_id:t});if(r)return console.error("Erreur getConfirmationStatus via RPC:",r),null;if(console.log("DEBUG - getConfirmationStatus RPC data:",n),n){const i=n;return console.log("DEBUG - getConfirmationStatus RPC parsed status:",i),i}return null}catch(n){return console.error("Erreur getConfirmationStatus (catch global):",n),null}}async needsEmailConfirmation(t){try{const{data:n,error:r}=await q.from("profiles").select("email_confirmation_required, email_confirmed_at").eq("id",t).single();if(r){console.error("Erreur needsEmailConfirmation (profiles):",r);const{count:a,error:o}=await q.from("email_confirmations").select("id",{count:"exact"}).eq("user_id",t).eq("status","pending");return o?(console.error("Erreur needsEmailConfirmation (email_confirmations):",o),!1):(a||0)>0}const i=(n==null?void 0:n.email_confirmation_required)!==!1||(n==null?void 0:n.email_confirmed_at)===null;return console.log("DEBUG - needsEmailConfirmation:",{userId:t,email_confirmation_required:n==null?void 0:n.email_confirmation_required,email_confirmed_at:n==null?void 0:n.email_confirmed_at,needsConfirmation:i}),i}catch(n){return console.error("Erreur needsEmailConfirmation (catch):",n),!1}}subscribeToConfirmationStatus(t,n){const r=q.channel("email-confirmation-status").on("postgres_changes",{event:"*",schema:"public",table:"email_confirmations",filter:`user_id=eq.${t}`},i=>{console.log("DEBUG - Realtime changement confirmation:",i),i.eventType==="UPDATE"||i.eventType==="INSERT"?n(i.new):i.eventType==="DELETE"&&n(null)}).subscribe();return()=>{q.removeChannel(r)}}async cancelConfirmation(t){try{const{error:n}=await q.from("email_confirmations").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",t);return n?(console.error("Erreur cancelConfirmation:",n),!1):!0}catch(n){return console.error("Erreur cancelConfirmation:",n),!1}}showResultToast(t){t.success?we({title:"Email envoyé !",description:t.message||"Vérifiez votre boîte de réception."}):we({title:"Erreur",description:t.error||"Impossible d'envoyer l'email.",variant:"destructive"})}showVerificationToast(t){if(t.success)we({title:"Email confirmé !",description:t.message||"Votre compte est maintenant actif."});else{let n=t.error||"Impossible de confirmer l'email.";switch(t.code){case"INVALID_TOKEN":n="Le lien de confirmation est invalide ou incorrect.";break;case"ALREADY_CONFIRMED":n="Cet email a déjà été confirmé.";break;case"TOKEN_EXPIRED":n="Le lien de confirmation a expiré. Demandez un nouveau lien.";break;case"CONFIRMATION_FAILED":n="Erreur lors de la confirmation. Veuillez réessayer.";break}we({title:"Erreur de confirmation",description:n,variant:"destructive"})}}formatTimeRemaining(t){const n=new Date,i=new Date(t).getTime()-n.getTime();if(i<=0)return"Expiré";const a=Math.floor(i/(1e3*60*60)),o=Math.floor(i%(1e3*60*60)/(1e3*60));return a>0?`${a}h ${o}min`:`${o}min`}}const Js=new Swe,re=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));re.displayName="Card";const pe=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",e),...t}));pe.displayName="CardHeader";const me=x.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",e),...t}));me.displayName="CardTitle";const Xe=x.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",e),...t}));Xe.displayName="CardDescription";const ie=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:de("p-6 pt-0",e),...t}));ie.displayName="CardContent";const HD=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",e),...t}));HD.displayName="CardFooter";const IK=({isOpen:e,onClose:t,email:n,userId:r,onConfirmed:i})=>{console.log("========================================"),console.log("EmailConfirmationModal RENDER"),console.log("isOpen:",e),console.log("userId:",r),console.log("email:",n),console.log("========================================");const[a,o]=x.useState("waiting"),[l,c]=x.useState(null),[u,d]=x.useState(!1),[f,h]=x.useState(0),[m,p]=x.useState(!1),[g,y]=x.useState(!1),v=x.useCallback(async()=>{if(g)try{const _=await Js.getConfirmationStatus(r);_&&(c({..._}),_.status==="confirmed"?(o("confirmed"),setTimeout(()=>{i(),t()},2e3)):_.status==="expired"?o("expired"):_.status==="failed"&&o("failed"))}catch(_){console.warn("Erreur polling:",_)}},[r,i,t,g]);x.useEffect(()=>{if(!e||!r)return;y(!0);let _=null,N=null;try{_=Js.subscribeToConfirmationStatus(r,S=>{S&&(c({...S}),S.status==="confirmed"?(o("confirmed"),setTimeout(()=>{i(),t()},2e3)):S.status==="expired"?o("expired"):S.status==="failed"&&o("failed"))}),console.log("✅ Realtime subscription active")}catch(S){console.warn("⚠️ Realtime failed, using polling:",S)}return N=setInterval(()=>{console.log("EmailConfirmationModal: Polling for status..."),v()},1e4),console.log("EmailConfirmationModal: Initial poll for status..."),v(),()=>{y(!1),_&&_(),N&&(clearInterval(N),console.log("EmailConfirmationModal: Polling interval cleared."))}},[e,r,v]),x.useEffect(()=>{console.log("EmailConfirmationModal useEffect [isOpen, confirmationData] triggered.");let _=null;if(e){const N=new Date;let S=!0,C=0;if(l!=null&&l.last_sent_at){const k=new Date(l.last_sent_at),A=6e4,T=N.getTime()-k.getTime(),E=Math.ceil((A-T)/1e3);E>0&&(C=E,S=!1)}console.log("EmailConfirmationModal: confirmationData",l),console.log("EmailConfirmationModal: last_sent_at",l==null?void 0:l.last_sent_at),console.log("EmailConfirmationModal: initialResendCooldown",C),console.log("EmailConfirmationModal: initialCanResend",S),d(S),h(C),console.log("EmailConfirmationModal useEffect: Initializing cooldown. initialResendCooldown:",C,"initialCanResend:",S),C>0&&(_=setInterval(()=>{h(k=>{const A=k-1;return console.log("EmailConfirmationModal useEffect: Decrementing cooldown. Current:",k,"New:",A),A<=0?(d(!0),0):A})},1e3))}else console.log("EmailConfirmationModal useEffect: Modal is closed or not open, clearing timer.");return()=>{_&&(clearInterval(_),console.log("EmailConfirmationModal useEffect: Timer cleared."))}},[e,l]);const w=async()=>{if(!(!u||m)){p(!0);try{const _=await Js.sendConfirmationEmail({email:n,userId:r,isResend:!0});if(console.log("handleResend: Result from sendConfirmationEmail:",_),_.success)we({title:"Email renvoyé !",description:"Un nouveau lien de confirmation vous a été envoyé."}),d(!1),h(60),console.log("handleResend: Email sent successfully. Cooldown reset to 60s.");else if(Js.showResultToast(_),_.message&&_.message.includes("Limite de taux atteinte")){console.log("handleResend: Rate limit message detected:",_.message);const N=_.message.match(/Réessayer après: (\d+) s/);if(N&&N[1]){const S=parseInt(N[1],10);h(S),d(!1),console.log(`handleResend: Cooldown mis à jour depuis le backend: ${S}s`)}else console.log("handleResend: Regex match failed for cooldown value.")}else console.log("handleResend: No rate limit message or regex failed.")}catch(_){console.error("handleResend: Error during resend:",_),we({title:"Erreur",description:"Impossible de renvoyer l'email. Réessayez plus tard.",variant:"destructive"})}finally{p(!1)}}},b=()=>{switch(a){case"waiting":return"Confirmez votre email";case"confirmed":return"Email confirmé !";case"expired":return"Lien expiré";case"failed":return"Erreur de confirmation";default:return"Confirmation d'email"}},j=()=>{switch(a){case"waiting":return s.jsxs(s.Fragment,{children:["Nous avons envoyé un email de confirmation à ",s.jsx("strong",{children:n}),". Cliquez sur le lien dans l'email pour activer votre compte."]});case"confirmed":return"Parfait ! Votre compte est maintenant activé. Redirection en cours...";case"expired":return"Le lien de confirmation a expiré. Vous pouvez demander un nouveau lien ci-dessous.";case"failed":return"Une erreur s'est produite lors de la confirmation. Veuillez réessayer.";default:return""}};return s.jsx(pt,{open:e,onOpenChange:t,children:s.jsxs(gt,{className:"sm:max-w-md z-[100]",onPointerDownOutside:_=>_.preventDefault(),onEscapeKeyDown:_=>_.preventDefault(),children:[s.jsxs(jt,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Ft,{className:"h-12 w-12 text-aurentia-orange"})}),s.jsx(xt,{className:"text-xl font-semibold text-center",children:b()})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center",children:j()}),a==="confirmed"&&s.jsx(re,{className:"bg-green-50 border-green-200",children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3 text-green-700",children:[s.jsx(Gt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Confirmation réussie"})]})})}),s.jsx("div",{className:"flex flex-col gap-3",children:(a==="waiting"||a==="expired")&&s.jsx(H,{onClick:w,disabled:!u||m,className:"w-full bg-aurentia-orange text-white hover:bg-aurentia-orange/90 disabled:opacity-50 disabled:cursor-not-allowed",children:m?s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"h-4 w-4 mr-2 animate-spin"}),"Envoi en cours..."]}):u?s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Renvoyer l'email"]}):s.jsxs(s.Fragment,{children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Renvoi d'email possible dans ",f,"s"]})})}),a==="waiting"&&s.jsx("div",{className:"bg-aurentia-orange/10 border border-aurentia-orange/30 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ts,{className:"h-4 w-4 text-aurentia-orange mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-aurentia-orange-dark",children:[s.jsx("p",{className:"font-medium mb-1",children:"Pas d'email reçu ?"}),s.jsxs("ul",{className:"space-y-1 text-aurentia-orange-darker",children:[s.jsx("li",{children:"• Vérifiez votre dossier spam/indésirables"}),s.jsx("li",{children:"• Attendez quelques minutes (délai de livraison)"}),s.jsx("li",{children:'• Utilisez le bouton "Renvoyer" si nécessaire'})]})]})]})})]})]})})},O1=async e=>{const{data:t,error:n}=await q.from("organizations").select("*").eq("id",e).single();if(n)throw n;return t},WD=async(e,t)=>{const{data:n,error:r}=await q.from("organizations").update(t).eq("id",e).select().single();if(r)throw r;return n},Cwe=async(e,t)=>{const{data:n,error:r}=await q.from("organizations").update(t).eq("id",e).select().single();if(r)throw r;return n},Ewe=()=>({totalAdherents:0,activeProjects:0,completedProjects:0,totalMentors:0,newThisMonth:0,recentSignups:0,averageProgress:0,totalDeliverables:0,completedDeliverables:0,totalEvents:0,upcomingEvents:0,totalPartners:0,activePartners:0,monthlyGrowth:0,conversionRate:0}),LK=async e=>{try{console.log("🔍 Fetching stats for organization:",e);const{count:t,error:n}=await q.from("user_organizations").select("*",{count:"exact",head:!0}).eq("organization_id",e).eq("status","active").in("user_role",["entrepreneur","member"]);n&&console.error("Error counting members:",n);const r=new Date;r.setDate(1),r.setHours(0,0,0,0);const{count:i,error:a}=await q.from("user_organizations").select("*",{count:"exact",head:!0}).eq("organization_id",e).eq("status","active").in("user_role",["entrepreneur","member"]).gte("joined_at",r.toISOString());a&&console.error("Error counting new members:",a);const{count:o,error:l}=await q.from("mentors").select("*",{count:"exact",head:!0}).eq("organization_id",e).eq("status","active");l&&console.error("Error counting mentors:",l);const{count:c,error:u}=await q.from("projects").select("*",{count:"exact",head:!0}).eq("organization_id",e);u&&console.error("Error counting projects:",u);const{count:d,error:f}=await q.from("projects").select("*",{count:"exact",head:!0}).eq("organization_id",e).eq("status","active");f&&console.error("Error counting active projects:",f);const{count:h,error:m}=await q.from("projects").select("*",{count:"exact",head:!0}).eq("organization_id",e).eq("status","completed");m&&console.error("Error counting completed projects:",m);const{count:p,error:g}=await q.from("deliverables").select("*",{count:"exact",head:!0}).eq("organization_id",e);g&&console.error("Error counting deliverables:",g);const{count:y,error:v}=await q.from("deliverables").select("*",{count:"exact",head:!0}).eq("organization_id",e).in("status",["completed","approved"]);v&&console.error("Error counting completed deliverables:",v);const w=c&&c>0?Math.round((h||0)/c*100):0;return console.log("✅ Successfully fetched organization stats using direct table queries"),{totalAdherents:t||0,activeProjects:d||0,completedProjects:h||0,totalMentors:o||0,newThisMonth:i||0,recentSignups:i||0,averageProgress:w,totalDeliverables:p||0,completedDeliverables:y||0,totalEvents:0,upcomingEvents:0,totalPartners:0,activePartners:0,monthlyGrowth:0,conversionRate:w}}catch(t){return console.error("Error in getOrganisationStats:",t),Ewe()}},$K=async e=>{console.log("🔍 Fetching members for organization:",e);try{const{data:t,error:n}=await q.from("user_organizations").select("user_id, user_role, joined_at, status").eq("organization_id",e).eq("status","active").order("joined_at",{ascending:!1});if(n)return console.error("Error fetching user organizations:",n),[];if(!t||t.length===0)return console.log("No active members found for organization"),[];const r=t.map(d=>d.user_id),{data:i,error:a}=await q.from("profiles").select("id, email, first_name, last_name, phone, created_at").in("id",r);if(a)return console.error("Error fetching profiles:",a),[];const{data:o,error:l}=await q.from("projects").select("creator_id").eq("organization_id",e).in("creator_id",r);l&&console.error("Error fetching project counts:",l);const c={};(o||[]).forEach(d=>{c[d.creator_id]=(c[d.creator_id]||0)+1});const u=t.map(d=>{var h;const f=i==null?void 0:i.find(m=>m.id===d.user_id);return{id:d.user_id,email:(f==null?void 0:f.email)||"N/A",first_name:(f==null?void 0:f.first_name)||((h=f==null?void 0:f.email)==null?void 0:h.split("@")[0])||"Prénom",last_name:(f==null?void 0:f.last_name)||"",phone:(f==null?void 0:f.phone)||"",user_role:d.user_role,organization_id:e,projects_count:c[d.user_id]||0,created_at:(f==null?void 0:f.created_at)||d.joined_at,invitation_code_used:null}});return console.log("✅ Successfully fetched",u.length,"members using direct table queries"),u}catch(t){return console.error("Error in getOrganisationMembers:",t),[]}},FK=async e=>{try{console.log("🔍 Fetching projects for organization:",e);const{data:t,error:n}=await q.from("projects").select(`
        id,
        title,
        description,
        creator_id,
        status,
        progress,
        category,
        created_at,
        updated_at
      `).eq("organization_id",e).order("updated_at",{ascending:!1});if(n)return console.error("Error fetching organization projects:",n),[];if(!t||t.length===0)return console.log("No projects found for organization"),[];const r=[...new Set(t.map(p=>p.creator_id))],{data:i,error:a}=await q.from("profiles").select("id, email, first_name, last_name").in("id",r);a&&console.error("Error fetching creators:",a);const o=t.map(p=>p.id),{data:l,error:c}=await q.from("deliverables").select("new_project_id, status").in("new_project_id",o);c&&console.error("Error fetching deliverables:",c);const u={};(l||[]).forEach(p=>{u[p.new_project_id]||(u[p.new_project_id]={total:0,completed:0}),u[p.new_project_id].total+=1,["completed","approved"].includes(p.status)&&(u[p.new_project_id].completed+=1)});const{data:d,error:f}=await q.from("project_summary").select("project_id, user_id").in("user_id",r);f&&console.error("Error fetching legacy projects:",f);const h={};(d||[]).forEach(p=>{h[p.user_id]=p.project_id});const m=t.map(p=>{var w;const g=i==null?void 0:i.find(b=>b.id===p.creator_id),y=u[p.id]||{total:0,completed:0};return{project_id:h[p.creator_id]||p.id,user_id:p.creator_id,nom_projet:p.title,description_synthetique:p.description,statut:p.status,avancement_global:((w=p.progress)==null?void 0:w.toString())||"0",progress:p.progress||0,created_at:p.created_at,updated_at:p.updated_at,linked_to_organization:!0}});return console.log("✅ Successfully fetched",m.length,"projects using direct table queries"),m}catch(t){return console.error("Error fetching organization projects:",t),[]}},zK=async e=>{const{data:t,error:n}=await q.from("invitation_code").select("*").eq("organization_id",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching invitation codes:",n),[]):t||[]},BK=async e=>{try{console.log("🔍 Fetching adherents for organization:",e);const{data:t,error:n}=await q.from("user_organizations").select("user_id, user_role, joined_at, status").eq("organization_id",e).eq("status","active").in("user_role",["entrepreneur","member"]);if(n)return console.error("Error fetching user organizations:",n),[];if(!t||t.length===0)return[];const r=t.map(b=>b.user_id),{data:i,error:a}=await q.from("profiles").select(`
        id, email, first_name, last_name, phone, avatar_url, linkedin_url,
        website, bio, location, company, job_title, program_type, cohort_year,
        training_budget, availability_schedule, monthly_credits_remaining,
        purchased_credits_remaining
      `).in("id",r);if(a)return console.error("Error fetching profiles:",a),[];const{data:o,error:l}=await q.from("projects").select("id, title, creator_id, status").eq("organization_id",e).in("creator_id",r);l&&console.error("Error fetching projects:",l);const c={};(o||[]).forEach(b=>{c[b.creator_id]||(c[b.creator_id]={total:0,active:0,names:[]}),c[b.creator_id].total+=1,b.status==="active"&&(c[b.creator_id].active+=1),c[b.creator_id].names.push(b.title)});const{data:u,error:d}=await q.from("deliverables").select("entrepreneur_id, status").eq("organization_id",e).in("entrepreneur_id",r);d&&console.error("Error fetching deliverables:",d);const f={};(u||[]).forEach(b=>{f[b.entrepreneur_id]||(f[b.entrepreneur_id]={total:0,completed:0}),f[b.entrepreneur_id].total+=1,["completed","approved"].includes(b.status)&&(f[b.entrepreneur_id].completed+=1)});const{data:h,error:m}=await q.from("mentor_assignments").select(`
        entrepreneur_id,
        mentor_id,
        mentors!inner(
          user_id,
          profiles!inner(first_name, last_name)
        )
      `).eq("organization_id",e).in("entrepreneur_id",r).eq("status","active");m&&console.error("Error fetching mentor assignments:",m);const p={};(h||[]).forEach(b=>{var _,N,S,C;p[b.entrepreneur_id]||(p[b.entrepreneur_id]=[]);const j=`${((N=(_=b.mentors)==null?void 0:_.profiles)==null?void 0:N.first_name)||""} ${((C=(S=b.mentors)==null?void 0:S.profiles)==null?void 0:C.last_name)||""}`.trim();j&&p[b.entrepreneur_id].push(j)});const{data:g,error:y}=await q.from("member_subscriptions").select("user_id, status, days_overdue, last_payment_date, next_payment_date, amount").eq("organization_id",e).in("user_id",r);y&&console.error("Error fetching subscriptions:",y);const v={};(g||[]).forEach(b=>{v[b.user_id]=b});const w=t.map(b=>{var A;const j=i==null?void 0:i.find(T=>T.id===b.user_id),_=c[b.user_id]||{total:0,active:0,names:[]},N=f[b.user_id]||{total:0,completed:0},S=p[b.user_id]||[],C=v[b.user_id],k=N.total>0?Math.round(N.completed/N.total*100):0;return{user_id:b.user_id,email:(j==null?void 0:j.email)||"N/A",first_name:(j==null?void 0:j.first_name)||((A=j==null?void 0:j.email)==null?void 0:A.split("@")[0])||"",last_name:(j==null?void 0:j.last_name)||"",phone:j==null?void 0:j.phone,avatar_url:j==null?void 0:j.avatar_url,linkedin_url:j==null?void 0:j.linkedin_url,website:j==null?void 0:j.website,bio:j==null?void 0:j.bio,location:j==null?void 0:j.location,company:j==null?void 0:j.company,job_title:j==null?void 0:j.job_title,program_type:j==null?void 0:j.program_type,cohort_year:j==null?void 0:j.cohort_year,training_budget:j==null?void 0:j.training_budget,availability_schedule:j==null?void 0:j.availability_schedule,monthly_credits_remaining:j==null?void 0:j.monthly_credits_remaining,purchased_credits_remaining:j==null?void 0:j.purchased_credits_remaining,joined_at:b.joined_at,mentor_names:S,total_projects:_.total,active_projects:_.active,project_names:_.names,total_deliverables:N.total,completed_deliverables:N.completed,completion_rate:k,activity_status:_.active>0?"active":"inactive",payment_status:(C==null?void 0:C.status)||"no_subscription",subscription_days_overdue:(C==null?void 0:C.days_overdue)||0,last_payment_date:C==null?void 0:C.last_payment_date,next_payment_date:C==null?void 0:C.next_payment_date,subscription_amount:C==null?void 0:C.amount}});return console.log("✅ Successfully fetched",w.length,"adherents using direct table queries"),w}catch(t){return console.error("Error in getOrganisationAdherents:",t),[]}},UK=async e=>{const{data:t,error:n}=await q.from("invitation_code").insert(e).select().single();if(n)throw n;return t},GD=async e=>{const{data:t,error:n}=await q.from("organizations").insert(e).select().single();if(n)throw n;return t},qK=async e=>{try{const{data:t,error:n}=await q.from("events").select(`
        *,
        organizer:profiles!events_organizer_id_fkey(
          email, first_name, last_name
        )
      `).eq("organization_id",e).order("start_date",{ascending:!0});return n?(console.error("Error fetching events:",n),[]):(t||[]).map(r=>({id:r.id,organization_id:r.organization_id,title:r.title,description:r.description,start_date:r.start_date,end_date:r.end_date,type:r.type,location:r.location,meet_link:r.meet_link,organizer_id:r.organizer_id,is_recurring:r.is_recurring||!1,max_participants:r.max_participants,participants:r.participants||[],status:r.status||"planned",created_at:r.created_at,updated_at:r.updated_at}))}catch(t){return console.error("Error fetching organisation events:",t),[]}},VK=async e=>(console.warn("Partners table not yet available"),[]),HK=async e=>{try{const{data:t,error:n}=await q.from("deliverables").select(`
        *,
        project:project_summary(nom_projet),
        entrepreneur:profiles!deliverables_entrepreneur_id_fkey(email, first_name, last_name)
      `).eq("organization_id",e).order("created_at",{ascending:!1});return n?(console.warn("Deliverables table not yet available:",n),[]):t||[]}catch{return console.warn("Deliverables functionality not yet available"),[]}},WK=async e=>{try{const{data:t,error:n}=await q.from("deliverables").insert(e).select().single();if(n)throw n;return t}catch{throw console.warn("Deliverables creation not yet available"),new Error("Deliverables functionality not yet available")}},GK=async(e,t)=>{try{const{data:n,error:r}=await q.from("deliverables").update(t).eq("id",e).select().single();if(r)throw r;return n}catch{throw console.warn("Deliverables update not yet available"),new Error("Deliverables functionality not yet available")}},KK=async e=>{try{const{error:t}=await q.from("deliverables").delete().eq("id",e);if(t)throw t}catch{throw console.warn("Deliverables deletion not yet available"),new Error("Deliverables functionality not yet available")}},YK=async e=>{try{if(!e.title||!e.start_date||!e.end_date||!e.organization_id)throw new Error("Missing required fields: title, start_date, end_date, or organization_id");if(e.max_participants!==void 0&&e.max_participants<0)throw new Error("max_participants cannot be negative");const t={title:e.title,description:e.description||null,start_date:e.start_date,end_date:e.end_date,type:e.type||"other",location:e.location||null,meet_link:e.meet_link||null,organizer_id:e.organizer_id||null,is_recurring:e.is_recurring||!1,max_participants:e.max_participants||null,organization_id:e.organization_id,participants:e.participants||[],status:e.status||"planned"},{data:n,error:r}=await q.from("events").insert(t).select(`
        *,
        organizer:profiles!events_organizer_id_fkey(
          email, first_name, last_name
        )
      `).single();if(r)throw console.error("Error creating event:",r),r;return{id:n.id,organization_id:n.organization_id,title:n.title,description:n.description,start_date:n.start_date,end_date:n.end_date,type:n.type,location:n.location,meet_link:n.meet_link,organizer_id:n.organizer_id,is_recurring:n.is_recurring||!1,max_participants:n.max_participants,participants:n.participants||[],status:n.status||"planned",created_at:n.created_at,updated_at:n.updated_at}}catch(t){throw console.error("Error in createEvent:",t),t}},KD=async(e,t)=>{try{if(t.max_participants!==void 0&&t.max_participants<0)throw new Error("max_participants cannot be negative");const{data:n,error:r}=await q.from("events").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select(`
        *,
        organizer:profiles!events_organizer_id_fkey(
          email, first_name, last_name
        )
      `).single();if(r)throw console.error("Error updating event:",r),r;return{id:n.id,organization_id:n.organization_id,title:n.title,description:n.description,start_date:n.start_date,end_date:n.end_date,type:n.type,location:n.location,meet_link:n.meet_link,organizer_id:n.organizer_id,is_recurring:n.is_recurring||!1,max_participants:n.max_participants,participants:n.participants||[],status:n.status||"planned",created_at:n.created_at,updated_at:n.updated_at}}catch(n){throw console.error("Error in updateEvent:",n),n}},XK=async e=>{try{const{error:t}=await q.from("events").delete().eq("id",e);if(t)throw console.error("Error deleting event:",t),t;return!0}catch(t){throw console.error("Error in deleteEvent:",t),t}},QK=async(e,t)=>{try{const{data:n,error:r}=await q.from("partners").insert({...t,organization_id:e}).select().single();if(r)throw r;return n}catch{throw console.warn("Partners creation not yet available"),new Error("Partners functionality not yet available")}},JK=async(e,t)=>{try{const{data:n,error:r}=await q.from("partners").update(t).eq("id",e).select().single();if(r)throw r;return n}catch{throw console.warn("Partners update not yet available"),new Error("Partners functionality not yet available")}},ZK=async e=>{try{const{error:t}=await q.from("partners").delete().eq("id",e);if(t)throw t}catch{throw console.warn("Partners deletion not yet available"),new Error("Partners functionality not yet available")}},eY=async e=>{try{console.log("🔍 Fetching mentors for organization:",e);const{data:t,error:n}=await q.from("user_organizations").select("user_id, user_role, joined_at, status").eq("organization_id",e).eq("status","active").in("user_role",["staff","mentor"]);if(n)return console.error("Error fetching user organizations:",n),[];if(!t||t.length===0)return[];const r=t.map(g=>g.user_id),{data:i,error:a}=await q.from("profiles").select(`
        id, email, first_name, last_name, phone, avatar_url, linkedin_url,
        website, bio, location, company, job_title
      `).in("id",r);if(a)return console.error("Error fetching profiles:",a),[];const{data:o,error:l}=await q.from("mentors").select(`
        id, user_id, expertise, bio, linkedin_url, status,
        total_entrepreneurs, success_rate, rating, availability,
        max_projects, max_entrepreneurs, created_at
      `).eq("organization_id",e).in("user_id",r).eq("status","active");l&&console.error("Error fetching mentors:",l);const c=(o||[]).map(g=>g.id),{data:u,error:d}=await q.from("mentor_assignments").select("mentor_id, status").eq("organization_id",e).in("mentor_id",c);d&&console.error("Error fetching assignments:",d);const f={},h=new Date;h.setDate(h.getDate()-30),(u||[]).forEach(g=>{f[g.mentor_id]||(f[g.mentor_id]={total:0,active:0,completed:0,recent:0}),f[g.mentor_id].total+=1,g.status==="active"&&(f[g.mentor_id].active+=1),g.status==="completed"&&(f[g.mentor_id].completed+=1)});const m={};(o||[]).forEach(g=>{m[g.user_id]=g});const p=t.map(g=>{var b;const y=i==null?void 0:i.find(j=>j.id===g.user_id),v=m[g.user_id],w=v?f[v.id]||{total:0,active:0,completed:0,recent:0}:{total:0,active:0,completed:0,recent:0};return{id:(v==null?void 0:v.id)||g.user_id,user_id:g.user_id,email:(y==null?void 0:y.email)||"N/A",first_name:(y==null?void 0:y.first_name)||((b=y==null?void 0:y.email)==null?void 0:b.split("@")[0])||"",last_name:(y==null?void 0:y.last_name)||"",phone:(y==null?void 0:y.phone)||"",user_role:g.user_role,organization_id:e,expertise:(v==null?void 0:v.expertise)||[],bio:(v==null?void 0:v.bio)||(y==null?void 0:y.bio)||"",linkedin_url:(v==null?void 0:v.linkedin_url)||(y==null?void 0:y.linkedin_url)||"",status:(v==null?void 0:v.status)||"active",total_entrepreneurs:w.total,success_rate:(v==null?void 0:v.success_rate)||0,rating:(v==null?void 0:v.rating)||0,current_entrepreneurs:w.active,total_assignments:w.total,completed_assignments:w.completed,recent_assignments:w.recent,availability:v==null?void 0:v.availability,max_projects:v==null?void 0:v.max_projects,max_entrepreneurs:v==null?void 0:v.max_entrepreneurs,created_at:(v==null?void 0:v.created_at)||g.joined_at,joined_at:g.joined_at,profile_bio:y==null?void 0:y.bio,profile_linkedin_url:y==null?void 0:y.linkedin_url,mentor_bio:v==null?void 0:v.bio,mentor_linkedin_url:v==null?void 0:v.linkedin_url,avatar_url:y==null?void 0:y.avatar_url,website:y==null?void 0:y.website,location:y==null?void 0:y.location,company:y==null?void 0:y.company,job_title:y==null?void 0:y.job_title}});return console.log("✅ Successfully fetched",p.length,"mentors using direct table queries"),p}catch(t){return console.error("Error fetching organization mentors:",t),[]}},kwe=Object.freeze(Object.defineProperty({__proto__:null,createDeliverable:WK,createEvent:YK,createInvitationCode:UK,createOrganisation:GD,createPartner:QK,deleteDeliverable:KK,deleteEvent:XK,deletePartner:ZK,getOrganisation:O1,getOrganisationAdherents:BK,getOrganisationDeliverables:HK,getOrganisationEvents:qK,getOrganisationInvitationCodes:zK,getOrganisationMembers:$K,getOrganisationMentors:eY,getOrganisationPartners:VK,getOrganisationProjects:FK,getOrganisationStats:LK,updateDeliverable:GK,updateEvent:KD,updateOrganisation:WD,updateOrganisationSettings:Cwe,updatePartner:JK},Symbol.toStringTag,{value:"Module"})),Awe=({userId:e,userEmail:t,userName:n,onSuccess:r,onBack:i})=>{const[a,o]=x.useState(!1),[l,c]=x.useState({name:"",type:"",description:"",website:"",email:t,phone:"",address:"",welcome_message:"",primary_color:"",secondary_color:"",newsletter_enabled:!1}),u=It();x.useEffect(()=>{const m=localStorage.getItem("organisation-setup-form");if(m)try{const p=JSON.parse(m);c(g=>({...g,...p,email:t}))}catch(p){console.error("Error parsing saved setup form data:",p)}},[t]),x.useEffect(()=>{(l.name||l.type||l.description)&&localStorage.setItem("organisation-setup-form",JSON.stringify(l))},[l]);const d=[{value:"incubator",label:"Incubateur"},{value:"accelerator",label:"Accélérateur"},{value:"business_school",label:"École de commerce"},{value:"university",label:"Université"},{value:"chamber_commerce",label:"Chambre de commerce"},{value:"consulting",label:"Cabinet de conseil"},{value:"coworking",label:"Espace de coworking"},{value:"other",label:"Autre"}],f=(m,p)=>{c(g=>({...g,[m]:p}))},h=async m=>{m.preventDefault(),o(!0);try{const p={...l,created_by:e,onboarding_completed:!0,onboarding_step:6},g=await GD(p),{error:y}=await q.from("profiles").update({user_role:"organisation",organization_setup_pending:!1}).eq("id",e);if(y)throw console.error("Erreur lors de la mise à jour du profil:",y),y;const{error:v}=await q.from("user_organizations").insert({user_id:e,organization_id:g.id,user_role:"organisation",is_primary:!0,status:"active"});if(v)throw console.error("Erreur lors de la création de la relation user_organizations:",v),v;we({title:"Organisation créée avec succès !",description:`Bienvenue dans ${l.name}. Redirection vers votre tableau de bord...`}),localStorage.removeItem("organisation-setup-form"),r?r():setTimeout(()=>{u(`/organisation/${g.id}/dashboard`)},1500)}catch(p){console.error("Erreur lors de la création de l'organisation:",p),we({title:"Erreur de création",description:p.message||"Une erreur s'est produite lors de la création de votre organisation.",variant:"destructive"})}finally{o(!1)}};return s.jsxs("div",{className:"w-full max-w-2xl p-8 bg-white rounded-xl shadow-sm animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-2 bg-gradient-to-r from-aurentia-pink to-aurentia-orange bg-clip-text text-transparent",children:"Créer votre organisation"}),s.jsx("p",{className:"text-gray-600",children:"Configurez le profil de votre structure d'accompagnement"})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"org-name",className:"block text-sm font-medium text-gray-700",children:"Nom de l'organisation *"}),s.jsx("input",{id:"org-name",type:"text",value:l.name,onChange:m=>f("name",m.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"Nom de votre organisation",required:!0,disabled:a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"org-type",className:"block text-sm font-medium text-gray-700",children:"Type d'organisation *"}),s.jsxs("select",{id:"org-type",value:l.type,onChange:m=>f("type",m.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",required:!0,disabled:a,children:[s.jsx("option",{value:"",children:"Sélectionnez un type d'organisation"}),d.map(m=>s.jsx("option",{value:m.value,children:m.label},m.value))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"org-description",className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{id:"org-description",value:l.description,onChange:m=>f("description",m.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"Décrivez votre organisation et ses activités...",rows:3,disabled:a})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"org-website",className:"block text-sm font-medium text-gray-700",children:"Site web"}),s.jsx("input",{id:"org-website",type:"url",value:l.website,onChange:m=>f("website",m.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"https://votre-site.com",disabled:a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"org-phone",className:"block text-sm font-medium text-gray-700",children:"Téléphone"}),s.jsx("input",{id:"org-phone",type:"tel",value:l.phone,onChange:m=>f("phone",m.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"01 23 45 67 89",disabled:a})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"org-email",className:"block text-sm font-medium text-gray-700",children:"Email de contact"}),s.jsx("input",{id:"org-email",type:"email",value:l.email,onChange:m=>f("email",m.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"contact@votre-organisation.com",disabled:a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"org-address",className:"block text-sm font-medium text-gray-700",children:"Adresse"}),s.jsx("input",{id:"org-address",type:"text",value:l.address,onChange:m=>f("address",m.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"Adresse complète de votre organisation",disabled:a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"welcome-message",className:"block text-sm font-medium text-gray-700",children:"Message de bienvenue"}),s.jsx("textarea",{id:"welcome-message",value:l.welcome_message,onChange:m=>f("welcome_message",m.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"Message qui sera affiché aux entrepreneurs qui rejoignent votre organisation...",rows:3,disabled:a})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"primary-color",className:"block text-sm font-medium text-gray-700",children:"Couleur principale"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"primary-color",type:"color",value:l.primary_color,onChange:m=>f("primary_color",m.target.value),className:"w-12 h-10 border border-gray-200 rounded cursor-pointer",disabled:a}),s.jsx("input",{type:"text",value:l.primary_color,onChange:m=>f("primary_color",m.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"#000000",disabled:a})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"secondary-color",className:"block text-sm font-medium text-gray-700",children:"Couleur secondaire"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"secondary-color",type:"color",value:l.secondary_color,onChange:m=>f("secondary_color",m.target.value),className:"w-12 h-10 border border-gray-200 rounded cursor-pointer",disabled:a}),s.jsx("input",{type:"text",value:l.secondary_color,onChange:m=>f("secondary_color",m.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"#000000",disabled:a})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{id:"newsletter-enabled",type:"checkbox",checked:l.newsletter_enabled,onChange:m=>f("newsletter_enabled",m.target.checked),className:"w-4 h-4 text-aurentia-pink border-gray-300 rounded focus:ring-aurentia-pink focus:ring-2",disabled:a}),s.jsx("label",{htmlFor:"newsletter-enabled",className:"text-sm text-gray-700",children:"Activer le système de newsletter pour les entrepreneurs"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6",children:[i&&s.jsx("button",{type:"button",onClick:i,className:"text-sm text-gray-500 hover:text-aurentia-pink transition",disabled:a,children:"← Retour"}),s.jsx("button",{type:"submit",className:"px-8 py-3 bg-aurentia-pink text-white rounded-lg hover:bg-aurentia-pink/90 transition disabled:opacity-50 flex items-center gap-2 ml-auto",disabled:a||!l.name.trim()||!l.type,children:a?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Création..."]}):s.jsxs(s.Fragment,{children:["Créer mon organisation",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})]})]})},Twe=({userId:e,userEmail:t,userName:n,onComplete:r,onBack:i})=>{const[a,o]=x.useState("setup"),[l,c]=x.useState(null),[u,d]=x.useState(!0),f=It(),h=x.useRef(!1);x.useEffect(()=>{(async()=>{if(h.current){console.log("[OrganisationFlowWrapper] Already checked, skipping");return}if(!e){console.error("[OrganisationFlowWrapper] UserId is required"),d(!1);return}console.log("[OrganisationFlowWrapper] Checking for existing organization for user:",e),h.current=!0;try{const{data:y,error:v}=await q.from("user_organizations").select("organization_id, user_role, status").eq("user_id",e).eq("status","active").maybeSingle();if(v&&v.code!=="PGRST116"){console.error("[OrganisationFlowWrapper] Error fetching user_organizations:",v),d(!1);return}if(y!=null&&y.organization_id){console.log("[OrganisationFlowWrapper] Organization found:",y.organization_id),c(y.organization_id);const{error:w}=await q.from("profiles").update({organization_setup_pending:!1}).eq("id",e);w&&console.error("[OrganisationFlowWrapper] Error updating organization_setup_pending:",w),r?r():f(`/organisation/${y.organization_id}/dashboard`);return}else console.log("[OrganisationFlowWrapper] No organization found, showing setup form"),o("setup")}catch(y){console.error("[OrganisationFlowWrapper] Error checking existing organization:",y),o("setup")}finally{d(!1)}})()},[e,f,r]);const m=async g=>{try{let y;if(g!=null&&g.id)y=g.id;else{const{data:v,error:w}=await q.from("user_organizations").select("organization_id").eq("user_id",e).eq("status","active").single();if(w)throw w;if(!(v!=null&&v.organization_id))throw new Error("Organisation non trouvée après création");y=v.organization_id}r?r():f(`/organisation/${y}/dashboard`,{replace:!0})}catch(y){console.error("Erreur lors de la redirection:",y),we({title:"Erreur",description:"Une erreur s'est produite. Veuillez réessayer.",variant:"destructive"})}},p=()=>{i&&i()};return u?s.jsx(Ln,{message:"Chargement de votre organisation...",fullScreen:!0}):a==="setup"?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx(Awe,{userId:e,userEmail:t,userName:n,onSuccess:m,onBack:p})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-600",children:"Redirection en cours..."})})})},ke=x.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:de("flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ke.displayName="Input";const kv=x.forwardRef(({value:e,onChange:t,placeholder:n="Commencer à taper une adresse...",disabled:r,addressType:i="full",...a},o)=>{const l=x.useRef(null),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,p]=x.useState([]),[g,y]=x.useState(!1),[v,w]=x.useState(-1),b=x.useCallback(async()=>{if(!(!window.google||!window.google.maps||!window.google.maps.places))try{h(!0),d(!1)}catch(C){console.error("Error initializing Google Maps Autocomplete:",C),d(!1)}},[]);x.useEffect(()=>{const C="AIzaSyDD-eg5dT7TkT9EPjVuaLlJC5NeC9OJduQ";if(window.google)b();else{d(!0);const k=document.createElement("script");k.src=`https://maps.googleapis.com/maps/api/js?key=${C}&libraries=places`,k.async=!0,k.defer=!0,k.onload=b,k.onerror=()=>{console.error("Failed to load Google Maps API"),d(!1)},document.head.appendChild(k)}},[b]),x.useEffect(()=>{if(!f||!e)return;const C=e.trim();if(C.length>=2){d(!0);const k=new google.maps.places.AutocompleteService,A={types:i==="regions"?["(regions)"]:["geocode"]};k.getPlacePredictions({input:C,...A},(T,E)=>{d(!1),E===google.maps.places.PlacesServiceStatus.OK&&T?(p(T.slice(0,5)),y(!0)):(p([]),y(!1))})}else p([]),y(!1)},[e,f,i]);const j=C=>{const k=C.target.value;t==null||t(k)},_=C=>{var k,A,T;C.place_id&&((A=(k=window.google)==null?void 0:k.maps)!=null&&A.places)?new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:C.place_id,fields:["formatted_address"]},(R,$)=>{$===google.maps.places.PlacesServiceStatus.OK&&(R!=null&&R.formatted_address)&&(t==null||t(R.formatted_address))}):C.description&&(t==null||t(C.description)),p([]),y(!1),(T=l.current)==null||T.blur()},N=C=>{!g||m.length===0||(C.key==="ArrowDown"?(C.preventDefault(),w(k=>k<m.length-1?k+1:0)):C.key==="ArrowUp"?(C.preventDefault(),w(k=>k>0?k-1:m.length-1)):C.key==="Enter"&&v>=0?(C.preventDefault(),_(m[v])):C.key==="Escape"&&(y(!1),w(-1)))};x.useEffect(()=>{const C=k=>{l.current&&c.current&&!l.current.contains(k.target)&&!c.current.contains(k.target)&&(y(!1),w(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),x.useEffect(()=>{const C=document.createElement("style");return C.innerHTML=`
        .pac-container {
          display: none !important;
        }
        .pac-item {
          display: none !important;
        }
      `,document.head.appendChild(C),()=>{document.head.removeChild(C)}},[]);const S=C=>C.includes("establishment")?Yn:rs;return s.jsxs("div",{className:"relative",children:[s.jsx(ke,{ref:C=>{l.current=C,o&&(typeof o=="function"?o(C):o.current=C)},value:e||"",onChange:j,onKeyDown:N,onFocus:()=>{m.length>0&&(e||"").length>=2&&y(!0)},placeholder:n,disabled:r,...a}),u&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 z-10",children:s.jsx(Pt,{className:"w-4 h-4 animate-spin text-aurentia-pink"})}),g&&m.length>0&&s.jsx("div",{ref:c,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",style:{maxHeight:"200px",overflowY:"auto",top:"100%"},children:m.map((C,k)=>{var E,R;const A=S(C.types||[]),T=k===v;return s.jsxs("div",{onClick:()=>_(C),className:`px-4 py-3 cursor-pointer border-b border-gray-100 last:border-b-0 hover:bg-gradient-to-r hover:from-aurentia-pink/5 hover:to-aurentia-orange/5 transition-colors duration-150 flex items-center gap-3 ${T?"bg-gradient-to-r from-aurentia-pink/10 to-aurentia-orange/10":""}`,children:[s.jsx("div",{className:`p-2 rounded-full ${T?"bg-aurentia-pink text-white":"bg-aurentia-pink/10 text-aurentia-pink"}`,children:s.jsx(A,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`text-sm font-medium text-gray-900 truncate ${T?"text-aurentia-pink":""}`,children:((E=C.structured_formatting)==null?void 0:E.main_text)||C.description.split(",")[0]}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:((R=C.structured_formatting)==null?void 0:R.secondary_text)||C.description.split(",").slice(1).join(",")})]})]},C.place_id||k)})})]})});kv.displayName="AddressAutocompleteInput";const Pwe=()=>{var K,G;const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(""),[h,m]=x.useState(""),[p,g]=x.useState(!1),[y,v]=x.useState(0),[w,b]=x.useState(""),[j,_]=x.useState(null),[N,S]=x.useState(null),[C,k]=x.useState(!1),[A,T]=x.useState(null),[E,R]=x.useState(!1),$=It(),{userProfile:O,loading:F}=cr(),z=x.useRef(!1);x.useEffect(()=>{(async()=>{if(z.current||C){console.log("[SIGNUP] Skipping auth check - signup in progress or modal showing");return}const{data:{session:oe}}=await q.auth.getSession();oe&&!F&&!(O!=null&&O.user_role)&&v(1)})()},[O,F,C]);const P=async()=>{var X;if(!w.trim()){_(null);return}g(!0);try{let oe=w.trim();if(oe.includes("?code="))oe=new URL(oe).searchParams.get("code")||oe;else if(oe.includes("/join/")){const ne=oe.split("/join/");ne.length>1&&(oe=ne[1].split("?")[0])}const Y=await DK(oe);_(Y),Y.valid?we({title:"Code valide !",description:`Vous rejoindrez ${((X=Y.organization)==null?void 0:X.name)||"Aurentia"} !`}):we({title:"Code invalide",description:Y.reason,variant:"destructive"})}catch(oe){we({title:"Erreur de validation",description:oe.message||"Une erreur s'est produite lors de la validation du code.",variant:"destructive"})}finally{g(!1)}},I=async X=>{var oe,Y,ne,ge,se;if(X.preventDefault(),console.log("🚀 [SIGNUP] Form submitted - starting signup process"),g(!0),z.current=!0,n!==i){console.log("❌ [SIGNUP] Password mismatch"),we({title:"Erreur d'inscription",description:"Les mots de passe ne correspondent pas.",variant:"destructive"}),g(!1),z.current=!1;return}console.log("✅ [SIGNUP] Starting user registration process...");try{console.log("📧 [SIGNUP] Calling supabase.auth.signUp with timeout protection...");const ce=q.auth.signUp({email:e,password:n,options:{data:{first_name:o,last_name:c,phone_number:d,location:h},emailRedirectTo:`${window.location.origin}/auth/callback?skip=true`}}),ve=new Promise((Ie,Pe)=>{setTimeout(()=>Pe(new Error("Signup timeout - please check your internet connection")),3e4)});console.log("⏳ [SIGNUP] Waiting for signUp response...");let te;try{te=await Promise.race([ce,ve])}catch(Ie){console.warn("⚠️ [SIGNUP] SignUp timed out, but user might still be created. Checking...");const{data:Pe}=await q.auth.signInWithPassword({email:e,password:n});if(Pe.user)console.log("✅ [SIGNUP] User was created despite timeout!"),te={data:Pe,error:null};else throw Ie}const{error:ue,data:ee}=te;if(console.log("📬 [SIGNUP] signUp response received"),ue){if(console.error("❌ [SIGNUP] Error from supabase.auth.signUp:",ue),(oe=ue.message)!=null&&oe.includes("already registered")||(Y=ue.message)!=null&&Y.includes("already exists")){we({title:"Compte existant",description:"Un compte avec cet email existe déjà. Veuillez vous connecter.",variant:"destructive"}),g(!1),z.current=!1;return}throw ue}console.log("✅ [SIGNUP] supabase.auth.signUp successful. User ID:",(ne=ee.user)==null?void 0:ne.id);const le=ee.user;if(le){console.log("handleSubmit: Utilisateur créé. ID:",le.id);const Ie=w&&(j!=null&&j.valid)?j.role:N||"individual";try{const{error:W}=await q.rpc("sync_user_metadata_to_profile",{p_user_id:le.id,p_email:e,p_first_name:o,p_last_name:c,p_phone:d,p_location:h,p_user_role:Ie});if(W){console.error("handleSubmit: Erreur lors de la synchronisation du profil:",W);const{error:_e}=await q.from("profiles").upsert({id:le.id,email:e,first_name:o,last_name:c,phone:d,location:h,user_role:Ie,email_confirmation_required:!0},{onConflict:"id",ignoreDuplicates:!1});_e&&console.error("handleSubmit: Erreur fallback lors de la création du profil:",_e)}else console.log("handleSubmit: Profil synchronisé avec succès via RPC avec le rôle:",Ie)}catch(W){console.error("handleSubmit: Exception lors de la synchronisation:",W)}let Pe=Ie;if(w&&(j!=null&&j.valid)){console.log("handleSubmit: Gestion du code d'invitation...");try{const _e=(Le=>{if(!Le.includes("?")&&!Le.includes("/join/"))return Le;try{const Qe=new URL(Le),Q=Qe.searchParams.get("code");if(Q)return Q;const ae=Qe.pathname.match(/\/join\/([^\/]+)/);if(ae)return ae[1]}catch{return Le}return Le})(w);await MK(_e,le.id),Pe=j.role,we({title:"Inscription réussie !",description:`Bienvenue dans ${((ge=j.organization)==null?void 0:ge.name)||"Aurentia"} !`}),console.log("handleSubmit: Code d'invitation utilisé avec succès. Rôle:",Pe)}catch(W){console.error("handleSubmit: Erreur lors de l'utilisation du code:",W),we({title:"Erreur de code",description:W.message||"Une erreur s'est produite lors de l'utilisation du code.",variant:"destructive"})}}else if(N==="organisation"){console.log("handleSubmit: Organisation role selected - setting organization_setup_pending flag...");try{const{error:W}=await q.from("profiles").update({organization_setup_pending:!0}).eq("id",le.id);W?console.warn("handleSubmit: Erreur lors de la définition du flag organization_setup_pending:",W):console.log("handleSubmit: Flag organization_setup_pending défini avec succès"),we({title:"Inscription réussie",description:"Veuillez confirmer votre email, puis vous pourrez configurer votre organisation."})}catch(W){console.warn("handleSubmit: Erreur lors de la définition du flag:",W)}}else N==="individual"&&we({title:"Inscription réussie",description:"Bienvenue ! Vous êtes maintenant configuré en tant qu'entrepreneur."});console.log("📧 [SIGNUP] Sending confirmation email to:",e);let Ae=!1;try{const W=await Js.sendConfirmationEmail({email:e,userId:le.id,isResend:!1});if(console.log("📬 [SIGNUP] Email confirmation result:",W),Ae=W.success,W.success)console.log("✅ [SIGNUP] Confirmation email sent successfully"),we({title:"Email de confirmation envoyé !",description:"Vérifiez votre boîte de réception pour activer votre compte."});else if(console.log("❌ [SIGNUP] Email de confirmation non envoyé (success: false)."),(se=W.error)!=null&&se.includes("Trop de tentatives")||W.retryAfter){const _e=Math.ceil((W.retryAfter||3600)/60);we({title:"Limite de tentatives atteinte",description:`Trop de tentatives d'envoi d'email. Veuillez patienter ${_e} minute${_e>1?"s":""} avant de réessayer.`,variant:"destructive"})}else we({title:"Inscription réussie",description:W.error||"Erreur d'envoi de l'email de confirmation. Veuillez vérifier votre boîte de réception ou demander un nouveau lien.",variant:"destructive"})}catch(W){console.error("❌ [SIGNUP] Erreur lors de l'envoi de l'email de confirmation:",W),we({title:"Inscription réussie",description:W.message||"Erreur d'envoi de l'email. Veuillez vérifier votre boîte de réception ou demander un nouveau lien.",variant:"destructive"})}console.log("🎭 [SIGNUP] Opening email confirmation modal for user:",le.id),T(le.id),k(!0),console.log("✅ [SIGNUP] Modal state updated - should be visible now")}else console.error("handleSubmit: data.user est null après supabase.auth.signUp réussi. Ceci est inattendu."),we({title:"Erreur d'inscription",description:"Un problème inattendu est survenu. Veuillez réessayer.",variant:"destructive"})}catch(ce){console.error("❌ [SIGNUP] Global signup error:",ce),we({title:"Erreur d'inscription",description:ce.message||"Une erreur s'est produite lors de l'inscription",variant:"destructive"})}finally{console.log("🏁 [SIGNUP] Signup process completed. Resetting loading state."),g(!1),z.current=!1}},M=()=>{if(k(!1),we({title:"Email confirmé !",description:"Votre compte est maintenant actif."}),N==="organisation")R(!0);else{let X="/individual/dashboard";w&&(j!=null&&j.valid)?X=`/${j.role}/dashboard`:N&&(X=`/${N}/dashboard`),setTimeout(()=>{$(X)},1500)}},U=()=>{k(!1),we({title:"Email de confirmation en attente",description:"Veuillez confirmer votre email pour accéder à votre tableau de bord."})},D=()=>{R(!1)},L=()=>{R(!1),we({title:"Configuration annulée",description:"Vous pouvez choisir de configurer votre organisation plus tard depuis votre profil."}),$("/individual/dashboard")},V=async()=>{g(!0);try{const{error:X}=await q.auth.signInWithOAuth({provider:"google",options:{queryParams:{access_type:"offline",prompt:"consent"},redirectTo:`${window.location.origin}/auth/callback`}});if(X)throw X}catch(X){we({title:"Erreur d'inscription",description:X.message||"Une erreur s'est produite lors de l'inscription avec Google",variant:"destructive"}),g(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[C&&A&&s.jsx(IK,{isOpen:C,onClose:U,email:e,userId:A,onConfirmed:M}),E&&A&&s.jsx(Twe,{userId:A,userEmail:e,userName:`${o} ${c}`.trim()||e,onComplete:D,onBack:L}),!E&&y===0&&s.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-xl shadow-sm animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-2 bg-gradient-to-r from-aurentia-pink to-aurentia-orange bg-clip-text text-transparent",children:"Choisissez votre profil"}),s.jsx("p",{className:"text-gray-600",children:"Sélectionnez le type de compte qui correspond le mieux à votre situation"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:`p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${N==="individual"?"border-aurentia-pink bg-aurentia-pink/5":"border-gray-200 hover:border-aurentia-pink hover:bg-aurentia-pink/5"}`,onClick:()=>S("individual"),children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-aurentia-pink to-aurentia-orange rounded-full flex items-center justify-center",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Entrepreneur"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Je porte un projet entrepreneurial"})]})]})}),s.jsx("div",{className:`p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${N==="organisation"?"border-aurentia-orange bg-aurentia-orange/5":"border-gray-200 hover:border-aurentia-orange hover:bg-aurentia-orange/5"}`,onClick:()=>S("organisation"),children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-aurentia-orange to-yellow-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Structure d'accompagnement"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"J'accompagne des entrepreneurs"})]})]})})]}),s.jsx("div",{className:"pt-6",children:s.jsxs("button",{type:"button",className:"w-full px-6 py-3 bg-aurentia-pink text-white rounded-lg hover:bg-aurentia-pink/90 transition disabled:opacity-50 flex items-center justify-center gap-2 group",onClick:()=>v(1),disabled:!N,children:["Continuer",s.jsx("span",{className:"transition-transform duration-300 group-hover:translate-x-1",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})]}),!E&&y===1&&s.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-xl shadow-sm animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-2 bg-gradient-to-r from-aurentia-pink to-aurentia-orange bg-clip-text text-transparent",children:"Code d'invitation"}),s.jsx("p",{className:"text-gray-600",children:"Avez-vous un code d'invitation pour rejoindre une organisation ?"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"invitation-code",className:"block text-sm font-medium text-gray-700",children:"Code d'invitation (optionnel)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"invitation-code",type:"text",value:w,onChange:X=>b(X.target.value),onBlur:P,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"INV-ABC123 ou https://...",disabled:p}),s.jsx("button",{type:"button",className:"p-2 rounded-lg bg-orange-100 hover:bg-aurentia-orange transition-all duration-200",onClick:P,disabled:p,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-aurentia-pink hover:text-white transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]})]}),(j==null?void 0:j.valid)&&s.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-600",children:"✅"}),s.jsxs("span",{className:"text-green-800 font-medium",children:["Vous rejoindrez : ",s.jsx("strong",{children:((K=j.organization)==null?void 0:K.name)||"Aurentia"})]})]}),s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[j.role==="organisation"&&"en tant qu'administrateur d'organisation",j.role==="staff"&&"en tant que membre du staff",j.role==="member"&&"en tant qu'entrepreneur",j.role==="super_admin"&&"en tant que super administrateur"]})]}),(j==null?void 0:j.valid)===!1&&s.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsxs("span",{className:"text-red-600",children:["❌ ",j.reason]})})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsx("button",{type:"button",onClick:()=>v(0),className:"text-sm text-gray-500 hover:text-aurentia-pink transition",children:"← Retour"}),s.jsxs("button",{type:"button",className:"px-6 py-3 bg-aurentia-pink text-white rounded-lg hover:bg-aurentia-pink/90 transition flex items-center gap-2 group",onClick:()=>v(2),children:["Continuer l'inscription",s.jsx("span",{className:"transition-transform duration-300 group-hover:translate-x-1",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})]}),!E&&y===2&&s.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-xl shadow-sm animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-2 bg-gradient-to-r from-aurentia-pink to-aurentia-orange bg-clip-text text-transparent",children:"Créer un compte Aurentia"}),(j==null?void 0:j.valid)&&s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("p",{className:"text-green-600 text-base font-medium",children:["🎉 Inscription pour ",((G=j.organization)==null?void 0:G.name)||"Aurentia"]})})]}),s.jsxs("form",{onSubmit:I,className:"space-y-6 mx-auto",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"space-y-2 w-1/2",children:[s.jsx("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-700",children:"Nom"}),s.jsx("input",{id:"last-name",type:"text",value:c,onChange:X=>u(X.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"Votre nom",required:!0,disabled:p})]}),s.jsxs("div",{className:"space-y-2 w-1/2",children:[s.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"Prénom"}),s.jsx("input",{id:"first-name",type:"text",value:o,onChange:X=>l(X.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"Votre prénom",required:!0,disabled:p})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"phone-number",className:"block text-sm font-medium text-gray-700",children:"Téléphone"}),s.jsx("input",{id:"phone-number",type:"tel",value:d,onChange:X=>f(X.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"Votre numéro de téléphone",disabled:p})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Ville / Région"}),s.jsx(kv,{id:"location",value:h,onChange:X=>m(X),placeholder:"Commencer à taper une ville ou région...",disabled:p,addressType:"regions"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nous utilisons votre localisation pour vous proposer des organisations proches de vous"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:X=>t(X.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"votre@email.com",required:!0,disabled:p})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),s.jsx("input",{id:"password",type:"password",value:n,onChange:X=>r(X.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"••••••••",required:!0,disabled:p})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),s.jsx("input",{id:"confirm-password",type:"password",value:i,onChange:X=>a(X.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30 focus:border-aurentia-pink transition",placeholder:"••••••••",required:!0,disabled:p})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{type:"submit",className:"w-full btn-primary py-3",disabled:p,children:p?"Inscription...":"S'inscrire"})}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-200"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-white px-2 text-gray-400",children:"ou"})})]}),s.jsxs("button",{type:"button",onClick:V,className:"w-full flex items-center justify-center gap-2 py-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition",disabled:p,children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M18.1716 8.36791H17.5001V8.33333H10.0001V11.6667H14.7097C14.0221 13.6071 12.1801 15 10.0001 15C7.23866 15 5.00008 12.7614 5.00008 10C5.00008 7.23858 7.23866 5 10.0001 5C11.2959 5 12.4784 5.48098 13.3618 6.26625L15.8001 3.82791C14.2918 2.46425 12.2584 1.66667 10.0001 1.66667C5.39758 1.66667 1.66675 5.3975 1.66675 10C1.66675 14.6025 5.39758 18.3333 10.0001 18.3333C14.6026 18.3333 18.3334 14.6025 18.3334 10C18.3334 9.44125 18.2726 8.89625 18.1716 8.36791Z",fill:"#FFC107"}),s.jsx("path",{d:"M2.62744 6.12425L5.36494 8.1485C6.10119 6.30508 7.90036 5 10.0001 5C11.2959 5 12.4784 5.48098 13.3618 6.26625L15.8001 3.82791C14.2918 2.46425 12.2584 1.66667 10.0001 1.66667C6.87911 1.66667 4.21619 3.47633 2.62744 6.12425Z",fill:"#FF3D00"}),s.jsx("path",{d:"M10.0001 18.3333C12.2126 18.3333 14.2084 17.5646 15.7068 16.2481L13.0326 13.9888C12.1352 14.6441 11.0468 15 10.0001 15C7.83019 15 5.99769 13.6221 5.30185 11.6975L2.48352 13.8695C4.05185 16.5783 6.74269 18.3333 10.0001 18.3333Z",fill:"#4CAF50"}),s.jsx("path",{d:"M18.1716 8.36791H17.5001V8.33333H10.0001V11.6667H14.7097C14.3809 12.6051 13.7889 13.4221 13.0309 13.9896L13.0326 13.9879L15.7068 16.2471C15.5068 16.4279 18.3334 14.1667 18.3334 10C18.3334 9.44125 18.2726 8.89625 18.1716 8.36791Z",fill:"#1976D2"})]}),s.jsx("span",{children:"Continuer avec Google"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsx("button",{type:"button",onClick:()=>v(1),className:"text-sm text-gray-500 hover:text-aurentia-pink transition",children:"← Retour"}),s.jsxs("div",{className:"text-center text-sm",children:["Déjà un compte ?"," ",s.jsx("a",{href:"/login",className:"text-aurentia-pink hover:text-aurentia-orange transition",children:"Connectez-vous"})]})]})]})]})]})},Owe=()=>{var m,p;const{token:e}=Nt(),[t]=Up(),n=It(),[r,i]=x.useState({state:"verifying",result:null,isResending:!1}),a=t.get("redirect")!=="false";x.useEffect(()=>{if(!e){i({state:"error",result:{success:!1,error:"Token de confirmation manquant",code:"INVALID_TOKEN"},isResending:!1});return}o(e)},[e]);const o=async g=>{i(y=>({...y,state:"verifying"}));try{const y=await Js.verifyEmailToken({token:g});if(y.success)i({state:"success",result:y,isResending:!1}),Js.showVerificationToast(y),a&&setTimeout(()=>{n("/login?confirmed=true")},3e3);else{const v=y.code==="TOKEN_EXPIRED"?"expired":"error";i({state:v,result:y,isResending:!1}),Js.showVerificationToast(y)}}catch(y){i({state:"error",result:{success:!1,error:y.message||"Erreur lors de la vérification",code:"INTERNAL_ERROR"},isResending:!1}),we({title:"Erreur",description:"Une erreur inattendue s'est produite.",variant:"destructive"})}},l=async()=>{var g;if(!(!((g=r.result)!=null&&g.email)||r.isResending)){i(y=>({...y,isResending:!0}));try{const y=await Js.sendConfirmationEmail({email:r.result.email,isResend:!0});Js.showResultToast(y),y.success&&(we({title:"Email renvoyé",description:"Un nouveau lien de confirmation vous a été envoyé. Cette page se fermera dans 10 secondes."}),setTimeout(()=>{n("/login?resent=true")},1e4))}catch{we({title:"Erreur",description:"Impossible de renvoyer l'email. Réessayez plus tard.",variant:"destructive"})}finally{i(y=>({...y,isResending:!1}))}}},c=()=>{switch(r.state){case"verifying":return s.jsx(ni,{className:"h-16 w-16 text-blue-500 animate-spin"});case"success":return s.jsx(Gt,{className:"h-16 w-16 text-green-500"});case"expired":return s.jsx(Yt,{className:"h-16 w-16 text-orange-500"});case"error":return s.jsx(ts,{className:"h-16 w-16 text-red-500"});default:return s.jsx(Ft,{className:"h-16 w-16 text-gray-500"})}},u=()=>{switch(r.state){case"verifying":return"Vérification en cours...";case"success":return"Email confirmé !";case"expired":return"Lien expiré";case"error":return"Erreur de confirmation";default:return"Confirmation d'email"}},d=()=>{const g=r.result;switch(r.state){case"verifying":return"Nous vérifions votre lien de confirmation. Veuillez patienter...";case"success":return`Parfait ! Votre email ${(g==null?void 0:g.email)||""} a été confirmé avec succès. Votre compte est maintenant actif.`;case"expired":return`Le lien de confirmation pour ${(g==null?void 0:g.email)||"votre email"} a expiré. Vous pouvez demander un nouveau lien ci-dessous.`;case"error":return f(g==null?void 0:g.code,g==null?void 0:g.error);default:return""}},f=(g,y)=>{switch(g){case"INVALID_TOKEN":return"Le lien de confirmation est invalide ou incorrect. Vérifiez que vous avez copié le lien complet depuis votre email.";case"ALREADY_CONFIRMED":return"Cet email a déjà été confirmé. Vous pouvez vous connecter directement à votre compte.";case"TOKEN_EXPIRED":return"Le lien de confirmation a expiré. Les liens sont valides pendant 24 heures seulement.";case"CONFIRMATION_FAILED":return"Une erreur technique s'est produite lors de la confirmation. Veuillez réessayer.";case"INTERNAL_ERROR":return"Erreur interne du serveur. Nos équipes ont été notifiées.";default:return y||"Une erreur inconnue s'est produite lors de la confirmation."}},h=()=>{const g=r.result;switch(r.state){case"success":return s.jsxs("div",{className:"space-y-3",children:[a&&s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Redirection automatique vers la connexion dans 3 secondes..."})}),s.jsxs(H,{onClick:()=>n("/login?confirmed=true"),className:"w-full",children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Se connecter maintenant"]})]});case"expired":return s.jsxs("div",{className:"space-y-3",children:[(g==null?void 0:g.email)&&s.jsx(H,{onClick:l,disabled:r.isResending,className:"w-full",children:r.isResending?s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"h-4 w-4 mr-2 animate-spin"}),"Envoi en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Renvoyer le lien de confirmation"]})}),s.jsx(H,{onClick:()=>n("/signup"),variant:"outline",className:"w-full",children:"Retour à l'inscription"})]});case"error":return s.jsxs("div",{className:"space-y-3",children:[["CONFIRMATION_FAILED","INTERNAL_ERROR"].includes((g==null?void 0:g.code)||"")&&e&&s.jsxs(H,{onClick:()=>o(e),variant:"outline",className:"w-full",children:[s.jsx(ni,{className:"h-4 w-4 mr-2"}),"Réessayer"]}),(g==null?void 0:g.email)&&(g==null?void 0:g.code)!=="ALREADY_CONFIRMED"&&s.jsx(H,{onClick:l,disabled:r.isResending,className:"w-full",children:r.isResending?s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"h-4 w-4 mr-2 animate-spin"}),"Envoi en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Demander un nouveau lien"]})}),(g==null?void 0:g.code)==="ALREADY_CONFIRMED"?s.jsx(H,{onClick:()=>n("/login"),className:"w-full",children:"Se connecter"}):s.jsx(H,{onClick:()=>n("/signup"),variant:"outline",className:"w-full",children:"Retour à l'inscription"})]});case"verifying":default:return s.jsx(H,{onClick:()=>n("/"),variant:"outline",className:"w-full",disabled:r.state==="verifying",children:"Retour à l'accueil"})}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(pe,{className:"text-center pb-2",children:[s.jsx("div",{className:"flex justify-center mb-4",children:c()}),s.jsx(me,{className:"text-2xl font-bold",children:u()})]}),s.jsxs(ie,{className:"space-y-6",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-600 leading-relaxed",children:d()})}),r.state==="error"&&((m=r.result)==null?void 0:m.code)&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-xs text-red-600 font-mono",children:["Code d'erreur: ",r.result.code]}),e&&s.jsxs("p",{className:"text-xs text-red-500 mt-1 break-all",children:["Token: ",e.substring(0,16),"..."]})]}),r.state==="success"&&((p=r.result)==null?void 0:p.confirmedAt)&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-green-700",children:[s.jsx("strong",{children:"Confirmé le:"})," ",new Date(r.result.confirmedAt).toLocaleString("fr-FR")]}),r.result.userId&&s.jsxs("p",{className:"text-xs text-green-600 mt-1 font-mono",children:["ID utilisateur: ",r.result.userId.substring(0,8),"..."]})]}),h(),s.jsx("div",{className:"text-center pt-4 border-t",children:s.jsxs("p",{className:"text-xs text-gray-400",children:["Problème persistant ? Contactez-nous à"," ",s.jsx("a",{href:"mailto:support@aurentia.fr",className:"text-blue-500 hover:text-blue-700",children:"support@aurentia.fr"})]})})]})]})})},Rwe=Lf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$l=x.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:de(Rwe({variant:t}),e),...n}));$l.displayName="Alert";const tY=x.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",e),...t}));tY.displayName="AlertTitle";const Fl=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",e),...t}));Fl.displayName="AlertDescription";const Dwe=e=>{const[t,n]=x.useState({isRequired:!0,isConfirmed:!1,isLoading:!0,confirmationStatus:null,canResendAt:null,error:null}),r=x.useRef(!1),i=x.useRef(0),a=x.useCallback(async()=>{const c=Date.now();if(r.current||c-i.current<1e3){console.log("[useEmailConfirmation] Skipping duplicate check");return}if(!e){n(u=>({...u,isRequired:!1,isConfirmed:!0,isLoading:!1,confirmationStatus:null}));return}r.current=!0,i.current=c,n(u=>({...u,isLoading:!0,error:null}));try{const u=await Js.needsEmailConfirmation(e.id),d=!u;if(!u){n(m=>({...m,isRequired:!1,isConfirmed:!0,isLoading:!1,confirmationStatus:null})),r.current=!1;return}const f=await Js.getConfirmationStatus(e.id);let h=null;if(f!=null&&f.last_sent_at){const m=new Date(f.last_sent_at);h=new Date(m.getTime()+6e4)}n(m=>({...m,isRequired:u,isConfirmed:d,isLoading:!1,confirmationStatus:f,canResendAt:h,error:null}))}catch(u){console.error("Erreur vérification confirmation:",u),n(d=>({...d,isLoading:!1,error:u.message||"Erreur lors de la vérification",isConfirmed:!(e!=null&&e.email),isRequired:!!(e!=null&&e.email)}))}finally{r.current=!1}},[e]),o=x.useCallback(async()=>{if(!(e!=null&&e.email))return!1;n(c=>({...c,error:null}));try{const c=await Js.sendConfirmationEmail({email:e.email,userId:e.id,isResend:!0});if(c.success){const u=new Date(Date.now()+6e4);return n(d=>({...d,canResendAt:u,error:null})),setTimeout(()=>{a()},2e3),!0}else return n(u=>({...u,error:c.error||"Erreur lors de l'envoi"})),!1}catch(c){return n(u=>({...u,error:c.message||"Erreur lors de l'envoi"})),!1}},[e,a]),l=x.useCallback(()=>{a()},[a]);return x.useEffect(()=>{a()},[e==null?void 0:e.id]),x.useEffect(()=>{if(!(e!=null&&e.id))return;let c=null;try{c=Js.subscribeToConfirmationStatus(e.id,u=>{u&&(console.log("[useEmailConfirmation] Realtime update:",u.status),n(d=>({...d,confirmationStatus:u})),u.status==="confirmed"&&(console.log("[useEmailConfirmation] Email confirmed in email_confirmations, checking profiles..."),setTimeout(()=>{a()},500)))})}catch(u){console.warn("Realtime subscription failed:",u)}return()=>{c&&c()}},[e==null?void 0:e.id]),{state:t,actions:{sendConfirmationEmail:o,checkStatus:a,refreshStatus:l}}},Mwe=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0),[i]=Up(),a=It(),{state:o,actions:l}=Dwe(e),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[p,g]=x.useState(!1),[y,v]=x.useState(0),w=i.get("confirmed")==="true";x.useEffect(()=>{(async()=>{const{data:{user:A}}=await q.auth.getUser();t(A),r(!1)})();const{data:k}=q.auth.onAuthStateChange((A,T)=>{t((T==null?void 0:T.user)||null)});return()=>{k.subscription.unsubscribe()}},[]),x.useEffect(()=>{!n&&e&&!o.isLoading&&o.isConfirmed&&!o.isRequired&&!p&&(g(!0),we({title:"Email confirmé !",description:"Redirection vers votre tableau de bord..."}),setTimeout(()=>{a("/individual/dashboard",{replace:!0})},1500))},[n,e,o.isLoading,o.isConfirmed,o.isRequired,a,p]),x.useEffect(()=>{w&&!h&&(m(!0),we({title:"Email confirmé !",description:"Votre compte est maintenant activé. Vérification en cours..."}),window.history.replaceState({},"","/verify-email"),setTimeout(()=>{l.refreshStatus()},1500))},[w,h,l]),x.useEffect(()=>{if(w&&!o.isLoading&&o.isRequired&&y<3){const C=setTimeout(()=>{console.log(`[VerifyEmail] Retry ${y+1}/3: Profile not updated yet, refreshing status...`),v(k=>k+1),l.refreshStatus()},2e3);return()=>clearTimeout(C)}},[w,o.isLoading,o.isRequired,y,l]);const b=async()=>{f(!0);try{await l.sendConfirmationEmail()&&(u(!0),we({title:"Email renvoyé !",description:"Un nouveau lien de confirmation vous a été envoyé."}))}catch{we({title:"Erreur",description:"Impossible de renvoyer l'email. Réessayez plus tard.",variant:"destructive"})}finally{f(!1)}},j=()=>{u(!1),l.refreshStatus(),we({title:"Email confirmé !",description:"Votre compte est maintenant activé."})},_=async()=>{await q.auth.signOut(),a("/login")},N=!o.canResendAt||new Date>=o.canResendAt,S=o.canResendAt?Math.max(0,Math.ceil((o.canResendAt.getTime()-Date.now())/1e3)):0;return n||o.isLoading?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#F9F6F2]",children:s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ni,{className:"h-5 w-5 animate-spin"}),"Vérification de votre email..."]})}):e?o.isConfirmed&&!o.isRequired&&p?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#F9F6F2]",children:s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(pe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Gt,{className:"h-8 w-8 text-green-600"})})}),s.jsx(me,{className:"text-xl",children:"Email confirmé !"})]}),s.jsxs(ie,{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Votre compte est maintenant activé. Redirection en cours..."}),s.jsx(ni,{className:"h-5 w-5 animate-spin mx-auto text-gray-400"})]})]})}):s.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-[#F9F6F2] p-4",children:[s.jsxs(re,{className:"w-full max-w-md",children:[s.jsxs(pe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(Ft,{className:"h-8 w-8 text-orange-600"})})}),s.jsx(me,{className:"text-xl",children:"Confirmez votre email"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-gray-600",children:[s.jsx("p",{className:"mb-4",children:"Pour accéder à votre compte, vous devez confirmer votre adresse email :"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:s.jsx("p",{className:"font-medium text-gray-800",children:e.email})}),s.jsx("p",{className:"text-sm text-gray-500",children:"Un email de confirmation a été envoyé à cette adresse. Cliquez sur le lien dans l'email pour activer votre compte."})]}),o.confirmationStatus&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[s.jsx(Ft,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm font-medium",children:["Statut : ",o.confirmationStatus.status==="pending"?"En attente":"Expiré"]})]}),o.confirmationStatus.expires_at&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Expire le : ",new Date(o.confirmationStatus.expires_at).toLocaleString("fr-FR")]})]}),o.error&&s.jsxs($l,{variant:"destructive",children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsx(Fl,{children:o.error})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{onClick:b,disabled:!N||d,className:"w-full bg-[#FF592C] hover:bg-[#e04a1f]",children:d?s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"h-4 w-4 mr-2 animate-spin"}),"Envoi en cours..."]}):N?s.jsxs(s.Fragment,{children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Renvoyer l'email de confirmation"]}):s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"h-4 w-4 mr-2"}),"Renvoyer dans ",S,"s"]})}),s.jsxs(H,{onClick:l.refreshStatus,variant:"outline",className:"w-full",children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"J'ai confirmé mon email"]}),s.jsxs(H,{onClick:_,variant:"ghost",className:"w-full text-gray-600 hover:text-gray-800",children:[s.jsx(df,{className:"h-4 w-4 mr-2"}),"Se déconnecter"]})]}),s.jsx("div",{className:"text-center pt-4 border-t",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Vous n'avez pas reçu l'email ? Vérifiez vos spams ou contactez-nous à"," ",s.jsx("a",{href:"mailto:support@aurentia.fr",className:"text-[#FF592C] hover:text-[#e04a1f] font-medium",children:"support@aurentia.fr"})]})})]})]}),c&&s.jsx(IK,{isOpen:c,onClose:()=>u(!1),email:e.email||"",userId:e.id,onConfirmed:j})]}):(a("/login"),null)},Iwe=()=>{const[e]=Up(),t=It(),[n,r]=x.useState("loading"),[i,a]=x.useState(""),[o,l]=x.useState(null);x.useEffect(()=>{(async()=>{const m=e.get("token"),p=e.get("type");if(!m||!p||!["old","new"].includes(p)){r("error"),a("Paramètres de confirmation manquants ou invalides.");return}try{const{data:g,error:y}=await q.functions.invoke("confirm-email-update",{body:{token:m,type:p}});if(y)throw y;const v=g;l(v),v.status==="completed"?(r("success"),a(v.message),we({title:"Email mis à jour !",description:"Votre nouvelle adresse e-mail est maintenant active."}),setTimeout(()=>{t("/individual/profile")},5e3)):v.status==="partial"&&(r("partial"),a(v.message),we({title:"Confirmation reçue",description:`En attente de la validation de l'${v.waiting_for}.`}))}catch(g){console.error("Error confirming email update:",g),r("error"),a(g.message||"Une erreur est survenue lors de la confirmation."),we({title:"Erreur de confirmation",description:g.message||"Impossible de confirmer le changement d'email.",variant:"destructive"})}})()},[e,t]);const c=()=>{t("/individual/profile")},u=()=>{switch(n){case"loading":return s.jsx(Pt,{className:"h-16 w-16 text-aurentia-orange-aurentia animate-spin mb-4"});case"success":return s.jsx(Gt,{className:"h-16 w-16 text-green-500 mb-4"});case"partial":return s.jsx(Yt,{className:"h-16 w-16 text-blue-500 mb-4"});case"error":return s.jsx(hi,{className:"h-16 w-16 text-red-500 mb-4"});default:return null}},d=()=>{switch(n){case"loading":return"Confirmation en cours...";case"success":return"Email confirmé !";case"partial":return"Confirmation reçue !";case"error":return"Erreur de confirmation";default:return""}},f=()=>{switch(n){case"loading":return"Nous vérifions votre demande de changement d'email.";case"success":return"Vous serez redirigé automatiquement vers votre profil dans quelques secondes.";case"partial":return o!=null&&o.waiting_for?`En attente de la confirmation depuis votre ${o.waiting_for}.`:"En attente de la seconde confirmation.";case"error":return"Le lien peut avoir expiré ou être invalide. Veuillez réessayer depuis votre profil.";default:return""}};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs(re,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col items-center",children:[u(),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:d()}),s.jsx("p",{className:"text-gray-600 mb-4",children:i}),s.jsx("p",{className:"text-sm text-gray-500",children:f()}),n==="partial"&&o&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"📧 Double confirmation requise"}),s.jsx("p",{className:"text-sm text-blue-700",children:o.confirmed_type==="old"?"✅ Ancienne adresse confirmée":"✅ Nouvelle adresse confirmée"}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["⏳ En attente : ",o.waiting_for]}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Vérifiez votre boîte mail pour finaliser le changement."})]}),n==="success"&&s.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-700",children:"🎉 Les deux confirmations ont été effectuées avec succès !"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Vous pouvez maintenant vous connecter avec votre nouvelle adresse email."})]})]})}),(n==="success"||n==="error"||n==="partial")&&s.jsx(H,{onClick:c,className:"w-full",variant:n==="error"?"outline":"default",children:"Retourner au profil"})]})})};var Lwe="Label",nY=x.forwardRef((e,t)=>s.jsx($e.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nY.displayName=Lwe;var rY=nY;const $we=Lf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=x.forwardRef(({className:e,...t},n)=>s.jsx(rY,{ref:n,className:de($we(),e),...t}));Be.displayName=rY.displayName;const Fwe=()=>{const[e]=Up(),t=It(),[n,r]=x.useState(!1),[i,a]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[p,g]=x.useState("loading"),[y,v]=x.useState("");x.useEffect(()=>{const _=e.get("token");if(!_){g("error"),v("Token de réinitialisation manquant ou invalide.");return}a(_),g("ready")},[e]);const w=_=>{const N=_.length>=8,S=/[a-zA-Z]/.test(_),C=/\d/.test(_),k=/[!@#$%^&*(),.?\":{}|<>]/.test(_);return{minLength:N,hasLetter:S,hasNumber:C,hasSpecial:k,isValid:N&&S&&C&&k}},b=async _=>{if(_.preventDefault(),o!==c){we({title:"Erreur",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});return}if(!w(o).isValid){we({title:"Mot de passe invalide",description:"Le mot de passe doit contenir au moins 8 caractères, des lettres, des chiffres et des caractères spéciaux.",variant:"destructive"});return}r(!0);try{const{data:S,error:C}=await q.functions.invoke("confirm-password-reset",{body:{token:i,new_password:o}});if(C)throw C;g("success"),v(S.message),we({title:"Succès !",description:"Votre mot de passe a été mis à jour."}),setTimeout(()=>{t("/login")},3e3)}catch(S){console.error("Error resetting password:",S),g("error"),v(S.message||"Une erreur est survenue lors de la réinitialisation."),we({title:"Erreur",description:S.message||"Impossible de réinitialiser le mot de passe.",variant:"destructive"})}finally{r(!1)}},j=w(o);return p==="loading"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs(re,{className:"w-full max-w-md p-8 text-center",children:[s.jsx(Pt,{className:"h-16 w-16 text-aurentia-orange-aurentia animate-spin mb-4 mx-auto"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Vérification..."}),s.jsx("p",{className:"text-gray-600",children:"Validation du lien de réinitialisation"})]})}):p==="error"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs(re,{className:"w-full max-w-md p-8 text-center",children:[s.jsx(hi,{className:"h-16 w-16 text-red-500 mb-4 mx-auto"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Lien invalide"}),s.jsx("p",{className:"text-gray-600 mb-4",children:y}),s.jsx(H,{onClick:()=>t("/login"),className:"w-full",variant:"outline",children:"Retourner à la connexion"})]})}):p==="success"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs(re,{className:"w-full max-w-md p-8 text-center",children:[s.jsx(Gt,{className:"h-16 w-16 text-green-500 mb-4 mx-auto"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mot de passe mis à jour !"}),s.jsx("p",{className:"text-gray-600 mb-4",children:y}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Vous serez redirigé automatiquement vers la page de connexion."}),s.jsx(H,{onClick:()=>t("/login"),className:"w-full",children:"Se connecter maintenant"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs(re,{className:"w-full max-w-md p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-2 bg-gradient-to-r from-aurentia-pink to-aurentia-orange bg-clip-text text-transparent",children:"Nouveau mot de passe"}),s.jsx("p",{className:"text-gray-600",children:"Saisissez votre nouveau mot de passe"})]}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(ke,{id:"newPassword",type:d?"text":"password",value:o,onChange:_=>l(_.target.value),placeholder:"••••••••",required:!0,disabled:n,className:"pr-10"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!d),children:d?s.jsx(Aj,{className:"h-4 w-4"}):s.jsx(ns,{className:"h-4 w-4"})})]}),o&&s.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[s.jsxs("div",{className:`flex items-center gap-2 ${j.minLength?"text-green-600":"text-red-600"}`,children:[s.jsx("span",{children:j.minLength?"✓":"✗"}),s.jsx("span",{children:"Au moins 8 caractères"})]}),s.jsxs("div",{className:`flex items-center gap-2 ${j.hasLetter?"text-green-600":"text-red-600"}`,children:[s.jsx("span",{children:j.hasLetter?"✓":"✗"}),s.jsx("span",{children:"Au moins une lettre"})]}),s.jsxs("div",{className:`flex items-center gap-2 ${j.hasNumber?"text-green-600":"text-red-600"}`,children:[s.jsx("span",{children:j.hasNumber?"✓":"✗"}),s.jsx("span",{children:"Au moins un chiffre"})]}),s.jsxs("div",{className:`flex items-center gap-2 ${j.hasSpecial?"text-green-600":"text-red-600"}`,children:[s.jsx("span",{children:j.hasSpecial?"✓":"✗"}),s.jsx("span",{children:"Au moins un caractère spécial"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(ke,{id:"confirmPassword",type:h?"text":"password",value:c,onChange:_=>u(_.target.value),placeholder:"••••••••",required:!0,disabled:n,className:"pr-10"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!h),children:h?s.jsx(Aj,{className:"h-4 w-4"}):s.jsx(ns,{className:"h-4 w-4"})})]}),c&&s.jsx("div",{className:`mt-1 text-xs ${o===c?"text-green-600":"text-red-600"}`,children:o===c?"✓ Les mots de passe correspondent":"✗ Les mots de passe ne correspondent pas"})]}),s.jsx(H,{type:"submit",className:"w-full",disabled:n||!j.isValid||o!==c,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour..."]}):"Mettre à jour le mot de passe"})]}),s.jsx("div",{className:"mt-6 text-center text-sm",children:s.jsx("a",{href:"/login",className:"text-aurentia-pink hover:text-aurentia-orange transition",children:"Retourner à la connexion"})})]})})},zwe=()=>{const[e]=Up(),t=It(),[n,r]=x.useState("loading"),[i,a]=x.useState(""),[o,l]=x.useState(null),[c,u]=x.useState("");x.useEffect(()=>{const p=e.get("token");if(!p){r("error"),a("Token d'invitation manquant dans l'URL");return}d(p)},[e]);const d=async p=>{try{const{data:g,error:y}=await q.from("project_invitations").select(`
          id,
          email,
          role,
          project_id,
          project_name,
          expires_at,
          status,
          invited_at
        `).eq("token",p).eq("status","pending").gt("expires_at",new Date().toISOString()).single();if(y||!g){console.error("Erreur lors du chargement de l'invitation:",y),r("error"),a("Cette invitation est invalide, a expiré ou a déjà été utilisée.");return}l(g),u(g.email),r("form")}catch(g){console.error("Erreur lors du chargement:",g),r("error"),a(`Erreur lors du chargement: ${g.message}`)}},f=async()=>{if(!c.trim()){a("Veuillez entrer votre adresse email");return}if(!o){a("Données d'invitation manquantes");return}if(o.email.toLowerCase()!==c.trim().toLowerCase()){a("L'adresse email ne correspond pas à cette invitation. Veuillez utiliser l'adresse email qui a reçu l'invitation.");return}r("accepting"),a("");try{const p=e.get("token"),{error:g}=await q.from("project_invitations").update({status:"accepted",accepted_at:new Date().toISOString(),accepted_email:c.trim().toLowerCase()}).eq("token",p).eq("status","pending").gt("expires_at",new Date().toISOString());if(g)throw g;r("success"),a("🎉 Invitation acceptée avec succès ! Vous pourrez accéder au projet après votre inscription/connexion."),setTimeout(()=>{t("/login?message="+encodeURIComponent("Connectez-vous pour accéder à vos projets"))},3e3)}catch(p){r("error"),a(`Erreur: ${p.message}`)}},h=p=>{switch(p){case"owner":return"Propriétaire";case"admin":return"Administrateur";case"editor":return"Éditeur";case"viewer":return"Observateur";default:return p}},m=p=>new Date(p).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:s.jsxs(re,{className:"w-full max-w-lg shadow-xl",children:[s.jsx(pe,{className:"text-center pb-4",children:s.jsx(me,{className:"text-2xl font-bold text-gray-800",children:n==="form"?"✉️ Invitation à collaborer":n==="success"?"🎉 Invitation acceptée":n==="accepting"?"⏳ Acceptation en cours":"❌ Erreur d'invitation"})}),s.jsxs(ie,{className:"space-y-6",children:[n==="loading"&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Pt,{className:"h-12 w-12 animate-spin mx-auto text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Chargement de votre invitation..."})]}),n==="form"&&o&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Yn,{className:"h-6 w-6 text-blue-600 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-blue-900 text-lg",children:o.project_name||"Projet sans nom"}),s.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Vous êtes invité(e) à collaborer sur ce projet"})]})]})}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(et,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Rôle proposé :"}),s.jsx("span",{className:"font-medium text-gray-800",children:h(o.role)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Invité le :"}),s.jsx("span",{className:"font-medium text-gray-800",children:m(o.invited_at)})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Confirmez votre adresse email"}),s.jsx(ke,{id:"email",type:"email",value:c,onChange:p=>u(p.target.value),placeholder:"votre@email.com",className:"mt-1",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Entrez l'adresse email qui a reçu cette invitation"})]}),i&&n==="form"&&s.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:i}),s.jsx(H,{onClick:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3",size:"lg",children:"✅ Accepter l'invitation"})]}),s.jsx("div",{className:"text-center text-xs text-gray-500",children:"En acceptant cette invitation, vous pourrez collaborer sur ce projet"})]}),n==="accepting"&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Pt,{className:"h-12 w-12 animate-spin mx-auto text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Acceptation de votre invitation en cours..."})]}),n==="success"&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Gt,{className:"h-16 w-16 mx-auto text-green-600"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-green-700 font-medium",children:i}),s.jsx("p",{className:"text-sm text-gray-600",children:"Redirection vers la page de connexion..."})]})]}),n==="error"&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(hi,{className:"h-12 w-12 mx-auto text-red-600"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-red-600",children:i}),s.jsx(H,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:"Retour à l'accueil"})]})]})]})]})})},sY=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0),[i,a]=x.useState(null),o=x.useCallback(async()=>{try{r(!0),a(null);const{data:{session:d}}=await q.auth.getSession();if(!(d!=null&&d.user)){a("Utilisateur non connecté");return}console.log("🔍 User ID recherché:",d.user.id,"Email:",d.user.email);const{data:f,error:h}=await q.from("profiles").select("monthly_credits_remaining, purchased_credits_remaining, monthly_credits_limit, last_credit_reset").eq("id",d.user.id).maybeSingle();if(h){console.error("❌ Erreur récupération crédits:",h),a("Erreur lors de la récupération des crédits");return}if(f)console.log("👍 Données crédits récupérées:",f),t({monthly_credits_remaining:f.monthly_credits_remaining||0,purchased_credits_remaining:f.purchased_credits_remaining||0,monthly_credits_limit:f.monthly_credits_limit||0,last_credit_reset:f.last_credit_reset||new Date().toISOString()});else{console.log("📝 Mise à jour du profil avec crédits par défaut");const{error:m}=await q.from("profiles").update({monthly_credits_remaining:50,purchased_credits_remaining:0,monthly_credits_limit:50,last_credit_reset:new Date().toISOString()}).eq("id",d.user.id);m&&console.error("❌ Erreur update profil:",m),t({monthly_credits_remaining:50,monthly_credits_limit:50,purchased_credits_remaining:0,last_credit_reset:new Date().toISOString()})}}catch(d){console.error("❌ Erreur fetchCredits:",d),a("Erreur inattendue")}finally{r(!1)}},[]),l=x.useCallback(async(d=1)=>{try{const{data:{session:f}}=await q.auth.getSession();if(!(f!=null&&f.user))return{success:!1,error:"Utilisateur non connecté"};const{data:h,error:m}=await q.rpc("consume_credits",{p_user_id:f.user.id,p_amount:d});return m?(console.error("❌ Erreur consommation crédits:",m),{success:!1,error:"Erreur lors de la consommation des crédits"}):(h.success&&await o(),h)}catch(f){return console.error("❌ Erreur consumeCredits:",f),{success:!1,error:"Erreur inattendue"}}},[o]),c=x.useCallback(async d=>{try{const{data:{session:f}}=await q.auth.getSession();if(!(f!=null&&f.user))return!1;const{data:h,error:m}=await q.rpc("add_purchased_credits",{p_user_id:f.user.id,p_amount:d});return m?(console.error("❌ Erreur ajout crédits:",m),!1):h.success?(await o(),!0):!1}catch(f){return console.error("❌ Erreur addPurchasedCredits:",f),!1}},[o]),u=x.useCallback(async()=>{try{const{data:{session:d}}=await q.auth.getSession();if(!(d!=null&&d.user))return!1;const{data:f,error:h}=await q.rpc("reset_monthly_credits",{p_user_id:d.user.id});return h?(console.error("❌ Erreur reset crédits:",h),!1):f.success?(await o(),!0):!1}catch(d){return console.error("❌ Erreur resetMonthlyCredits:",d),!1}},[o]);return x.useEffect(()=>{o()},[o]),{credits:e,isLoading:n,error:i,refresh:o,consumeCredits:l,addPurchasedCredits:c,resetMonthlyCredits:u,monthlyRemaining:(e==null?void 0:e.monthly_credits_remaining)||0,monthlyLimit:(e==null?void 0:e.monthly_credits_limit)||0,purchasedRemaining:(e==null?void 0:e.purchased_credits_remaining)||0,totalRemaining:((e==null?void 0:e.monthly_credits_remaining)||0)+((e==null?void 0:e.purchased_credits_remaining)||0),hasCredits:((e==null?void 0:e.monthly_credits_remaining)||0)+((e==null?void 0:e.purchased_credits_remaining)||0)>0}},nb=sY,iY=x.createContext(void 0),yr=()=>{const e=x.useContext(iY);if(e===void 0)throw new Error("useProject must be used within a ProjectProvider");return e},Bwe=[{name:"Cible B2C",table:"persona_express_b2c"},{name:"Cible B2B",table:"persona_express_b2b"},{name:"Cible Organismes",table:"persona_express_organismes"},{name:"Pitch",table:"pitch"},{name:"Concurrence",table:"concurrence"},{name:"Marché",table:"marche"},{name:"Proposition de valeur",table:"proposition_valeur"},{name:"Business Model",table:"business_model"},{name:"Analyse des ressources",table:"ressources_requises"},{name:"Vision/Mission",table:"vision_mission"}],Uwe=({children:e})=>{const[t,n]=x.useState(()=>typeof window<"u"?localStorage.getItem("currentProjectId"):null),[r,i]=x.useState([]),[a,o]=x.useState(!1),[l,c]=x.useState([]),[u,d]=x.useState(!1),{credits:f,isLoading:h,refresh:m}=nb(),p=b=>{n(b),typeof window<"u"&&(b?localStorage.setItem("currentProjectId",b):localStorage.removeItem("currentProjectId"))},g=async()=>{o(!0);try{const{data:{session:b}}=await q.auth.getSession();if(!b){i([]),o(!1);return}const{data:j,error:_}=await q.from("project_summary").select("project_id, nom_projet, created_at, statut_project").eq("user_id",b.user.id).order("created_at",{ascending:!1});if(_)throw _;i(j||[])}catch(b){console.error("Error fetching user projects:",b);const{data:{session:j}}=await q.auth.getSession();j&&we({title:"Erreur",description:"Impossible de charger vos projets. Veuillez réessayer plus tard.",variant:"destructive"})}finally{o(!1)}},y=async b=>{if(!b){c([]);return}d(!0),console.log(`🔄 Récupération des livrables pour le projet: ${b}`);try{const j=[];for(const _ of Bwe)try{const{data:N,error:S}=await q.from(_.table).select("*").eq("project_id",b).single();!S&&N&&j.push(_.name)}catch(N){console.log(`❌ Erreur pour ${_.table}:`,N)}c(j),console.log("📋 === LIVRABLES POSSÉDÉS ==="),j.forEach((_,N)=>{console.log(`${N+1}. ${_}`)}),console.log(`📊 Total: ${j.length} livrables`),console.log("=============================")}catch(j){console.error("❌ Erreur lors de la récupération des livrables:",j),c([])}finally{d(!1)}};x.useEffect(()=>{var b;t&&r.length>0?r.some(_=>_.project_id===t)||(console.log(`🔄 Projet ${t} n'existe plus, sélection du premier projet disponible`),p(((b=r[0])==null?void 0:b.project_id)||null)):!t&&r.length>0&&(console.log(`🔄 Sélection automatique du premier projet: ${r[0].project_id}`),p(r[0].project_id))},[r,t]),x.useEffect(()=>{t?y(t):c([])},[t]),x.useEffect(()=>{const{data:b}=q.auth.onAuthStateChange((j,_)=>{_?(g(),m()):(i([]),p(null),c([]))});return g(),m(),()=>{b.subscription.unsubscribe()}},[]);const w={currentProjectId:t,userProjects:r,userProjectsLoading:a,deliverableNames:l,deliverablesLoading:u,userCredits:f,creditsLoading:h,setCurrentProjectId:p,loadUserProjects:g,deleteProject:async b=>{try{const{data:{session:j}}=await q.auth.getSession();if(!j)return we({title:"Erreur",description:"Vous devez être connecté pour supprimer un projet.",variant:"destructive"}),!1;const _=["persona_express_b2c","persona_express_b2b","persona_express_organismes","mini_swot","success_story","pitch","concurrence","marche","proposition_valeur","business_model","ressources_requises","rag","vision_mission_valeurs"];try{await q.from("form_business_idea").delete().eq("project_id",b).eq("user_id",j.user.id)}catch(N){console.log("Erreur lors de la suppression de form_business_idea:",N)}try{await q.from("project_summary").delete().eq("project_id",b).eq("user_id",j.user.id)}catch(N){console.log("Erreur lors de la suppression de project_summary:",N)}for(const N of _)try{await q.from(N).delete().eq("project_id",b).eq("user_id",j.user.id)}catch(S){console.log(`Erreur lors de la suppression de ${N}:`,S)}try{const S=await fetch("https://n8n.srv906204.hstgr.cloud/webhook/supp-rag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:j.user.id,project_id:b})});S.ok?console.log("Webhook RAG appelé avec succès."):console.error("Erreur lors de l'appel du webhook RAG:",S.statusText)}catch(N){console.error("Erreur lors de l'appel du webhook RAG:",N)}return t===b&&p(null),await g(),we({title:"Succès",description:"Le projet a été supprimé avec succès."}),!0}catch(j){return console.error("Erreur lors de la suppression du projet:",j),we({title:"Erreur",description:"Impossible de supprimer le projet. Veuillez réessayer.",variant:"destructive"}),!1}},loadUserCredits:m};return s.jsx(iY.Provider,{value:w,children:e})};var aY="AlertDialog",[qwe]=sr(aY,[gK]),Yl=gK(),oY=e=>{const{__scopeAlertDialog:t,...n}=e,r=Yl(t);return s.jsx(VD,{...r,...n,modal:!0})};oY.displayName=aY;var Vwe="AlertDialogTrigger",lY=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Yl(n);return s.jsx(OK,{...i,...r,ref:t})});lY.displayName=Vwe;var Hwe="AlertDialogPortal",cY=e=>{const{__scopeAlertDialog:t,...n}=e,r=Yl(t);return s.jsx(P1,{...r,...n})};cY.displayName=Hwe;var Wwe="AlertDialogOverlay",uY=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Yl(n);return s.jsx(Wp,{...i,...r,ref:t})});uY.displayName=Wwe;var dm="AlertDialogContent",[Gwe,Kwe]=qwe(dm),Ywe=HW("AlertDialogContent"),dY=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Yl(n),o=x.useRef(null),l=it(t,o),c=x.useRef(null);return s.jsx(vwe,{contentName:dm,titleName:fY,docsSlug:"alert-dialog",children:s.jsx(Gwe,{scope:n,cancelRef:c,children:s.jsxs(Gp,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Te(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Ywe,{children:r}),s.jsx(Qwe,{contentRef:o})]})})})});dY.displayName=dm;var fY="AlertDialogTitle",hY=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Yl(n);return s.jsx(Zy,{...i,...r,ref:t})});hY.displayName=fY;var mY="AlertDialogDescription",pY=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Yl(n);return s.jsx(eb,{...i,...r,ref:t})});pY.displayName=mY;var Xwe="AlertDialogAction",gY=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Yl(n);return s.jsx(tb,{...i,...r,ref:t})});gY.displayName=Xwe;var xY="AlertDialogCancel",vY=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Kwe(xY,n),a=Yl(n),o=it(t,i);return s.jsx(tb,{...a,...r,ref:o})});vY.displayName=xY;var Qwe=({contentRef:e})=>{const t=`\`${dm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${dm}\` by passing a \`${mY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${dm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Jwe=oY,Zwe=lY,eje=cY,yY=uY,bY=dY,wY=gY,jY=vY,_Y=hY,NY=pY;const R1=Jwe,tje=Zwe,nje=eje,SY=x.forwardRef(({className:e,...t},n)=>s.jsx(yY,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));SY.displayName=yY.displayName;const rb=x.forwardRef(({className:e,...t},n)=>s.jsxs(nje,{children:[s.jsx(SY,{}),s.jsx(bY,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));rb.displayName=bY.displayName;const sb=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",e),...t});sb.displayName="AlertDialogHeader";const ib=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ib.displayName="AlertDialogFooter";const ab=x.forwardRef(({className:e,...t},n)=>s.jsx(_Y,{ref:n,className:de("text-lg font-semibold",e),...t}));ab.displayName=_Y.displayName;const ob=x.forwardRef(({className:e,...t},n)=>s.jsx(NY,{ref:n,className:de("text-sm text-muted-foreground",e),...t}));ob.displayName=NY.displayName;const lb=x.forwardRef(({className:e,...t},n)=>s.jsx(wY,{ref:n,className:de(Ev(),e),...t}));lb.displayName=wY.displayName;const cb=x.forwardRef(({className:e,...t},n)=>s.jsx(jY,{ref:n,className:de(Ev({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));cb.displayName=jY.displayName;const rje=()=>{const e=It(),[t,n]=x.useState(null),{userProjects:r,userProjectsLoading:i,deleteProject:a}=yr(),o=r.map(c=>({id:c.project_id,title:c.nom_projet||"Projet sans nom",status:"En cours",createdAt:new Date(c.created_at).toLocaleDateString("fr-FR")})),l=async()=>{if(!t)return;await a(t)&&n(null)};return x.useEffect(()=>{const c=document.createElement("script");return c.src="https://tally.so/widgets/embed.js",c.async=!0,c.onload=()=>{window.Tally&&window.Tally.loadEmbeds()},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[]),s.jsx("div",{className:"container mx-auto px-4 py-8 min-h-screen animate-fade-in",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Tableau de bord"}),s.jsx("p",{className:"text-gray-600",children:"Bienvenue sur votre espace de gestion de projets entrepreneuriaux"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 animate-slide-up",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Projets totaux"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),s.jsx("div",{className:"h-12 w-12 bg-blue-50 rounded-lg flex items-center justify-center",children:s.jsx(sn,{className:"h-6 w-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 animate-slide-up",style:{animationDelay:"0.1s"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Livrables générés"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length*4})]}),s.jsx("div",{className:"h-12 w-12 bg-green-50 rounded-lg flex items-center justify-center",children:s.jsx(Hr,{className:"h-6 w-6 text-green-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-3 flex justify-end mb-4",children:s.jsxs(H,{onClick:()=>e("/individual/warning"),className:"flex items-center gap-2",children:[s.jsx(In,{size:16}),"Créer un nouveau projet"]})}),s.jsxs("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-sm p-5 animate-slide-up",style:{animationDelay:"0.1s"},children:[s.jsx("h2",{className:"text-base font-semibold mb-4",children:"Vos projets"}),i?s.jsx("div",{className:"flex justify-center py-6",children:s.jsx(Ln,{size:"sm"})}):o.length>0?s.jsx("div",{className:"space-y-3",children:o.map(c=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg hover:bg-gray-100 transition",children:[s.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>e(`/individual/project-business/${c.id}`),children:s.jsx("h3",{className:"font-medium text-sm",children:c.title})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${c.status==="Complété"?"bg-green-100 text-green-800":c.status==="En analyse"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:c.status}),s.jsx("button",{className:"ml-3 p-1.5 text-gray-500 hover:text-gray-700",onClick:()=>e(`/individual/project-business/${c.id}`),children:s.jsx(sn,{size:16})}),s.jsxs(R1,{children:[s.jsx(tje,{asChild:!0,children:s.jsx("button",{className:"ml-2 p-1.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors",onClick:u=>{u.stopPropagation(),n(c.id)},children:s.jsx(tn,{size:16})})}),s.jsxs(rb,{children:[s.jsxs(sb,{children:[s.jsx(ab,{children:"Êtes-vous sûr ?"}),s.jsxs(ob,{children:['Cette action ne peut pas être annulée. Cela supprimera définitivement le projet "',c.title,'" et toutes ses données associées.']})]}),s.jsxs(ib,{children:[s.jsx(cb,{onClick:()=>n(null),children:"Non"}),s.jsx(lb,{onClick:l,className:"bg-red-600 hover:bg-red-700",children:"Oui"})]})]})]})]})]},c.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"Vous n'avez pas encore de projets"}),s.jsx("button",{onClick:()=>e("/individual/warning"),className:"btn-primary",children:"Créer votre premier projet"})]})]}),s.jsx("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-sm p-5 animate-slide-up mt-6",children:s.jsx("iframe",{"data-tally-src":"https://tally.so/embed/3qq1e8?alignLeft=1&transparentBackground=1&dynamicHeight=1",loading:"lazy",width:"100%",height:"552",frameBorder:"0",marginHeight:0,marginWidth:0,allow:"microphone; camera; geolocation; autoplay",title:"Votre avis nous aide à grandir !"})}),s.jsx("div",{className:"md:hidden mt-6",children:s.jsxs("button",{onClick:()=>e("/individual/warning"),className:"btn-primary w-full flex items-center justify-center gap-2 px-4 py-3",children:[s.jsx(In,{size:20}),"Créer un nouveau projet"]})})]})]})})},CY=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const{data:{session:a}}=await q.auth.getSession();if(!(a!=null&&a.user)){t(null),r(!1);return}const{data:o,error:l}=await q.from("profiles").select("subscription_status").eq("id",a.user.id).single();l?(console.error("Erreur lors du chargement du statut d'abonnement:",l),t(null)):t(o.subscription_status||null)}catch(a){console.error("Erreur lors du chargement du statut d'abonnement:",a),t(null)}finally{r(!1)}})()},[]),{subscriptionStatus:e,loading:n}},sje=Lf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Ce=x.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{className:de(sje({variant:t}),e),ref:r,...n}));Ce.displayName="Badge";const Uc={SUBSCRIPTION:{PRODUCT_ID:"prod_SyRjQAbqp3Qlv5",PRICE_ID:"price_1S2UpoLIKukPrwK8M1Oi0qgS",NAME:"Abonnement Entrepreneur",AMOUNT:1290,CREDITS:1500}};class ije{async getOrCreateCustomer(t,n,r){try{const{data:i}=await q.from("stripe_customers").select("stripe_customer_id").eq("user_id",t).single();if(i)return i.stripe_customer_id;const a=`cus_mock_${t.substring(0,8)}`;return await this.saveCustomerToDb(a,t,n,r),a}catch(i){throw console.error("❌ Erreur gestion client:",i),new Error("Impossible de créer ou récupérer le client")}}async saveCustomerToDb(t,n,r,i){const{error:a}=await q.from("stripe_customers").upsert({stripe_customer_id:t,user_id:n,email:r,name:i});a&&console.error("❌ Erreur sauvegarde client:",a)}async getUserSubscriptionStatus(t){try{const{data:n}=await q.from("stripe_customers").select("stripe_customer_id").eq("user_id",t).single();if(!n)return{has_active_subscription:!1};const{data:r,error:i}=await q.from("stripe_subscriptions").select("*").eq("user_id",t).eq("status","active").eq("price_id",Uc.SUBSCRIPTION.PRICE_ID);if(i)return console.error("❌ Erreur récupération abonnements:",i),{has_active_subscription:!1};const a=r.find(o=>o.status==="active");return a?{has_active_subscription:!0,customer_id:n.stripe_customer_id,subscription:{id:a.stripe_subscription_id,status:a.status,current_period_start:a.current_period_start,current_period_end:a.current_period_end,cancel_at_period_end:a.cancel_at_period_end}}:{has_active_subscription:!1,customer_id:n.stripe_customer_id}}catch(n){return console.error("❌ Erreur vérification abonnement:",n),{has_active_subscription:!1}}}async createSubscriptionPaymentLink(t,n){var r,i;try{const{data:a,error:o}=await q.from("profiles").select("*").eq("id",t).single();if(o)return console.error("❌ Erreur profil:",o),{success:!1,error:"Impossible de récupérer les informations utilisateur"};if(!a||!a.email){const{data:{user:h}}=await q.auth.getUser();if(!h||!h.email)return{success:!1,error:"Aucun email utilisateur trouvé"};const m=h.email,p=((r=h.user_metadata)==null?void 0:r.first_name)||((i=h.user_metadata)==null?void 0:i.full_name)||"",g=await this.getOrCreateCustomer(t,m,p),y="https://buy.stripe.com/4gMfZidrg5Cwamd4TR0gw09";return await this.saveSubscriptionIntent(t,n,g),await this.updateProjectStatus(n,"subscription_pending"),{success:!0,data:{payment_url:y,customer_id:g},message:"Redirection vers le paiement en cours..."}}if((await this.getUserSubscriptionStatus(t)).has_active_subscription)return{success:!1,error:"Vous avez déjà un abonnement actif"};const c=a.email,u=`${a.first_name||""} ${a.last_name||""}`.trim()||a.full_name||"",d=await this.getOrCreateCustomer(t,c,u),f="https://buy.stripe.com/4gMfZidrg5Cwamd4TR0gw09";return await this.saveSubscriptionIntent(t,n,d),await this.updateProjectStatus(n,"subscription_pending"),{success:!0,data:{payment_url:f,customer_id:d},message:"Redirection vers le paiement en cours..."}}catch(a){return console.error("❌ Erreur création lien paiement:",a),{success:!1,error:"Erreur lors de la création du lien de paiement"}}}async cancelSubscription(t,n=!1){try{const r=await this.getUserSubscriptionStatus(t);return!r.has_active_subscription||!r.subscription?{success:!1,error:"Aucun abonnement actif trouvé"}:(await this.updateSubscriptionInDb(r.subscription.id,n?"canceled":"active",void 0,void 0,!n),{success:!0,message:n?"Abonnement annulé immédiatement":"Abonnement sera annulé à la fin de la période de facturation"})}catch(r){return console.error("❌ Erreur annulation abonnement:",r),{success:!1,error:"Erreur lors de l'annulation de l'abonnement"}}}async reactivateSubscription(t){try{const n=await this.getUserSubscriptionStatus(t);return!n.subscription||n.subscription.status!=="active"||!n.subscription.cancel_at_period_end?{success:!1,error:"Aucun abonnement à réactiver trouvé"}:(await this.updateSubscriptionInDb(n.subscription.id,"active",void 0,void 0,!1),{success:!0,message:"Abonnement réactivé avec succès"})}catch(n){return console.error("❌ Erreur réactivation abonnement:",n),{success:!1,error:"Erreur lors de la réactivation de l'abonnement"}}}async saveSubscriptionIntent(t,n,r){const{error:i}=await q.from("subscription_intents").insert({user_id:t,project_id:n,stripe_customer_id:r,product_id:Uc.SUBSCRIPTION.PRODUCT_ID,price_id:Uc.SUBSCRIPTION.PRICE_ID,status:"pending"});i&&console.error("❌ Erreur sauvegarde intention:",i)}async updateProjectStatus(t,n){const{error:r}=await q.from("project_summary").update({statut_project:n,updated_at:new Date().toISOString()}).eq("project_id",t);r&&console.error("❌ Erreur mise à jour projet:",r)}async updateSubscriptionInDb(t,n,r,i,a){const o={status:n,updated_at:new Date().toISOString()};r&&(o.current_period_start=r),i&&(o.current_period_end=i),a!==void 0&&(o.cancel_at_period_end=a);const{error:l}=await q.from("stripe_subscriptions").update(o).eq("stripe_subscription_id",t);l&&console.error("❌ Erreur mise à jour abonnement:",l)}async getUserPaymentHistory(t){try{return[]}catch(n){return console.error("❌ Erreur historique paiements:",n),[]}}async getSubscriptionStats(){try{const{data:t}=await q.from("stripe_subscriptions").select(`
          status,
          count(*)
        `).eq("product_id",Uc.SUBSCRIPTION.PRODUCT_ID);return t||[]}catch(t){return console.error("❌ Erreur statistiques:",t),[]}}}const C0=new ije,aje=({userId:e,projectId:t,onSubscriptionUpdate:n})=>{var y;const[r,i]=x.useState(null),[a,o]=x.useState(!0),[l,c]=x.useState(!1),{toast:u}=ja(),d=async()=>{try{o(!0);const v=await C0.getUserSubscriptionStatus(e);i(v),n==null||n(v.has_active_subscription)}catch(v){console.error("❌ Erreur chargement abonnement:",v),u({title:"Erreur",description:"Impossible de charger les informations d'abonnement",variant:"destructive"})}finally{o(!1)}},f=async()=>{var v;if(!t){u({title:"Erreur",description:"Aucun projet sélectionné",variant:"destructive"});return}try{c(!0);const w=await C0.createSubscriptionPaymentLink(e,t);w.success&&((v=w.data)!=null&&v.payment_url)?(window.open(w.data.payment_url,"_blank"),u({title:"Redirection vers Stripe",description:"Vous allez être redirigé vers la page de paiement"})):u({title:"Erreur",description:w.error||"Erreur lors de la création de l'abonnement",variant:"destructive"})}catch(w){console.error("❌ Erreur création abonnement:",w),u({title:"Erreur",description:"Erreur lors de la création de l'abonnement",variant:"destructive"})}finally{c(!1)}},h=async(v=!1)=>{try{c(!0);const w=await C0.cancelSubscription(e,v);w.success?(u({title:"Abonnement annulé",description:w.message}),await d()):u({title:"Erreur",description:w.error||"Erreur lors de l'annulation",variant:"destructive"})}catch(w){console.error("❌ Erreur annulation abonnement:",w),u({title:"Erreur",description:"Erreur lors de l'annulation de l'abonnement",variant:"destructive"})}finally{c(!1)}},m=async()=>{try{c(!0);const v=await C0.reactivateSubscription(e);v.success?(u({title:"Abonnement réactivé",description:v.message}),await d()):u({title:"Erreur",description:v.error||"Erreur lors de la réactivation",variant:"destructive"})}catch(v){console.error("❌ Erreur réactivation abonnement:",v),u({title:"Erreur",description:"Erreur lors de la réactivation de l'abonnement",variant:"destructive"})}finally{c(!1)}},p=v=>new Date(v).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),g=(v,w)=>{if(v==="active"&&w)return s.jsx(Ce,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"Sera annulé"});switch(v){case"active":return s.jsx(Ce,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Actif"});case"canceled":return s.jsx(Ce,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Annulé"});case"past_due":return s.jsx(Ce,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"En retard"});case"incomplete":return s.jsx(Ce,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"Incomplet"});default:return s.jsx(Ce,{variant:"outline",children:v})}};return x.useEffect(()=>{d()},[e]),a?s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center justify-center p-6",children:[s.jsx(Pt,{className:"h-6 w-6 animate-spin mr-2"}),s.jsx("span",{children:"Chargement des informations d'abonnement..."})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Qhe,{className:"h-5 w-5"}),Uc.SUBSCRIPTION.NAME]}),s.jsxs(Xe,{children:[(Uc.SUBSCRIPTION.AMOUNT/100).toFixed(2),"€/mois • ",Uc.SUBSCRIPTION.CREDITS," crédits mensuels"]})]}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-4",children:r!=null&&r.has_active_subscription?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Vous êtes abonné"})]}),r.subscription&&g(r.subscription.status,r.subscription.cancel_at_period_end)]}),r.subscription&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{children:["Début: ",p(r.subscription.current_period_start)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{children:["Fin: ",p(r.subscription.current_period_end)]})]})]}),s.jsx("div",{className:"flex gap-2",children:(y=r.subscription)!=null&&y.cancel_at_period_end?s.jsxs(H,{onClick:m,disabled:l,className:"flex-1",children:[l&&s.jsx(Pt,{className:"h-4 w-4 animate-spin mr-2"}),"Réactiver l'abonnement"]}):s.jsxs(s.Fragment,{children:[s.jsxs(H,{variant:"outline",onClick:()=>h(!1),disabled:l,className:"flex-1",children:[l&&s.jsx(Pt,{className:"h-4 w-4 animate-spin mr-2"}),"Annuler à la fin du cycle"]}),s.jsx(H,{variant:"destructive",onClick:()=>h(!0),disabled:l,size:"sm",children:s.jsx(tn,{className:"h-4 w-4"})})]})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(ts,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Aucun abonnement actif"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:"L'abonnement Entrepreneur vous donne accès à :"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[s.jsxs("li",{children:[Uc.SUBSCRIPTION.CREDITS," crédits par mois"]}),s.jsx("li",{children:"Génération des livrables premium"}),s.jsx("li",{children:"Accès à tous les outils Aurentia"})]})]}),s.jsxs(H,{onClick:f,disabled:l||!t,className:"w-full",children:[l&&s.jsx(Pt,{className:"h-4 w-4 animate-spin mr-2"}),"S'abonner maintenant"]}),!t&&s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Veuillez d'abord créer un projet pour vous abonner"})]})})})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(H,{variant:"outline",size:"sm",onClick:d,disabled:a,children:a?s.jsx(Pt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx("span",{children:"Actualiser"})})})]})};var YD="Progress",XD=100,[oje]=sr(YD),[lje,cje]=oje(YD),EY=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=uje,...o}=e;(i||i===0)&&!k5(i)&&console.error(dje(`${i}`,"Progress"));const l=k5(i)?i:XD;r!==null&&!A5(r,l)&&console.error(fje(`${r}`,"Progress"));const c=A5(r,l)?r:null,u=Yj(c)?a(c,l):void 0;return s.jsx(lje,{scope:n,value:c,max:l,children:s.jsx($e.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yj(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":TY(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});EY.displayName=YD;var kY="ProgressIndicator",AY=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=cje(kY,n);return s.jsx($e.div,{"data-state":TY(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});AY.displayName=kY;function uje(e,t){return`${Math.round(e/t*100)}%`}function TY(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yj(e){return typeof e=="number"}function k5(e){return Yj(e)&&!isNaN(e)&&e>0}function A5(e,t){return Yj(e)&&!isNaN(e)&&e<=t&&e>=0}function dje(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${XD}\`.`}function fje(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${XD} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PY=EY,hje=AY;const D1=x.forwardRef(({className:e,value:t,...n},r)=>s.jsx(PY,{ref:r,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(hje,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));D1.displayName=PY.displayName;const OY=x.createContext(void 0),RY=({children:e})=>{const[t,n]=x.useState(!1),r=()=>n(!0),i=()=>n(!1);return s.jsx(OY.Provider,{value:{isCreditsDialogOpen:t,openCreditsDialog:r,closeCreditsDialog:i},children:e})},QD=()=>{const e=x.useContext(OY);if(e===void 0)throw new Error("useCreditsDialog must be used within a CreditsDialogProvider");return e},mje=()=>{const{openCreditsDialog:e}=QD(),{monthlyRemaining:t,monthlyLimit:n,purchasedRemaining:r,isLoading:i}=nb();if(i)return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(re,{className:"animate-pulse",children:[s.jsx(pe,{children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"})}),s.jsxs(ie,{children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"})]})]}),s.jsxs(re,{className:"animate-pulse",children:[s.jsx(pe,{children:s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"})}),s.jsxs(ie,{children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"})]})]})]});const a=n>0?t/n*100:0;return s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Crédits"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(re,{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2 bg-slate-50 border-b",children:[s.jsx(me,{className:"text-lg font-bold text-slate-700",children:"Crédits Mensuels"}),s.jsx(Hr,{className:"h-5 w-5 text-aurentia-orange-aurentia"})]}),s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"text-4xl font-extrabold text-slate-800 mb-2",children:[t,s.jsxs("span",{className:"text-lg font-medium text-slate-500",children:[" / ",n]})]}),s.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Crédits restants ce mois-ci. Se renouvelle le 1er de chaque mois."}),s.jsx(D1,{value:a,className:"w-full h-3 [&>div]:bg-aurentia-orange-aurentia"})]})]}),s.jsxs(re,{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2 bg-slate-50 border-b",children:[s.jsx(me,{className:"text-lg font-bold text-slate-700",children:"Crédits Achetés"}),s.jsx(j2,{className:"h-5 w-5 text-green-500"})]}),s.jsxs(ie,{className:"p-6",children:[s.jsx("div",{className:"text-4xl font-extrabold text-slate-800 mb-2",children:r}),s.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Crédits supplémentaires qui n'expirent pas."}),s.jsxs(H,{onClick:e,className:"w-full bg-aurentia-orange-aurentia hover:bg-aurentia-orange-dark",children:[s.jsx(j2,{className:"mr-2 h-4 w-4"})," Acheter des crédits"]})]})]})]})]})};class pje{async initializeUserCredits(t){try{const{error:n}=await q.rpc("initialize_user_credits",{p_user_id:t});return n?(console.error("❌ Erreur initialisation crédits:",n),!1):(console.log("✅ Crédits initialisés pour utilisateur:",t),!0)}catch(n){return console.error("❌ Erreur lors de l'initialisation des crédits:",n),!1}}async ensureUserCreditsExist(t){try{const{data:n,error:r}=await q.from("billing.user_credits").select("user_id").eq("user_id",t).single();return r&&r.code==="PGRST116"?await this.initializeUserCredits(t):r?(console.error("❌ Erreur vérification crédits:",r),!1):!0}catch(n){return console.error("❌ Erreur lors de la vérification des crédits:",n),!1}}async resetCreditsBasedOnBillingCycle(t){try{const{error:n}=await q.rpc("reset_credits_based_on_billing_cycle",{p_user_id:t});return n?(console.error("❌ Erreur reset crédits:",n),!1):!0}catch(n){return console.error("❌ Erreur lors du reset des crédits:",n),!1}}}const gje=new pje;class xje{async getProfile(t){try{const{data:n,error:r}=await q.from("profiles").select("id, email, first_name, last_name, phone, location, company, created_at").eq("id",t).single();return r?(console.error("Error fetching profile:",r),null):{id:n.id,email:n.email??"",first_name:n.first_name??"",last_name:n.last_name??"",phone:n.phone??"",location:n.location??"",company:n.company??"",created_at:n.created_at??""}}catch(n){return console.error("Error in getProfile:",n),null}}async updateProfile(t,n){try{const r={};n.first_name!==void 0&&(r.first_name=n.first_name),n.last_name!==void 0&&(r.last_name=n.last_name),n.phone!==void 0&&(r.phone=n.phone),n.location!==void 0&&(r.location=n.location),n.company!==void 0&&(r.company=n.company);const{error:i}=await q.from("profiles").update(r).eq("id",t);if(i)return console.error("Error updating profile:",i),!1;const a={};if(n.first_name!==void 0&&(a.first_name=n.first_name),n.last_name!==void 0&&(a.last_name=n.last_name),n.phone!==void 0&&(a.phone=n.phone),n.location!==void 0&&(a.location=n.location),n.company!==void 0&&(a.company=n.company),Object.keys(a).length>0){const{error:o}=await q.auth.updateUser({data:a});o&&console.error("Error updating auth metadata:",o)}return!0}catch(r){return console.error("Error in updateProfile:",r),!1}}async syncAuthToProfile(t){var n,r,i,a,o;try{const{data:{user:l},error:c}=await q.auth.getUser();if(c||!l)return console.error("Error getting auth user:",c),!1;const u={email:l.email,first_name:((n=l.user_metadata)==null?void 0:n.first_name)||"",last_name:((r=l.user_metadata)==null?void 0:r.last_name)||"",phone:((i=l.user_metadata)==null?void 0:i.phone)||"",location:((a=l.user_metadata)==null?void 0:a.location)||"",company:((o=l.user_metadata)==null?void 0:o.company)||""},{error:d}=await q.from("profiles").update(u).eq("id",t);return d?(console.error("Error syncing auth to profile:",d),!1):!0}catch(l){return console.error("Error in syncAuthToProfile:",l),!1}}}const T5=new xje,vje=()=>{const[e,t]=x.useState(""),[n,r]=x.useState({id:"",email:"",first_name:"",last_name:"",company:"",phone:"",location:"",created_at:""}),[i,a]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState({first_name:"",last_name:"",company:"",phone:"",location:""}),[d,f]=x.useState(!0),[h,m]=x.useState(!1),[p,g]=x.useState("Informations");CY();const{currentProjectId:y,userProjectsLoading:v}=yr();x.useEffect(()=>{(async()=>{var A,T,E,R,$;f(!0);try{const{data:{session:O}}=await q.auth.getSession();if(O){a(O.user),await gje.ensureUserCreditsExist(O.user.id);const F=await T5.getProfile(O.user.id);if(F)r(F),u({first_name:F.first_name||"",last_name:F.last_name||"",company:F.company||"",phone:F.phone||"",location:F.location||""});else{const z={id:O.user.id,email:O.user.email||"",first_name:((A=O.user.user_metadata)==null?void 0:A.first_name)||"",last_name:((T=O.user.user_metadata)==null?void 0:T.last_name)||"",company:((E=O.user.user_metadata)==null?void 0:E.company)||"",phone:((R=O.user.user_metadata)==null?void 0:R.phone)||"",location:(($=O.user.user_metadata)==null?void 0:$.location)||"",created_at:O.user.created_at};r(z),u({first_name:z.first_name,last_name:z.last_name,company:z.company,phone:z.phone,location:z.location})}}}catch(O){console.error("Error fetching user profile:",O),we({title:"Erreur",description:"Impossible de charger votre profil.",variant:"destructive"})}finally{f(!1)}})();const{data:{subscription:k}}=q.auth.onAuthStateChange((A,T)=>{T!=null&&T.user?a(T.user):a(null)});return()=>k.unsubscribe()},[]);const w=()=>{l(!0),u({first_name:n.first_name,last_name:n.last_name,company:n.company,phone:n.phone,location:n.location})},b=()=>{l(!1),u({first_name:n.first_name,last_name:n.last_name,company:n.company,phone:n.phone,location:n.location})},j=async()=>{f(!0);try{if(!await T5.updateProfile(n.id,c))throw new Error("Failed to update profile");r(k=>({...k,first_name:c.first_name,last_name:c.last_name,company:c.company,phone:c.phone,location:c.location})),l(!1),we({title:"Profil mis à jour",description:"Vos informations ont été sauvegardées avec succès."})}catch(C){console.error("Error updating profile:",C),we({title:"Erreur",description:"Impossible de mettre à jour votre profil. Veuillez réessayer.",variant:"destructive"})}finally{f(!1)}},_=(C,k)=>{u(A=>({...A,[C]:k}))},N=async C=>{var k,A;if(C.preventDefault(),!e){we({title:"Erreur",description:"Le champ email est obligatoire.",variant:"destructive"});return}if(!/\S+@\S+\.\S+/.test(e)){we({title:"Erreur",description:"Le format de l'email est invalide.",variant:"destructive"});return}if(e===n.email){we({title:"Erreur",description:"La nouvelle adresse e-mail doit être différente de l'actuelle.",variant:"destructive"});return}if(!i){we({title:"Erreur",description:"Utilisateur non authentifié.",variant:"destructive"});return}m(!0);try{const{error:T}=await q.functions.invoke("update-email-request",{body:{new_email:e}});if(T)throw T;we({title:"Emails de confirmation envoyés",description:"Des e-mails de confirmation ont été envoyés à votre ancienne ET nouvelle adresse. Vous devez confirmer dans les DEUX emails pour finaliser le changement."}),t("")}catch(T){console.error("Error invoking update-email-request function:",T);const E=((A=(k=T.context)==null?void 0:k.json)==null?void 0:A.error)||T.message||"Impossible de demander le changement d'e-mail.";we({title:"Erreur de la fonction",description:E,variant:"destructive"})}finally{m(!1)}},S=C=>C==null?"Non renseigné":String(C).trim()||"Non renseigné";return s.jsx("div",{className:"mx-auto py-8 min-h-screen animate-fade-in",children:s.jsxs("div",{className:"w-[90vw] md:w-11/12 mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-semibold",children:"Profil Utilisateur"})}),s.jsx("div",{className:"md:border-b md:border-gray-200",children:s.jsx("nav",{className:"grid grid-cols-2 gap-2 md:flex md:flex-row md:-mb-px md:space-x-8","aria-label":"Tabs",children:["Informations","Facturation","Documents","Sécurité","Intégrations"].map(C=>s.jsx("button",{onClick:()=>g(C),className:`
                  py-2 px-4 font-medium text-base text-center rounded-md
                  ${p===C?"bg-aurentia-orange-aurentia text-white":"bg-white border border-gray-200 text-gray-700"}
                  md:whitespace-nowrap md:py-3 md:px-2 md:border-b-2 md:rounded-none md:bg-transparent md:text-center
                  ${p===C?"md:border-aurentia-orange-aurentia md:text-aurentia-orange-aurentia":"md:border-transparent md:text-gray-500 md:hover:text-gray-700 md:hover:border-transparent"}
                `,children:C},C))})}),s.jsx("div",{className:"mt-8 animate-popup-appear",children:d?s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsx("p",{className:"text-slate-500",children:"Chargement de votre profil..."})}):s.jsxs(s.Fragment,{children:[p==="Informations"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col items-start md:flex-row md:justify-between md:items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Informations du profil"}),o?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(H,{onClick:j,disabled:d,className:"flex items-center gap-2",children:[s.jsx(Hy,{size:16}),d?"Sauvegarde...":"Sauvegarder"]}),s.jsxs(H,{onClick:b,variant:"outline",className:"flex items-center gap-2",children:[s.jsx(tn,{size:16}),"Annuler"]})]}):s.jsxs(H,{onClick:w,variant:"outline",className:"flex items-center gap-2",children:[s.jsx(S7,{size:16}),"Modifier"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-6 rounded-lg bg-white shadow-md",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-4 border-b pb-2",children:"Informations personnelles"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",children:"Email"}),s.jsx("p",{className:"mt-1 text-gray-900",children:n.email||"Non renseigné"})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",children:"Prénom"}),o?s.jsx(ke,{value:c.first_name,onChange:C=>_("first_name",C.target.value),placeholder:"Entrez votre prénom",className:"mt-1"}):s.jsx("p",{className:"mt-1 text-gray-900",children:S(n.first_name)})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",children:"Nom"}),o?s.jsx(ke,{value:c.last_name,onChange:C=>_("last_name",C.target.value),placeholder:"Entrez votre nom",className:"mt-1"}):s.jsx("p",{className:"mt-1 text-gray-900",children:S(n.last_name)})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",children:"Téléphone"}),o?s.jsx(ke,{value:c.phone,onChange:C=>_("phone",C.target.value),placeholder:"Entrez votre numéro de téléphone",className:"mt-1"}):s.jsx("p",{className:"mt-1 text-gray-900",children:S(n.phone)})]})]})]}),s.jsxs("div",{className:"p-6 rounded-lg bg-white shadow-md",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-4 border-b pb-2",children:"Informations professionnelles"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",children:"Entreprise"}),o?s.jsx(ke,{value:c.company,onChange:C=>_("company",C.target.value),placeholder:"Entrez le nom de votre entreprise",className:"mt-1"}):s.jsx("p",{className:"mt-1 text-gray-900",children:S(n.company)})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",children:"Localisation"}),o?s.jsx(kv,{value:c.location,onChange:C=>_("location",C),placeholder:"Entrez votre localisation",addressType:"regions"}):s.jsx("p",{className:"mt-1 text-gray-900",children:S(n.location)})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",children:"Membre depuis"}),s.jsx("p",{className:"mt-1 text-gray-900",children:n.created_at?new Date(n.created_at).toLocaleDateString("fr-FR"):"Non renseigné"})]})]})]})]})]}),p==="Facturation"&&s.jsxs("div",{children:[s.jsx(mje,{}),s.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800 mt-8",children:"Abonnements"}),d||v?s.jsx("div",{className:"flex justify-center items-center h-48",children:s.jsx("p",{className:"text-slate-500",children:"Chargement des informations..."})}):n.id&&y?s.jsx(aje,{userId:n.id,projectId:y}):n.id?s.jsxs("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-slate-600",children:"Vous n'avez pas encore de projet actif."}),s.jsx("p",{className:"text-slate-500 mt-2",children:"Veuillez créer un projet pour gérer votre abonnement."})]}):null]}),p==="Sécurité"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"Sécurité du compte"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"p-6 rounded-lg bg-white shadow-md flex flex-col",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-4 border-b pb-2",children:"Changer le mot de passe"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",htmlFor:"current-password",children:"Mot de passe actuel"}),s.jsx(ke,{id:"current-password",type:"password",placeholder:"••••••••",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",htmlFor:"new-password",children:"Nouveau mot de passe"}),s.jsx(ke,{id:"new-password",type:"password",placeholder:"••••••••",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",htmlFor:"confirm-password",children:"Confirmer le nouveau mot de passe"}),s.jsx(ke,{id:"confirm-password",type:"password",placeholder:"••••••••",className:"mt-1"})]})]})]}),s.jsx(H,{className:"mt-6 self-end",children:"Sauvegarder le mot de passe"})]}),s.jsxs("form",{onSubmit:N,className:"p-6 rounded-lg bg-white shadow-md flex flex-col",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-4 border-b pb-2",children:"Changer l'adresse e-mail"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",children:"Email actuel"}),s.jsx("div",{className:"mt-1",children:s.jsx("div",{className:"inline-block p-2 bg-gray-100 rounded-md",children:s.jsx("p",{className:"text-gray-900",children:n.email||"Non renseigné"})})})]}),s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium text-gray-600",htmlFor:"new-email",children:"Nouvelle adresse e-mail"}),s.jsx(ke,{id:"new-email",type:"email",placeholder:"nouvel.email@exemple.com",className:"mt-1",value:e,onChange:C=>t(C.target.value),disabled:h})]})]})]}),s.jsx(H,{type:"submit",className:"mt-6 self-end",disabled:h,children:h?"Mise à jour en cours...":"Mettre à jour l'e-mail"})]})]})]}),p==="Intégrations"&&s.jsxs(re,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Intégrations"}),s.jsx("p",{className:"mt-4",children:"Contenu des intégrations à venir."})]}),p==="Documents"&&s.jsxs(re,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Fonctionnalité à venir"}),s.jsx("p",{className:"mt-4",children:"Prochainement, vous pourrez ajouter des documents concernant votre projet d'entreprise, afin de personnalisé en plus les réponses de l'agent IA, recommandations etc."})]})]})},p)]})})},JD=()=>{const e=It(),{userProfile:t,organizationId:n,loading:r}=cr(),[i,a]=x.useState(!1);return{navigateToOrganisation:x.useCallback(async()=>{if(console.log("[useOrganisationNavigation] =====NAVIGATION START====="),console.log("[useOrganisationNavigation] User role loading:",r),console.log("[useOrganisationNavigation] Organization ID:",n),console.log("[useOrganisationNavigation] User profile:",t==null?void 0:t.id),r){console.log("[useOrganisationNavigation] 🚫 User role still loading, skipping...");return}if(!(t!=null&&t.id)){console.error("[useOrganisationNavigation] ❌ User profile not found"),e("/login");return}console.log("[useOrganisationNavigation] 🚀 Starting navigation for user:",t.id),a(!0);try{n?(console.log("[useOrganisationNavigation] ✅ Organization found from useUserRole, navigating to dashboard:",n),e(`/organisation/${n}/dashboard`)):(console.log("[useOrganisationNavigation] ❌ No organization found from useUserRole, redirecting to setup"),e("/setup-organization"))}catch(l){console.error("[useOrganisationNavigation] 💥 Error navigating to organisation:",l),we({title:"Erreur",description:"Erreur lors de la navigation vers votre organisation.",variant:"destructive"})}finally{a(!1)}},[e,n,t,r]),loading:i||r}},yje=()=>{const{navigateToOrganisation:e,loading:t}=JD(),n=x.useRef(!1);return x.useEffect(()=>{!n.current&&!t&&(n.current=!0,e())},[e,t]),t?s.jsx(Ln,{message:"Redirection vers votre organisation...",fullScreen:!0}):null};function Xj(e,[t,n]){return Math.min(n,Math.max(t,e))}var bje=x.createContext(void 0);function Iu(e){const t=x.useContext(bje);return e||t||"ltr"}function ub(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wje=[" ","Enter","ArrowUp","ArrowDown"],jje=[" ","Enter"],yf="Select",[M1,I1,_je]=Op(yf),[Kp]=sr(yf,[_je,Ru]),L1=Ru(),[Nje,Lu]=Kp(yf),[Sje,Cje]=Kp(yf),DY=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:p}=e,g=L1(t),[y,v]=x.useState(null),[w,b]=x.useState(null),[j,_]=x.useState(!1),N=Iu(u),[S,C]=Or({prop:r,defaultProp:i??!1,onChange:a,caller:yf}),[k,A]=Or({prop:o,defaultProp:l,onChange:c,caller:yf}),T=x.useRef(null),E=y?p||!!y.closest("form"):!0,[R,$]=x.useState(new Set),O=Array.from(R).map(F=>F.props.value).join(";");return s.jsx(p1,{...g,children:s.jsxs(Nje,{required:m,scope:t,trigger:y,onTriggerChange:v,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:xr(),value:k,onValueChange:A,open:S,onOpenChange:C,dir:N,triggerPointerDownPosRef:T,disabled:h,children:[s.jsx(M1.Provider,{scope:t,children:s.jsx(Sje,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(F=>{$(z=>new Set(z).add(F))},[]),onNativeOptionRemove:x.useCallback(F=>{$(z=>{const P=new Set(z);return P.delete(F),P})},[]),children:n})}),E?s.jsxs(sX,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:F=>A(F.target.value),disabled:h,form:p,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},O):null]})})};DY.displayName=yf;var MY="SelectTrigger",IY=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=L1(n),o=Lu(MY,n),l=o.disabled||r,c=it(t,o.onTriggerChange),u=I1(n),d=x.useRef("touch"),[f,h,m]=aX(g=>{const y=u().filter(b=>!b.disabled),v=y.find(b=>b.value===o.value),w=oX(y,g,v);w!==void 0&&o.onValueChange(w.value)}),p=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Ky,{asChild:!0,...a,children:s.jsx($e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":iX(o.value)?"":void 0,...i,ref:c,onClick:Te(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:Te(i.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Te(i.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&wje.includes(g.key)&&(p(),g.preventDefault())})})})});IY.displayName=MY;var LY="SelectValue",$Y=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=e,c=Lu(LY,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=it(t,c.onValueNodeChange);return lr(()=>{u(d)},[u,d]),s.jsx($e.span,{...l,ref:f,style:{pointerEvents:"none"},children:iX(c.value)?s.jsx(s.Fragment,{children:o}):a})});$Y.displayName=LY;var Eje="SelectIcon",FY=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx($e.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});FY.displayName=Eje;var kje="SelectPortal",zY=e=>s.jsx(Rp,{asChild:!0,...e});zY.displayName=kje;var bf="SelectContent",BY=x.forwardRef((e,t)=>{const n=Lu(bf,e.__scopeSelect),[r,i]=x.useState();if(lr(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Rs.createPortal(s.jsx(UY,{scope:e.__scopeSelect,children:s.jsx(M1.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(qY,{...e,ref:t})});BY.displayName=bf;var Ra=10,[UY,$u]=Kp(bf),Aje="SelectContentImpl",Tje=xu("SelectContent.RemoveScroll"),qY=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:y,...v}=e,w=Lu(bf,n),[b,j]=x.useState(null),[_,N]=x.useState(null),S=it(t,X=>j(X)),[C,k]=x.useState(null),[A,T]=x.useState(null),E=I1(n),[R,$]=x.useState(!1),O=x.useRef(!1);x.useEffect(()=>{if(b)return A1(b)},[b]),E1();const F=x.useCallback(X=>{const[oe,...Y]=E().map(se=>se.ref.current),[ne]=Y.slice(-1),ge=document.activeElement;for(const se of X)if(se===ge||(se==null||se.scrollIntoView({block:"nearest"}),se===oe&&_&&(_.scrollTop=0),se===ne&&_&&(_.scrollTop=_.scrollHeight),se==null||se.focus(),document.activeElement!==ge))return},[E,_]),z=x.useCallback(()=>F([C,b]),[F,C,b]);x.useEffect(()=>{R&&z()},[R,z]);const{onOpenChange:P,triggerPointerDownPosRef:I}=w;x.useEffect(()=>{if(b){let X={x:0,y:0};const oe=ne=>{var ge,se;X={x:Math.abs(Math.round(ne.pageX)-(((ge=I.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((se=I.current)==null?void 0:se.y)??0))}},Y=ne=>{X.x<=10&&X.y<=10?ne.preventDefault():b.contains(ne.target)||P(!1),document.removeEventListener("pointermove",oe),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",Y,{capture:!0})}}},[b,P,I]),x.useEffect(()=>{const X=()=>P(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[P]);const[M,U]=aX(X=>{const oe=E().filter(ge=>!ge.disabled),Y=oe.find(ge=>ge.ref.current===document.activeElement),ne=oX(oe,X,Y);ne&&setTimeout(()=>ne.ref.current.focus())}),D=x.useCallback((X,oe,Y)=>{const ne=!O.current&&!Y;(w.value!==void 0&&w.value===oe||ne)&&(k(X),ne&&(O.current=!0))},[w.value]),L=x.useCallback(()=>b==null?void 0:b.focus(),[b]),V=x.useCallback((X,oe,Y)=>{const ne=!O.current&&!Y;(w.value!==void 0&&w.value===oe||ne)&&T(X)},[w.value]),K=r==="popper"?oT:VY,G=K===oT?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:y}:{};return s.jsx(UY,{scope:n,content:b,viewport:_,onViewportChange:N,itemRefCallback:D,selectedItem:C,onItemLeave:L,itemTextRefCallback:V,focusSelectedItem:z,selectedItemText:A,position:r,isPositioned:R,searchRef:M,children:s.jsx(Jy,{as:Tje,allowPinchZoom:!0,children:s.jsx(Qy,{asChild:!0,trapped:w.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Te(i,X=>{var oe;(oe=w.trigger)==null||oe.focus({preventScroll:!0}),X.preventDefault()}),children:s.jsx(If,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(K,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:X=>X.preventDefault(),...v,...G,onPlaced:()=>$(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Te(v.onKeyDown,X=>{const oe=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!oe&&X.key.length===1&&U(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let ne=E().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(X.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const ge=X.target,se=ne.indexOf(ge);ne=ne.slice(se+1)}setTimeout(()=>F(ne)),X.preventDefault()}})})})})})})});qY.displayName=Aje;var Pje="SelectItemAlignedPosition",VY=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=Lu(bf,n),o=$u(bf,n),[l,c]=x.useState(null),[u,d]=x.useState(null),f=it(t,S=>d(S)),h=I1(n),m=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:w}=o,b=x.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&y&&v){const S=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),A=v.getBoundingClientRect();if(a.dir!=="rtl"){const ge=A.left-C.left,se=k.left-ge,ce=S.left-se,ve=S.width+ce,te=Math.max(ve,C.width),ue=window.innerWidth-Ra,ee=Xj(se,[Ra,Math.max(Ra,ue-te)]);l.style.minWidth=ve+"px",l.style.left=ee+"px"}else{const ge=C.right-A.right,se=window.innerWidth-k.right-ge,ce=window.innerWidth-S.right-se,ve=S.width+ce,te=Math.max(ve,C.width),ue=window.innerWidth-Ra,ee=Xj(se,[Ra,Math.max(Ra,ue-te)]);l.style.minWidth=ve+"px",l.style.right=ee+"px"}const T=h(),E=window.innerHeight-Ra*2,R=g.scrollHeight,$=window.getComputedStyle(u),O=parseInt($.borderTopWidth,10),F=parseInt($.paddingTop,10),z=parseInt($.borderBottomWidth,10),P=parseInt($.paddingBottom,10),I=O+F+R+P+z,M=Math.min(y.offsetHeight*5,I),U=window.getComputedStyle(g),D=parseInt(U.paddingTop,10),L=parseInt(U.paddingBottom,10),V=S.top+S.height/2-Ra,K=E-V,G=y.offsetHeight/2,X=y.offsetTop+G,oe=O+F+X,Y=I-oe;if(oe<=V){const ge=T.length>0&&y===T[T.length-1].ref.current;l.style.bottom="0px";const se=u.clientHeight-g.offsetTop-g.offsetHeight,ce=Math.max(K,G+(ge?L:0)+se+z),ve=oe+ce;l.style.height=ve+"px"}else{const ge=T.length>0&&y===T[0].ref.current;l.style.top="0px";const ce=Math.max(V,O+g.offsetTop+(ge?D:0)+G)+Y;l.style.height=ce+"px",g.scrollTop=oe-V+g.offsetTop}l.style.margin=`${Ra}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,l,u,g,y,v,a.dir,r]);lr(()=>b(),[b]);const[j,_]=x.useState();lr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(S=>{S&&p.current===!0&&(b(),w==null||w(),p.current=!1)},[b,w]);return s.jsx(Rje,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx($e.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});VY.displayName=Pje;var Oje="SelectPopperPosition",oT=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ra,...a}=e,o=L1(n);return s.jsx(g1,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oT.displayName=Oje;var[Rje,ZD]=Kp(bf,{}),lT="SelectViewport",HY=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=$u(lT,n),o=ZD(lT,n),l=it(t,a.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(M1.Slot,{scope:n,children:s.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Te(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-Ra*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),v=Math.max(g,y);if(v<p){const w=v+m,b=Math.min(p,w),j=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});HY.displayName=lT;var WY="SelectGroup",[Dje,Mje]=Kp(WY),Ije=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=xr();return s.jsx(Dje,{scope:n,id:i,children:s.jsx($e.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Ije.displayName=WY;var GY="SelectLabel",KY=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Mje(GY,n);return s.jsx($e.div,{id:i.id,...r,ref:t})});KY.displayName=GY;var Qj="SelectItem",[Lje,YY]=Kp(Qj),XY=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,l=Lu(Qj,n),c=$u(Qj,n),u=l.value===r,[d,f]=x.useState(a??""),[h,m]=x.useState(!1),p=it(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,i)}),g=xr(),y=x.useRef("touch"),v=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Lje,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:x.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:s.jsx(M1.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:s.jsx($e.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:p,onFocus:Te(o.onFocus,()=>m(!0)),onBlur:Te(o.onBlur,()=>m(!1)),onClick:Te(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Te(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Te(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Te(o.onPointerMove,w=>{var b;y.current=w.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Te(o.onKeyDown,w=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&w.key===" "||(jje.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});XY.displayName=Qj;var dx="SelectItemText",QY=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=Lu(dx,n),l=$u(dx,n),c=YY(dx,n),u=Cje(dx,n),[d,f]=x.useState(null),h=it(t,v=>f(v),c.onItemTextChange,v=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,v,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return lr(()=>(g(p),()=>y(p)),[g,y,p]),s.jsxs(s.Fragment,{children:[s.jsx($e.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rs.createPortal(a.children,o.valueNode):null]})});QY.displayName=dx;var JY="SelectItemIndicator",ZY=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return YY(JY,n).isSelected?s.jsx($e.span,{"aria-hidden":!0,...r,ref:t}):null});ZY.displayName=JY;var cT="SelectScrollUpButton",eX=x.forwardRef((e,t)=>{const n=$u(cT,e.__scopeSelect),r=ZD(cT,e.__scopeSelect),[i,a]=x.useState(!1),o=it(t,r.onScrollButtonChange);return lr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(nX,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});eX.displayName=cT;var uT="SelectScrollDownButton",tX=x.forwardRef((e,t)=>{const n=$u(uT,e.__scopeSelect),r=ZD(uT,e.__scopeSelect),[i,a]=x.useState(!1),o=it(t,r.onScrollButtonChange);return lr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(nX,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});tX.displayName=uT;var nX=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=$u("SelectScrollButton",n),o=x.useRef(null),l=I1(n),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),lr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx($e.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Te(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Te(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Te(i.onPointerLeave,()=>{c()})})}),$je="SelectSeparator",rX=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx($e.div,{"aria-hidden":!0,...r,ref:t})});rX.displayName=$je;var dT="SelectArrow",Fje=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=L1(n),a=Lu(dT,n),o=$u(dT,n);return a.open&&o.position==="popper"?s.jsx(x1,{...i,...r,ref:t}):null});Fje.displayName=dT;var zje="SelectBubbleInput",sX=x.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=x.useRef(null),a=it(r,i),o=ub(t);return x.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx($e.select,{...n,style:{...YW,...n.style},ref:a,defaultValue:t})});sX.displayName=zje;function iX(e){return e===""||e===void 0}function aX(e){const t=zs(e),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function oX(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Bje(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Bje(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var lX=DY,cX=IY,Uje=$Y,qje=FY,Vje=zY,uX=BY,Hje=HY,dX=KY,fX=XY,Wje=QY,Gje=ZY,hX=eX,mX=tX,pX=rX;const gX=x.createContext({isOpen:!1,setIsOpen:()=>{}}),vt=x.forwardRef(({onOpenChange:e,...t},n)=>{const[r,i]=x.useState(!1),a=o=>{i(o),e==null||e(o)};return s.jsx(gX.Provider,{value:{isOpen:r,setIsOpen:i},children:s.jsx(lX,{onOpenChange:a,...t})})});vt.displayName=lX.displayName;const _t=Uje,yt=x.forwardRef(({className:e,children:t,hideIndicator:n,...r},i)=>{const{isOpen:a}=x.useContext(gX);return s.jsxs(cX,{ref:i,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,!n&&s.jsx(qje,{asChild:!0,children:a?s.jsx(v7,{className:"h-4 w-4 opacity-50 transition-transform duration-200"}):s.jsx(ya,{className:"h-4 w-4 opacity-50 transition-transform duration-200"})})]})});yt.displayName=cX.displayName;const xX=x.forwardRef(({className:e,...t},n)=>s.jsx(hX,{ref:n,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(v7,{className:"h-4 w-4"})}));xX.displayName=hX.displayName;const vX=x.forwardRef(({className:e,...t},n)=>s.jsx(mX,{ref:n,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ya,{className:"h-4 w-4"})}));vX.displayName=mX.displayName;const bt=x.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(Vje,{children:s.jsxs(uX,{ref:i,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(xX,{}),s.jsx(Hje,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(vX,{})]})}));bt.displayName=uX.displayName;const Kje=x.forwardRef(({className:e,...t},n)=>s.jsx(dX,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Kje.displayName=dX.displayName;const fe=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(fX,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Gje,{children:s.jsx(Vr,{className:"h-4 w-4"})})}),s.jsx(Wje,{children:t})]}));fe.displayName=fX.displayName;const Yje=x.forwardRef(({className:e,...t},n)=>s.jsx(pX,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));Yje.displayName=pX.displayName;var Xje="Separator",P5="horizontal",Qje=["horizontal","vertical"],yX=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=P5,...i}=e,a=Jje(r)?r:P5,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx($e.div,{"data-orientation":a,...l,...i,ref:t})});yX.displayName=Xje;function Jje(e){return Qje.includes(e)}var bX=yX;const wu=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>s.jsx(bX,{ref:i,decorative:n,orientation:t,className:de("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));wu.displayName=bX.displayName;const Zje={FileText:sn,Mail:Ft,TrendingUp:mi,Users:et,Receipt:C7,Target:zr,Eye:ns,MessageCircle:c1},e_e=({automation:e,viewMode:t="grid",onSelect:n,onToggle:r,hasEnoughCredits:i,loading:a})=>{const o=Zje[e.icon]||sn,l=u=>({Marketing:"bg-blue-100 text-blue-700 border-blue-200",Juridique:"bg-purple-100 text-purple-700 border-purple-200",Finance:"bg-green-100 text-green-700 border-green-200",RH:"bg-orange-100 text-orange-700 border-orange-200"})[u]||"bg-gray-100 text-gray-700 border-gray-200",c=u=>({Simple:"text-green-600",Moyenne:"text-yellow-600",Avancée:"text-red-600"})[u]||"text-gray-600";return t==="list"?s.jsx(re,{className:"hover:shadow-md transition-all duration-200 cursor-pointer group",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`
              w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0
              ${e.isActive?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}
            `,children:s.jsx(o,{className:"w-6 h-6"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900 group-hover:text-blue-600 transition-colors",children:e.name}),e.popular&&s.jsxs(Ce,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[s.jsx(Zt,{className:"w-3 h-3 mr-1"}),"Populaire"]}),e.isActive&&s.jsxs(Ce,{className:"bg-green-100 text-green-700 border-green-200",children:[s.jsx(Gt,{className:"w-3 h-3 mr-1"}),"Active"]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:e.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{children:e.rating}),s.jsxs("span",{children:["(",e.reviews,")"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yt,{className:"w-3 h-3"}),s.jsx("span",{children:e.estimatedTime})]}),s.jsxs("div",{className:`flex items-center gap-1 ${c(e.complexity)}`,children:[s.jsx(Hr,{className:"w-3 h-3"}),s.jsx("span",{children:e.complexity})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[s.jsx(Ce,{className:l(e.category),children:e.category}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.price}),s.jsx("div",{className:"text-xs text-gray-500",children:"crédits"})]})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:u=>{u.stopPropagation(),n()},children:"Détails"}),e.isActive?s.jsx(H,{variant:"destructive",size:"sm",onClick:u=>{u.stopPropagation(),r(e)},disabled:a,children:a?s.jsx(Pt,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(hi,{className:"w-4 h-4 mr-1"}),"Désactiver"]})}):s.jsx(H,{size:"sm",onClick:u=>{u.stopPropagation(),r(e)},disabled:!i||a,className:i?"":"opacity-50 cursor-not-allowed",children:a?s.jsx(Pt,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 mr-1"}),"Activer"]})})]})]})})}):s.jsxs(re,{className:"hover:shadow-lg transition-all duration-300 cursor-pointer group relative overflow-hidden",onClick:n,children:[e.popular&&s.jsx("div",{className:"absolute top-3 right-3 z-10",children:s.jsxs(Ce,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[s.jsx(Zt,{className:"w-3 h-3 mr-1 fill-current"}),"Populaire"]})}),e.isActive&&s.jsx("div",{className:"absolute top-3 left-3 z-10",children:s.jsxs(Ce,{className:"bg-green-100 text-green-700 border-green-200",children:[s.jsx(Gt,{className:"w-3 h-3 mr-1"}),"Active"]})}),s.jsx(pe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:`
            w-12 h-12 rounded-lg flex items-center justify-center
            ${e.isActive?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600 group-hover:bg-blue-100 group-hover:text-blue-600"}
            transition-colors duration-200
          `,children:s.jsx(o,{className:"w-6 h-6"})}),s.jsx(Ce,{className:l(e.category),children:e.category})]})}),s.jsxs(ie,{className:"pb-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:e.name}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{children:e.rating}),s.jsxs("span",{children:["(",e.reviews,")"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yt,{className:"w-3 h-3"}),s.jsx("span",{children:e.estimatedTime})]})]}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:`flex items-center gap-1 text-xs ${c(e.complexity)}`,children:[s.jsx(Hr,{className:"w-3 h-3"}),s.jsxs("span",{children:["Complexité: ",e.complexity]})]})}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.price}),s.jsx("div",{className:"text-xs text-gray-500",children:"crédits"})]})})]}),s.jsx(HD,{className:"pt-0",children:s.jsx("div",{className:"flex gap-2 w-full",children:e.isActive?s.jsxs(H,{variant:"destructive",size:"sm",className:"flex-1",onClick:u=>{u.stopPropagation(),r(e)},disabled:a,children:[a?s.jsx(Pt,{className:"w-4 h-4 animate-spin mr-1"}):s.jsx(hi,{className:"w-4 h-4 mr-1"}),"Désactiver"]}):s.jsxs(H,{size:"sm",className:"flex-1",onClick:u=>{u.stopPropagation(),r(e)},disabled:!i||a,children:[a?s.jsx(Pt,{className:"w-4 h-4 animate-spin mr-1"}):s.jsx(Gt,{className:"w-4 h-4 mr-1"}),i?"Activer":"Crédits insuffisants"]})})})]})};var bE="rovingFocusGroup.onEntryFocus",t_e={bubbles:!1,cancelable:!0},db="RovingFocusGroup",[fT,wX,n_e]=Op(db),[r_e,Fu]=sr(db,[n_e]),[s_e,i_e]=r_e(db),jX=x.forwardRef((e,t)=>s.jsx(fT.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(fT.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(a_e,{...e,ref:t})})}));jX.displayName=db;var a_e=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=it(t,h),p=Iu(a),[g,y]=Or({prop:o,defaultProp:l??null,onChange:c,caller:db}),[v,w]=x.useState(!1),b=zs(u),j=wX(n),_=x.useRef(!1),[N,S]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(bE,b),()=>C.removeEventListener(bE,b)},[b]),s.jsx(s_e,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:x.useCallback(C=>y(C),[y]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>S(C=>C-1),[]),children:s.jsx($e.div,{tabIndex:v||N===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Te(e.onMouseDown,()=>{_.current=!0}),onFocus:Te(e.onFocus,C=>{const k=!_.current;if(C.target===C.currentTarget&&k&&!v){const A=new CustomEvent(bE,t_e);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const T=j().filter(F=>F.focusable),E=T.find(F=>F.active),R=T.find(F=>F.id===g),O=[E,R,...T].filter(Boolean).map(F=>F.ref.current);SX(O,d)}}_.current=!1}),onBlur:Te(e.onBlur,()=>w(!1))})})}),_X="RovingFocusGroupItem",NX=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=xr(),u=a||c,d=i_e(_X,n),f=d.currentTabStopId===u,h=wX(n),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:g}=d;return x.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),s.jsx(fT.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:s.jsx($e.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Te(e.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:Te(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Te(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=c_e(y,d.orientation,d.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=h().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const j=b.indexOf(y.currentTarget);b=d.loop?u_e(b,j+1):b.slice(j+1)}setTimeout(()=>SX(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});NX.displayName=_X;var o_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function l_e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function c_e(e,t,n){const r=l_e(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return o_e[r]}function SX(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function u_e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var $1=jX,F1=NX,z1="Tabs",[d_e]=sr(z1,[Fu]),CX=Fu(),[f_e,eM]=d_e(z1),EX=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Iu(l),[f,h]=Or({prop:r,onChange:i,defaultProp:a??"",caller:z1});return s.jsx(f_e,{scope:n,baseId:xr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx($e.div,{dir:d,"data-orientation":o,...u,ref:t})})});EX.displayName=z1;var kX="TabsList",AX=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=eM(kX,n),o=CX(n);return s.jsx($1,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx($e.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});AX.displayName=kX;var TX="TabsTrigger",PX=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=eM(TX,n),l=CX(n),c=DX(o.baseId,r),u=MX(o.baseId,r),d=r===o.value;return s.jsx(F1,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx($e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Te(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Te(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Te(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});PX.displayName=TX;var OX="TabsContent",RX=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=eM(OX,n),c=DX(l.baseId,r),u=MX(l.baseId,r),d=r===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(vs,{present:i||d,children:({present:h})=>s.jsx($e.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});RX.displayName=OX;function DX(e,t){return`${e}-trigger-${t}`}function MX(e,t){return`${e}-content-${t}`}var h_e=EX,IX=AX,LX=PX,$X=RX;const m_e=h_e,FX=x.forwardRef(({className:e,...t},n)=>s.jsx(IX,{ref:n,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));FX.displayName=IX.displayName;const fx=x.forwardRef(({className:e,...t},n)=>s.jsx(LX,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));fx.displayName=LX.displayName;const hx=x.forwardRef(({className:e,...t},n)=>s.jsx($X,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));hx.displayName=$X.displayName;const p_e={FileText:sn,Mail:Ft,TrendingUp:mi,Users:et,Receipt:C7,Target:zr,Eye:ns,MessageCircle:c1},g_e=({automation:e,isOpen:t,onClose:n,onActivate:r,onDeactivate:i,hasEnoughCredits:a,credits:o,loading:l})=>{const[c,u]=x.useState("overview"),d=p_e[e.icon]||sn;if(!e)return null;const f=p=>({Marketing:"bg-blue-100 text-blue-700 border-blue-200",Juridique:"bg-purple-100 text-purple-700 border-purple-200",Finance:"bg-green-100 text-green-700 border-green-200",RH:"bg-orange-100 text-orange-700 border-orange-200"})[p]||"bg-gray-100 text-gray-700 border-gray-200",h=p=>({Simple:"text-green-600",Moyenne:"text-yellow-600",Avancée:"text-red-600"})[p]||"text-gray-600",m=p=>({Simple:33,Moyenne:66,Avancée:100})[p]||0;return s.jsx(pt,{open:t,onOpenChange:n,children:s.jsxs(gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(jt,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`
              w-16 h-16 rounded-xl flex items-center justify-center flex-shrink-0
              ${e.isActive?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}
            `,children:s.jsx(d,{className:"w-8 h-8"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx(xt,{className:"text-2xl font-bold text-gray-900",children:e.name}),s.jsxs("div",{className:"flex gap-2",children:[e.popular&&s.jsxs(Ce,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[s.jsx(Zt,{className:"w-3 h-3 mr-1 fill-current"}),"Populaire"]}),e.isActive&&s.jsxs(Ce,{className:"bg-green-100 text-green-700 border-green-200",children:[s.jsx(Gt,{className:"w-3 h-3 mr-1"}),"Active"]}),s.jsx(Ce,{className:f(e.category),children:e.category})]})]}),s.jsx(Mt,{className:"text-base text-gray-600 mb-4",children:e.description}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-medium",children:e.rating}),s.jsxs("span",{children:["(",e.reviews," avis)"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsx("span",{children:e.estimatedTime})]}),s.jsxs("div",{className:`flex items-center gap-1 ${h(e.complexity)}`,children:[s.jsx(Hr,{className:"w-4 h-4"}),s.jsx("span",{children:e.complexity})]})]})]})]})}),s.jsxs(m_e,{value:c,onValueChange:u,className:"w-full",children:[s.jsxs(FX,{className:"grid w-full grid-cols-4",children:[s.jsx(fx,{value:"overview",children:"Vue d'ensemble"}),s.jsx(fx,{value:"features",children:"Fonctionnalités"}),s.jsx(fx,{value:"pricing",children:"Tarification"}),s.jsx(fx,{value:"settings",disabled:!e.isActive,children:"Paramètres"})]}),s.jsxs(hx,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Description détaillée"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.longDescription})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Niveau de complexité"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Complexité"}),s.jsx("span",{className:`text-sm font-medium ${h(e.complexity)}`,children:e.complexity})]}),s.jsx(D1,{value:m(e.complexity),className:"h-2"}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.complexity==="Simple"&&"Configuration rapide, idéal pour débuter",e.complexity==="Moyenne"&&"Quelques paramètres à configurer",e.complexity==="Avancée"&&"Configuration avancée, plus de possibilités"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Temps de mise en place"}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[s.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-blue-800 font-medium",children:e.estimatedTime})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Avis utilisateurs"}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:e.rating}),s.jsx("div",{className:"flex items-center justify-center gap-1 mt-1",children:[...Array(5)].map((p,g)=>s.jsx(Zt,{className:`w-4 h-4 ${g<Math.floor(e.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},g))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Basé sur ",s.jsxs("span",{className:"font-medium",children:[e.reviews," avis"]})," d'utilisateurs"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"95% des utilisateurs recommandent cette automatisation"})]})]})]})]}),s.jsxs(hx,{value:"features",className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Fonctionnalités incluses"}),s.jsx("div",{className:"grid gap-3",children:e.features.map((p,g)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Gt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700",children:p})]},g))}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Intégrations disponibles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Stripe","Google Workspace","Slack","Notion","Zapier"].map(p=>s.jsx(Ce,{variant:"outline",className:"text-xs",children:p},p))})]})]}),s.jsxs(hx,{value:"pricing",className:"space-y-6",children:[s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl",children:[s.jsxs("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:[e.price," crédits"]}),s.jsx("p",{className:"text-gray-600",children:"Prix d'activation unique"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Votre situation"}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Vos crédits actuels"}),s.jsx("span",{className:"font-bold text-xl",children:o})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Coût de cette automatisation"}),s.jsxs("span",{className:"font-bold text-xl text-blue-600",children:["-",e.price]})]}),s.jsx(wu,{}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-900 font-medium",children:"Solde après activation"}),s.jsx("span",{className:`font-bold text-xl ${a?"text-green-600":"text-red-600"}`,children:o-e.price})]}),!a&&s.jsxs($l,{children:[s.jsx(hf,{className:"h-4 w-4"}),s.jsx(tY,{children:"Crédits insuffisants"}),s.jsxs(Fl,{children:["Il vous manque ",e.price-o," crédits pour activer cette automatisation. Rechargez votre compte pour continuer."]})]})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"💰 Économies estimées"}),s.jsxs("p",{className:"text-sm text-green-700",children:["Cette automatisation peut vous faire économiser jusqu'à ",s.jsx("strong",{children:"5-10 heures par semaine"}),", soit environ ",s.jsx("strong",{children:"200-400€ de temps de travail par mois"}),"."]})]})]}),s.jsx(hx,{value:"settings",className:"space-y-6",children:e.isActive?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg",children:[s.jsx(Gt,{className:"w-6 h-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-green-800",children:"Automatisation active"}),s.jsx("p",{className:"text-sm text-green-600",children:"Cette automatisation fonctionne en arrière-plan"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Statistiques d'utilisation"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"24"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Exécutions ce mois"})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"98%"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Taux de succès"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Actions"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(H,{variant:"outline",size:"sm",children:[s.jsx(Zr,{className:"w-4 h-4 mr-2"}),"Configurer"]}),s.jsxs(H,{variant:"outline",size:"sm",children:[s.jsx(yo,{className:"w-4 h-4 mr-2"}),"Voir les logs"]}),s.jsxs(H,{variant:"outline",size:"sm",children:[s.jsx(ame,{className:"w-4 h-4 mr-2"}),"Mettre en pause"]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Zr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Automatisation non active"}),s.jsx("p",{className:"text-gray-600",children:"Activez cette automatisation pour accéder aux paramètres"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[s.jsx(H,{variant:"outline",onClick:n,children:"Fermer"}),s.jsx("div",{className:"flex gap-3",children:e.isActive?s.jsxs(H,{variant:"destructive",onClick:()=>i(e),disabled:l,children:[l?s.jsx(Pt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(hi,{className:"w-4 h-4 mr-2"}),"Désactiver"]}):s.jsxs(H,{onClick:()=>r(e),disabled:!a||l,children:[l?s.jsx(Pt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(u1,{className:"w-4 h-4 mr-2"}),a?`Activer (${e.price} crédits)`:"Crédits insuffisants"]})})]})]})})},x_e=P1,zX=x.forwardRef(({className:e,...t},n)=>s.jsx(Wp,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));zX.displayName=Wp.displayName;const v_e=Lf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),y_e=x.forwardRef(({side:e="right",className:t,children:n,...r},i)=>s.jsxs(x_e,{children:[s.jsx(zX,{}),s.jsxs(Gp,{ref:i,className:de(v_e({side:e}),t),...r,children:[n,s.jsxs(tb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(tn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));y_e.displayName=Gp.displayName;const b_e=x.forwardRef(({className:e,...t},n)=>s.jsx(Zy,{ref:n,className:de("text-lg font-semibold text-foreground",e),...t}));b_e.displayName=Zy.displayName;const w_e=x.forwardRef(({className:e,...t},n)=>s.jsx(eb,{ref:n,className:de("text-sm text-muted-foreground",e),...t}));w_e.displayName=eb.displayName;var B1="Checkbox",[j_e]=sr(B1),[__e,tM]=j_e(B1);function N_e(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Or({prop:n,defaultProp:i??!1,onChange:c,caller:B1}),[p,g]=x.useState(null),[y,v]=x.useState(null),w=x.useRef(!1),b=p?!!o||!!p.closest("form"):!0,j={checked:h,disabled:a,setChecked:m,control:p,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:uu(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:v};return s.jsx(__e,{scope:t,...j,children:S_e(f)?f(j):r})}var BX="CheckboxTrigger",UX=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:p}=tM(BX,e),g=it(i,d),y=x.useRef(c);return x.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const w=()=>f(y.current);return v.addEventListener("reset",w),()=>v.removeEventListener("reset",w)}},[a,f]),s.jsx($e.button,{type:"button",role:"checkbox","aria-checked":uu(c)?"mixed":c,"aria-required":u,"data-state":GX(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:Te(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Te(n,v=>{f(w=>uu(w)?!0:!w),p&&m&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});UX.displayName=BX;var nM=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(N_e,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(UX,{...f,ref:t,__scopeCheckbox:n}),h&&s.jsx(WX,{__scopeCheckbox:n})]})})});nM.displayName=B1;var qX="CheckboxIndicator",VX=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=tM(qX,n);return s.jsx(vs,{present:r||uu(a.checked)||a.checked===!0,children:s.jsx($e.span,{"data-state":GX(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});VX.displayName=qX;var HX="CheckboxBubbleInput",WX=x.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=tM(HX,e),p=it(n,m),g=ub(a),y=Gy(r);x.useEffect(()=>{const w=h;if(!w)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,N=!i.current;if(g!==a&&_){const S=new Event("click",{bubbles:N});w.indeterminate=uu(a),_.call(w,uu(a)?!1:a),w.dispatchEvent(S)}},[h,g,a,i]);const v=x.useRef(uu(a)?!1:a);return s.jsx($e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:p,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});WX.displayName=HX;function S_e(e){return typeof e=="function"}function uu(e){return e==="indeterminate"}function GX(e){return uu(e)?"indeterminate":e?"checked":"unchecked"}const Br=x.forwardRef(({className:e,...t},n)=>{const r=e==null?void 0:e.includes("checkbox-orange");return s.jsx(nM,{ref:n,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-gray-300 shadow-sm data-[state=checked]:shadow-none data-[state=checked]:border-[#F86E19] ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r?"data-[state=checked]:bg-[#F86E19] data-[state=checked]:text-primary-foreground":"data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(VX,{className:de("flex items-center justify-center text-current"),children:s.jsx(Vr,{className:"h-4 w-4"})})})});Br.displayName=nM.displayName;var KX=["PageUp","PageDown"],YX=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],XX={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Yp="Slider",[hT,C_e,E_e]=Op(Yp),[QX]=sr(Yp,[E_e]),[k_e,U1]=QX(Yp),JX=x.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:p,...g}=e,y=x.useRef(new Set),v=x.useRef(0),b=o==="horizontal"?A_e:T_e,[j=[],_]=Or({prop:d,defaultProp:u,onChange:T=>{var R;(R=[...y.current][v.current])==null||R.focus(),f(T)}}),N=x.useRef(j);function S(T){const E=M_e(j,T);A(T,E)}function C(T){A(T,v.current)}function k(){const T=N.current[v.current];j[v.current]!==T&&h(j)}function A(T,E,{commit:R}={commit:!1}){const $=F_e(a),O=z_e(Math.round((T-r)/a)*a+r,$),F=Xj(O,[r,i]);_((z=[])=>{const P=R_e(z,F,E);if($_e(P,c*a)){v.current=P.indexOf(F);const I=String(P)!==String(z);return I&&R&&h(P),I?P:z}else return z})}return s.jsx(k_e,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:v,thumbs:y.current,values:j,orientation:o,form:p,children:s.jsx(hT.Provider,{scope:e.__scopeSlider,children:s.jsx(hT.Slot,{scope:e.__scopeSlider,children:s.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Te(g.onPointerDown,()=>{l||(N.current=j)}),min:r,max:i,inverted:m,onSlideStart:l?void 0:S,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:k,onHomeKeyDown:()=>!l&&A(r,0,{commit:!0}),onEndKeyDown:()=>!l&&A(i,j.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:E})=>{if(!l){const O=KX.includes(T.key)||T.shiftKey&&YX.includes(T.key)?10:1,F=v.current,z=j[F],P=a*O*E;A(z+P,F,{commit:!0})}}})})})})});JX.displayName=Yp;var[ZX,eQ]=QX(Yp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),A_e=x.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=x.useState(null),m=it(t,b=>h(b)),p=x.useRef(void 0),g=Iu(i),y=g==="ltr",v=y&&!a||!y&&a;function w(b){const j=p.current||f.getBoundingClientRect(),_=[0,j.width],S=rM(_,v?[n,r]:[r,n]);return p.current=j,S(b-j.left)}return s.jsx(ZX,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:s.jsx(tQ,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=w(b.clientX);o==null||o(j)},onSlideMove:b=>{const j=w(b.clientX);l==null||l(j)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:b=>{const _=XX[v?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:_?-1:1})}})})}),T_e=x.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=x.useRef(null),f=it(t,d),h=x.useRef(void 0),m=!i;function p(g){const y=h.current||d.current.getBoundingClientRect(),v=[0,y.height],b=rM(v,m?[r,n]:[n,r]);return h.current=y,b(g-y.top)}return s.jsx(ZX,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(tQ,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=p(g.clientY);a==null||a(y)},onSlideMove:g=>{const y=p(g.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=XX[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),tQ=x.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=U1(Yp,n);return s.jsx($e.span,{...u,ref:t,onKeyDown:Te(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):KX.concat(YX).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Te(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Te(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Te(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),nQ="SliderTrack",rQ=x.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=U1(nQ,n);return s.jsx($e.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});rQ.displayName=nQ;var mT="SliderRange",sQ=x.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=U1(mT,n),a=eQ(mT,n),o=x.useRef(null),l=it(t,o),c=i.values.length,u=i.values.map(h=>oQ(h,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx($e.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});sQ.displayName=mT;var pT="SliderThumb",iQ=x.forwardRef((e,t)=>{const n=C_e(e.__scopeSlider),[r,i]=x.useState(null),a=it(t,l=>i(l)),o=x.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(P_e,{...e,ref:a,index:o})}),P_e=x.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...a}=e,o=U1(pT,n),l=eQ(pT,n),[c,u]=x.useState(null),d=it(t,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,h=Gy(c),m=o.values[r],p=m===void 0?0:oQ(m,o.min,o.max),g=D_e(r,o.values.length),y=h==null?void 0:h[l.size],v=y?I_e(y,p,l.direction):0;return x.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${v}px)`},children:[s.jsx(hT.ItemSlot,{scope:e.__scopeSlider,children:s.jsx($e.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Te(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&s.jsx(aQ,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});iQ.displayName=pT;var O_e="RadioBubbleInput",aQ=x.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=x.useRef(null),a=it(i,r),o=ub(t);return x.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx($e.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});aQ.displayName=O_e;function R_e(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,a)=>i-a)}function oQ(e,t,n){const a=100/(n-t)*(e-t);return Xj(a,[0,100])}function D_e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function M_e(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function I_e(e,t,n){const r=e/2,a=rM([0,50],[0,r]);return(r-a(t)*n)*n}function L_e(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function $_e(e,t){if(t>0){const n=L_e(e);return Math.min(...n)>=t}return!0}function rM(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function F_e(e){return(String(e).split(".")[1]||"").length}function z_e(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var lQ=JX,B_e=rQ,U_e=sQ,q_e=iQ;const Av=x.forwardRef(({className:e,...t},n)=>s.jsxs(lQ,{ref:n,className:de("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(B_e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(U_e,{className:"absolute h-full bg-primary"})}),s.jsx(q_e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Av.displayName=lQ.displayName;const V_e=({credits:e})=>{const[t,n]=x.useState(!1),{monthlyRemaining:r,isLoading:i,addPurchasedCredits:a}=sY(),o=r||e||0,l=o<=20,c={currentBalance:o,totalPurchased:0,totalSpent:0,thisMonthSpent:0},u=[{id:"basic",name:"Pack Basic",credits:100,price:10,bonus:0,popular:!1,description:"Pack de base"}],d=u[0],f=async m=>{try{await a(m.credits+m.bonus)?(console.log("Crédits ajoutés avec succès:",m),n(!1)):console.error("Erreur lors de l'ajout des crédits")}catch(p){console.error("Erreur lors de l'achat:",p)}},h=m=>(m.price/(m.credits+m.bonus)).toFixed(3);return s.jsx(SD,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(re,{className:`
          ${l?"border-orange-200 bg-orange-50":"border-gray-200 bg-white"}
          transition-colors duration-200
        `,children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`
                w-10 h-10 rounded-full flex items-center justify-center
                ${l?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}
              `,children:s.jsx(hF,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:o}),s.jsx("span",{className:"text-sm text-gray-500",children:"crédits"}),l&&s.jsxs(Bj,{children:[s.jsx(Uj,{children:s.jsx(hf,{className:"w-4 h-4 text-orange-500"})}),s.jsx(jv,{children:s.jsx("p",{children:"Solde faible - Rechargez vos crédits"})})]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[c.thisMonthSpent," utilisés ce mois"]})]})]})})}),s.jsxs(pt,{open:t,onOpenChange:n,children:[s.jsx(Ll,{asChild:!0,children:s.jsxs(H,{variant:l?"default":"outline",size:"sm",className:l?"bg-orange-600 hover:bg-orange-700":"",children:[s.jsx(In,{className:"w-4 h-4 mr-1"}),"Recharger"]})}),s.jsxs(gt,{className:"max-w-4xl",children:[s.jsxs(jt,{children:[s.jsxs(xt,{className:"flex items-center gap-2",children:[s.jsx(hF,{className:"w-5 h-5 text-blue-600"}),"Recharger vos crédits"]}),s.jsx(Mt,{children:"Choisissez le pack qui correspond à vos besoins. Plus vous achetez, plus vous économisez !"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.currentBalance}),s.jsx("div",{className:"text-xs text-gray-600",children:"Crédits actuels"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.totalPurchased}),s.jsx("div",{className:"text-xs text-gray-600",children:"Total acheté"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.totalSpent}),s.jsx("div",{className:"text-xs text-gray-600",children:"Total utilisé"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map(m=>{const p=m.id===d.id,g=m.credits+m.bonus;return s.jsxs(re,{className:`
                      relative cursor-pointer transition-all duration-200 hover:shadow-lg
                      ${m.popular?"border-blue-500 shadow-md":"border-gray-200"}
                      ${p?"ring-2 ring-green-500":""}
                    `,children:[m.popular&&s.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:s.jsx(Ce,{className:"bg-blue-600 text-white",children:"Le plus populaire"})}),p&&s.jsx("div",{className:"absolute -top-2 right-2",children:s.jsxs(Ce,{className:"bg-green-600 text-white",children:[s.jsx(mi,{className:"w-3 h-3 mr-1"}),"Meilleure valeur"]})}),s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:m.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:m.description}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[m.price,"€"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[h(m),"€ par crédit"]})]}),s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Crédits de base:"}),s.jsx("span",{className:"font-medium",children:m.credits})]}),m.bonus>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[s.jsx("span",{children:"Bonus:"}),s.jsxs("span",{className:"font-medium",children:["+",m.bonus]})]}),s.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:s.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{className:"text-blue-600",children:[g," crédits"]})]})})]}),s.jsx(H,{className:"w-full",onClick:()=>f(m),disabled:i,variant:m.popular?"default":"outline",children:i?"Traitement...":"Acheter maintenant"})]})})]},m.id)})}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vy,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Informations importantes :"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsx("li",{children:"• Les crédits n'expirent jamais"}),s.jsx("li",{children:"• Paiement sécurisé via Stripe"}),s.jsx("li",{children:"• Remboursement possible sous 30 jours"}),s.jsx("li",{children:"• Support client disponible 24/7"})]})]})]})})]})]}),l&&s.jsxs(Ce,{variant:"outline",className:"border-orange-200 text-orange-700",children:[s.jsx(hf,{className:"w-3 h-3 mr-1"}),"Solde faible"]})]})})},vd=[{id:1,name:"Génération de contrats",description:"Génère automatiquement des contrats personnalisés selon vos besoins",longDescription:"Cette automatisation utilise l'IA pour créer des contrats juridiques personnalisés en fonction de votre secteur d'activité. Elle inclut des clauses standards, des conditions spécifiques et s'adapte aux réglementations en vigueur.",category:"Juridique",price:12,icon:"FileText",features:["Templates multiples selon le secteur","Personnalisation automatique","Export PDF professionnel","Clauses juridiques à jour","Validation automatique"],popular:!0,rating:4.8,reviews:156,estimatedTime:"2-5 minutes",complexity:"Moyenne",isActive:!1},{id:2,name:"Emails de relance automatiques",description:"Système intelligent de relance clients pour améliorer vos encaissements",longDescription:"Automatisez vos relances clients avec des emails personnalisés et échelonnés. Le système s'adapte au profil client et optimise les taux de réponse.",category:"Marketing",price:8,icon:"Mail",features:["Relances échelonnées intelligentes","Personnalisation par segment client","Suivi des taux d'ouverture","Templates professionnels","Intégration CRM"],popular:!1,rating:4.6,reviews:89,estimatedTime:"Configuration 10 min",complexity:"Simple",isActive:!1},{id:3,name:"Analyse de marché express",description:"Analyse complète de votre marché et de la concurrence en quelques clics",longDescription:"Obtenez une analyse détaillée de votre marché cible, de la concurrence et des opportunités. Données actualisées et insights stratégiques inclus.",category:"Finance",price:15,icon:"TrendingUp",features:["Analyse concurrentielle approfondie","Étude de marché sectorielle","Identification des opportunités","Benchmarking tarifaire","Rapport PDF détaillé"],popular:!0,rating:4.9,reviews:203,estimatedTime:"15-30 minutes",complexity:"Avancée",isActive:!1},{id:4,name:"Gestion RH automatisée",description:"Automatisez vos processus RH : recrutement, onboarding, évaluations",longDescription:"Simplifiez votre gestion des ressources humaines avec des workflows automatisés pour le recrutement, l'intégration et le suivi des collaborateurs.",category:"RH",price:10,icon:"Users",features:["Tri automatique des CV","Processus d'onboarding guidé","Évaluations périodiques","Suivi des formations","Tableaux de bord RH"],popular:!1,rating:4.4,reviews:67,estimatedTime:"Configuration 20 min",complexity:"Moyenne",isActive:!1},{id:5,name:"Facturation intelligente",description:"Automatisez votre facturation avec relances et suivi des paiements",longDescription:"Système complet de facturation automatisée avec génération, envoi, relances et suivi des paiements. Intégration comptable incluse.",category:"Finance",price:9,icon:"Receipt",features:["Génération automatique des factures","Envoi programmé par email","Relances de paiement","Suivi des encaissements","Export comptable"],popular:!0,rating:4.7,reviews:134,estimatedTime:"5-10 minutes",complexity:"Simple",isActive:!1},{id:6,name:"Campagnes publicitaires IA",description:"Créez et optimisez vos campagnes publicitaires avec l'intelligence artificielle",longDescription:"L'IA analyse votre audience, crée des visuels et textes publicitaires, puis optimise vos campagnes en temps réel pour maximiser le ROI.",category:"Marketing",price:18,icon:"Target",features:["Création automatique de visuels","Rédaction de textes publicitaires","Ciblage audience optimisé","Optimisation temps réel","Reporting détaillé ROI"],popular:!1,rating:4.5,reviews:92,estimatedTime:"30-45 minutes",complexity:"Avancée",isActive:!1},{id:7,name:"Veille concurrentielle",description:"Surveillez automatiquement vos concurrents et les tendances du marché",longDescription:"Système de veille automatisée qui surveille vos concurrents, analyse les tendances du marché et vous alerte sur les opportunités et menaces.",category:"Marketing",price:11,icon:"Eye",features:["Surveillance concurrents 24/7","Alertes prix et nouveautés","Analyse des tendances","Rapports hebdomadaires","Recommandations stratégiques"],popular:!1,rating:4.3,reviews:78,estimatedTime:"Configuration 15 min",complexity:"Moyenne",isActive:!1},{id:8,name:"Support client intelligent",description:"Chatbot IA pour répondre automatiquement à vos clients 24/7",longDescription:"Chatbot intelligent qui apprend de vos FAQ et interactions pour répondre automatiquement aux questions clients avec escalade humaine si nécessaire.",category:"RH",price:13,icon:"MessageCircle",features:["Réponses automatiques 24/7","Apprentissage continu","Escalade vers humain","Multicanal (web, email, SMS)","Analytics des conversations"],popular:!0,rating:4.6,reviews:145,estimatedTime:"Configuration 25 min",complexity:"Moyenne",isActive:!1}],O5=[{id:"all",name:"Toutes",count:vd.length},{id:"marketing",name:"Marketing",count:vd.filter(e=>e.category==="Marketing").length},{id:"juridique",name:"Juridique",count:vd.filter(e=>e.category==="Juridique").length},{id:"finance",name:"Finance",count:vd.filter(e=>e.category==="Finance").length},{id:"rh",name:"RH",count:vd.filter(e=>e.category==="RH").length}],H_e=[{id:"starter",name:"Pack Démarrage",description:"Les essentiels pour lancer votre activité",automations:[1,2,5],originalPrice:29,discountedPrice:22,discount:24,popular:!0},{id:"growth",name:"Pack Croissance",description:"Automatisez votre développement commercial",automations:[2,3,6,7],originalPrice:52,discountedPrice:39,discount:25,popular:!1},{id:"enterprise",name:"Pack Entreprise",description:"Solution complète pour entreprises établies",automations:[1,3,4,5,6,8],originalPrice:77,discountedPrice:55,discount:29,popular:!1}],W_e=()=>{const[e,t]=x.useState(vd),[n,r]=x.useState(vd),[i,a]=x.useState("all"),[o,l]=x.useState(""),[c,u]=x.useState("popular"),[d,f]=x.useState("grid"),[h,m]=x.useState(!1);x.useEffect(()=>{var _;let j=[...e];if(i!=="all"){const N=(_=O5.find(S=>S.id===i))==null?void 0:_.name;j=j.filter(S=>S.category===N)}if(o.trim()){const N=o.toLowerCase();j=j.filter(S=>S.name.toLowerCase().includes(N)||S.description.toLowerCase().includes(N)||S.category.toLowerCase().includes(N)||S.features.some(C=>C.toLowerCase().includes(N)))}switch(c){case"popular":j.sort((N,S)=>N.popular&&!S.popular?-1:!N.popular&&S.popular?1:S.rating-N.rating);break;case"price-asc":j.sort((N,S)=>N.price-S.price);break;case"price-desc":j.sort((N,S)=>S.price-N.price);break;case"rating":j.sort((N,S)=>S.rating-N.rating);break;case"name":j.sort((N,S)=>N.name.localeCompare(S.name));break}r(j)},[e,i,o,c]);const p=async j=>{m(!0);try{return await new Promise(_=>setTimeout(_,1e3)),t(_=>_.map(N=>N.id===j?{...N,isActive:!N.isActive}:N)),{success:!0}}catch(_){return console.error("Erreur lors de l'activation/désactivation:",_),{success:!1,error:_.message}}finally{m(!1)}},g=j=>e.find(_=>_.id===j),y=()=>e.filter(j=>j.isActive),v=()=>e.filter(j=>j.popular),w=()=>e.filter(j=>j.isActive).reduce((j,_)=>j+_.price,0);return{automations:n,allAutomations:e,categories:O5,automationPacks:H_e,selectedCategory:i,searchQuery:o,sortBy:c,viewMode:d,loading:h,setSelectedCategory:a,setSearchQuery:l,setSortBy:u,setViewMode:f,toggleAutomation:p,resetFilters:()=>{a("all"),l(""),u("popular")},getAutomationById:g,getActiveAutomations:y,getPopularAutomations:v,getTotalActiveCost:w,totalAutomations:e.length,activeAutomations:e.filter(j=>j.isActive).length,totalActiveCost:w()}},G_e=()=>{var S;const[e,t]=x.useState(null),[n,r]=x.useState(!1),{automations:i,categories:a,selectedCategory:o,searchQuery:l,sortBy:c,viewMode:u,loading:d,setSelectedCategory:f,setSearchQuery:h,setSortBy:m,setViewMode:p,toggleAutomation:g,totalAutomations:y,activeAutomations:v}=W_e(),{monthlyRemaining:w,isLoading:b}=nb(),j=C=>w>=C,_=async C=>{try{if(!j(C.price))return;await g(C.id),t(null)}catch(k){console.error("Erreur lors de l'activation:",k)}},N=async C=>{try{await g(C.id)}catch(k){console.error("Erreur lors de la désactivation:",k)}};return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-primary text-transparent bg-clip-text mb-2",children:"Marketplace d'Automatisations"}),s.jsx("p",{className:"text-gray-600",children:"Automatisez vos tâches business et gagnez du temps précieux"})]}),s.jsx("div",{className:"mt-4 lg:mt-0",children:s.jsx(V_e,{})})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y}),s.jsx("div",{className:"text-sm text-gray-600",children:"Automatisations disponibles"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:v}),s.jsx("div",{className:"text-sm text-gray-600",children:"Actives"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:i.filter(C=>C.popular).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Populaires"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(i.reduce((C,k)=>C+k.rating,0)/i.length*10)/10}),s.jsx("div",{className:"text-sm text-gray-600",children:"Note moyenne"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 mb-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(ke,{placeholder:"Rechercher une automatisation...",value:l,onChange:C=>h(C.target.value),className:"pl-10"})]}),s.jsxs(vt,{value:o,onValueChange:f,children:[s.jsx(yt,{className:"w-full lg:w-48",children:s.jsx(_t,{placeholder:"Catégorie"})}),s.jsx(bt,{children:a.map(C=>s.jsxs(fe,{value:C.id,children:[C.name," (",C.count,")"]},C.id))})]}),s.jsxs(vt,{value:c,onValueChange:m,children:[s.jsx(yt,{className:"w-full lg:w-48",children:s.jsx(_t,{placeholder:"Trier par"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"popular",children:"Populaires"}),s.jsx(fe,{value:"rating",children:"Mieux notées"}),s.jsx(fe,{value:"price-asc",children:"Prix croissant"}),s.jsx(fe,{value:"price-desc",children:"Prix décroissant"}),s.jsx(fe,{value:"name",children:"Nom A-Z"})]})]}),s.jsxs("div",{className:"flex border border-gray-200 rounded-lg",children:[s.jsx(H,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>p("grid"),className:"rounded-r-none",children:s.jsx(fD,{className:"w-4 h-4"})}),s.jsx(H,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>p("list"),className:"rounded-l-none",children:s.jsx(hD,{className:"w-4 h-4"})})]})]}),(o!=="all"||l)&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-gray-100",children:[o!=="all"&&s.jsxs(Ce,{variant:"secondary",className:"flex items-center gap-1",children:[(S=a.find(C=>C.id===o))==null?void 0:S.name,s.jsx("button",{onClick:()=>f("all"),className:"ml-1 hover:bg-gray-200 rounded-full p-0.5",children:"×"})]}),l&&s.jsxs(Ce,{variant:"secondary",className:"flex items-center gap-1",children:['"',l,'"',s.jsx("button",{onClick:()=>h(""),className:"ml-1 hover:bg-gray-200 rounded-full p-0.5",children:"×"})]})]})]}),s.jsx("div",{className:"mb-4 flex items-center justify-between",children:s.jsxs("p",{className:"text-gray-600",children:[i.length," automatisation",i.length>1?"s":""," trouvée",i.length>1?"s":""]})}),d?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((C,k)=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 animate-pulse",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded"})]},k))}):i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rr,{className:"w-6 h-6 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune automatisation trouvée"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos critères de recherche"}),s.jsx(H,{variant:"outline",onClick:()=>{h(""),f("all")},children:"Réinitialiser les filtres"})]}):s.jsx("div",{className:u==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:i.map(C=>s.jsx(e_e,{automation:C,viewMode:u,onSelect:()=>t(C),onToggle:C.isActive?N:_,hasEnoughCredits:j(C.price),loading:d||b},C.id))}),e&&s.jsx(g_e,{automation:e,isOpen:!!e,onClose:()=>t(null),onActivate:_,onDeactivate:N,hasEnoughCredits:j(e.price),credits:w,loading:d||b})]})},fb=({isOpen:e,onClose:t,description:n})=>s.jsx(pt,{open:e,onOpenChange:t,children:s.jsxs(gt,{className:"max-w-sm w-full mx-auto rounded-lg",children:[" ",s.jsxs(jt,{className:"text-center",children:[s.jsx(xt,{className:"bg-gradient-primary text-transparent bg-clip-text text-xl",children:"Fonctionnalité à venir"})," ",s.jsxs(Mt,{className:"text-black text-sm mt-2",children:[" ",n]})]}),s.jsx(Kt,{className:"mt-4",children:s.jsx(H,{onClick:t,className:"w-full",children:"Fermer"})})]})}),Ff=({children:e})=>{const{projectId:t}=Nt(),{userProjects:n,userProjectsLoading:r,currentProjectId:i}=yr(),a=n.length>0,o=i||t||(n.length>0?n[0].project_id:null);return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg",children:"Chargement des projets..."})}):!a||!o?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#F4F4F1] p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Page non disponible"}),s.jsx("p",{className:"text-gray-600",children:"Vous n'avez pas encore de projet actif."}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Veuillez créer un nouveau projet pour accéder à cette fonctionnalité."})]})}):s.jsx(s.Fragment,{children:e})},K_e=()=>{const e=It(),{currentProjectId:t,userProjectsLoading:n}=yr();cr();const[r,i]=x.useState(!1);return x.useEffect(()=>{i(!0)},[]),n?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):t?s.jsx(Ff,{children:s.jsxs("div",{className:"animate-fade-in",children:[s.jsx(G_e,{}),s.jsx(fb,{isOpen:r,onClose:()=>i(!1),description:s.jsxs(s.Fragment,{children:["Bientôt, laissez Aurentia IA gérer les tâches répétitives de votre entreprise en mode pilote automatique. Nos automatisations vous permettront de :",s.jsx("br",{}),s.jsx("br",{}),"✅ ",s.jsx("b",{children:"Veille stratégique"})," : Analyse de marché hebdomadaire, surveillance concurrentielle automatique",s.jsx("br",{}),"✅ ",s.jsx("b",{children:"Relance client"})," : Envoi automatique d'emails de relance, images et contenus personnalisés",s.jsx("br",{}),"✅ ",s.jsx("b",{children:"Gestion administrative"})," : Facturation récurrente, rappels d'échéances, suivi des paiements",s.jsx("br",{}),"✅ ",s.jsx("b",{children:"Marketing"})," : génération et publication des posts sur les réseaux",s.jsx("br",{}),"✅ ",s.jsx("b",{children:"Monitoring business"})," : Rapports de performance automatiques, alertes sur les KPIs critiques",s.jsx("br",{}),s.jsx("br",{}),"Configurez une fois, profitez à vie ! Chaque automatisation s'adapte à votre rythme et vos besoins spécifiques."]})})]})}):s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)] animate-popup-appear",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 text-center bg-white p-8 rounded-lg shadow-lg max-w-lg w-[90vw]",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Que l'aventure commence !"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Créez un nouveau projet pour découvrir tout le potentiel de votre idée."}),s.jsx(H,{onClick:()=>e("/individual/warning"),className:"mt-4 px-4 py-2 rounded-lg bg-gradient-primary hover:from-blue-600 hover:to-purple-700 text-white text-lg font-semibold shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105",children:"Créer un nouveau projet"})]})})};var q1="Collapsible",[Y_e,cQ]=sr(q1),[X_e,sM]=Y_e(q1),uQ=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c,u]=Or({prop:r,defaultProp:i??!1,onChange:o,caller:q1});return s.jsx(X_e,{scope:n,disabled:a,contentId:xr(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:s.jsx($e.div,{"data-state":aM(c),"data-disabled":a?"":void 0,...l,ref:t})})});uQ.displayName=q1;var dQ="CollapsibleTrigger",fQ=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=sM(dQ,n);return s.jsx($e.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":aM(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Te(e.onClick,i.onOpenToggle)})});fQ.displayName=dQ;var iM="CollapsibleContent",hQ=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=sM(iM,e.__scopeCollapsible);return s.jsx(vs,{present:n||i.open,children:({present:a})=>s.jsx(Q_e,{...r,ref:t,present:a})})});hQ.displayName=iM;var Q_e=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=e,o=sM(iM,n),[l,c]=x.useState(r),u=x.useRef(null),d=it(t,u),f=x.useRef(0),h=f.current,m=x.useRef(0),p=m.current,g=o.open||l,y=x.useRef(g),v=x.useRef(void 0);return x.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),lr(()=>{const w=u.current;if(w){v.current=v.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();f.current=b.height,m.current=b.width,y.current||(w.style.transitionDuration=v.current.transitionDuration,w.style.animationName=v.current.animationName),c(r)}},[o.open,r]),s.jsx($e.div,{"data-state":aM(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:g&&i})});function aM(e){return e?"open":"closed"}var J_e=uQ,Z_e=fQ,eNe=hQ,fo="Accordion",tNe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[oM,nNe,rNe]=Op(fo),[V1]=sr(fo,[rNe,cQ]),lM=cQ(),mQ=B.forwardRef((e,t)=>{const{type:n,...r}=e,i=r,a=r;return s.jsx(oM.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?s.jsx(oNe,{...a,ref:t}):s.jsx(aNe,{...i,ref:t})})});mQ.displayName=fo;var[pQ,sNe]=V1(fo),[gQ,iNe]=V1(fo,{collapsible:!1}),aNe=B.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:a=!1,...o}=e,[l,c]=Or({prop:n,defaultProp:r??"",onChange:i,caller:fo});return s.jsx(pQ,{scope:e.__scopeAccordion,value:B.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:B.useCallback(()=>a&&c(""),[a,c]),children:s.jsx(gQ,{scope:e.__scopeAccordion,collapsible:a,children:s.jsx(xQ,{...o,ref:t})})})}),oNe=B.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,l]=Or({prop:n,defaultProp:r??[],onChange:i,caller:fo}),c=B.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=B.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(pQ,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(gQ,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(xQ,{...a,ref:t})})})}),[lNe,H1]=V1(fo),xQ=B.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:a="vertical",...o}=e,l=B.useRef(null),c=it(l,t),u=nNe(n),f=Iu(i)==="ltr",h=Te(e.onKeyDown,m=>{var C;if(!tNe.includes(m.key))return;const p=m.target,g=u().filter(k=>{var A;return!((A=k.ref.current)!=null&&A.disabled)}),y=g.findIndex(k=>k.ref.current===p),v=g.length;if(y===-1)return;m.preventDefault();let w=y;const b=0,j=v-1,_=()=>{w=y+1,w>j&&(w=b)},N=()=>{w=y-1,w<b&&(w=j)};switch(m.key){case"Home":w=b;break;case"End":w=j;break;case"ArrowRight":a==="horizontal"&&(f?_():N());break;case"ArrowDown":a==="vertical"&&_();break;case"ArrowLeft":a==="horizontal"&&(f?N():_());break;case"ArrowUp":a==="vertical"&&N();break}const S=w%v;(C=g[S].ref.current)==null||C.focus()});return s.jsx(lNe,{scope:n,disabled:r,direction:i,orientation:a,children:s.jsx(oM.Slot,{scope:n,children:s.jsx($e.div,{...o,"data-orientation":a,ref:c,onKeyDown:r?void 0:h})})})}),Jj="AccordionItem",[cNe,cM]=V1(Jj),vQ=B.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...i}=e,a=H1(Jj,n),o=sNe(Jj,n),l=lM(n),c=xr(),u=r&&o.value.includes(r)||!1,d=a.disabled||e.disabled;return s.jsx(cNe,{scope:n,open:u,disabled:d,triggerId:c,children:s.jsx(J_e,{"data-orientation":a.orientation,"data-state":NQ(u),...l,...i,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});vQ.displayName=Jj;var yQ="AccordionHeader",bQ=B.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=H1(fo,n),a=cM(yQ,n);return s.jsx($e.h3,{"data-orientation":i.orientation,"data-state":NQ(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:t})});bQ.displayName=yQ;var gT="AccordionTrigger",wQ=B.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=H1(fo,n),a=cM(gT,n),o=iNe(gT,n),l=lM(n);return s.jsx(oM.ItemSlot,{scope:n,children:s.jsx(Z_e,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...r,ref:t})})});wQ.displayName=gT;var jQ="AccordionContent",_Q=B.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=H1(fo,n),a=cM(jQ,n),o=lM(n);return s.jsx(eNe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});_Q.displayName=jQ;function NQ(e){return e?"open":"closed"}var uNe=mQ,dNe=vQ,fNe=bQ,SQ=wQ,CQ=_Q;const di=uNe,vn=x.forwardRef(({className:e,...t},n)=>s.jsx(dNe,{ref:n,className:de("border-b",e),...t}));vn.displayName="AccordionItem";const yn=x.forwardRef(({className:e,children:t,...n},r)=>s.jsx(fNe,{className:"flex",children:s.jsxs(SQ,{ref:r,className:de("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,s.jsx(ya,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));yn.displayName=SQ.displayName;const bn=x.forwardRef(({className:e,children:t,...n},r)=>s.jsx(CQ,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:de("pb-4 pt-0",e),children:t})}));bn.displayName=CQ.displayName;const hNe=()=>{var g,y;const[e,t]=x.useState(""),[n,r]=x.useState("all"),[i,a]=x.useState("all"),[o,l]=x.useState(null),c=[{id:"1",title:"Réussir son étude de marché",description:"Un guide complet pour analyser efficacement votre marché et comprendre votre audience cible.",type:"guide",category:"business",isFeatured:!0},{id:"2",title:"Template de Business Plan",description:"Un modèle structuré pour présenter votre projet de manière professionnelle aux investisseurs.",type:"template",category:"business",isFeatured:!0},{id:"3",title:"Les 7 étapes pour valider une idée",description:"Méthodologie éprouvée pour tester la viabilité de votre concept avant de vous lancer.",type:"article",category:"innovation",isFeatured:!1},{id:"4",title:"Analyse de la concurrence",description:"Comment identifier et évaluer efficacement vos concurrents directs et indirects.",type:"guide",category:"strategy",isFeatured:!1},{id:"5",title:"Étude de cas: La success story de Doctolib",description:"Comment Doctolib a révolutionné la prise de rendez-vous médicaux en France.",type:"casestudy",category:"success",isFeatured:!0},{id:"6",title:"Modèles économiques innovants",description:"Découvrez les business models qui transforment les marchés traditionnels.",type:"article",category:"innovation",isFeatured:!0}],u=c.filter(v=>{const w=v.title.toLowerCase().includes(e.toLowerCase())||v.description.toLowerCase().includes(e.toLowerCase()),b=n==="all"||v.category===n,j=i==="all"||v.type===i;return w&&b&&j});c.filter(v=>v.isFeatured);const d=[{id:"all",name:"Toutes les ressources"},{id:"business",name:"Business"},{id:"innovation",name:"Innovation"},{id:"strategy",name:"Stratégie"},{id:"success",name:"Success Stories"}],f=[{id:"all",name:"Tous les types"},{id:"guide",name:"Guide"},{id:"template",name:"Template"},{id:"casestudy",name:"Étude de cas"},{id:"article",name:"Article"}],h=v=>{switch(v){case"article":return s.jsx(sn,{className:"h-5 w-5 text-aurentia-pink"});case"guide":return s.jsx(Whe,{className:"h-5 w-5 text-aurentia-blue"});case"template":return s.jsx(sn,{className:"h-5 w-5 text-aurentia-green"});case"casestudy":return s.jsx(g2,{className:"h-5 w-5 text-aurentia-violet"});default:return s.jsx(sn,{className:"h-5 w-5"})}},m=v=>{we({title:"Téléchargement démarré",description:"Votre ressource sera disponible dans quelques instants."})},p=v=>{switch(v){case"article":return"bg-gradient-to-br from-pink-50 to-pink-100 border-pink-200";case"guide":return"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200";case"template":return"bg-gradient-to-br from-green-50 to-green-100 border-green-200";case"casestudy":return"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200";default:return"bg-white"}};return s.jsx("div",{className:"container mx-auto px-4 py-8 animate-fade-in",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Ressources"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Ressources et contenu éducatif pour entrepreneurs"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher une ressource...",className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 w-full md:w-64 text-sm focus:outline-none focus:ring-2 focus:ring-aurentia-pink/30",value:e,onChange:v=>t(v.target.value)})]})})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[s.jsx(Dl,{className:"h-4 w-4"}),"Catégories:"]}),d.map(v=>s.jsx("button",{className:`px-3 py-1.5 rounded-full text-xs font-medium transition-colors ${n===v.id?"bg-gradient-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>r(v.id),children:v.name},v.id))]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[s.jsx(sn,{className:"h-4 w-4"}),"Types:"]}),f.map(v=>s.jsx("button",{className:`px-3 py-1.5 rounded-full text-xs font-medium transition-colors ${i===v.id?"bg-gradient-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>a(v.id),children:v.name},v.id))]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"Toutes les ressources"}),u.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Aucune ressource ne correspond à votre recherche."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(v=>s.jsxs("div",{className:`p-4 rounded-xl ${p(v.type)} border transition-all hover:shadow-md cursor-pointer`,onClick:()=>l(v.id),children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:h(v.type)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm mb-1",children:v.title}),s.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:v.description})]})]}),s.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-white/50 backdrop-blur-sm",children:v.type==="article"?"Article":v.type==="guide"?"Guide":v.type==="template"?"Template":"Étude de cas"}),s.jsxs("button",{className:"text-xs text-aurentia-pink font-medium hover:underline flex items-center gap-1",onClick:w=>{w.stopPropagation(),m(v.id)},children:[s.jsx(Fo,{className:"h-3 w-3"}),"Télécharger"]})]})]},v.id))})]}),o&&s.jsx(pt,{open:o!==null,onOpenChange:v=>!v&&l(null),children:s.jsxs(gt,{className:"sm:max-w-[600px] p-0 overflow-hidden",children:[s.jsx(_we,{className:"absolute right-4 top-4 z-10"}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:(g=c.find(v=>v.id===o))==null?void 0:g.title}),s.jsxs(di,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(vn,{value:"summary",children:[s.jsx(yn,{children:"Synthèse"}),s.jsx(bn,{children:s.jsxs("p",{className:"text-sm text-gray-700",children:[(y=c.find(v=>v.id===o))==null?void 0:y.description,"Cet article explique en détail les différentes étapes et méthodologies pour réussir dans ce domaine. Une approche structurée garantit de meilleurs résultats."]})})]}),s.jsxs(vn,{value:"content",children:[s.jsx(yn,{children:"Contenu principal"}),s.jsx(bn,{children:s.jsx("p",{className:"text-sm text-gray-700",children:"Le contenu principal aborde plusieurs aspects essentiels pour les entrepreneurs, avec des exemples concrets et des cas d'études. Les méthodes proposées ont été testées et validées par de nombreuses startups à succès."})})]}),s.jsxs(vn,{value:"methodology",children:[s.jsx(yn,{children:"Méthodologie"}),s.jsx(bn,{children:s.jsx("p",{className:"text-sm text-gray-700",children:"Notre approche méthodologique repose sur l'analyse de données récentes et l'expertise de professionnels du secteur. Les résultats sont présentés de manière structurée pour faciliter la mise en application."})})]}),s.jsxs(vn,{value:"conclusion",children:[s.jsx(yn,{children:"Conclusion"}),s.jsx(bn,{children:s.jsx("p",{className:"text-sm text-gray-700",children:"En suivant les recommandations détaillées dans cette ressource, vous serez mieux équipé pour relever les défis qui vous attendent et maximiser vos chances de succès dans votre projet entrepreneurial."})})]})]}),s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx(H,{className:"bg-gradient-primary",children:"Télécharger la ressource complète"})})]})]})})]})})},mNe=()=>{const{projectId:e}=Nt(),t=It(),{currentProject:n,loading:r,error:i,loadProject:a,currentProjectId:o}=yr();if(x.useEffect(()=>{e&&e!==o&&a(e)},[e,o,a]),r)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Ln,{message:"Chargement..."})})});if(i)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-xl font-medium",children:"Erreur"}),s.jsx("p",{className:"text-gray-600 mt-2",children:i}),s.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-4 btn-primary",children:"Retour au tableau de bord"})]})});if(!(n!=null&&n.project_summary))return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-xl font-medium",children:"Projet non trouvé"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Le projet que vous recherchez n'existe pas ou a été supprimé."}),s.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-4 btn-primary",children:"Retour au tableau de bord"})]})});const l=n.project_summary;return s.jsx("div",{className:"container mx-auto px-4 py-8 animate-fade-in",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:l.nom_projet||"Projet sans nom"}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:l.description_synthetique||"Aucune description"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{className:"btn-outline flex items-center gap-2 text-sm",children:[s.jsx(Zr,{size:16}),"Modifier"]}),s.jsxs("button",{className:"btn-outline flex items-center gap-2 text-sm",children:[s.jsx(Fo,{size:16}),"Exporter"]})]})]}),s.jsx("div",{className:"grid grid-cols-12 gap-4 md:gap-5"})]})})},pNe=()=>{const e=qi();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},at=x.forwardRef(({className:e,onChange:t,value:n,...r},i)=>{const a=x.useRef(null);x.useImperativeHandle(i,()=>a.current);const o=()=>{const l=a.current;l&&(l.style.height="auto",l.style.height=`${l.scrollHeight}px`)};return x.useLayoutEffect(()=>{o()},[n]),x.useLayoutEffect(()=>{const l=a.current;if(!l)return;const c=new ResizeObserver(o);return c.observe(l),()=>{c.disconnect()}},[]),s.jsx("textarea",{className:de("flex w-full rounded-md border border-input bg-white pt-2 pb-2 px-3 text-sm text-gray-900 ring-offset-background placeholder:text-[#73726c] focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 leading-tight resize-none overflow-hidden",e),ref:a,value:n,onChange:t,rows:1,...r})});at.displayName="Textarea";const wE=768;function hb(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const n=window.matchMedia(`(max-width: ${wE-1}px)`),r=()=>{t(window.innerWidth<wE)};return n.addEventListener("change",r),t(window.innerWidth<wE),()=>n.removeEventListener("change",r)},[]),!!e}const gNe=(e,t=!0)=>{const[n,r]=x.useState(!1),i=x.useRef(null),a=x.useRef(null),o=[{key:"persona_express",id:"statut_persona_express",name:"Persona Express",icon:"/icones-livrables/persona-icon.png",color:"#e74c3c"},{key:"mini_swot",id:"statut_mini_swot",name:"Mini SWOT",icon:"/icones-livrables/market-icon.png",color:"#3498db"},{key:"success_story",id:"statut_success_story",name:"Success Story",icon:"/icones-livrables/story-icon.png",color:"#9b59b6"},{key:"pitch",id:"statut_pitch",name:"Pitch",icon:"/icones-livrables/pitch-icon.png",color:"#57a68b"},{key:"vision_mission_valeurs",id:"statut_vision_mission_valeurs",name:"Vision, Mission & Valeurs",icon:"/icones-livrables/vision-icon.png",color:"#f39c12"},{key:"juridique",id:"statut_juridique",name:"Cadre juridique",icon:"/icones-livrables/juridique-icon.png",color:"#8e44ad"},{key:"note_globale",id:"status_score_viabilite",name:"Note globale",icon:"/icones-livrables/score-icon.png",color:"#FFD700"}],[l,c]=x.useState(o.map(p=>({...p,status:null}))),u=async()=>{if(e)try{r(!0),console.log("🔍 [FREE DELIVERABLES] Récupération des statuts pour projectId:",e);const{data:p,error:g}=await q.from("project_summary").select("statut_persona_express, statut_mini_swot, statut_success_story, statut_pitch, statut_vision_mission_valeurs, statut_juridique, status_score_viabilite").eq("project_id",e).single();if(console.log("📊 [FREE DELIVERABLES] Réponse Supabase:",{data:p,error:g}),g){console.error("❌ [FREE DELIVERABLES] Erreur lors de la récupération des statuts:",g);return}if(p){console.log("✅ [FREE DELIVERABLES] Données récupérées:",p);const y=o.map(v=>({...v,status:p[v.id]!==null&&p[v.id]!==void 0?String(p[v.id]):null}));console.log("📋 [FREE DELIVERABLES] Livrables mis à jour:",y),c(y)}}catch(p){console.error("💥 [FREE DELIVERABLES] Erreur lors de la récupération des statuts:",p)}finally{r(!1)}},d=()=>{!e||!t||(console.log("🔄 [FREE DELIVERABLES] Démarrage du polling pour projectId:",e),console.log("⏳ [FREE DELIVERABLES] Attente de 5 secondes pour la création de la table project_summary..."),a.current=setTimeout(()=>{console.log("✅ [FREE DELIVERABLES] Début du polling après délai d'attente"),u(),i.current=setInterval(()=>{console.log("⏰ [FREE DELIVERABLES] Polling en cours..."),u()},4e3),a.current=null},5e3))},f=()=>{a.current&&(console.log("⏹️ [FREE DELIVERABLES] Annulation du délai de démarrage"),clearTimeout(a.current),a.current=null),i.current&&(console.log("⏹️ [FREE DELIVERABLES] Arrêt du polling"),clearInterval(i.current),i.current=null)},h=()=>l.length>0&&l.every(p=>p.status==="completed"||p.status==="terminé"),m=()=>l.filter(p=>p.status==="completed"||p.status==="terminé").length;return x.useEffect(()=>(console.log("🔧 [FREE DELIVERABLES] Hook effect - projectId:",e,"isActive:",t),t&&e?d():f(),()=>{f()}),[e,t]),{deliverables:l,isLoading:n,error:null,areAllDeliverablesCompleted:h(),completedCount:m(),totalCount:l.length,refetch:u}},xNe=({deliverable:e})=>{const n=(r=>{if(!r)return{text:"En attente",style:"bg-gray-200 text-gray-600"};switch(r.toLowerCase()){case"completed":case"terminé":case"complete":return{text:"Terminé",style:"bg-green-100 text-green-700"};case"in_progress":case"en_cours":case"processing":return{text:"En cours",style:"bg-blue-100 text-blue-700"};case"pending":case"en_attente":return{text:"En attente",style:"bg-gray-200 text-gray-600"};default:return{text:"En cours",style:"bg-blue-100 text-blue-700"}}})(e.status);return s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:e.icon,alt:e.name,className:"w-8 h-8 object-contain"}),s.jsx("span",{className:"text-base text-gray-800",children:e.name})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.style}`,children:n.text})]})},vNe={"Analyse de marché":"/icones-livrables/market-icon.png","Analyse de la concurrence":"/icones-livrables/concurrence-icon.png","Persona Express":"/icones-livrables/persona-icon.png","Proposition de valeur":"/icones-livrables/proposition-valeur-icon.png","Business Model Canvas":"/icones-livrables/business-model-icon.png","Vision, Mission, Valeurs":"/icones-livrables/vision-icon.png","Analyse des ressources":"/icones-livrables/ressources-icon.png","Success Story":"/icones-livrables/story-icon.png",Pitch:"/icones-livrables/pitch-icon.png","Retranscription du concept":"/icones-livrables/retranscription-icon.png","Mini SWOT":"/icones-livrables/market-icon.png","Vision, Mission & Valeurs":"/icones-livrables/vision-icon.png","Cadre juridique":"/icones-livrables/juridique-icon.png","Note globale":"/icones-livrables/score-icon.png"},yNe=()=>{const e=It();hb();const{userProfile:t,loading:n}=cr(),[r,i]=x.useState(1),[a,o]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,p]=x.useState("next"),[g,y]=x.useState(!1),[v,w]=x.useState([]),[b,j]=x.useState(""),[_,N]=x.useState(r),S=(St,Ct,Ee)=>{},C=()=>{switch(u){case"projectName":A(l);break;case"projectIdeaSentence":E(l);break;case"productsServices":$(l);break;case"problemSolved":F(l);break;case"clienteleCible":P(l);break;case"needs":M(l);break;case"projectType":D(l);break;case"geographicArea":V(l);break;case"additionalInfo":G(l);break;case"whyEntrepreneur":oe(l);break;case"teamSize":ne(l);break;case"descriptionSynthetique":se(l);break;case"produitServiceRetranscription":ve(l);break;case"propositionValeur":ue(l);break;case"elementDistinctif":le(l);break;case"clienteleCibleRetranscription":Pe(l);break;case"problemResoudreRetranscription":W(l);break;case"vision3Ans":Le(l);break;case"businessModel":Q(l);break;case"competences":Se(l);break;case"monPourquoiRetranscription":ze(l);break;case"equipeFondatrice":We(l);break}o(!1)},[k,A]=x.useState(""),[T,E]=x.useState(""),[R,$]=x.useState(""),[O,F]=x.useState(""),[z,P]=x.useState(""),[I,M]=x.useState(""),[U,D]=x.useState(""),[L,V]=x.useState(""),[K,G]=x.useState(""),[X,oe]=x.useState(""),[Y,ne]=x.useState(""),[ge,se]=x.useState(""),[ce,ve]=x.useState(""),[te,ue]=x.useState(""),[ee,le]=x.useState(""),[Ie,Pe]=x.useState(""),[Ae,W]=x.useState(""),[_e,Le]=x.useState(""),[Qe,Q]=x.useState(""),[ae,Se]=x.useState(""),[ye,ze]=x.useState(""),[je,We]=x.useState(""),[Ge,ut]=x.useState(!1),[nn,Rt]=x.useState(""),{deliverables:hn}=gNe(nn,nn&&r===9);x.useEffect(()=>{(async()=>{if(!n)try{if((t==null?void 0:t.user_role)==="member"&&(t!=null&&t.id)){const{data:Ct}=await q.from("user_organizations").select("organization_id, organizations(id, name)").eq("user_id",t.id).eq("status","active").single();Ct!=null&&Ct.organizations&&(w([Ct.organizations]),j(Ct.organizations.id))}else{const{data:Ct,error:Ee}=await q.from("organizations").select("id, name").eq("is_public",!0).order("name");!Ee&&Ct&&w(Ct)}}catch(Ct){console.error("Erreur lors du chargement des organisations:",Ct)}})()},[t,n]);const ss=async()=>{var St;if(r===8){console.log("handleNext called"),ut(!0);try{const{data:{session:Ct}={}}=await q.auth.getSession(),Ee=((St=Ct==null?void 0:Ct.user)==null?void 0:St.id)||null;console.log("User ID:",Ee);const mt={userId:Ee,projectName:k,projectIdeaSentence:T,productsServices:R,problemSolved:O,clienteleCible:z,needs:I,projectType:U,geographicArea:U==="Physique"||U==="Les deux"?L:"",additionalInfo:K,whyEntrepreneur:X,teamSize:Y,organizationId:b==="none"?null:b||null};console.log("Form Data (Step 1):",mt),console.log("Sending POST request to idea webhook...");const nt=await fetch("https://n8n.srv906204.hstgr.cloud/webhook/form-business-idea",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(mt)});if(console.log("Idea webhook response:",nt),nt.ok){const mn=await nt.json();console.log("Idea webhook response JSON:",mn);const Dt=mn[0];if(Dt){se(Dt.DescriptionSynthetique||""),ve(Dt["Produit/Service"]||""),ue(Dt.PropositionValeur||""),le(Dt.ElementDistinctif||""),Pe(Dt.ClienteleCible||""),W(Dt.ProblemResoudre||""),Le(Dt.Vision3Ans||""),Q(Dt.BusinessModel||""),Se(Dt.Compétences||""),ze(Dt.MotivationEntrepreneur||""),We(Dt.EquipeFondatrice||"");const Qt=Dt.ProjectID||"";console.log("🆔 ProjectID défini:",Qt),Rt(Qt)}else console.error("Webhook response array is empty or does not contain an object."),alert("Erreur lors du traitement de la réponse du formulaire.");p("next"),y(!0),N(r),setTimeout(()=>{i(r+1)},50),setTimeout(()=>{y(!1)},350)}else console.error("Idea webhook response not OK:",nt.status,nt.statusText),alert("Erreur lors de la soumission des informations du projet.")}catch(Ct){console.error("Error submitting idea form:",Ct),alert("Erreur lors de la soumission des informations du projet.")}finally{ut(!1)}}else p("next"),y(!0),N(r),setTimeout(()=>{i(r+1)},50),setTimeout(()=>{y(!1)},350)},eh=()=>{p("prev"),y(!0),N(r),setTimeout(()=>{i(r-1)},50),setTimeout(()=>{y(!1)},350)},th=async()=>{var St;console.log("handleSubmit called"),ut(!0);try{const{data:{session:Ct}={}}=await q.auth.getSession(),Ee=((St=Ct==null?void 0:Ct.user)==null?void 0:St.id)||null;console.log("User ID:",Ee);const mt={userId:Ee,projectName:k,projectIdeaSentence:T,productsServices:R,problemSolved:O,clienteleCible:z,needs:I,projectType:U,geographicArea:U==="Physique"||U==="Les deux"?L:"",additionalInfo:K,whyEntrepreneur:X,teamSize:Y,descriptionSynthetique:ge,produitServiceRetranscription:ce,propositionValeur:te,elementDistinctif:ee,clienteleCibleRetranscription:Ie,problemResoudreRetranscription:Ae,vision3Ans:_e,businessModel:Qe,projectID:nn,competences:ae,monPourquoiRetranscription:ye,equipeFondatrice:je};console.log("Form Data (Step 2):",mt),console.log("Sending POST request to retranscription webhook...");const nt=await fetch("https://n8n.srv906204.hstgr.cloud/webhook/retranscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(mt)});if(console.log("Retranscription webhook response:",nt),nt.ok){console.log("Livrables webhook responded successfully.");const mn=await nt.json();console.log("Livrables webhook response JSON:",mn);const Dt=mn[0],Qt=Dt==null?void 0:Dt.user_id,br=Dt==null?void 0:Dt.project_id;Qt&&br?e(`/individual/project-business/${br}`):(console.error("user_id or project_id not found in webhook response."),alert("Erreur lors du traitement de la réponse du formulaire."))}else console.error("Webhook response not OK:",nt.status,nt.statusText),alert("Erreur lors de la soumission du formulaire.")}catch(Ct){console.error("Error submitting form:",Ct),alert("Erreur lors de la soumission du formulaire.")}finally{ut(!1)}},rc=9,$n=(St=r)=>{var Ct;switch(St){case 1:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Commençons par les bases"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-4 border border-orange-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"✨ Quel est le nom de votre projet ?"}),s.jsx(ke,{type:"text",className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-orange-500 focus:outline-none transition-colors",placeholder:"Tapez le nom de votre projet...",value:k,onClick:()=>S(),onChange:Ee=>A(Ee.target.value)})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"💡 Décrivez votre projet en une phrase"}),s.jsx(ke,{type:"text",className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors",placeholder:"Formulez votre concept initial de manière claire et concise...",value:T,onClick:()=>S(),onChange:Ee=>E(Ee.target.value)})]}),"// ...existing code..."]})]});case 2:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Vos produits et services"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border border-green-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"🛍️ Quels produits/services souhaitez-vous proposer ?"}),s.jsx(at,{className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-green-500 focus:outline-none transition-colors h-24 resize-none",placeholder:"Notez sous forme de liste les produits ou services que vous allez proposer...",value:R,onClick:()=>S(),onChange:Ee=>$(Ee.target.value)})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"🎯 À quel problème répond votre projet ?"}),s.jsx(at,{className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none transition-colors h-24 resize-none",placeholder:"Identifiez le besoin auquel votre solution répond concrètement...",value:O,onClick:()=>S(),onChange:Ee=>F(Ee.target.value)})]})]})]});case 3:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Votre clientèle"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg p-4 border border-yellow-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"👥 Qui seraient vos clients ?"}),s.jsx(at,{className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-yellow-500 focus:outline-none transition-colors h-24 resize-none",placeholder:"Décrivez votre public idéal...",value:z,onClick:()=>S(),onChange:Ee=>P(Ee.target.value)})]})})]});case 4:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Vos besoins"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg p-4 border border-teal-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"🚀 De quoi avez-vous besoin pour vous lancer ?"}),s.jsx(at,{className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-teal-500 focus:outline-none transition-colors h-24 resize-none",placeholder:"Quel besoin en matériel, en compétences etc. ?",value:I,onClick:()=>S(),onChange:Ee=>M(Ee.target.value)})]})})]});case 5:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Type et localisation"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg p-4 border border-indigo-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"🏢 Quel est le type de votre projet ?"}),s.jsxs("select",{className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none transition-colors",value:U,onChange:Ee=>D(Ee.target.value),children:[s.jsx("option",{value:"",children:"Sélectionner..."}),s.jsx("option",{value:"Physique",children:"Physique (Boutique, restaurant etc.)"}),s.jsx("option",{value:"Digital",children:"Digital (E-commerce, logiciel, formation etc.)"}),s.jsx("option",{value:"Les deux",children:"Les deux (Agence web avec local)"})]})]}),(U==="Physique"||U==="Les deux")&&s.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 border border-rose-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"📍 Quelle zone géographique ciblez-vous ?"}),s.jsx(ke,{type:"text",className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-rose-500 focus:outline-none transition-colors",placeholder:"Ville, région, etc.",value:L,onClick:()=>S(),onChange:Ee=>V(Ee.target.value)})]})]})]});case 6:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Votre équipe"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"👥 Combien êtes-vous sur le projet ?"}),s.jsx(at,{className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors h-24 resize-none",placeholder:"Décrivez la taille de votre équipe actuelle ou envisagée pour ce projet. Par exemple : 'Je suis seul', 'Nous sommes 2 cofondateurs', 'Une équipe de 5 personnes incluant des freelances'.",value:Y,onClick:()=>S(),onChange:Ee=>ne(Ee.target.value)})]})})]});case 7:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Pour finir..."})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg p-4 border border-violet-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"📝 Informations supplémentaires"}),s.jsx(at,{className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-violet-500 focus:outline-none transition-colors h-24 resize-none",placeholder:"Ajoutez ici toute information supplémentaire pertinente pour votre projet...",value:K,onClick:()=>S(),onChange:Ee=>G(Ee.target.value)})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-4 border border-orange-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-2",children:"🔥 Pourquoi souhaitez-vous entreprendre ?"}),s.jsx(at,{className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-orange-500 focus:outline-none transition-colors h-24 resize-none",placeholder:"Décrivez vos motivations et objectifs...",value:X,onClick:()=>S(),onChange:Ee=>oe(Ee.target.value)})]})]})]});case 8:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"⚠️ Confirmation"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:[s.jsx("h4",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4 text-center",children:"📋 Récapitulatif de vos informations"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Nom du projet"}),s.jsx("p",{className:"text-gray-600 text-sm",children:k||"Non renseigné"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Description en une phrase"}),s.jsx("p",{className:"text-gray-600 text-sm",children:T||"Non renseigné"})]}),b&&b!=="none"&&s.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 border border-purple-200",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Organisation liée"}),s.jsx("p",{className:"text-gray-600 text-sm",children:((Ct=v.find(Ee=>Ee.id===b))==null?void 0:Ct.name)||"Organisation sélectionnée"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Produits/Services"}),s.jsx("p",{className:"text-gray-600 text-sm",children:R||"Non renseigné"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Problème résolu"}),s.jsx("p",{className:"text-gray-600 text-sm",children:O||"Non renseigné"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Clientèle cible"}),s.jsx("p",{className:"text-gray-600 text-sm",children:z||"Non renseigné"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Besoins pour lancer"}),s.jsx("p",{className:"text-gray-600 text-sm",children:I||"Non renseigné"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Type de projet"}),s.jsx("p",{className:"text-gray-600 text-sm",children:U||"Non renseigné"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Zone géographique"}),s.jsx("p",{className:"text-gray-600 text-sm",children:L||"Non renseigné"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Informations supplémentaires"}),s.jsx("p",{className:"text-gray-600 text-sm",children:K||"Non renseigné"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Motivation entrepreneuriale"}),s.jsx("p",{className:"text-gray-600 text-sm",children:X||"Non renseigné"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-gray-700 text-sm",children:"Équipe"}),s.jsx("p",{className:"text-gray-600 text-sm",children:Y||"Non renseigné"})]})]})]})]}),s.jsxs("div",{className:"text-center bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-800 mb-2",children:"Êtes-vous sûr de vouloir continuer ? ✅"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Vos informations seront traitées pour générer votre retranscription de concept. Vous pourrez toujours modifier les résultats à l'étape suivante."})]})]})]});case 9:return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-xl md:text-2xl font-semibold mb-3 p-3 rounded-md bg-gradient-to-r from-red-500 to-orange-500 text-white",children:["Modifiez les réponses un maximum.",s.jsx("p",{className:"text-base font-normal mt-1",children:"Plus vous donnez d'informations sur votre concept, plus la génération des livrables sera développé en conséquence."})]}),s.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-3",children:"Retranscription du concept"}),Ge?s.jsx("div",{className:"text-center text-pink-500 text-base md:text-lg",children:"Chargement de la retranscription du concept..."}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white rounded-md p-3",children:[s.jsx("p",{className:"font-medium mb-1 text-base",children:"Description synthétique"}),s.jsx(at,{placeholder:"Décrivez votre concept de manière concise.",className:"w-full p-2 border border-gray-300 rounded-md text-base",value:ge,onClick:()=>S(),onChange:Ee=>se(Ee.target.value)})]}),s.jsxs("div",{className:"bg-white rounded-md p-3",children:[s.jsx("p",{className:"font-medium mb-1 text-base",children:"Produit / Service"}),s.jsx(at,{placeholder:"Détaillez les produits ou services que vous proposez.",className:"w-full p-2 border border-gray-300 rounded-md text-base",value:ce,onClick:()=>S(),onChange:Ee=>ve(Ee.target.value)})]}),s.jsxs("div",{className:"bg-white rounded-md p-3",children:[s.jsx("p",{className:"font-medium mb-1 text-base",children:"Proposition de valeur"}),s.jsx(at,{placeholder:"Quelle valeur unique apportez-vous à vos clients ?",className:"w-full p-2 border border-gray-300 rounded-md text-base",value:te,onClick:()=>S(),onChange:Ee=>ue(Ee.target.value)})]}),s.jsxs("div",{className:"bg-white rounded-md p-3",children:[s.jsx("p",{className:"font-medium mb-1 text-base",children:"Élément distinctif"}),s.jsx(at,{placeholder:"Qu'est-ce qui vous différencie de la concurrence ?",className:"w-full p-2 border border-gray-300 rounded-md text-base",value:ee,onClick:()=>S(),onChange:Ee=>le(Ee.target.value)})]}),s.jsxs("div",{className:"bg-white rounded-md p-3",children:[s.jsx("p",{className:"font-medium mb-1 text-base",children:"Clientèle cible"}),s.jsx(at,{placeholder:"Décrivez votre public idéal.",className:"w-full p-2 border border-gray-300 rounded-md text-base",value:Ie,onClick:()=>S(),onChange:Ee=>Pe(Ee.target.value)})]}),s.jsxs("div",{className:"bg-white rounded-md p-3",children:[s.jsx("p",{className:"font-medium mb-1 text-base",children:"Problème à résoudre"}),s.jsx(at,{placeholder:"Quel problème majeur votre solution résout-elle ?",className:"w-full p-2 border border-gray-300 rounded-md text-base",value:Ae,onClick:()=>S(),onChange:Ee=>W(Ee.target.value)})]}),s.jsxs("div",{className:"bg-white rounded-md p-3",children:[s.jsx("p",{className:"font-medium mb-1 text-base",children:"Mon Pourquoi"}),s.jsx(at,{placeholder:"Décrivez vos motivations profondes pour ce projet.",className:"w-full p-2 border border-gray-300 rounded-md text-base",value:ye,onClick:()=>S(),onChange:Ee=>ze(Ee.target.value)})]}),s.jsxs("div",{className:"bg-white rounded-md p-3",children:[s.jsx("p",{className:"font-medium mb-1 text-base",children:"L'équipe fondatrice"}),s.jsx(at,{placeholder:"Décrivez l'équipe fondatrice et ses compétences clés.",className:"w-full p-2 border border-gray-300 rounded-md text-base",value:je,onClick:()=>S(),onChange:Ee=>We(Ee.target.value)})]})]})]});default:return null}};return s.jsxs("div",{className:"min-h-screen bg-[#F8F6F1] flex flex-col md:justify-center py-10 container mx-auto px-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2 bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent",children:"Questionnaire de projet"}),s.jsx("p",{className:"text-gray-600 text-base mb-6",children:"Répondez aux questions suivantes pour générer votre livrable personnalisé"}),s.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Étape ",r," sur ",rc]}),s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[Math.round(r/rc*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${r/rc*100}%`}})})]}),s.jsx(pt,{open:Ge,onOpenChange:ut,children:s.jsxs(gt,{className:"w-[95vw] max-w-[500px] rounded-lg sm:w-full",onEscapeKeyDown:St=>St.preventDefault(),onInteractOutside:St=>St.preventDefault(),hideCloseButton:!0,children:[s.jsxs(jt,{children:[s.jsx(xt,{className:"text-2xl",children:r===8?"Soumission des informations":"🚀 Génération de vos livrables"}),s.jsx(Mt,{children:r===8?"Veuillez patienter pendant la soumission de vos informations.":"La génération de vos premiers livrables peut prendre quelques minutes. Nous créons du contenu personnalisé basé sur vos réponses !"})]}),r===9&&s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Génération en cours :"}),hn.map(St=>s.jsx(xNe,{deliverable:{...St,icon:vNe[St.name]||"/placeholder.svg"}},St.key))]}),s.jsx("div",{className:"flex justify-center items-center py-4",children:s.jsxs("div",{className:"loader",children:[s.jsx("div",{className:"circle"}),s.jsx("div",{className:"circle"}),s.jsx("div",{className:"circle"}),s.jsx("div",{className:"square"})]})})]})}),s.jsx(pt,{open:a,onOpenChange:o,children:s.jsxs(gt,{className:"w-[95vw] max-w-[425px] rounded-lg sm:w-full",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:f}),s.jsx(Mt,{children:"Modifiez le contenu du champ ci-dessous."})]}),s.jsx(at,{value:l,onChange:St=>c(St.target.value),className:"w-full border border-gray-300 rounded-md p-2"}),s.jsx(Kt,{children:s.jsx(H,{onClick:C,children:"Enregistrer"})})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"relative overflow-hidden min-h-[500px]",children:g?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`absolute inset-0 ${m==="next"?"animate-slide-out-left":"animate-slide-out-right"}`,style:{willChange:"transform"},children:s.jsx("div",{className:"p-4 md:p-6 text-left",children:$n(_)})}),s.jsx("div",{className:`absolute inset-0 ${m==="next"?"animate-slide-in-right":"animate-slide-in-left"}`,style:{willChange:"transform"},children:s.jsx("div",{className:"p-4 md:p-6 text-left",children:$n()})})]}):s.jsx("div",{className:"p-4 md:p-6 text-left",children:$n()})}),s.jsxs("div",{className:"flex justify-between items-center mt-6 px-4 pb-[80px]",children:[s.jsxs("button",{onClick:eh,disabled:r===1,className:`flex items-center space-x-2 px-4 py-2 rounded-full font-semibold transition-all duration-300 ${r===1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[s.jsx(_a,{size:18}),s.jsx("span",{children:"Précédent"})]}),r<rc?s.jsxs("button",{onClick:ss,className:"flex items-center space-x-2 bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-2 rounded-full font-semibold hover:from-orange-600 hover:to-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[s.jsx("span",{children:"Suivant"}),s.jsx(Oi,{size:18})]}):s.jsxs("button",{onClick:th,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-2 rounded-full font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[s.jsx("span",{children:"Générer mes livrables"}),s.jsx(Gt,{size:18})]})]})]})]}),s.jsx("style",{children:`
         .loader {
           position: relative;
           width: 50px;
           height: 50px;
         }
         
         .circle {
           position: absolute;
           width: 10px;
           height: 10px;
           border-radius: 50%;
           background: linear-gradient(45deg, #f97316, #ef4444);
           animation: circle-animation 2s infinite ease-in-out;
         }
         
         .circle:nth-child(1) {
           top: 0;
           left: 0;
           animation-delay: 0s;
         }
         
         .circle:nth-child(2) {
           top: 0;
           right: 0;
           animation-delay: 0.5s;
         }
         
         .circle:nth-child(3) {
           bottom: 0;
           left: 0;
           animation-delay: 1s;
         }
         
         .square {
           position: absolute;
           bottom: 0;
           right: 0;
           width: 10px;
           height: 10px;
           background: linear-gradient(45deg, #f97316, #ef4444);
           animation: square-animation 2s infinite ease-in-out;
           animation-delay: 1.5s;
         }
         
         .animate-slide-out-left {
           animation: slide-out-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
           animation-fill-mode: forwards;
         }
         
         .animate-slide-out-right {
           animation: slide-out-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
           animation-fill-mode: forwards;
         }
         
         .animate-slide-in-left {
           animation: slide-in-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
           animation-fill-mode: forwards;
         }
         
         .animate-slide-in-right {
           animation: slide-in-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
           animation-fill-mode: forwards;
         }
         
         @keyframes slide-out-left {
           0% {
             transform: translate3d(0, 0, 0);
             opacity: 1;
           }
           100% {
             transform: translate3d(-100%, 0, 0);
             opacity: 0;
           }
         }
         
         @keyframes slide-out-right {
           0% {
             transform: translate3d(0, 0, 0);
             opacity: 1;
           }
           100% {
             transform: translate3d(100%, 0, 0);
             opacity: 0;
           }
         }
         
         @keyframes slide-in-left {
           0% {
             transform: translate3d(-100%, 0, 0);
             opacity: 0;
           }
           100% {
             transform: translate3d(0, 0, 0);
             opacity: 1;
           }
         }
         
         @keyframes slide-in-right {
           0% {
             transform: translate3d(100%, 0, 0);
             opacity: 0;
           }
           100% {
             transform: translate3d(0, 0, 0);
             opacity: 1;
           }
         }

         
         @keyframes circle-animation {
           0%, 100% {
             transform: scale(1);
             opacity: 1;
           }
           50% {
             transform: scale(1.5);
             opacity: 0.7;
           }
         }
         
         @keyframes square-animation {
           0%, 100% {
             transform: rotate(0deg) scale(1);
             opacity: 1;
           }
           50% {
             transform: rotate(180deg) scale(1.2);
             opacity: 0.8;
           }
         }
       `})]})},uM=B.forwardRef(({options:e,value:t,onChange:n,placeholder:r="Sélectionner...",disabled:i=!1,className:a,trigger:o,onAddOption:l},c)=>{const[u,d]=x.useState(!1),f=x.useRef(null);x.useEffect(()=>{const g=y=>{f.current&&!f.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const h=g=>{const y=t.includes(g)?t.filter(v=>v!==g):[...t,g];n(y)},m=(g,y)=>{y.stopPropagation(),n(t.filter(v=>v!==g))},p=e.filter(g=>t.includes(g.value));return s.jsxs("div",{ref:f,className:de("relative w-full",a),children:[o?s.jsx("div",{onClick:()=>!i&&d(!u),children:o}):s.jsxs("div",{onClick:()=>!i&&d(!u),className:de("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","cursor-pointer transition-colors",i?"cursor-not-allowed opacity-50":"hover:bg-accent hover:text-accent-foreground",u&&"ring-2 ring-ring ring-offset-2","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50"),children:[s.jsx("div",{className:"flex flex-1 flex-wrap items-center gap-1 overflow-hidden",children:p.length===0?s.jsx("span",{className:"text-muted-foreground truncate",children:r}):p.map(g=>s.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-gray-200 px-2 py-0.5 text-xs font-medium text-gray-700",children:[g.label,s.jsx(tn,{className:"h-3 w-3 cursor-pointer text-gray-500 hover:text-gray-800",onClick:y=>m(g.value,y)})]},g.value))}),s.jsx(ya,{className:de("ml-2 h-4 w-4 shrink-0 opacity-50 transition-transform",u&&"rotate-180")})]}),u&&s.jsx("div",{className:"absolute bottom-full z-[1001] mb-1 left-0 w-max min-w-[calc(100%+2px)] rounded-md border bg-popover p-1 text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95",children:s.jsx("div",{children:e.length===0?s.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"Aucune option disponible"}):e.map(g=>{const y=t.includes(g.value);return s.jsxs("div",{onClick:()=>!g.disabled&&h(g.value),className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none","cursor-pointer hover:bg-accent hover:text-accent-foreground",y&&"bg-accent text-accent-foreground",g.disabled&&"opacity-50 cursor-not-allowed"),children:[s.jsx("div",{className:"flex h-4 w-4 items-center justify-center mr-2",children:y&&s.jsx(Vr,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex-1 text-left whitespace-nowrap",children:s.jsx("div",{children:g.label})})]},g.value)})})})]})});uM.displayName="MultiSelect";const Vi=({title:e,description:t,avis:n,iconSrc:r,onClick:i,className:a=""})=>s.jsxs("div",{className:`border border-gray-200 rounded-xl p-4 mb-4 text-white cursor-pointer flex justify-between h-full transition-all duration-200 hover:shadow-lg hover:-translate-y-1 ${a}`,onClick:i,style:{backgroundColor:"white"},children:[s.jsxs("div",{className:"flex-grow flex flex-col",children:[s.jsx("h2",{className:"text-xl font-bold mb-2 text-black",children:e}),t&&s.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3",children:t}),s.jsx("div",{className:"flex-grow"}),n&&s.jsx("div",{className:"flex-shrink-0 mt-auto",children:s.jsx("button",{className:"text-xs px-2 py-1 rounded-full cursor-default pointer-events-none",style:{backgroundColor:"#FEF2ED",color:"#FF5932",border:"1px solid #FFBDA4"},children:n})})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:r,alt:"Deliverable Icon",className:"w-8 h-8 object-cover self-start"})})]}),bNe=({className:e="h-6 w-6",onClick:t})=>s.jsx("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",onClick:t,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),EQ=({title:e,iconSrc:t,iconComponent:n,onClose:r,onEdit:i,className:a=""})=>s.jsxs("div",{className:`sticky top-0 bg-white z-10 border-b border-gray-200 p-6 pb-4 flex justify-between items-start ${a}`,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[n&&s.jsx("div",{className:"w-8 h-8 flex items-center justify-center mb-2 sm:mb-0 sm:mr-3",children:n}),t&&s.jsx("img",{src:t,alt:"Template Icon",className:"w-8 h-8 object-cover mb-2 sm:mb-0 sm:mr-3"}),s.jsx("h2",{className:"text-xl font-bold",children:e})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[i&&s.jsx("button",{className:"text-gray-600 hover:text-gray-900 transition-colors p-1",onClick:i,children:s.jsx(zo,{className:"h-6 w-6"})}),s.jsx(bNe,{onClick:r})]})]}),W1=({tabs:e,defaultTab:t})=>{const n=()=>t&&e.includes(t)?t:e[0]||"",[r,i]=x.useState(n()),[a,o]=x.useState(!1),[l,c]=x.useState(0),[u,d]=x.useState("auto"),f=x.useRef(null),h=x.useRef(null);return x.useLayoutEffect(()=>{var g,y;if(f.current&&h.current){const v=f.current.scrollHeight,w=((g=h.current.querySelector(".sticky"))==null?void 0:g.clientHeight)||100,b=((y=h.current.querySelector(".border-b"))==null?void 0:y.clientHeight)||50,j=48,_=v+w+b+j;c(v),d(`${_}px`);const N=new ResizeObserver(()=>{if(f.current&&!a&&h.current){const S=f.current.scrollHeight;if(S!==v){const C=S+w+b+j;c(S),d(`${C}px`)}}});return N.observe(f.current),()=>{N.disconnect()}}},[r,a]),{activeTab:r,isTransitioning:a,modalHeight:u,contentRef:f,modalRef:h,handleTabChange:g=>{g===r||a||(o(!0),setTimeout(()=>{i(g),setTimeout(()=>{var y,v;if(f.current&&h.current){const w=f.current.scrollHeight,b=((y=h.current.querySelector(".sticky"))==null?void 0:y.clientHeight)||100,j=((v=h.current.querySelector(".border-b"))==null?void 0:v.clientHeight)||50,N=w+b+j+48;c(w),d(`${N}px`)}setTimeout(()=>{o(!1)},60)},30)},100))},resetTab:()=>{i(n()),o(!1),d("auto")}}},wNe=({isOpen:e,onClose:t,title:n,iconComponent:r,onEdit:i,isEditing:a=!1,onCancel:o,onSave:l,content:c,modalWidthClass:u="md:w-3/4"})=>{const[d,f]=B.useState(c);B.useEffect(()=>{f(c)},[c]),B.useEffect(()=>{a&&f(c)},[a,c]);const h=["general","profiles","other"],{activeTab:m,isTransitioning:p,modalHeight:g,contentRef:y,modalRef:v,handleTabChange:w,resetTab:b}=W1({tabs:h,defaultTab:"general"}),j=()=>{t(),b()};if(!e)return null;const _=()=>{var S,C,k,A,T,E,R,$,O,F,z,P;const N=a?d:c;switch(m){case"general":return s.jsxs("div",{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Nom du projet"}),a?s.jsx("input",{type:"text",value:N.projectName,onChange:I=>f(M=>({...M,projectName:I.target.value})),className:"w-full p-2 border border-gray-300 rounded"}):s.jsx("p",{className:"text-[#4B5563]",children:c.projectName})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description synthétique"}),a?s.jsx("textarea",{value:N.syntheticDescription,onChange:I=>f(M=>({...M,syntheticDescription:I.target.value})),className:"w-full p-2 border border-gray-300 rounded h-24"}):s.jsx("p",{className:"text-[#4B5563]",children:c.syntheticDescription})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Produit ou service"}),a?s.jsx("textarea",{value:N.produitService,onChange:I=>f(M=>({...M,produitService:I.target.value})),className:"w-full p-2 border border-gray-300 rounded h-24"}):s.jsx("p",{className:"text-[#4B5563]",children:c.produitService})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Proposition de valeur"}),a?s.jsx("textarea",{value:N.propositionValeur,onChange:I=>f(M=>({...M,propositionValeur:I.target.value})),className:"w-full p-2 border border-gray-300 rounded h-24"}):s.jsx("p",{className:"text-[#4B5563]",children:c.propositionValeur})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Éléments distinctifs"}),a?s.jsx("textarea",{value:N.elementsDistinctifs,onChange:I=>f(M=>({...M,elementsDistinctifs:I.target.value})),className:"w-full p-2 border border-gray-300 rounded h-24"}):s.jsx("p",{className:"text-[#4B5563]",children:c.elementsDistinctifs})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Problèmes à résoudre"}),a?s.jsx("textarea",{value:N.problemes,onChange:I=>f(M=>({...M,problemes:I.target.value})),className:"w-full p-2 border border-gray-300 rounded h-24"}):s.jsx("p",{className:"text-[#4B5563]",children:c.problemes})]})]});case"profiles":return s.jsxs("div",{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Public cible principal"}),a?s.jsx("input",{type:"text",value:N.publicCible,onChange:I=>f(M=>({...M,publicCible:I.target.value})),className:"w-full p-2 border border-gray-300 rounded"}):s.jsx("p",{className:"text-[#4B5563]",children:c.publicCible})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-bold mb-2 flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Particuliers"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Profil"}),a?s.jsx("textarea",{value:((S=N.buyerProfiles[0])==null?void 0:S.description)||"",onChange:I=>f(M=>({...M,buyerProfiles:M.buyerProfiles.map((U,D)=>D===0?{...U,description:I.target.value}:U)})),className:"w-full p-2 border border-gray-300 rounded h-20"}):s.jsx("p",{className:"text-[#4B5563]",children:(C=c.buyerProfiles[0])==null?void 0:C.description})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Problèmes à résoudre"}),a?s.jsx("textarea",{value:((k=N.buyerProfiles[1])==null?void 0:k.description)||"",onChange:I=>f(M=>({...M,buyerProfiles:M.buyerProfiles.map((U,D)=>D===1?{...U,description:I.target.value}:U)})),className:"w-full p-2 border border-gray-300 rounded h-20"}):s.jsx("p",{className:"text-[#4B5563]",children:(A=c.buyerProfiles[1])==null?void 0:A.description})]})]}),s.jsxs("h4",{className:"text-lg font-bold mb-2 flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"}),s.jsx("path",{d:"M17 22v-4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v4"}),s.jsx("path",{d:"M12 7V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v3"}),s.jsx("path",{d:"M12 7V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v3"})]}),"Entreprises"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Profil"}),a?s.jsx("textarea",{value:((T=N.buyerProfiles[2])==null?void 0:T.description)||"",onChange:I=>f(M=>({...M,buyerProfiles:M.buyerProfiles.map((U,D)=>D===2?{...U,description:I.target.value}:U)})),className:"w-full p-2 border border-gray-300 rounded h-20"}):s.jsx("p",{className:"text-[#4B5563]",children:(E=c.buyerProfiles[2])==null?void 0:E.description})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Problèmes à résoudre"}),a?s.jsx("textarea",{value:((R=N.buyerProfiles[3])==null?void 0:R.description)||"",onChange:I=>f(M=>({...M,buyerProfiles:M.buyerProfiles.map((U,D)=>D===3?{...U,description:I.target.value}:U)})),className:"w-full p-2 border border-gray-300 rounded h-20"}):s.jsx("p",{className:"text-[#4B5563]",children:($=c.buyerProfiles[3])==null?void 0:$.description})]})]}),s.jsxs("h4",{className:"text-lg font-bold mb-2 flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Organismes"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Profil"}),a?s.jsx("textarea",{value:((O=N.buyerProfiles[4])==null?void 0:O.description)||"",onChange:I=>f(M=>({...M,buyerProfiles:M.buyerProfiles.map((U,D)=>D===4?{...U,description:I.target.value}:U)})),className:"w-full p-2 border border-gray-300 rounded h-20"}):s.jsx("p",{className:"text-[#4B5563]",children:(F=c.buyerProfiles[4])==null?void 0:F.description})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Problèmes à résoudre"}),a?s.jsx("textarea",{value:((z=N.buyerProfiles[5])==null?void 0:z.description)||"",onChange:I=>f(M=>({...M,buyerProfiles:M.buyerProfiles.map((U,D)=>D===5?{...U,description:I.target.value}:U)})),className:"w-full p-2 border border-gray-300 rounded h-20"}):s.jsx("p",{className:"text-[#4B5563]",children:(P=c.buyerProfiles[5])==null?void 0:P.description})]})]})]})]});case"other":return s.jsxs("div",{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Marché cible"}),a?s.jsx("input",{type:"text",value:N.marcheCible,onChange:I=>f(M=>({...M,marcheCible:I.target.value})),className:"w-full p-2 border border-gray-300 rounded"}):s.jsx("p",{className:"text-[#4B5563]",children:c.marcheCible})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Marchés annexes"}),a?s.jsx("input",{type:"text",value:N.marchesAnnexes,onChange:I=>f(M=>({...M,marchesAnnexes:I.target.value})),className:"w-full p-2 border border-gray-300 rounded"}):s.jsx("p",{className:"text-[#4B5563]",children:c.marchesAnnexes})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Localisation du projet"}),a?s.jsx("input",{type:"text",value:N.localisationProjet,onChange:I=>f(M=>({...M,localisationProjet:I.target.value})),className:"w-full p-2 border border-gray-300 rounded"}):s.jsx("p",{className:"text-[#4B5563]",children:c.localisationProjet})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Budget"}),a?s.jsx("input",{type:"text",value:N.budget,onChange:I=>f(M=>({...M,budget:I.target.value})),className:"w-full p-2 border border-gray-300 rounded"}):s.jsx("p",{className:"text-[#4B5563]",children:c.budget})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"L'équipe fondatrice"}),a?s.jsx("textarea",{value:N.equipeFondatrice,onChange:I=>f(M=>({...M,equipeFondatrice:I.target.value})),className:"w-full p-2 border border-gray-300 rounded h-24"}):s.jsx("p",{className:"text-[#4B5563]",children:c.equipeFondatrice})]})]});default:return null}};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:j,children:[s.jsxs("div",{ref:v,className:`bg-white text-black rounded-xl shadow-2xl w-full mx-2.5 ${u} relative transform scale-95 opacity-0 overflow-hidden flex flex-col`,onClick:N=>N.stopPropagation(),style:{animation:"scaleIn 0.3s ease-out forwards",height:g,maxHeight:"calc(100vh - 100px)",transition:"height 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.3s ease-out"},children:[s.jsx(EQ,{title:n,iconComponent:r,onClose:j,onEdit:i}),s.jsxs("div",{className:"flex bg-white border-b border-gray-100",children:[s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 ${m==="general"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>w("general"),children:"Informations générales"}),s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 ${m==="profiles"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>w("profiles"),children:"Profils acheteurs"}),s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 ${m==="other"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>w("other"),children:"Autres informations"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:s.jsx("div",{ref:y,className:`transition-all duration-300 ${p?"opacity-0 blur-sm transform translate-y-2":"opacity-100 blur-0 transform translate-y-0"}`,children:_()})}),a&&s.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx(H,{variant:"outline",onClick:o,children:"Annuler"}),s.jsx(H,{onClick:()=>l==null?void 0:l(d),children:"Sauvegarder"})]})]}),s.jsx("style",{children:`
          @keyframes scaleIn {
            from {
              opacity: 0;
              transform: scale(0.95) translateY(20px);
            }
            to {
              opacity: 1;
              transform: scale(1) translateY(0);
            }
          }
        `})]})},Na=({projectId:e,deliverableType:t,deliverableTitle:n})=>{const[r,i]=x.useState(null),[a,o]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState(!0);x.useEffect(()=>{f()},[e,t]);const f=async()=>{console.log("🔍 useDeliverableWithComments - Starting initialization:",{projectId:e,deliverableType:t,deliverableTitle:n});try{d(!0);const{data:{user:h}}=await q.auth.getUser();if(!h){console.log("❌ No authenticated user found"),d(!1);return}console.log("✅ User authenticated:",h.id),console.log("✅ User authenticated:",h.id);const{data:m}=await q.from("user_organizations").select("organization_id").eq("user_id",h.id).eq("status","active").single(),p=(m==null?void 0:m.organization_id)||null;o(p),c(!!p),console.log("📊 Organization check:",{hasOrganization:!!p,organizationId:p});const{data:g}=await q.from("deliverables").select("id, created_at, organization_id").eq("entrepreneur_id",h.id).eq("type",t).eq("title",n).eq("project_id",e).order("created_at",{ascending:!0});let y=null;if(g&&g.length>0&&(p?y=g.find(v=>v.organization_id===p)||g[0]:y=g.find(v=>v.organization_id===null)||g[0],console.log(`✅ Found existing deliverable for "${n}":`,y.id),g.length>1&&console.warn(`⚠️ Found ${g.length} deliverables for "${n}" - using correct one for org context`)),y)console.log("✅ Found existing deliverable:",y.id),i(y.id);else{console.log("📝 Creating new deliverable...");const{data:v,error:w}=await q.from("deliverables").insert({organization_id:p,entrepreneur_id:h.id,project_id:e,title:n,type:t,status:"in-progress"}).select("id").single();w?console.error("❌ Error creating deliverable:",w):v&&(console.log("✅ Created new deliverable:",v.id),i(v.id))}}catch(h){console.error("❌ Error initializing deliverable:",h)}finally{d(!1),console.log("🏁 Hook initialization complete")}};return{deliverableId:r,organizationId:a,isInOrganization:l,loading:u}},jNe=()=>{const[e,t]=x.useState(null),{projectId:n}=Nt(),[r,i]=x.useState(!1),[a,o]=x.useState(!1);Na({projectId:n||"",deliverableType:"other",deliverableTitle:"Retranscription Concept"});const l=()=>{i(!0)},c=()=>{i(!1),o(!1)},u=()=>{o(!0)},d=()=>{o(!1)},f=async g=>{var y,v,w,b,j,_;try{if(!n)return;const N={nom_projet:g.projectName,description_synthetique:g.syntheticDescription,produit_service:g.produitService,proposition_valeur:g.propositionValeur,elements_distinctifs:g.elementsDistinctifs,problemes:g.problemes,public_cible:g.publicCible,b2c_profile:(y=g.buyerProfiles[0])==null?void 0:y.description,b2c_problems:(v=g.buyerProfiles[1])==null?void 0:v.description,b2b_profile:(w=g.buyerProfiles[2])==null?void 0:w.description,b2b_problems:(b=g.buyerProfiles[3])==null?void 0:b.description,organismes_profile:(j=g.buyerProfiles[4])==null?void 0:j.description,organismes_problems:(_=g.buyerProfiles[5])==null?void 0:_.description,Marche_cible:g.marcheCible,marches_annexes:g.marchesAnnexes,project_location:g.localisationProjet,budget:g.budget,equipe_fondatrice:g.equipeFondatrice},{error:S}=await q.from("project_summary").update(N).eq("project_id",n);if(S){console.error("Error updating project summary:",S),alert("Erreur lors de la sauvegarde. Veuillez réessayer.");return}t(C=>C?{...C,...N}:null),o(!1),console.log("Sauvegarde réussie!")}catch(N){console.error("Error saving:",N),alert("Erreur lors de la sauvegarde. Veuillez réessayer.")}};x.useEffect(()=>{(async()=>{if(n){const{data:y,error:v}=await q.from("project_summary").select("*").eq("project_id",n).single();v?console.error("Error fetching project summary:",v):t(y)}})()},[n]);const h=(e==null?void 0:e.nom_projet)||"Retranscription du concept",m=(e==null?void 0:e.description_synthetique)||"Synthèse complète de votre projet d'entreprise",p={projectName:(e==null?void 0:e.nom_projet)||"N/A",syntheticDescription:(e==null?void 0:e.description_synthetique)||"N/A",detailedDescription:(e==null?void 0:e.produit_service)||"N/A",produitService:(e==null?void 0:e.produit_service)||"N/A",propositionValeur:(e==null?void 0:e.proposition_valeur)||"N/A",elementsDistinctifs:(e==null?void 0:e.elements_distinctifs)||"N/A",problemes:(e==null?void 0:e.problemes)||"N/A",publicCible:(e==null?void 0:e.public_cible)||"N/A",buyerProfiles:[{title:"Particuliers (Profil)",description:(e==null?void 0:e.b2c_profile)||"N/A"},{title:"Particuliers (Problèmes)",description:(e==null?void 0:e.b2c_problems)||"N/A"},{title:"Entreprises (Profil)",description:(e==null?void 0:e.b2b_profile)||"N/A"},{title:"Entreprises (Problèmes)",description:(e==null?void 0:e.b2b_problems)||"N/A"},{title:"Organismes (Profil)",description:(e==null?void 0:e.organismes_profile)||"N/A"},{title:"Organismes (Problèmes)",description:(e==null?void 0:e.organismes_problems)||"N/A"}],marcheCible:(e==null?void 0:e.Marche_cible)||"N/A",marchesAnnexes:(e==null?void 0:e.marches_annexes)||"N/A",localisationProjet:(e==null?void 0:e.project_location)||"N/A",budget:(e==null?void 0:e.budget)||"N/A",equipeFondatrice:(e==null?void 0:e.equipe_fondatrice)||"N/A",otherInformation:""};return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:h,description:m,iconSrc:"/icones-livrables/retranscription-icon.png",onClick:l}),s.jsx(wNe,{isOpen:r,onClose:c,title:h,iconComponent:s.jsx("img",{src:"/icones-livrables/retranscription-icon.png",alt:"Retranscription Icon",className:"w-full h-full object-contain"}),onEdit:u,isEditing:a,onCancel:d,onSave:f,content:p})]})};var kQ="Toggle",dM=x.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:i,...a}=e,[o,l]=Or({prop:n,onChange:i,defaultProp:r??!1,caller:kQ});return s.jsx($e.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:Te(e.onClick,()=>{e.disabled||l(!o)})})});dM.displayName=kQ;var AQ=dM,zu="ToggleGroup",[TQ]=sr(zu,[Fu]),PQ=Fu(),fM=B.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return s.jsx(_Ne,{...i,ref:t})}if(n==="multiple"){const i=r;return s.jsx(NNe,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${zu}\``)});fM.displayName=zu;var[OQ,RQ]=TQ(zu),_Ne=B.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,l]=Or({prop:n,defaultProp:r??"",onChange:i,caller:zu});return s.jsx(OQ,{scope:e.__scopeToggleGroup,type:"single",value:B.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:B.useCallback(()=>l(""),[l]),children:s.jsx(DQ,{...a,ref:t})})}),NNe=B.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,l]=Or({prop:n,defaultProp:r??[],onChange:i,caller:zu}),c=B.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=B.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(OQ,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(DQ,{...a,ref:t})})});fM.displayName=zu;var[SNe,CNe]=TQ(zu),DQ=B.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:a,dir:o,loop:l=!0,...c}=e,u=PQ(n),d=Iu(o),f={role:"group",dir:d,...c};return s.jsx(SNe,{scope:n,rovingFocus:i,disabled:r,children:i?s.jsx($1,{asChild:!0,...u,orientation:a,dir:d,loop:l,children:s.jsx($e.div,{...f,ref:t})}):s.jsx($e.div,{...f,ref:t})})}),Zj="ToggleGroupItem",MQ=B.forwardRef((e,t)=>{const n=RQ(Zj,e.__scopeToggleGroup),r=CNe(Zj,e.__scopeToggleGroup),i=PQ(e.__scopeToggleGroup),a=n.value.includes(e.value),o=r.disabled||e.disabled,l={...e,pressed:a,disabled:o},c=B.useRef(null);return r.rovingFocus?s.jsx(F1,{asChild:!0,...i,focusable:!o,active:a,ref:c,children:s.jsx(R5,{...l,ref:t})}):s.jsx(R5,{...l,ref:t})});MQ.displayName=Zj;var R5=B.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,a=RQ(Zj,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return s.jsx(dM,{...l,...i,ref:t,onPressedChange:c=>{c?a.onItemActivate(r):a.onItemDeactivate(r)}})}),IQ=fM,LQ=MQ;const $Q=Lf("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),ENe=x.forwardRef(({className:e,variant:t,size:n,...r},i)=>s.jsx(AQ,{ref:i,className:de($Q({variant:t,size:n,className:e})),...r}));ENe.displayName=AQ.displayName;const FQ=x.createContext({size:"default",variant:"default"}),mb=x.forwardRef(({className:e,variant:t,size:n,children:r,...i},a)=>s.jsx(IQ,{ref:a,className:de("flex items-center justify-center gap-1",e),...i,children:s.jsx(FQ.Provider,{value:{variant:t,size:n},children:r})}));mb.displayName=IQ.displayName;const ma=x.forwardRef(({className:e,children:t,variant:n,size:r,...i},a)=>{const o=x.useContext(FQ);return s.jsx(LQ,{ref:a,className:de($Q({variant:o.variant||n,size:o.size||r}),e),...i,children:t})});ma.displayName=LQ.displayName;function kNe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ANe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,TNe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PNe={};function D5(e,t){return(PNe.jsx?TNe:ANe).test(e)}const ONe=/[ \t\n\f\r]/g;function RNe(e){return typeof e=="object"?e.type==="text"?M5(e.value):!1:M5(e)}function M5(e){return e.replace(ONe,"")===""}class pb{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}pb.prototype.normal={};pb.prototype.property={};pb.prototype.space=void 0;function zQ(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new pb(n,r,t)}function xT(e){return e.toLowerCase()}class gi{constructor(t,n){this.attribute=n,this.property=t}}gi.prototype.attribute="";gi.prototype.booleanish=!1;gi.prototype.boolean=!1;gi.prototype.commaOrSpaceSeparated=!1;gi.prototype.commaSeparated=!1;gi.prototype.defined=!1;gi.prototype.mustUseProperty=!1;gi.prototype.number=!1;gi.prototype.overloadedBoolean=!1;gi.prototype.property="";gi.prototype.spaceSeparated=!1;gi.prototype.space=void 0;let DNe=0;const At=zf(),ur=zf(),vT=zf(),De=zf(),Nn=zf(),fm=zf(),yi=zf();function zf(){return 2**++DNe}const yT=Object.freeze(Object.defineProperty({__proto__:null,boolean:At,booleanish:ur,commaOrSpaceSeparated:yi,commaSeparated:fm,number:De,overloadedBoolean:vT,spaceSeparated:Nn},Symbol.toStringTag,{value:"Module"})),jE=Object.keys(yT);class hM extends gi{constructor(t,n,r,i){let a=-1;if(super(t,n),I5(this,"space",i),typeof r=="number")for(;++a<jE.length;){const o=jE[a];I5(this,jE[a],(r&yT[o])===yT[o])}}}hM.prototype.defined=!0;function I5(e,t,n){n&&(e[t]=n)}function Xp(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new hM(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[xT(r)]=r,n[xT(a.attribute)]=r}return new pb(t,n,e.space)}const BQ=Xp({properties:{ariaActiveDescendant:null,ariaAtomic:ur,ariaAutoComplete:null,ariaBusy:ur,ariaChecked:ur,ariaColCount:De,ariaColIndex:De,ariaColSpan:De,ariaControls:Nn,ariaCurrent:null,ariaDescribedBy:Nn,ariaDetails:null,ariaDisabled:ur,ariaDropEffect:Nn,ariaErrorMessage:null,ariaExpanded:ur,ariaFlowTo:Nn,ariaGrabbed:ur,ariaHasPopup:null,ariaHidden:ur,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Nn,ariaLevel:De,ariaLive:null,ariaModal:ur,ariaMultiLine:ur,ariaMultiSelectable:ur,ariaOrientation:null,ariaOwns:Nn,ariaPlaceholder:null,ariaPosInSet:De,ariaPressed:ur,ariaReadOnly:ur,ariaRelevant:null,ariaRequired:ur,ariaRoleDescription:Nn,ariaRowCount:De,ariaRowIndex:De,ariaRowSpan:De,ariaSelected:ur,ariaSetSize:De,ariaSort:null,ariaValueMax:De,ariaValueMin:De,ariaValueNow:De,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function UQ(e,t){return t in e?e[t]:t}function qQ(e,t){return UQ(e,t.toLowerCase())}const MNe=Xp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fm,acceptCharset:Nn,accessKey:Nn,action:null,allow:null,allowFullScreen:At,allowPaymentRequest:At,allowUserMedia:At,alt:null,as:null,async:At,autoCapitalize:null,autoComplete:Nn,autoFocus:At,autoPlay:At,blocking:Nn,capture:null,charSet:null,checked:At,cite:null,className:Nn,cols:De,colSpan:null,content:null,contentEditable:ur,controls:At,controlsList:Nn,coords:De|fm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:At,defer:At,dir:null,dirName:null,disabled:At,download:vT,draggable:ur,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:At,formTarget:null,headers:Nn,height:De,hidden:vT,high:De,href:null,hrefLang:null,htmlFor:Nn,httpEquiv:Nn,id:null,imageSizes:null,imageSrcSet:null,inert:At,inputMode:null,integrity:null,is:null,isMap:At,itemId:null,itemProp:Nn,itemRef:Nn,itemScope:At,itemType:Nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:At,low:De,manifest:null,max:null,maxLength:De,media:null,method:null,min:null,minLength:De,multiple:At,muted:At,name:null,nonce:null,noModule:At,noValidate:At,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:At,optimum:De,pattern:null,ping:Nn,placeholder:null,playsInline:At,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:At,referrerPolicy:null,rel:Nn,required:At,reversed:At,rows:De,rowSpan:De,sandbox:Nn,scope:null,scoped:At,seamless:At,selected:At,shadowRootClonable:At,shadowRootDelegatesFocus:At,shadowRootMode:null,shape:null,size:De,sizes:null,slot:null,span:De,spellCheck:ur,src:null,srcDoc:null,srcLang:null,srcSet:null,start:De,step:null,style:null,tabIndex:De,target:null,title:null,translate:null,type:null,typeMustMatch:At,useMap:null,value:ur,width:De,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Nn,axis:null,background:null,bgColor:null,border:De,borderColor:null,bottomMargin:De,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:At,declare:At,event:null,face:null,frame:null,frameBorder:null,hSpace:De,leftMargin:De,link:null,longDesc:null,lowSrc:null,marginHeight:De,marginWidth:De,noResize:At,noHref:At,noShade:At,noWrap:At,object:null,profile:null,prompt:null,rev:null,rightMargin:De,rules:null,scheme:null,scrolling:ur,standby:null,summary:null,text:null,topMargin:De,valueType:null,version:null,vAlign:null,vLink:null,vSpace:De,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:At,disableRemotePlayback:At,prefix:null,property:null,results:De,security:null,unselectable:null},space:"html",transform:qQ}),INe=Xp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:yi,accentHeight:De,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:De,amplitude:De,arabicForm:null,ascent:De,attributeName:null,attributeType:null,azimuth:De,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:De,by:null,calcMode:null,capHeight:De,className:Nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:De,diffuseConstant:De,direction:null,display:null,dur:null,divisor:De,dominantBaseline:null,download:At,dx:null,dy:null,edgeMode:null,editable:null,elevation:De,enableBackground:null,end:null,event:null,exponent:De,externalResourcesRequired:null,fill:null,fillOpacity:De,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fm,g2:fm,glyphName:fm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:De,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:De,horizOriginX:De,horizOriginY:De,id:null,ideographic:De,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:De,k:De,k1:De,k2:De,k3:De,k4:De,kernelMatrix:yi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:De,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:De,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:De,overlineThickness:De,paintOrder:null,panose1:null,path:null,pathLength:De,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:De,pointsAtY:De,pointsAtZ:De,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:yi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:yi,rev:yi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:yi,requiredFeatures:yi,requiredFonts:yi,requiredFormats:yi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:De,specularExponent:De,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:De,strikethroughThickness:De,string:null,stroke:null,strokeDashArray:yi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:De,strokeOpacity:De,strokeWidth:null,style:null,surfaceScale:De,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:yi,tabIndex:De,tableValues:null,target:null,targetX:De,targetY:De,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:yi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:De,underlineThickness:De,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:De,values:null,vAlphabetic:De,vMathematical:De,vectorEffect:null,vHanging:De,vIdeographic:De,version:null,vertAdvY:De,vertOriginX:De,vertOriginY:De,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:De,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:UQ}),VQ=Xp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),HQ=Xp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qQ}),WQ=Xp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),LNe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$Ne=/[A-Z]/g,L5=/-[a-z]/g,FNe=/^data[-\w.:]+$/i;function zNe(e,t){const n=xT(t);let r=t,i=gi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&FNe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(L5,UNe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!L5.test(a)){let o=a.replace($Ne,BNe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=hM}return new i(r,t)}function BNe(e){return"-"+e.toLowerCase()}function UNe(e){return e.charAt(1).toUpperCase()}const qNe=zQ([BQ,MNe,VQ,HQ,WQ],"html"),mM=zQ([BQ,INe,VQ,HQ,WQ],"svg");function VNe(e){return e.join(" ").trim()}var pM={},$5=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,HNe=/\n/g,WNe=/^\s*/,GNe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,KNe=/^:\s*/,YNe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,XNe=/^[;\s]*/,QNe=/^\s+|\s+$/g,JNe=`
`,F5="/",z5="*",yd="",ZNe="comment",e1e="declaration",t1e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(HNe);g&&(n+=g.length);var y=p.lastIndexOf(JNe);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new o(p),u(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function c(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function u(){c(WNe)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(F5!=e.charAt(0)||z5!=e.charAt(1))){for(var g=2;yd!=e.charAt(g)&&(z5!=e.charAt(g)||F5!=e.charAt(g+1));)++g;if(g+=2,yd===e.charAt(g-1))return l("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:ZNe,comment:y})}}function h(){var p=a(),g=c(GNe);if(g){if(f(),!c(KNe))return l("property missing ':'");var y=c(YNe),v=p({type:e1e,property:B5(g[0].replace($5,yd)),value:y?B5(y[0].replace($5,yd)):yd});return c(XNe),v}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return u(),m()};function B5(e){return e?e.replace(QNe,yd):yd}var n1e=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pM,"__esModule",{value:!0});pM.default=s1e;var r1e=n1e(t1e);function s1e(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,r1e.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var o=a.property,l=a.value;i?t(o,l,a):l&&(n=n||{},n[o]=l)}}),n}var G1={};Object.defineProperty(G1,"__esModule",{value:!0});G1.camelCase=void 0;var i1e=/^--[a-zA-Z0-9_-]+$/,a1e=/-([a-z])/g,o1e=/^[^-]+$/,l1e=/^-(webkit|moz|ms|o|khtml)-/,c1e=/^-(ms)-/,u1e=function(e){return!e||o1e.test(e)||i1e.test(e)},d1e=function(e,t){return t.toUpperCase()},U5=function(e,t){return"".concat(t,"-")},f1e=function(e,t){return t===void 0&&(t={}),u1e(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(c1e,U5):e=e.replace(l1e,U5),e.replace(a1e,d1e))};G1.camelCase=f1e;var h1e=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},m1e=h1e(pM),p1e=G1;function bT(e,t){var n={};return!e||typeof e!="string"||(0,m1e.default)(e,function(r,i){r&&i&&(n[(0,p1e.camelCase)(r,t)]=i)}),n}bT.default=bT;var g1e=bT;const x1e=Vt(g1e),GQ=KQ("end"),gM=KQ("start");function KQ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function v1e(e){const t=gM(e),n=GQ(e);if(t&&n)return{start:t,end:n}}function Dx(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?q5(e.position):"start"in e||"end"in e?q5(e):"line"in e||"column"in e?wT(e):""}function wT(e){return V5(e&&e.line)+":"+V5(e&&e.column)}function q5(e){return wT(e&&e.start)+"-"+wT(e&&e.end)}function V5(e){return e&&typeof e=="number"?e:1}class ys extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Dx(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ys.prototype.file="";ys.prototype.name="";ys.prototype.reason="";ys.prototype.message="";ys.prototype.stack="";ys.prototype.column=void 0;ys.prototype.line=void 0;ys.prototype.ancestors=void 0;ys.prototype.cause=void 0;ys.prototype.fatal=void 0;ys.prototype.place=void 0;ys.prototype.ruleId=void 0;ys.prototype.source=void 0;const xM={}.hasOwnProperty,y1e=new Map,b1e=/[A-Z]/g,w1e=new Set(["table","tbody","thead","tfoot","tr"]),j1e=new Set(["td","th"]),YQ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _1e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=P1e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=T1e(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?mM:qNe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=XQ(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function XQ(e,t,n){if(t.type==="element")return N1e(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return S1e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return E1e(e,t,n);if(t.type==="mdxjsEsm")return C1e(e,t);if(t.type==="root")return k1e(e,t,n);if(t.type==="text")return A1e(e,t)}function N1e(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=mM,e.schema=i),e.ancestors.push(t);const a=JQ(e,t.tagName,!1),o=O1e(e,t);let l=yM(e,t);return w1e.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!RNe(c):!0})),QQ(e,o,a,t),vM(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function S1e(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Tv(e,t.position)}function C1e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Tv(e,t.position)}function E1e(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=mM,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:JQ(e,t.name,!0),o=R1e(e,t),l=yM(e,t);return QQ(e,o,a,t),vM(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function k1e(e,t,n){const r={};return vM(r,yM(e,t)),e.create(t,e.Fragment,r,n)}function A1e(e,t){return t.value}function QQ(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function vM(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function T1e(e,t,n){return r;function r(i,a,o,l){const u=Array.isArray(o.children)?n:t;return l?u(a,o,l):u(a,o)}}function P1e(e,t){return n;function n(r,i,a,o){const l=Array.isArray(a.children),c=gM(r);return t(i,a,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function O1e(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&xM.call(t.properties,i)){const a=D1e(e,i,t.properties[i]);if(a){const[o,l]=a;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&j1e.has(t.tagName)?r=l:n[o]=l}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function R1e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Tv(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else Tv(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function yM(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:y1e;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=i.get(c)||0;o=c+"-"+u,i.set(c,u+1)}}const l=XQ(e,a,o);l!==void 0&&n.push(l)}return n}function D1e(e,t,n){const r=zNe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?kNe(n):VNe(n)),r.property==="style"){let i=typeof n=="object"?n:M1e(e,String(n));return e.stylePropertyNameCase==="css"&&(i=I1e(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?LNe[r.property]||r.property:r.attribute,n]}}function M1e(e,t){try{return x1e(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ys("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=YQ+"#cannot-parse-style-attribute",i}}function JQ(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const l=D5(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=o}else r=D5(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return xM.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Tv(e)}function Tv(e,t){const n=new ys("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=YQ+"#cannot-handle-mdx-estrees-without-createevaluater",n}function I1e(e){const t={};let n;for(n in e)xM.call(e,n)&&(t[L1e(n)]=e[n]);return t}function L1e(e){let t=e.replace(b1e,$1e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function $1e(e){return"-"+e.toLowerCase()}const _E={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},F1e={};function bM(e,t){const n=F1e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ZQ(e,r,i)}function ZQ(e,t,n){if(z1e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return H5(e.children,t,n)}return Array.isArray(e)?H5(e,t,n):""}function H5(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=ZQ(e[i],t,n);return r.join("")}function z1e(e){return!!(e&&typeof e=="object")}const W5=document.createElement("i");function wM(e){const t="&"+e+";";W5.innerHTML=t;const n=W5.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Di(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function sa(e,t){return e.length>0?(Di(e,e.length,0,t),e):t}const G5={}.hasOwnProperty;function eJ(e){const t={};let n=-1;for(;++n<e.length;)B1e(t,e[n]);return t}function B1e(e,t){let n;for(n in t){const i=(G5.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){G5.call(i,o)||(i[o]=[]);const l=a[o];U1e(i[o],Array.isArray(l)?l:l?[l]:[])}}}function U1e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Di(e,0,0,r)}function tJ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Qa(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Os=Bu(/[A-Za-z]/),ms=Bu(/[\dA-Za-z]/),q1e=Bu(/[#-'*+\--9=?A-Z^-~]/);function e_(e){return e!==null&&(e<32||e===127)}const jT=Bu(/\d/),V1e=Bu(/[\dA-Fa-f]/),H1e=Bu(/[!-/:-@[-`{-~]/);function Je(e){return e!==null&&e<-2}function jn(e){return e!==null&&(e<0||e===32)}function $t(e){return e===-2||e===-1||e===32}const K1=Bu(new RegExp("\\p{P}|\\p{S}","u")),wf=Bu(/\s/);function Bu(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Qp(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&ms(e.charCodeAt(n+1))&&ms(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function qt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return $t(c)?(e.enter(n),l(c)):t(c)}function l(c){return $t(c)&&a++<i?(e.consume(c),l):(e.exit(n),t(c))}}const W1e={tokenize:G1e};function G1e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),qt(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Je(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),o)}}const K1e={tokenize:Y1e},K5={tokenize:X1e};function Y1e(e){const t=this,n=[];let r=0,i,a,o;return l;function l(b){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,c,u)(b)}return u(b)}function c(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const j=t.events.length;let _=j,N;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){N=t.events[_][1].end;break}v(r);let S=j;for(;S<t.events.length;)t.events[S][1].end={...N},S++;return Di(t.events,_+1,0,t.events.slice(j)),t.events.length=S,u(b)}return l(b)}function u(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(K5,d,f)(b)}function d(b){return i&&w(),v(r),h(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(b)}function h(b){return t.containerState={},e.attempt(K5,m,p)(b)}function m(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function p(b){if(b===null){i&&w(),v(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(b)}function g(b){if(b===null){y(e.exit("chunkFlow"),!0),v(0),e.consume(b);return}return Je(b)?(e.consume(b),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(b),g)}function y(b,j){const _=t.sliceStream(b);if(j&&_.push(null),b.previous=a,a&&(a.next=b),a=b,i.defineSkip(b.start),i.write(_),t.parser.lazy[b.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<o&&(!i.events[N][1].end||i.events[N][1].end.offset>o))return;const S=t.events.length;let C=S,k,A;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(k){A=t.events[C][1].end;break}k=!0}for(v(r),N=S;N<t.events.length;)t.events[N][1].end={...A},N++;Di(t.events,C+1,0,t.events.slice(S)),t.events.length=N}}function v(b){let j=n.length;for(;j-- >b;){const _=n[j];t.containerState=_[1],_[0].exit.call(t,e)}n.length=b}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function X1e(e,t,n){return qt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Vm(e){if(e===null||jn(e)||wf(e))return 1;if(K1(e))return 2}function Y1(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const _T={name:"attention",resolveAll:Q1e,tokenize:J1e};function Q1e(e,t){let n=-1,r,i,a,o,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};Y5(f,-c),Y5(h,c),o={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=sa(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=sa(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=sa(u,Y1(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=sa(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=sa(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Di(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function J1e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Vm(r);let a;return o;function o(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const u=e.exit("attentionSequence"),d=Vm(c),f=!d||d===2&&i||n.includes(c),h=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!h)),u._close=!!(a===42?h:h&&(d||!f)),t(c)}}function Y5(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Z1e={name:"autolink",tokenize:eSe};function eSe(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Os(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||ms(m)?(r=1,l(m)):u(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||ms(m))&&r++<32?(e.consume(m),l):(r=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||e_(m)?n(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):q1e(m)?(e.consume(m),u):n(m)}function d(m){return ms(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||ms(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const gb={partial:!0,tokenize:tSe};function tSe(e,t,n){return r;function r(a){return $t(a)?qt(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Je(a)?t(a):n(a)}}const nJ={continuation:{tokenize:rSe},exit:sSe,name:"blockQuote",tokenize:nSe};function nSe(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return $t(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function rSe(e,t,n){const r=this;return i;function i(o){return $t(o)?qt(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(nJ,t,n)(o)}}function sSe(e){e.exit("blockQuote")}const rJ={name:"characterEscape",tokenize:iSe};function iSe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return H1e(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const sJ={name:"characterReference",tokenize:aSe};function aSe(e,t,n){const r=this;let i=0,a,o;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=ms,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=V1e,d):(e.enter("characterReferenceValue"),a=7,o=jT,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return o===ms&&!wM(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),d):n(f)}}const X5={partial:!0,tokenize:lSe},Q5={concrete:!0,name:"codeFenced",tokenize:oSe};function oSe(e,t,n){const r=this,i={partial:!0,tokenize:_};let a=0,o=0,l;return c;function c(N){return u(N)}function u(N){const S=r.events[r.events.length-1];return a=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,l=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===l?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),$t(N)?qt(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Je(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(X5,g,j)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Je(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):$t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),qt(e,m,"whitespace")(N)):N===96&&N===l?n(N):(e.consume(N),h)}function m(N){return N===null||Je(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Je(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===l?n(N):(e.consume(N),p)}function g(N){return e.attempt(i,j,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),v}function v(N){return a>0&&$t(N)?qt(e,w,"linePrefix",a+1)(N):w(N)}function w(N){return N===null||Je(N)?e.check(X5,g,j)(N):(e.enter("codeFlowValue"),b(N))}function b(N){return N===null||Je(N)?(e.exit("codeFlowValue"),w(N)):(e.consume(N),b)}function j(N){return e.exit("codeFenced"),t(N)}function _(N,S,C){let k=0;return A;function A(O){return N.enter("lineEnding"),N.consume(O),N.exit("lineEnding"),T}function T(O){return N.enter("codeFencedFence"),$t(O)?qt(N,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):E(O)}function E(O){return O===l?(N.enter("codeFencedFenceSequence"),R(O)):C(O)}function R(O){return O===l?(k++,N.consume(O),R):k>=o?(N.exit("codeFencedFenceSequence"),$t(O)?qt(N,$,"whitespace")(O):$(O)):C(O)}function $(O){return O===null||Je(O)?(N.exit("codeFencedFence"),S(O)):C(O)}}}function lSe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const NE={name:"codeIndented",tokenize:uSe},cSe={partial:!0,tokenize:dSe};function uSe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),qt(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):Je(u)?e.attempt(cSe,o,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||Je(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function dSe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Je(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):qt(e,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):Je(o)?i(o):n(o)}}const fSe={name:"codeText",previous:mSe,resolve:hSe,tokenize:pSe};function hSe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function mSe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pSe(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Je(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Je(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class gSe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&$g(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),$g(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),$g(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);$g(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);$g(this.left,n.reverse())}}}function $g(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function iJ(e){const t={};let n=-1,r,i,a,o,l,c,u;const d=new gSe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,xSe(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return Di(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function xSe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const v=l.slice(y[h],y[h+1]),w=a.pop();c.push([w,w+v.length-1]),e.splice(w,2,v)}for(c.reverse(),h=-1;++h<c.length;)u[p+c[h][0]]=p+c[h][1],p+=c[h][1]-c[h][0]-1;return u}const vSe={resolve:bSe,tokenize:wSe},ySe={partial:!0,tokenize:jSe};function bSe(e){return iJ(e),e}function wSe(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):Je(l)?e.check(ySe,o,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function jSe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),qt(e,a,"linePrefix")}function a(o){if(o===null||Je(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function aJ(e,t,n,r,i,a,o,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||e_(v)?n(v):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(e.exit("chunkString"),e.exit(l),h(v)):v===null||v===60||Je(v)?n(v):(e.consume(v),v===92?p:m)}function p(v){return v===60||v===62||v===92?(e.consume(v),m):m(v)}function g(v){return!d&&(v===null||v===41||jn(v))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,g):v===41?(e.consume(v),d--,g):v===null||v===32||v===40||e_(v)?n(v):(e.consume(v),v===92?y:g)}function y(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function oJ(e,t,n,r,i,a){const o=this;let l=0,c;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Je(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Je(m)||l++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!$t(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),l++,f):f(m)}}function lJ(e,t,n,r,i,a){let o;return l;function l(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,c):n(h)}function c(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===o?(e.exit(a),c(o)):h===null?n(h):Je(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),qt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===o||h===null||Je(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===o||h===92?(e.consume(h),d):d(h)}}function Mx(e,t){let n;return r;function r(i){return Je(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):$t(i)?qt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const _Se={name:"definition",tokenize:SSe},NSe={partial:!0,tokenize:CSe};function SSe(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),o(m)}function o(m){return oJ.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=Qa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):n(m)}function c(m){return jn(m)?Mx(e,u)(m):u(m)}function u(m){return aJ(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(NSe,f,f)(m)}function f(m){return $t(m)?qt(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Je(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function CSe(e,t,n){return r;function r(l){return jn(l)?Mx(e,i)(l):n(l)}function i(l){return lJ(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return $t(l)?qt(e,o,"whitespace")(l):o(l)}function o(l){return l===null||Je(l)?t(l):n(l)}}const ESe={name:"hardBreakEscape",tokenize:kSe};function kSe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Je(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const ASe={name:"headingAtx",resolve:TSe,tokenize:PSe};function TSe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Di(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function PSe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||jn(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||Je(d)?(e.exit("atxHeading"),t(d)):$t(d)?qt(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||jn(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const OSe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],J5=["pre","script","style","textarea"],RSe={concrete:!0,name:"htmlFlow",resolveTo:ISe,tokenize:LSe},DSe={partial:!0,tokenize:FSe},MSe={partial:!0,tokenize:$Se};function ISe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function LSe(e,t,n){const r=this;let i,a,o,l,c;return u;function u(L){return d(L)}function d(L){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(L),f}function f(L){return L===33?(e.consume(L),h):L===47?(e.consume(L),a=!0,g):L===63?(e.consume(L),i=3,r.interrupt?t:M):Os(L)?(e.consume(L),o=String.fromCharCode(L),y):n(L)}function h(L){return L===45?(e.consume(L),i=2,m):L===91?(e.consume(L),i=5,l=0,p):Os(L)?(e.consume(L),i=4,r.interrupt?t:M):n(L)}function m(L){return L===45?(e.consume(L),r.interrupt?t:M):n(L)}function p(L){const V="CDATA[";return L===V.charCodeAt(l++)?(e.consume(L),l===V.length?r.interrupt?t:E:p):n(L)}function g(L){return Os(L)?(e.consume(L),o=String.fromCharCode(L),y):n(L)}function y(L){if(L===null||L===47||L===62||jn(L)){const V=L===47,K=o.toLowerCase();return!V&&!a&&J5.includes(K)?(i=1,r.interrupt?t(L):E(L)):OSe.includes(o.toLowerCase())?(i=6,V?(e.consume(L),v):r.interrupt?t(L):E(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):a?w(L):b(L))}return L===45||ms(L)?(e.consume(L),o+=String.fromCharCode(L),y):n(L)}function v(L){return L===62?(e.consume(L),r.interrupt?t:E):n(L)}function w(L){return $t(L)?(e.consume(L),w):A(L)}function b(L){return L===47?(e.consume(L),A):L===58||L===95||Os(L)?(e.consume(L),j):$t(L)?(e.consume(L),b):A(L)}function j(L){return L===45||L===46||L===58||L===95||ms(L)?(e.consume(L),j):_(L)}function _(L){return L===61?(e.consume(L),N):$t(L)?(e.consume(L),_):b(L)}function N(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),c=L,S):$t(L)?(e.consume(L),N):C(L)}function S(L){return L===c?(e.consume(L),c=null,k):L===null||Je(L)?n(L):(e.consume(L),S)}function C(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||jn(L)?_(L):(e.consume(L),C)}function k(L){return L===47||L===62||$t(L)?b(L):n(L)}function A(L){return L===62?(e.consume(L),T):n(L)}function T(L){return L===null||Je(L)?E(L):$t(L)?(e.consume(L),T):n(L)}function E(L){return L===45&&i===2?(e.consume(L),F):L===60&&i===1?(e.consume(L),z):L===62&&i===4?(e.consume(L),U):L===63&&i===3?(e.consume(L),M):L===93&&i===5?(e.consume(L),I):Je(L)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(DSe,D,R)(L)):L===null||Je(L)?(e.exit("htmlFlowData"),R(L)):(e.consume(L),E)}function R(L){return e.check(MSe,$,D)(L)}function $(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),O}function O(L){return L===null||Je(L)?R(L):(e.enter("htmlFlowData"),E(L))}function F(L){return L===45?(e.consume(L),M):E(L)}function z(L){return L===47?(e.consume(L),o="",P):E(L)}function P(L){if(L===62){const V=o.toLowerCase();return J5.includes(V)?(e.consume(L),U):E(L)}return Os(L)&&o.length<8?(e.consume(L),o+=String.fromCharCode(L),P):E(L)}function I(L){return L===93?(e.consume(L),M):E(L)}function M(L){return L===62?(e.consume(L),U):L===45&&i===2?(e.consume(L),M):E(L)}function U(L){return L===null||Je(L)?(e.exit("htmlFlowData"),D(L)):(e.consume(L),U)}function D(L){return e.exit("htmlFlow"),t(L)}}function $Se(e,t,n){const r=this;return i;function i(o){return Je(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function FSe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(gb,t,n)}}const zSe={name:"htmlText",tokenize:BSe};function BSe(e,t,n){const r=this;let i,a,o;return l;function l(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),c}function c(M){return M===33?(e.consume(M),u):M===47?(e.consume(M),_):M===63?(e.consume(M),b):Os(M)?(e.consume(M),C):n(M)}function u(M){return M===45?(e.consume(M),d):M===91?(e.consume(M),a=0,p):Os(M)?(e.consume(M),w):n(M)}function d(M){return M===45?(e.consume(M),m):n(M)}function f(M){return M===null?n(M):M===45?(e.consume(M),h):Je(M)?(o=f,z(M)):(e.consume(M),f)}function h(M){return M===45?(e.consume(M),m):f(M)}function m(M){return M===62?F(M):M===45?h(M):f(M)}function p(M){const U="CDATA[";return M===U.charCodeAt(a++)?(e.consume(M),a===U.length?g:p):n(M)}function g(M){return M===null?n(M):M===93?(e.consume(M),y):Je(M)?(o=g,z(M)):(e.consume(M),g)}function y(M){return M===93?(e.consume(M),v):g(M)}function v(M){return M===62?F(M):M===93?(e.consume(M),v):g(M)}function w(M){return M===null||M===62?F(M):Je(M)?(o=w,z(M)):(e.consume(M),w)}function b(M){return M===null?n(M):M===63?(e.consume(M),j):Je(M)?(o=b,z(M)):(e.consume(M),b)}function j(M){return M===62?F(M):b(M)}function _(M){return Os(M)?(e.consume(M),N):n(M)}function N(M){return M===45||ms(M)?(e.consume(M),N):S(M)}function S(M){return Je(M)?(o=S,z(M)):$t(M)?(e.consume(M),S):F(M)}function C(M){return M===45||ms(M)?(e.consume(M),C):M===47||M===62||jn(M)?k(M):n(M)}function k(M){return M===47?(e.consume(M),F):M===58||M===95||Os(M)?(e.consume(M),A):Je(M)?(o=k,z(M)):$t(M)?(e.consume(M),k):F(M)}function A(M){return M===45||M===46||M===58||M===95||ms(M)?(e.consume(M),A):T(M)}function T(M){return M===61?(e.consume(M),E):Je(M)?(o=T,z(M)):$t(M)?(e.consume(M),T):k(M)}function E(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),i=M,R):Je(M)?(o=E,z(M)):$t(M)?(e.consume(M),E):(e.consume(M),$)}function R(M){return M===i?(e.consume(M),i=void 0,O):M===null?n(M):Je(M)?(o=R,z(M)):(e.consume(M),R)}function $(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||jn(M)?k(M):(e.consume(M),$)}function O(M){return M===47||M===62||jn(M)?k(M):n(M)}function F(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function z(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),P}function P(M){return $t(M)?qt(e,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):I(M)}function I(M){return e.enter("htmlTextData"),o(M)}}const jM={name:"labelEnd",resolveAll:HSe,resolveTo:WSe,tokenize:GSe},USe={tokenize:KSe},qSe={tokenize:YSe},VSe={tokenize:XSe};function HSe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Di(e,0,e.length,n),e}function WSe(e,t){let n=e.length,r=0,i,a,o,l;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=sa(l,e.slice(a+1,a+r+3)),l=sa(l,[["enter",d,t]]),l=sa(l,Y1(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),l=sa(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=sa(l,e.slice(o+1)),l=sa(l,[["exit",c,t]]),Di(e,a,e.length,l),e}function GSe(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(h){return a?a._inactive?f(h):(o=r.parser.defined.includes(Qa(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(USe,d,o?d:f)(h):h===91?e.attempt(qSe,d,o?u:f)(h):o?d(h):f(h)}function u(h){return e.attempt(VSe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function KSe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return jn(f)?Mx(e,a)(f):a(f)}function a(f){return f===41?d(f):aJ(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return jn(f)?Mx(e,c)(f):d(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?lJ(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return jn(f)?Mx(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function YSe(e,t,n){const r=this;return i;function i(l){return oJ.call(r,e,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Qa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function XSe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const QSe={name:"labelStartImage",resolveAll:jM.resolveAll,tokenize:JSe};function JSe(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const ZSe={name:"labelStartLink",resolveAll:jM.resolveAll,tokenize:eCe};function eCe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const SE={name:"lineEnding",tokenize:tCe};function tCe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),qt(e,t,"linePrefix")}}const Fw={name:"thematicBreak",tokenize:nCe};function nCe(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Je(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),$t(u)?qt(e,l,"whitespace")(u):l(u))}}const Ws={continuation:{tokenize:aCe},exit:lCe,name:"list",tokenize:iCe},rCe={partial:!0,tokenize:cCe},sCe={partial:!0,tokenize:oCe};function iCe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:jT(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Fw,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return n(m)}function c(m){return jT(m)&&++o<10?(e.consume(m),c):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(gb,r.interrupt?n:d,e.attempt(rCe,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return $t(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function aCe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(gb,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,qt(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!$t(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(sCe,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,qt(e,e.attempt(Ws,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function oCe(e,t,n){const r=this;return qt(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function lCe(e){e.exit(this.containerState.type)}function cCe(e,t,n){const r=this;return qt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!$t(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const Z5={name:"setextUnderline",resolveTo:uCe,tokenize:dCe};function uCe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function dCe(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),$t(u)?qt(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Je(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const fCe={tokenize:hCe};function hCe(e){const t=this,n=e.attempt(gb,r,e.attempt(this.parser.constructs.flowInitial,i,qt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(vSe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const mCe={resolveAll:uJ()},pCe=cJ("string"),gCe=cJ("text");function cJ(e){return{resolveAll:uJ(e==="text"?xCe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,l);return o;function o(d){return u(d)?a(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function uJ(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function xCe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,l=0,c;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const vCe={42:Ws,43:Ws,45:Ws,48:Ws,49:Ws,50:Ws,51:Ws,52:Ws,53:Ws,54:Ws,55:Ws,56:Ws,57:Ws,62:nJ},yCe={91:_Se},bCe={[-2]:NE,[-1]:NE,32:NE},wCe={35:ASe,42:Fw,45:[Z5,Fw],60:RSe,61:Z5,95:Fw,96:Q5,126:Q5},jCe={38:sJ,92:rJ},_Ce={[-5]:SE,[-4]:SE,[-3]:SE,33:QSe,38:sJ,42:_T,60:[Z1e,zSe],91:ZSe,92:[ESe,rJ],93:jM,95:_T,96:fSe},NCe={null:[_T,mCe]},SCe={null:[42,95]},CCe={null:[]},ECe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SCe,contentInitial:yCe,disable:CCe,document:vCe,flow:wCe,flowInitial:bCe,insideSpan:NCe,string:jCe,text:_Ce},Symbol.toStringTag,{value:"Module"}));function kCe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],l=[];const c={attempt:S(_),check:S(N),consume:w,enter:b,exit:j,interrupt:S(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function f(T){return o=sa(o,T),y(),o[o.length-1]!==null?[]:(C(t,0),u.events=Y1(a,u.events,u),u.events)}function h(T,E){return TCe(m(T),E)}function m(T){return ACe(o,T)}function p(){const{_bufferIndex:T,_index:E,line:R,column:$,offset:O}=r;return{_bufferIndex:T,_index:E,line:R,column:$,offset:O}}function g(T){i[T.line]=T.column,A()}function y(){let T;for(;r._index<o.length;){const E=o[r._index];if(typeof E=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<E.length;)v(E.charCodeAt(r._bufferIndex));else v(E)}}function v(T){d=d(T)}function w(T){Je(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,A()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=T}function b(T,E){const R=E||{};return R.type=T,R.start=p(),u.events.push(["enter",R,u]),l.push(R),R}function j(T){const E=l.pop();return E.end=p(),u.events.push(["exit",E,u]),E}function _(T,E){C(T,E.from)}function N(T,E){E.restore()}function S(T,E){return R;function R($,O,F){let z,P,I,M;return Array.isArray($)?D($):"tokenize"in $?D([$]):U($);function U(G){return X;function X(oe){const Y=oe!==null&&G[oe],ne=oe!==null&&G.null,ge=[...Array.isArray(Y)?Y:Y?[Y]:[],...Array.isArray(ne)?ne:ne?[ne]:[]];return D(ge)(oe)}}function D(G){return z=G,P=0,G.length===0?F:L(G[P])}function L(G){return X;function X(oe){return M=k(),I=G,G.partial||(u.currentConstruct=G),G.name&&u.parser.constructs.disable.null.includes(G.name)?K():G.tokenize.call(E?Object.assign(Object.create(u),E):u,c,V,K)(oe)}}function V(G){return T(I,M),O}function K(G){return M.restore(),++P<z.length?L(z[P]):F}}}function C(T,E){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&Di(u.events,E,u.events.length-E,T.resolve(u.events.slice(E),u)),T.resolveTo&&(u.events=T.resolveTo(u.events,u))}function k(){const T=p(),E=u.previous,R=u.currentConstruct,$=u.events.length,O=Array.from(l);return{from:$,restore:F};function F(){r=T,u.previous=E,u.currentConstruct=R,u.events.length=$,l=O,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ACe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function TCe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function PCe(e){const r={constructs:eJ([ECe,...(e||{}).extensions||[]]),content:i(W1e),defined:[],document:i(K1e),flow:i(fCe),lazy:{},string:i(pCe),text:i(gCe)};return r;function i(a){return o;function o(l){return kCe(r,a,l)}}}function OCe(e){for(;!iJ(e););return e}const e3=/[\0\t\n\r]/g;function RCe(){let e=1,t="",n=!0,r;return i;function i(a,o,l){const c=[];let u,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(e3.lastIndex=f,u=e3.exec(a),h=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(h),!u){t=a.slice(f);break}if(m===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(a.slice(f,h)),e+=h-f),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const DCe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MCe(e){return e.replace(DCe,ICe)}function ICe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return tJ(n.slice(a?2:1),a?16:10)}return wM(n)||e}const dJ={}.hasOwnProperty;function LCe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),$Ce(n)(OCe(PCe(n).document().write(RCe()(e,t,!0))))}function $Ce(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ie),autolinkProtocol:k,autolinkEmail:k,atxHeading:a(te),blockQuote:a(ne),characterEscape:k,characterReference:k,codeFenced:a(ge),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ge,o),codeText:a(se,o),codeTextData:k,data:k,codeFlowValue:k,definition:a(ce),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(ve),hardBreakEscape:a(ue),hardBreakTrailing:a(ue),htmlFlow:a(ee,o),htmlFlowData:k,htmlText:a(ee,o),htmlTextData:k,image:a(le),label:o,link:a(Ie),listItem:a(Ae),listItemValue:h,listOrdered:a(Pe,f),listUnordered:a(Pe),paragraph:a(W),reference:L,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(te),strong:a(_e),thematicBreak:a(Qe)},exit:{atxHeading:c(),atxHeadingSequence:_,autolink:c(),autolinkEmail:Y,autolinkProtocol:oe,blockQuote:c(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:G,characterReference:X,codeFenced:c(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:A,codeIndented:c(v),codeText:c(O),codeTextData:A,data:A,definition:c(),definitionDestinationString:j,definitionLabelString:w,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(E),hardBreakTrailing:c(E),htmlFlow:c(R),htmlFlowData:A,htmlText:c($),htmlTextData:A,image:c(z),label:I,labelText:P,lineEnding:T,link:c(F),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:V,resourceDestinationString:M,resourceTitleString:U,resource:D,setextHeading:c(C),setextHeadingLineSequence:S,setextHeadingText:N,strong:c(),thematicBreak:c()}};fJ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Q){let ae={type:"root",children:[]};const Se={stack:[ae],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:d,data:n},ye=[];let ze=-1;for(;++ze<Q.length;)if(Q[ze][1].type==="listOrdered"||Q[ze][1].type==="listUnordered")if(Q[ze][0]==="enter")ye.push(ze);else{const je=ye.pop();ze=i(Q,je,ze)}for(ze=-1;++ze<Q.length;){const je=t[Q[ze][0]];dJ.call(je,Q[ze][1].type)&&je[Q[ze][1].type].call(Object.assign({sliceSerialize:Q[ze][2].sliceSerialize},Se),Q[ze][1])}if(Se.tokenStack.length>0){const je=Se.tokenStack[Se.tokenStack.length-1];(je[1]||t3).call(Se,void 0,je[0])}for(ae.position={start:uc(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:uc(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<t.transforms.length;)ae=t.transforms[ze](ae)||ae;return ae}function i(Q,ae,Se){let ye=ae-1,ze=-1,je=!1,We,Ge,ut,nn;for(;++ye<=Se;){const Rt=Q[ye];switch(Rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Rt[0]==="enter"?ze++:ze--,nn=void 0;break}case"lineEndingBlank":{Rt[0]==="enter"&&(We&&!nn&&!ze&&!ut&&(ut=ye),nn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nn=void 0}if(!ze&&Rt[0]==="enter"&&Rt[1].type==="listItemPrefix"||ze===-1&&Rt[0]==="exit"&&(Rt[1].type==="listUnordered"||Rt[1].type==="listOrdered")){if(We){let hn=ye;for(Ge=void 0;hn--;){const ss=Q[hn];if(ss[1].type==="lineEnding"||ss[1].type==="lineEndingBlank"){if(ss[0]==="exit")continue;Ge&&(Q[Ge][1].type="lineEndingBlank",je=!0),ss[1].type="lineEnding",Ge=hn}else if(!(ss[1].type==="linePrefix"||ss[1].type==="blockQuotePrefix"||ss[1].type==="blockQuotePrefixWhitespace"||ss[1].type==="blockQuoteMarker"||ss[1].type==="listItemIndent"))break}ut&&(!Ge||ut<Ge)&&(We._spread=!0),We.end=Object.assign({},Ge?Q[Ge][1].start:Rt[1].end),Q.splice(Ge||ye,0,["exit",We,Rt[2]]),ye++,Se++}if(Rt[1].type==="listItemPrefix"){const hn={type:"listItem",_spread:!1,start:Object.assign({},Rt[1].start),end:void 0};We=hn,Q.splice(ye,0,["enter",hn,Rt[2]]),ye++,Se++,ut=void 0,nn=!0}}}return Q[ae][1]._spread=je,Se}function a(Q,ae){return Se;function Se(ye){l.call(this,Q(ye),ye),ae&&ae.call(this,ye)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(Q,ae,Se){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([ae,Se||void 0]),Q.position={start:uc(ae.start),end:void 0}}function c(Q){return ae;function ae(Se){Q&&Q.call(this,Se),u.call(this,Se)}}function u(Q,ae){const Se=this.stack.pop(),ye=this.tokenStack.pop();if(ye)ye[0].type!==Q.type&&(ae?ae.call(this,Q,ye[0]):(ye[1]||t3).call(this,Q,ye[0]));else throw new Error("Cannot close `"+Q.type+"` ("+Dx({start:Q.start,end:Q.end})+"): it’s not open");Se.position.end=uc(Q.end)}function d(){return bM(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(Q){if(this.data.expectingFirstListItemValue){const ae=this.stack[this.stack.length-2];ae.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.lang=Q}function p(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.meta=Q}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Q.replace(/(\r?\n|\r)$/g,"")}function w(Q){const ae=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ae,Se.identifier=Qa(this.sliceSerialize(Q)).toLowerCase()}function b(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.title=Q}function j(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.url=Q}function _(Q){const ae=this.stack[this.stack.length-1];if(!ae.depth){const Se=this.sliceSerialize(Q).length;ae.depth=Se}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function S(Q){const ae=this.stack[this.stack.length-1];ae.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function k(Q){const Se=this.stack[this.stack.length-1].children;let ye=Se[Se.length-1];(!ye||ye.type!=="text")&&(ye=Le(),ye.position={start:uc(Q.start),end:void 0},Se.push(ye)),this.stack.push(ye)}function A(Q){const ae=this.stack.pop();ae.value+=this.sliceSerialize(Q),ae.position.end=uc(Q.end)}function T(Q){const ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=ae.children[ae.children.length-1];Se.position.end=uc(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ae.type)&&(k.call(this,Q),A.call(this,Q))}function E(){this.data.atHardBreak=!0}function R(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Q}function $(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Q}function O(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Q}function F(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ae,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function z(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ae,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function P(Q){const ae=this.sliceSerialize(Q),Se=this.stack[this.stack.length-2];Se.label=MCe(ae),Se.identifier=Qa(ae).toLowerCase()}function I(){const Q=this.stack[this.stack.length-1],ae=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const ye=Q.children;Se.children=ye}else Se.alt=ae}function M(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.url=Q}function U(){const Q=this.resume(),ae=this.stack[this.stack.length-1];ae.title=Q}function D(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function V(Q){const ae=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ae,Se.identifier=Qa(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function K(Q){this.data.characterReferenceType=Q.type}function G(Q){const ae=this.sliceSerialize(Q),Se=this.data.characterReferenceType;let ye;Se?(ye=tJ(ae,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ye=wM(ae);const ze=this.stack[this.stack.length-1];ze.value+=ye}function X(Q){const ae=this.stack.pop();ae.position.end=uc(Q.end)}function oe(Q){A.call(this,Q);const ae=this.stack[this.stack.length-1];ae.url=this.sliceSerialize(Q)}function Y(Q){A.call(this,Q);const ae=this.stack[this.stack.length-1];ae.url="mailto:"+this.sliceSerialize(Q)}function ne(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ve(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:0,children:[]}}function ue(){return{type:"break"}}function ee(){return{type:"html",value:""}}function le(){return{type:"image",title:null,url:"",alt:null}}function Ie(){return{type:"link",title:null,url:"",children:[]}}function Pe(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function Ae(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function W(){return{type:"paragraph",children:[]}}function _e(){return{type:"strong",children:[]}}function Le(){return{type:"text",value:""}}function Qe(){return{type:"thematicBreak"}}}function uc(e){return{line:e.line,column:e.column,offset:e.offset}}function fJ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?fJ(e,r):FCe(e,r)}}function FCe(e,t){let n;for(n in t)if(dJ.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function t3(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Dx({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Dx({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Dx({start:t.start,end:t.end})+") is still open")}function zCe(e){const t=this;t.parser=n;function n(r){return LCe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function BCe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function UCe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function qCe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function VCe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HCe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WCe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Qp(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function GCe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KCe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function hJ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function YCe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return hJ(e,t);const i={src:Qp(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function XCe(e,t){const n={src:Qp(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function QCe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function JCe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return hJ(e,t);const i={href:Qp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function ZCe(e,t){const n={href:Qp(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function eEe(e,t,n){const r=e.all(t),i=n?tEe(n):mJ(t),a={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,u),e.applyData(t,u)}function tEe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=mJ(n[r])}return t}function mJ(e){const t=e.spread;return t??e.children.length>1}function nEe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function rEe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sEe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function iEe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aEe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=gM(t.children[1]),c=GQ(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function oEe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],h={},m=o?o[c]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function lEe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const n3=9,r3=32;function cEe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(s3(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(s3(t.slice(i),i>0,!1)),a.join("")}function s3(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===n3||a===r3;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===n3||a===r3;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function uEe(e,t){const n={type:"text",value:cEe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function dEe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const fEe={blockquote:BCe,break:UCe,code:qCe,delete:VCe,emphasis:HCe,footnoteReference:WCe,heading:GCe,html:KCe,imageReference:YCe,image:XCe,inlineCode:QCe,linkReference:JCe,link:ZCe,listItem:eEe,list:nEe,paragraph:rEe,root:sEe,strong:iEe,table:aEe,tableCell:lEe,tableRow:oEe,text:uEe,thematicBreak:dEe,toml:E0,yaml:E0,definition:E0,footnoteDefinition:E0};function E0(){}const pJ=-1,X1=0,Ix=1,t_=2,_M=3,NM=4,SM=5,CM=6,gJ=7,xJ=8,i3=typeof self=="object"?self:globalThis,hEe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case X1:case pJ:return n(o,i);case Ix:{const l=n([],i);for(const c of o)l.push(r(c));return l}case t_:{const l=n({},i);for(const[c,u]of o)l[r(c)]=r(u);return l}case _M:return n(new Date(o),i);case NM:{const{source:l,flags:c}=o;return n(new RegExp(l,c),i)}case SM:{const l=n(new Map,i);for(const[c,u]of o)l.set(r(c),r(u));return l}case CM:{const l=n(new Set,i);for(const c of o)l.add(r(c));return l}case gJ:{const{name:l,message:c}=o;return n(new i3[l](c),i)}case xJ:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new i3[a](o),i)};return r},a3=e=>hEe(new Map,e)(0),dh="",{toString:mEe}={},{keys:pEe}=Object,Fg=e=>{const t=typeof e;if(t!=="object"||!e)return[X1,t];const n=mEe.call(e).slice(8,-1);switch(n){case"Array":return[Ix,dh];case"Object":return[t_,dh];case"Date":return[_M,dh];case"RegExp":return[NM,dh];case"Map":return[SM,dh];case"Set":return[CM,dh];case"DataView":return[Ix,n]}return n.includes("Array")?[Ix,n]:n.includes("Error")?[gJ,n]:[t_,n]},k0=([e,t])=>e===X1&&(t==="function"||t==="symbol"),gEe=(e,t,n,r)=>{const i=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},a=o=>{if(n.has(o))return n.get(o);let[l,c]=Fg(o);switch(l){case X1:{let d=o;switch(c){case"bigint":l=xJ,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([pJ],o)}return i([l,d],o)}case Ix:{if(c){let h=o;return c==="DataView"?h=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(o)),i([c,[...h]],o)}const d=[],f=i([l,d],o);for(const h of o)d.push(a(h));return f}case t_:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],f=i([l,d],o);for(const h of pEe(o))(e||!k0(Fg(o[h])))&&d.push([a(h),a(o[h])]);return f}case _M:return i([l,o.toISOString()],o);case NM:{const{source:d,flags:f}=o;return i([l,{source:d,flags:f}],o)}case SM:{const d=[],f=i([l,d],o);for(const[h,m]of o)(e||!(k0(Fg(h))||k0(Fg(m))))&&d.push([a(h),a(m)]);return f}case CM:{const d=[],f=i([l,d],o);for(const h of o)(e||!k0(Fg(h)))&&d.push(a(h));return f}}const{message:u}=o;return i([l,{name:c,message:u}],o)};return a},o3=(e,{json:t,lossy:n}={})=>{const r=[];return gEe(!(t||n),!!t,new Map,r)(e),r},n_=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?a3(o3(e,t)):structuredClone(e):(e,t)=>a3(o3(e,t));function xEe(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function vEe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function yEe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||xEe,r=e.options.footnoteBackLabel||vEe,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Qp(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let w=typeof n=="string"?n:n(c,m);typeof w=="string"&&(w={type:"text",value:w}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const w=y.children[y.children.length-1];w&&w.type==="text"?w.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...n_(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const xb=function(e){if(e==null)return _Ee;if(typeof e=="function")return Q1(e);if(typeof e=="object")return Array.isArray(e)?bEe(e):wEe(e);if(typeof e=="string")return jEe(e);throw new Error("Expected function, string, or object as test")};function bEe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=xb(e[n]);return Q1(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function wEe(e){const t=e;return Q1(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function jEe(e){return Q1(t);function t(n){return n&&n.type===e}}function Q1(e){return t;function t(n,r,i){return!!(NEe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function _Ee(){return!0}function NEe(e){return e!==null&&typeof e=="object"&&"type"in e}const vJ=[],SEe=!0,NT=!1,CEe="skip";function yJ(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=xb(i),o=r?-1:1;l(e,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=vJ,p,g,y;if((!t||a(c,u,d[d.length-1]||void 0))&&(m=EEe(n(c,d)),m[0]===NT))return m;if("children"in c&&c.children){const v=c;if(v.children&&m[0]!==CEe)for(g=(r?v.children.length:-1)+o,y=d.concat(v);g>-1&&g<v.children.length;){const w=v.children[g];if(p=l(w,g,y)(),p[0]===NT)return p;g=typeof p[1]=="number"?p[1]:g+o}}return m}}}function EEe(e){return Array.isArray(e)?e:typeof e=="number"?[SEe,e]:e==null?vJ:[e]}function J1(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),yJ(e,a,l,i);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return o(c,f,d)}}const ST={}.hasOwnProperty,kEe={};function AEe(e,t){const n=t||kEe,r=new Map,i=new Map,a=new Map,o={...fEe,...n.handlers},l={all:u,applyData:PEe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:n,patch:TEe,wrap:REe};return J1(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),l;function c(d,f){const h=d.type,m=l.handlers[h];if(ST.call(l.handlers,h)&&m)return m(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,v=n_(y);return v.children=l.all(d),v}return n_(d)}return(l.options.unknownHandler||OEe)(l,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=l.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=l3(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=l3(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function TEe(e,t){e.position&&(t.position=v1e(e))}function PEe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,n_(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function OEe(e,t){const n=t.data||{},r="value"in t&&!(ST.call(n,"hProperties")||ST.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function REe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function l3(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function c3(e,t){const n=AEe(e,t),r=n.one(e,void 0),i=yEe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function DEe(e,t){return e&&"run"in e?async function(n,r){const i=c3(n,{file:r,...t});await e.run(i,r)}:function(n,r){return c3(n,{file:r,...e||t})}}function u3(e){if(e)throw e}var zw=Object.prototype.hasOwnProperty,bJ=Object.prototype.toString,d3=Object.defineProperty,f3=Object.getOwnPropertyDescriptor,h3=function(t){return typeof Array.isArray=="function"?Array.isArray(t):bJ.call(t)==="[object Array]"},m3=function(t){if(!t||bJ.call(t)!=="[object Object]")return!1;var n=zw.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&zw.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||zw.call(t,i)},p3=function(t,n){d3&&n.name==="__proto__"?d3(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},g3=function(t,n){if(n==="__proto__")if(zw.call(t,n)){if(f3)return f3(t,n).value}else return;return t[n]},MEe=function e(){var t,n,r,i,a,o,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=g3(l,n),i=g3(t,n),l!==i&&(d&&i&&(m3(i)||(a=h3(i)))?(a?(a=!1,o=r&&h3(r)?r:[]):o=r&&m3(r)?r:{},p3(l,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&p3(l,{name:n,newValue:i}));return l};const CE=Vt(MEe);function CT(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function IEe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(c,...u){const d=e[++a];let f=-1;if(c){o(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?LEe(d,l)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function LEe(e,t){let n;return r;function r(...o){const l=e.length>o.length;let c;l&&o.push(i);try{c=e.apply(this,o)}catch(u){const d=u;if(l&&n)throw d;return i(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(o,...l){n||(n=!0,t(o,...l))}function a(o){i(null,o)}}const vo={basename:$Ee,dirname:FEe,extname:zEe,join:BEe,sep:"/"};function $Ee(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');vb(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function FEe(e){if(vb(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function zEe(e){vb(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function BEe(...e){let t=-1,n;for(;++t<e.length;)vb(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":UEe(n)}function UEe(e){vb(e);const t=e.codePointAt(0)===47;let n=qEe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function qEe(e,t){let n="",r=0,i=-1,a=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else l===46&&a>-1?a++:a=-1}return n}function vb(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const VEe={cwd:HEe};function HEe(){return"/"}function ET(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function WEe(e){if(typeof e=="string")e=new URL(e);else if(!ET(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return GEe(e)}function GEe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const EE=["history","path","basename","stem","extname","dirname"];class wJ{constructor(t){let n;t?ET(t)?n={path:t}:typeof t=="string"||KEe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":VEe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<EE.length;){const a=EE[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)EE.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?vo.basename(this.path):void 0}set basename(t){AE(t,"basename"),kE(t,"basename"),this.path=vo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?vo.dirname(this.path):void 0}set dirname(t){x3(this.basename,"dirname"),this.path=vo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?vo.extname(this.path):void 0}set extname(t){if(kE(t,"extname"),x3(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ET(t)&&(t=WEe(t)),AE(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?vo.basename(this.path,this.extname):void 0}set stem(t){AE(t,"stem"),kE(t,"stem"),this.path=vo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ys(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function kE(e,t){if(e&&e.includes(vo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vo.sep+"`")}function AE(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function x3(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function KEe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const YEe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},XEe={}.hasOwnProperty;class EM extends YEe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=IEe()}copy(){const t=new EM;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(CE(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(OE("data",this.frozen),this.namespace[t]=n,this):XEe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(OE("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=A0(t),r=this.parser||this.Parser;return TE("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),TE("process",this.parser||this.Parser),PE("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const l=A0(t),c=r.parse(l);r.run(c,l,function(d,f,h){if(d||!f||!h)return u(d);const m=f,p=r.stringify(m,h);ZEe(p)?h.value=p:h.result=p,u(d,h)});function u(d,f){d||!f?o(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),TE("processSync",this.parser||this.Parser),PE("processSync",this.compiler||this.Compiler),this.process(t,i),y3("processSync","process",n),r;function i(a,o){n=!0,u3(a),r=o}}run(t,n,r){v3(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,l){const c=A0(n);i.run(t,c,u);function u(d,f,h){const m=f||t;d?l(d):o?o(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),y3("runSync","run",r),i;function a(o,l){u3(o),i=l,r=!0}}stringify(t,n){this.freeze();const r=A0(n),i=this.compiler||this.Compiler;return PE("stringify",i),v3(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(OE("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=CE(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];CT(g)&&CT(m)&&(m=CE(!0,g,m)),r[h]=[u,m,...p]}}}}const QEe=new EM().freeze();function TE(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function PE(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function OE(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function v3(e){if(!CT(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function y3(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function A0(e){return JEe(e)?e:new wJ(e)}function JEe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ZEe(e){return typeof e=="string"||eke(e)}function eke(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const tke="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",b3=[],w3={allowDangerousHtml:!0},nke=/^(https?|ircs?|mailto|xmpp)$/i,rke=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yl(e){const t=ske(e),n=ike(e);return ake(t.runSync(t.parse(n),n),e)}function ske(e){const t=e.rehypePlugins||b3,n=e.remarkPlugins||b3,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...w3}:w3;return QEe().use(zCe).use(n).use(DEe,r).use(t)}function ike(e){const t=e.children||"",n=new wJ;return typeof t=="string"&&(n.value=t),n}function ake(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||oke;for(const d of rke)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+tke+d.id,void 0);return J1(e,u),_1e(e,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return o?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in _E)if(Object.hasOwn(_E,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=_E[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=c(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return l&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function oke(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||nke.test(e.slice(0,t))?e:""}const lke=e=>{if(!e)return"";let t=e.replace(/\\n/g," ");return t=t.replace(/(\d+\))/g,`
$1`),t=t.replace(/^\n/,""),t},cke=({hasContent:e=!0,hasDefinition:t=!1,hasRecommendations:n=!1,hasChat:r=!1,hasComments:i=!1,defaultTab:a})=>{const o=()=>a,[l,c]=x.useState(o()),[u,d]=x.useState(!1),[f,h]=x.useState(0),[m,p]=x.useState("auto"),g=x.useRef(null),y=x.useRef(null);return x.useLayoutEffect(()=>{var b,j;if(g.current&&y.current){const _=g.current.scrollHeight,N=((b=y.current.querySelector(".sticky"))==null?void 0:b.clientHeight)||100,S=((j=y.current.querySelector(".border-b"))==null?void 0:j.clientHeight)||50,C=48,k=_+N+S+C;h(_),p(`${k}px`);const A=new ResizeObserver(()=>{if(g.current&&!u&&y.current){const T=g.current.scrollHeight;if(T!==_){const E=T+N+S+C;h(T),p(`${E}px`)}}});return A.observe(g.current),()=>{A.disconnect()}}},[l,u]),{activeTab:l,setActiveTab:c,isTransitioning:u,contentHeight:f,modalHeight:m,contentRef:g,modalRef:y,handleTabChange:b=>{b===l||u||(d(!0),setTimeout(()=>{c(b),setTimeout(()=>{var j,_;if(g.current&&y.current){const N=g.current.scrollHeight,S=((j=y.current.querySelector(".sticky"))==null?void 0:j.clientHeight)||100,C=((_=y.current.querySelector(".border-b"))==null?void 0:_.clientHeight)||50,A=N+S+C+48;h(N),p(`${A}px`)}setTimeout(()=>{d(!1)},60)},30)},100))},resetTab:()=>{c(o()),d(!1),p("auto")}}};var jJ={exports:{}},_J={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm=x;function uke(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dke=typeof Object.is=="function"?Object.is:uke,fke=Hm.useState,hke=Hm.useEffect,mke=Hm.useLayoutEffect,pke=Hm.useDebugValue;function gke(e,t){var n=t(),r=fke({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return mke(function(){i.value=n,i.getSnapshot=t,RE(i)&&a({inst:i})},[e,n,t]),hke(function(){return RE(i)&&a({inst:i}),e(function(){RE(i)&&a({inst:i})})},[e]),pke(n),n}function RE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dke(e,n)}catch{return!0}}function xke(e,t){return t()}var vke=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xke:gke;_J.useSyncExternalStore=Hm.useSyncExternalStore!==void 0?Hm.useSyncExternalStore:vke;jJ.exports=_J;var yke=jJ.exports;function bke(){return yke.useSyncExternalStore(wke,()=>!0,()=>!1)}function wke(){return()=>{}}var kM="Avatar",[jke]=sr(kM),[_ke,NJ]=jke(kM),SJ=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=x.useState("idle");return s.jsx(_ke,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx($e.span,{...r,ref:t})})});SJ.displayName=kM;var CJ="AvatarImage",EJ=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=NJ(CJ,n),l=Nke(r,a),c=zs(u=>{i(u),o.onImageLoadingStatusChange(u)});return lr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx($e.img,{...a,ref:t,src:r}):null});EJ.displayName=CJ;var kJ="AvatarFallback",AJ=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=NJ(kJ,n),[o,l]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx($e.span,{...i,ref:t}):null});AJ.displayName=kJ;function j3(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Nke(e,{referrerPolicy:t,crossOrigin:n}){const r=bke(),i=x.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=x.useState(()=>j3(a,e));return lr(()=>{l(j3(a,e))},[a,e]),lr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var TJ=SJ,PJ=EJ,OJ=AJ;const Pv=x.forwardRef(({className:e,...t},n)=>s.jsx(TJ,{ref:n,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Pv.displayName=TJ.displayName;const RJ=x.forwardRef(({className:e,...t},n)=>s.jsx(PJ,{ref:n,className:de("aspect-square h-full w-full",e),...t}));RJ.displayName=PJ.displayName;const Ov=x.forwardRef(({className:e,...t},n)=>s.jsx(OJ,{ref:n,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ov.displayName=OJ.displayName;var kT=["Enter"," "],Ske=["ArrowDown","PageUp","Home"],DJ=["ArrowUp","PageDown","End"],Cke=[...Ske,...DJ],Eke={ltr:[...kT,"ArrowRight"],rtl:[...kT,"ArrowLeft"]},kke={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yb="Menu",[Rv,Ake,Tke]=Op(yb),[Bf,MJ]=sr(yb,[Tke,Ru,Fu]),Z1=Ru(),IJ=Fu(),[Pke,Uf]=Bf(yb),[Oke,bb]=Bf(yb),LJ=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,l=Z1(t),[c,u]=x.useState(null),d=x.useRef(!1),f=zs(a),h=Iu(i);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),s.jsx(p1,{...l,children:s.jsx(Pke,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(Oke,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};LJ.displayName=yb;var Rke="MenuAnchor",AM=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Z1(n);return s.jsx(Ky,{...i,...r,ref:t})});AM.displayName=Rke;var TM="MenuPortal",[Dke,$J]=Bf(TM,{forceMount:void 0}),FJ=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=Uf(TM,t);return s.jsx(Dke,{scope:t,forceMount:n,children:s.jsx(vs,{present:n||a.open,children:s.jsx(Rp,{asChild:!0,container:i,children:r})})})};FJ.displayName=TM;var pa="MenuContent",[Mke,PM]=Bf(pa),zJ=x.forwardRef((e,t)=>{const n=$J(pa,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Uf(pa,e.__scopeMenu),o=bb(pa,e.__scopeMenu);return s.jsx(Rv.Provider,{scope:e.__scopeMenu,children:s.jsx(vs,{present:r||a.open,children:s.jsx(Rv.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Ike,{...i,ref:t}):s.jsx(Lke,{...i,ref:t})})})})}),Ike=x.forwardRef((e,t)=>{const n=Uf(pa,e.__scopeMenu),r=x.useRef(null),i=it(t,r);return x.useEffect(()=>{const a=r.current;if(a)return A1(a)},[]),s.jsx(OM,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Te(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Lke=x.forwardRef((e,t)=>{const n=Uf(pa,e.__scopeMenu);return s.jsx(OM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$ke=xu("MenuContent.ScrollLock"),OM=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:p,...g}=e,y=Uf(pa,n),v=bb(pa,n),w=Z1(n),b=IJ(n),j=Ake(n),[_,N]=x.useState(null),S=x.useRef(null),C=it(t,S,y.onContentChange),k=x.useRef(0),A=x.useRef(""),T=x.useRef(0),E=x.useRef(null),R=x.useRef("right"),$=x.useRef(0),O=p?Jy:x.Fragment,F=p?{as:$ke,allowPinchZoom:!0}:void 0,z=I=>{var X,oe;const M=A.current+I,U=j().filter(Y=>!Y.disabled),D=document.activeElement,L=(X=U.find(Y=>Y.ref.current===D))==null?void 0:X.textValue,V=U.map(Y=>Y.textValue),K=Xke(V,M,L),G=(oe=U.find(Y=>Y.textValue===K))==null?void 0:oe.ref.current;(function Y(ne){A.current=ne,window.clearTimeout(k.current),ne!==""&&(k.current=window.setTimeout(()=>Y(""),1e3))})(M),G&&setTimeout(()=>G.focus())};x.useEffect(()=>()=>window.clearTimeout(k.current),[]),E1();const P=x.useCallback(I=>{var U,D;return R.current===((U=E.current)==null?void 0:U.side)&&Jke(I,(D=E.current)==null?void 0:D.area)},[]);return s.jsx(Mke,{scope:n,searchRef:A,onItemEnter:x.useCallback(I=>{P(I)&&I.preventDefault()},[P]),onItemLeave:x.useCallback(I=>{var M;P(I)||((M=S.current)==null||M.focus(),N(null))},[P]),onTriggerLeave:x.useCallback(I=>{P(I)&&I.preventDefault()},[P]),pointerGraceTimerRef:T,onPointerGraceIntentChange:x.useCallback(I=>{E.current=I},[]),children:s.jsx(O,{...F,children:s.jsx(Qy,{asChild:!0,trapped:i,onMountAutoFocus:Te(a,I=>{var M;I.preventDefault(),(M=S.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(If,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:s.jsx($1,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:Te(c,I=>{v.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(g1,{role:"menu","aria-orientation":"vertical","data-state":nZ(y.open),"data-radix-menu-content":"",dir:v.dir,...w,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:Te(g.onKeyDown,I=>{const U=I.target.closest("[data-radix-menu-content]")===I.currentTarget,D=I.ctrlKey||I.altKey||I.metaKey,L=I.key.length===1;U&&(I.key==="Tab"&&I.preventDefault(),!D&&L&&z(I.key));const V=S.current;if(I.target!==V||!Cke.includes(I.key))return;I.preventDefault();const G=j().filter(X=>!X.disabled).map(X=>X.ref.current);DJ.includes(I.key)&&G.reverse(),Kke(G)}),onBlur:Te(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(k.current),A.current="")}),onPointerMove:Te(e.onPointerMove,Dv(I=>{const M=I.target,U=$.current!==I.clientX;if(I.currentTarget.contains(M)&&U){const D=I.clientX>$.current?"right":"left";R.current=D,$.current=I.clientX}}))})})})})})})});zJ.displayName=pa;var Fke="MenuGroup",RM=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx($e.div,{role:"group",...r,ref:t})});RM.displayName=Fke;var zke="MenuLabel",BJ=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx($e.div,{...r,ref:t})});BJ.displayName=zke;var r_="MenuItem",_3="menu.itemSelect",eS=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=x.useRef(null),o=bb(r_,e.__scopeMenu),l=PM(r_,e.__scopeMenu),c=it(t,a),u=x.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(_3,{bubbles:!0,cancelable:!0});f.addEventListener(_3,m=>r==null?void 0:r(m),{once:!0}),sD(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(UJ,{...i,ref:c,disabled:n,onClick:Te(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Te(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Te(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||kT.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});eS.displayName=r_;var UJ=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,o=PM(r_,n),l=IJ(n),c=x.useRef(null),u=it(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[a.children]),s.jsx(Rv.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:s.jsx(F1,{asChild:!0,...l,focusable:!r,children:s.jsx($e.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:Te(e.onPointerMove,Dv(p=>{r?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Te(e.onPointerLeave,Dv(p=>o.onItemLeave(p))),onFocus:Te(e.onFocus,()=>f(!0)),onBlur:Te(e.onBlur,()=>f(!1))})})})}),Bke="MenuCheckboxItem",qJ=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx(KJ,{scope:e.__scopeMenu,checked:n,children:s.jsx(eS,{role:"menuitemcheckbox","aria-checked":s_(n)?"mixed":n,...i,ref:t,"data-state":MM(n),onSelect:Te(i.onSelect,()=>r==null?void 0:r(s_(n)?!0:!n),{checkForDefaultPrevented:!1})})})});qJ.displayName=Bke;var VJ="MenuRadioGroup",[Uke,qke]=Bf(VJ,{value:void 0,onValueChange:()=>{}}),HJ=x.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=zs(r);return s.jsx(Uke,{scope:e.__scopeMenu,value:n,onValueChange:a,children:s.jsx(RM,{...i,ref:t})})});HJ.displayName=VJ;var WJ="MenuRadioItem",GJ=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=qke(WJ,e.__scopeMenu),a=n===i.value;return s.jsx(KJ,{scope:e.__scopeMenu,checked:a,children:s.jsx(eS,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":MM(a),onSelect:Te(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});GJ.displayName=WJ;var DM="MenuItemIndicator",[KJ,Vke]=Bf(DM,{checked:!1}),YJ=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=Vke(DM,n);return s.jsx(vs,{present:r||s_(a.checked)||a.checked===!0,children:s.jsx($e.span,{...i,ref:t,"data-state":MM(a.checked)})})});YJ.displayName=DM;var Hke="MenuSeparator",XJ=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx($e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});XJ.displayName=Hke;var Wke="MenuArrow",QJ=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Z1(n);return s.jsx(x1,{...i,...r,ref:t})});QJ.displayName=Wke;var Gke="MenuSub",[D_t,JJ]=Bf(Gke),mx="MenuSubTrigger",ZJ=x.forwardRef((e,t)=>{const n=Uf(mx,e.__scopeMenu),r=bb(mx,e.__scopeMenu),i=JJ(mx,e.__scopeMenu),a=PM(mx,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(AM,{asChild:!0,...u,children:s.jsx(UJ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":nZ(n.open),...e,ref:Rl(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Te(e.onPointerMove,Dv(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Te(e.onPointerLeave,Dv(f=>{var m,p;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(p=n.content)==null?void 0:p.dataset.side,y=g==="right",v=y?-5:5,w=h[y?"left":"right"],b=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Te(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||Eke[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});ZJ.displayName=mx;var eZ="MenuSubContent",tZ=x.forwardRef((e,t)=>{const n=$J(pa,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Uf(pa,e.__scopeMenu),o=bb(pa,e.__scopeMenu),l=JJ(eZ,e.__scopeMenu),c=x.useRef(null),u=it(t,c);return s.jsx(Rv.Provider,{scope:e.__scopeMenu,children:s.jsx(vs,{present:r||a.open,children:s.jsx(Rv.Slot,{scope:e.__scopeMenu,children:s.jsx(OM,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Te(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Te(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Te(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=kke[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});tZ.displayName=eZ;function nZ(e){return e?"open":"closed"}function s_(e){return e==="indeterminate"}function MM(e){return s_(e)?"indeterminate":e?"checked":"unchecked"}function Kke(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Yke(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Xke(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Yke(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Qke(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function Jke(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Qke(n,t)}function Dv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Zke=LJ,eAe=AM,tAe=FJ,nAe=zJ,rAe=RM,sAe=BJ,iAe=eS,aAe=qJ,oAe=HJ,lAe=GJ,cAe=YJ,uAe=XJ,dAe=QJ,fAe=ZJ,hAe=tZ,tS="DropdownMenu",[mAe]=sr(tS,[MJ]),qs=MJ(),[pAe,rZ]=mAe(tS),sZ=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=qs(t),u=x.useRef(null),[d,f]=Or({prop:i,defaultProp:a??!1,onChange:o,caller:tS});return s.jsx(pAe,{scope:t,triggerId:xr(),triggerRef:u,contentId:xr(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(Zke,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};sZ.displayName=tS;var iZ="DropdownMenuTrigger",aZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=rZ(iZ,n),o=qs(n);return s.jsx(eAe,{asChild:!0,...o,children:s.jsx($e.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Rl(t,a.triggerRef),onPointerDown:Te(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Te(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});aZ.displayName=iZ;var gAe="DropdownMenuPortal",oZ=e=>{const{__scopeDropdownMenu:t,...n}=e,r=qs(t);return s.jsx(tAe,{...r,...n})};oZ.displayName=gAe;var lZ="DropdownMenuContent",cZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rZ(lZ,n),a=qs(n),o=x.useRef(!1);return s.jsx(nAe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:Te(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Te(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cZ.displayName=lZ;var xAe="DropdownMenuGroup",vAe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(rAe,{...i,...r,ref:t})});vAe.displayName=xAe;var yAe="DropdownMenuLabel",uZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(sAe,{...i,...r,ref:t})});uZ.displayName=yAe;var bAe="DropdownMenuItem",dZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(iAe,{...i,...r,ref:t})});dZ.displayName=bAe;var wAe="DropdownMenuCheckboxItem",fZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(aAe,{...i,...r,ref:t})});fZ.displayName=wAe;var jAe="DropdownMenuRadioGroup",_Ae=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(oAe,{...i,...r,ref:t})});_Ae.displayName=jAe;var NAe="DropdownMenuRadioItem",hZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(lAe,{...i,...r,ref:t})});hZ.displayName=NAe;var SAe="DropdownMenuItemIndicator",mZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(cAe,{...i,...r,ref:t})});mZ.displayName=SAe;var CAe="DropdownMenuSeparator",pZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(uAe,{...i,...r,ref:t})});pZ.displayName=CAe;var EAe="DropdownMenuArrow",kAe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(dAe,{...i,...r,ref:t})});kAe.displayName=EAe;var AAe="DropdownMenuSubTrigger",gZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(fAe,{...i,...r,ref:t})});gZ.displayName=AAe;var TAe="DropdownMenuSubContent",xZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=qs(n);return s.jsx(hAe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xZ.displayName=TAe;var PAe=sZ,OAe=aZ,RAe=oZ,vZ=cZ,yZ=uZ,bZ=dZ,wZ=fZ,jZ=hZ,_Z=mZ,NZ=pZ,SZ=gZ,CZ=xZ;const Ts=PAe,Ps=OAe,DAe=x.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(SZ,{ref:i,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(Oi,{className:"ml-auto h-4 w-4"})]}));DAe.displayName=SZ.displayName;const MAe=x.forwardRef(({className:e,...t},n)=>s.jsx(CZ,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));MAe.displayName=CZ.displayName;const ds=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(RAe,{children:s.jsx(vZ,{ref:r,sideOffset:t,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ds.displayName=vZ.displayName;const mr=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(bZ,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));mr.displayName=bZ.displayName;const EZ=x.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(wZ,{ref:i,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(_Z,{children:s.jsx(Vr,{className:"h-4 w-4"})})}),t]}));EZ.displayName=wZ.displayName;const IAe=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(jZ,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(_Z,{children:s.jsx(w7,{className:"h-2 w-2 fill-current"})})}),t]}));IAe.displayName=jZ.displayName;const kZ=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(yZ,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));kZ.displayName=yZ.displayName;const AT=x.forwardRef(({className:e,...t},n)=>s.jsx(NZ,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));AT.displayName=NZ.displayName;const LAe=({deliverableId:e,organizationId:t})=>{const[n,r]=x.useState([]),[i,a]=x.useState(""),[o,l]=x.useState(null),[c,u]=x.useState(""),[d,f]=x.useState(!0),[h,m]=x.useState(!1),[p,g]=x.useState(null),[y,v]=x.useState(!1),[w,b]=x.useState(null);x.useEffect(()=>{if(console.log("🔍 DeliverableComments mounted/updated:",{deliverableId:e,organizationId:t}),!e){console.log("⚠️ No deliverableId provided, skipping fetch"),f(!1);return}_(),j();const R=q.channel(`deliverable_comments_${e}`).on("postgres_changes",{event:"*",schema:"public",table:"deliverable_comments",filter:`deliverable_id=eq.${e}`},$=>{console.log("🔔 Real-time comment update:",$),_()}).subscribe();return()=>{console.log("🧹 Cleaning up comments subscription"),q.removeChannel(R)}},[e,t]);const j=async()=>{const{data:{user:R}}=await q.auth.getUser();R&&g(R.id)},_=async()=>{try{f(!0),console.log("📥 Fetching comments for deliverable:",e),console.log("🏢 Organization ID (optional):",t||"none");const{data:R,error:$}=await q.from("deliverable_comments").select(`
          *,
          profiles!deliverable_comments_user_id_fkey(
            id,
            email,
            first_name,
            last_name,
            avatar_url
          )
        `).eq("deliverable_id",e).order("created_at",{ascending:!0});if($)throw console.error("❌ Error fetching comments:",$),console.error("❌ Error details:",{code:$.code,message:$.message,details:$.details,hint:$.hint}),$;console.log("✅ Fetched comments:",(R==null?void 0:R.length)||0,"comments found"),console.log("📋 Comments data:",R);let O=new Set;const F=new Set;if(t&&F.add(t),R==null||R.forEach(P=>{P.organization_id&&F.add(P.organization_id)}),F.size>0){console.log("🎓 Checking for mentors in organizations:",Array.from(F));const P=(R==null?void 0:R.map(I=>I.user_id))||[];if(P.length>0){const{data:I}=await q.from("mentors").select("user_id, organization_id").in("organization_id",Array.from(F)).eq("status","active").in("user_id",P);O=new Set((I==null?void 0:I.map(M=>M.user_id))||[]),console.log("🎓 Found mentors:",Array.from(O))}}const z=(R||[]).map(P=>({id:P.id,deliverable_id:P.deliverable_id,user_id:P.user_id,content:P.content,created_at:P.created_at,updated_at:P.updated_at,is_edited:P.is_edited,user:P.profiles,is_mentor:O.has(P.user_id)}));console.log("💬 Setting comments state with",z.length,"comments"),r(z)}catch(R){console.error("Error fetching comments:",R),we({title:"Erreur",description:"Impossible de charger les commentaires.",variant:"destructive"})}finally{f(!1)}},N=async()=>{if(!i.trim()){we({title:"Erreur",description:"Le commentaire ne peut pas être vide.",variant:"destructive"});return}try{m(!0),console.log("📤 Submitting comment:",{deliverable_id:e,organization_id:t||null,user_id:p,content_length:i.trim().length});const{error:R}=await q.from("deliverable_comments").insert({deliverable_id:e,organization_id:t||null,user_id:p,content:i.trim()});if(R)throw console.error("❌ Error inserting comment:",R),R;console.log("✅ Comment submitted successfully"),a(""),we({title:"Succès",description:"Commentaire ajouté avec succès."}),await _()}catch(R){console.error("Error submitting comment:",R),we({title:"Erreur",description:"Impossible d'ajouter le commentaire.",variant:"destructive"})}finally{m(!1)}},S=(R,$)=>{l(R),u($)},C=async()=>{if(!c.trim()){we({title:"Erreur",description:"Le commentaire ne peut pas être vide.",variant:"destructive"});return}try{console.log("✏️ Updating comment:",o);const{error:R}=await q.from("deliverable_comments").update({content:c.trim(),is_edited:!0,updated_at:new Date().toISOString()}).eq("id",o);if(R)throw console.error("❌ Error updating comment:",R),R;console.log("✅ Comment updated successfully"),l(null),u(""),we({title:"Succès",description:"Commentaire modifié avec succès."}),await _()}catch(R){console.error("Error updating comment:",R),we({title:"Erreur",description:"Impossible de modifier le commentaire.",variant:"destructive"})}},k=async()=>{if(w)try{console.log("🗑️ Deleting comment:",w);const{error:R}=await q.from("deliverable_comments").delete().eq("id",w);if(R)throw console.error("❌ Error deleting comment:",R),R;console.log("✅ Comment deleted successfully"),we({title:"Succès",description:"Commentaire supprimé avec succès."}),await _()}catch(R){console.error("Error deleting comment:",R),we({title:"Erreur",description:"Impossible de supprimer le commentaire.",variant:"destructive"})}finally{v(!1),b(null)}},A=R=>{const $=new Date(R),O=new Date,F=O.getTime()-$.getTime(),z=Math.floor(F/6e4),P=Math.floor(z/60),I=Math.floor(P/24);return z<1?"À l'instant":z<60?`Il y a ${z} min`:P<24?`Il y a ${P}h`:I<7?`Il y a ${I}j`:$.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:$.getFullYear()!==O.getFullYear()?"numeric":void 0})},T=R=>R?R.first_name&&R.last_name?`${R.first_name[0]}${R.last_name[0]}`.toUpperCase():R.email?R.email.substring(0,2).toUpperCase():"?":"?",E=R=>R?R.first_name&&R.last_name?`${R.first_name} ${R.last_name}`:R.first_name?R.first_name:R.email?R.email.split("@")[0]:"Utilisateur":"Utilisateur inconnu";return d?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Pt,{className:"h-6 w-6 animate-spin text-gray-400"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-5 w-5 text-gray-500"}),s.jsxs("h3",{className:"font-semibold text-lg",children:["Commentaires ",n.length>0&&`(${n.length})`]})]}),s.jsx("div",{className:"space-y-4",children:n.length===0?s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(vu,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Aucun commentaire pour l'instant"}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Soyez le premier à commenter ce livrable"})]}):n.map(R=>{var $;return s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs(Pv,{className:"h-10 w-10 flex-shrink-0",children:[s.jsx(RJ,{src:($=R.user)==null?void 0:$.avatar_url,alt:E(R.user)}),s.jsx(Ov,{className:"bg-gradient-to-br from-orange-400 to-pink-400 text-white text-sm font-semibold",children:T(R.user)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("span",{className:"font-medium text-sm text-gray-900",children:E(R.user)}),R.is_mentor&&s.jsx(Ce,{variant:"secondary",className:"text-xs bg-purple-100 text-purple-700",children:"Mentor"}),s.jsx("span",{className:"text-xs text-gray-500",children:A(R.created_at)}),R.is_edited&&s.jsx("span",{className:"text-xs text-gray-400 italic",children:"(modifié)"})]}),o===R.id?s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsx(at,{value:c,onChange:O=>u(O.target.value),className:"min-h-[80px] text-sm",placeholder:"Modifier votre commentaire..."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{size:"sm",onClick:C,className:"bg-gradient-primary hover:opacity-90",children:"Enregistrer"}),s.jsx(H,{size:"sm",variant:"outline",onClick:()=>{l(null),u("")},children:"Annuler"})]})]}):s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap break-words",children:R.content})]}),R.user_id===p&&o!==R.id&&s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsx(H,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(Jhe,{className:"h-4 w-4"})})}),s.jsxs(ds,{align:"end",children:[s.jsxs(mr,{onClick:()=>S(R.id,R.content),children:[s.jsx(S7,{className:"h-4 w-4 mr-2"}),"Modifier"]}),s.jsxs(mr,{onClick:()=>{b(R.id),v(!0)},className:"text-red-600",children:[s.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})]})},R.id)})}),s.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[s.jsx(at,{value:i,onChange:R=>a(R.target.value),placeholder:"Ajouter un commentaire...",className:"min-h-[100px] resize-none",disabled:h}),s.jsx("div",{className:"flex justify-end",children:s.jsx(H,{onClick:N,disabled:!i.trim()||h,className:"bg-gradient-primary hover:opacity-90",children:h?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Envoi..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rj,{className:"h-4 w-4 mr-2"}),"Envoyer"]})})})]}),s.jsx(R1,{open:y,onOpenChange:v,children:s.jsxs(rb,{children:[s.jsxs(sb,{children:[s.jsx(ab,{children:"Supprimer le commentaire ?"}),s.jsx(ob,{children:"Cette action est irréversible. Le commentaire sera définitivement supprimé."})]}),s.jsxs(ib,{children:[s.jsx(cb,{children:"Annuler"}),s.jsx(lb,{onClick:k,className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})})]})},Hi=({isOpen:e,onClose:t,title:n,iconComponent:r,contentComponent:i,recommendations:a,definition:o,importance:l,chatComponent:c,showContentTab:u=!0,children:d,modalWidthClass:f="md:w-3/4",deliverableId:h,organizationId:m,showCommentsTab:p=!1})=>{console.log("🔍 HarmonizedDeliverableModal Debug:",{showCommentsTab:p,deliverableId:h,organizationId:m,hasDeliverableId:!!h,willRenderComments:p&&!!h}),B.useEffect(()=>{console.log("🔄 Modal deliverableId changed:",{deliverableId:h,organizationId:m,showCommentsTab:p})},[h,m,p]);const{activeTab:g,isTransitioning:y,modalHeight:v,contentRef:w,modalRef:b,handleTabChange:j,resetTab:_}=cke({hasContent:u,hasDefinition:!!o,hasRecommendations:!!a,hasChat:!!c,hasComments:p&&!!h,defaultTab:u?"structure":a?"recommendations":o?"definition":c?"chat":"structure"}),N=()=>{t(),_()};return e?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:N,children:[s.jsxs("div",{ref:b,className:`bg-white text-black rounded-xl shadow-2xl w-full mx-2.5 ${f} relative transform scale-95 opacity-0 overflow-hidden flex flex-col`,onClick:S=>S.stopPropagation(),style:{animation:"scaleIn 0.3s ease-out forwards",height:v,maxHeight:"calc(100vh - 100px)",transition:"height 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.3s ease-out"},children:[s.jsx(EQ,{title:n,iconComponent:r,onClose:N}),s.jsxs("div",{className:"flex bg-white border-b border-gray-100 overflow-x-auto",children:[u&&s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap ${g==="structure"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>j("structure"),children:"Contenu"}),a&&s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap ${g==="recommendations"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>j("recommendations"),children:"Recommandations"}),o&&s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap ${g==="definition"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>j("definition"),children:"Définition"}),c&&s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap ${g==="chat"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>j("chat"),children:"Chat"}),p&&h&&s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap ${g==="comments"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>j("comments"),children:"Commentaires"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:s.jsxs("div",{ref:w,className:`transition-all duration-300 ${y?"opacity-0 blur-sm transform translate-y-2":"opacity-100 blur-0 transform translate-y-0"}`,children:[g==="structure"&&s.jsx(s.Fragment,{children:i||d||s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-500",children:"Aucun contenu disponible pour le moment."})})}),g==="recommendations"&&s.jsx("div",{className:"prose max-w-none",children:a?s.jsx("div",{style:{whiteSpace:"pre-wrap"},children:s.jsx(yl,{children:lke(String(a))})}):s.jsx("p",{className:"text-gray-500",children:"Aucune recommandation disponible pour le moment."})}),g==="definition"&&s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Définition"}),o?s.jsx("div",{style:{whiteSpace:"pre-wrap"},children:o}):s.jsx("p",{className:"text-gray-500",children:"Aucune définition disponible pour le moment."}),s.jsx("h3",{className:"text-lg font-bold mb-2 mt-6",children:"Importance"}),l?s.jsx("div",{style:{whiteSpace:"pre-wrap"},children:l}):s.jsx("p",{className:"text-gray-500",children:"Aucune importance disponible pour le moment."})]}),g==="chat"&&s.jsx(s.Fragment,{children:c||s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-500",children:"Aucun chat disponible pour le moment."})})}),g==="comments"&&p&&h&&s.jsx(LAe,{deliverableId:h,organizationId:m||null},`comments-${h}`)]})})]}),s.jsx("style",{children:`
          @keyframes scaleIn {
            from {
              opacity: 0;
              transform: scale(0.95) translateY(20px); /* Ajout du décalage vertical */
            }
            to {
              opacity: 1;
              transform: scale(1) translateY(0);
            }
          }
        `})]}):null},Sa=({defaultTab:e="structure",hasContent:t=!0,hasRecommendations:n=!1,hasDefinition:r=!1}={})=>{const[i,a]=x.useState(!1);return{isPopupOpen:i,handleTemplateClick:()=>{a(!0)},handlePopupClose:()=>{a(!1)},getInitialTab:()=>t&&e==="structure"?"structure":n&&(e==="recommendations"||!t)?"recommendations":r&&(e==="definition"||!t&&!n)?"definition":"structure"}},$Ae=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,a]=x.useState(null),[o,l]=x.useState(!0),[c,u]=x.useState(null),[d,f]=x.useState("Particulier"),{projectId:h}=Nt(),{isPopupOpen:m,handleTemplateClick:p,handlePopupClose:g}=Sa({hasContent:!0,hasRecommendations:!0,hasDefinition:!0}),{deliverableId:y,organizationId:v,isInOrganization:w}=Na({projectId:h||"",deliverableType:"other",deliverableTitle:"Persona Express"});x.useEffect(()=>{console.log("🔍 PersonaExpress Deliverable Debug:",{deliverableId:y,organizationId:v,isInOrganization:w,showCommentsTab:!0,shouldShowTab:!!y})},[y,v,w]),x.useEffect(()=>{(async()=>{if(!h){u("Project ID not found in URL."),l(!1);return}l(!0),u(null);const[A,T,E]=await Promise.all([q.from("persona_express_b2c").select("*").eq("project_id",h).single(),q.from("persona_express_b2b").select("*").eq("project_id",h).single(),q.from("persona_express_organismes").select("*").eq("project_id",h).single()]);A.error?u(A.error.message):t(A.data),T.error||r(T.data),E.error||a(E.data),l(!1)})()},[h]),x.useEffect(()=>{console.log("Persona Data (Particulier):",e),console.log("Persona Business Data (Entreprise):",n),console.log("Persona Organisme Data (Organisme):",i),console.log("Selected Type:",d),console.log("Recommendations for selected type:",N())},[e,n,i,d]);const b="Persona Express",j="Un persona est un profil semi-fictif représentant votre client idéal, basé sur des données réelles et des recherches sur votre marché cible.",_="Créer des personas permet de mieux comprendre vos clients, d'adapter votre communication, de développer des produits qui répondent à leurs besoins et d'optimiser vos stratégies marketing et commerciales",N=()=>{let k=e==null?void 0:e.recommandations;return Array.isArray(k)?k.map(A=>typeof A=="object"&&A!==null?A.text||A.value||JSON.stringify(A):String(A)).join(`

`):k||""},S=k=>{if(!k)return null;const A=E=>{const R=/(\*\*|__)(.*?)\1/g,$=[];let O=0,F;for(;(F=R.exec(E))!==null;)F.index>O&&$.push(E.substring(O,F.index)),$.push(s.jsx("strong",{children:F[2]},`${E}-${F.index}`)),O=F.index+F[0].length;return O<E.length&&$.push(E.substring(O)),$};return k.split(`
`).map((E,R)=>s.jsxs(B.Fragment,{children:[R>0&&s.jsx("br",{}),A(E)]},R))},C=s.jsxs(s.Fragment,{children:[s.jsxs(mb,{type:"single",value:d,onValueChange:f,className:"flex-row mb-4 mt-4 justify-start",children:[s.jsx(ma,{value:"Particulier","aria-label":"Toggle particuliers",className:`px-3 py-1 text-sm mr-2 ${d==="Particulier"?"bg-aurentia-orange-aurentia text-white":"bg-gray-200"}`,children:s.jsx("span",{className:d==="Particulier"?"text-white":"",children:"Particuliers"})}),s.jsx(ma,{value:"Entreprise","aria-label":"Toggle entreprises",className:`px-3 py-1 text-sm mr-2 ${d==="Entreprise"?"bg-aurentia-orange-aurentia text-white":"bg-gray-200"}`,children:s.jsx("span",{className:d==="Entreprise"?"text-white":"",children:"Entreprises"})}),s.jsx(ma,{value:"Organisme","aria-label":"Toggle organismes",className:`px-3 py-1 text-sm mr-2 ${d==="Organisme"?"bg-aurentia-orange-aurentia text-white":"bg-gray-200"}`,children:s.jsx("span",{className:d==="Organisme"?"text-white":"",children:"Organismes"})})]}),c&&s.jsxs("p",{className:"text-red-500",children:["Error: ",c]}),o&&s.jsx("p",{children:"Loading persona data..."}),d==="Particulier"&&e&&s.jsxs("div",{children:[e.recommandations_b2c&&s.jsx(di,{type:"single",collapsible:!0,className:"w-full mb-6",children:s.jsxs(vn,{value:"item-1",children:[s.jsx(yn,{className:"text-lg font-semibold",children:"Recommandations spécifiques"}),s.jsx(bn,{children:s.jsx("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:s.jsx("p",{className:"text-[#4B5563]",children:S(e.recommandations_b2c)})})})]})}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[" ",s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Profil Client"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Identité et profil du persona"}),s.jsx("p",{className:"text-[#4B5563]",children:e.identite})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Situation personnelle et environnement"}),s.jsx("p",{className:"text-[#4B5563]",children:e.contexte_personnel})]})]})]}),s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-2",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Psychologie Client"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Motivations principales et valeurs"}),s.jsx("p",{className:"text-[#4B5563]",children:e.motivations_valeurs})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Défis rencontrés et frustrations"}),s.jsx("p",{className:"text-[#4B5563]",children:e.defis_frustrations})]})]})]}),s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-3",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Comportement d'Achat"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Habitudes et comportements d'achat"}),s.jsx("p",{className:"text-[#4B5563]",children:e.comportement_achat})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Présence et activité sur les canaux digitaux"}),s.jsx("p",{className:"text-[#4B5563]",children:e.presence_digitale})]})]})]}),s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Stratégies Recommandées"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Stratégies marketing recommandées"}),s.jsx("p",{className:"text-[#4B5563]",children:e.strategies_marketing})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Approche de vente adaptée"}),s.jsx("p",{className:"text-[#4B5563]",children:e.approche_vente})]})]})]})]})]}),d==="Entreprise"&&n&&s.jsxs("div",{children:[n.recommandations_b2b&&s.jsx(di,{type:"single",collapsible:!0,className:"w-full mb-6",children:s.jsxs(vn,{value:"item-1",children:[s.jsx(yn,{className:"text-lg font-semibold",children:"Recommandations spécifiques"}),s.jsx(bn,{children:s.jsx("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:s.jsx("p",{className:"text-[#4B5563]",children:S(n.recommandations_b2b)})})})]})}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[" ",s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Profil Professionnel"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Identité et profil professionnel"}),s.jsx("p",{className:"text-[#4B5563]",children:n.identite_professionnelle})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Contexte et environnement organisationnel"}),s.jsx("p",{className:"text-[#4B5563]",children:n.contexte_organisationnel})]})]})]}),s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-2",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Contexte Business"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Responsabilités principales"}),s.jsx("p",{className:"text-[#4B5563]",children:n.responsabilites_cles})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Enjeux et défis business"}),s.jsx("p",{className:"text-[#4B5563]",children:n.enjeux_business})]})]})]}),s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-3",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Processus Décisionnel"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Processus de prise de décision"}),s.jsx("p",{className:"text-[#4B5563]",children:n.processus_decision})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Méthodes de recherche d'infos"}),s.jsx("p",{className:"text-[#4B5563]",children:n.recherche_information})]})]})]}),s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Stratégies d'Approche"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Objections et freins"}),s.jsx("p",{className:"text-[#4B5563]",children:n.objections_courantes})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Stratégie d'approche"}),s.jsx("p",{className:"text-[#4B5563]",children:n.strategie_approche})]})]})]})]})]}),d==="Organisme"&&i&&s.jsxs("div",{children:[i.recommandations_organisme&&s.jsx(di,{type:"single",collapsible:!0,className:"w-full mb-6",children:s.jsxs(vn,{value:"item-1",children:[s.jsx(yn,{className:"text-lg font-semibold",children:"Recommandations spécifiques"}),s.jsx(bn,{children:s.jsx("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:s.jsx("p",{className:"text-[#4B5563]",children:S(i.recommandations_organisme)})})})]})}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[" ",s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Profil Institutionnel"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Identité et profil institutionnel"}),s.jsx("p",{className:"text-[#4B5563]",children:i.identite_institutionnelle})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Contexte et environnement organisationnel"}),s.jsx("p",{className:"text-[#4B5563]",children:i.contexte_organisationnel})]})]})]}),s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-2",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Mission et Contraintes"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Mission et responsabilités de l'organisme"}),s.jsx("p",{className:"text-[#4B5563]",children:i.mission_responsabilites})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Contraintes et limitations budgétaires"}),s.jsx("p",{className:"text-[#4B5563]",children:i.contraintes_budgetaires})]})]})]}),s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-3",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Enjeux et Décisions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Enjeux et priorités principales"}),s.jsx("p",{className:"text-[#4B5563]",children:i.enjeux_prioritaires})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Processus de prise de décision"}),s.jsx("p",{className:"text-[#4B5563]",children:i.processus_decision})]})]})]}),s.jsxs("div",{className:"rounded-md p-4 bg-aurentia-orange-light-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Valeurs et Stratégies"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[" ",s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Valeurs et attentes de l'organisme"}),s.jsx("p",{className:"text-[#4B5563]",children:i.valeurs_attentes})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Stratégie d'approche recommandée"}),s.jsx("p",{className:"text-[#4B5563]",children:i.strategie_approche})]})]})]})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:b,description:e==null?void 0:e.justification_avis,avis:(e==null?void 0:e.avis)||"Commentaire",iconSrc:"/icones-livrables/persona-icon.png",onClick:p}),s.jsx(Hi,{isOpen:m,onClose:g,title:b,iconComponent:s.jsx("img",{src:"/icones-livrables/persona-icon.png",alt:"Persona Icon",className:"w-full h-full object-contain"}),contentComponent:C,recommendations:N(),definition:j,importance:_,showContentTab:!0,showCommentsTab:!0,deliverableId:y||void 0,organizationId:v||void 0})]})},FAe=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0),[i,a]=x.useState(null),{projectId:o}=Nt(),{isPopupOpen:l,handleTemplateClick:c,handlePopupClose:u}=Sa({hasContent:!0,hasRecommendations:!0,hasDefinition:!0}),{deliverableId:d,organizationId:f}=Na({projectId:o||"",deliverableType:"other",deliverableTitle:"Mini SWOT"});x.useEffect(()=>{(async()=>{if(!o){a("Project ID not found in URL."),r(!1);return}const{data:v,error:w}=await q.from("mini_swot").select("*, recommandations, avis, justification_avis").eq("project_id",o).single();w?(a(w.message),t(null)):t(v),r(!1)})()},[o,q]);const h="Mini SWOT",m="Le Mini SWOT est une version condensée de l'analyse SWOT traditionnelle qui permet d'identifier rapidement les facteurs internes (forces et faiblesses) et externes (opportunités et menaces) qui peuvent influencer le succès d'un projet d'entreprise",p="Cette analyse est cruciale pour comprendre l'environnement concurrentiel et les capacités internes de l'entreprise, permettant ainsi de définir une stratégie adaptée et de prendre des décisions éclairées",g=s.jsxs(s.Fragment,{children:[n&&s.jsx("p",{children:"Loading data..."}),i&&s.jsxs("p",{className:"text-red-500",children:["Error: ",i]}),e&&s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"bg-[#e8f7df] rounded-md p-4",children:[s.jsx("h4",{className:"text-2xl font-semibold mb-2",children:"Opportunités"}),s.jsx("h5",{className:"text-sm font-semibold mb-2 mt-4",children:"Économique"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.economique_opportunite_1})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.economique_opportunite_2})}),s.jsx("h5",{className:"text-sm font-semibold mb-2 mt-4",children:"Socio-démo"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.socio_opportunite_1})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.socio_opportunite_2})})]})}),s.jsx("div",{children:s.jsxs("div",{className:"bg-[#ffdfdf] rounded-md p-4",children:[s.jsx("h4",{className:"text-2xl font-semibold mb-2",children:"Menaces"}),s.jsx("h5",{className:"text-sm font-semibold mb-2 mt-4",children:"Économique"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.economique_menace_1})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.economique_menace_2})}),s.jsx("h5",{className:"text-sm font-semibold mb-2 mt-4",children:"Socio-démo"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.socio_menace_1})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.socio_menace_2})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"bg-[#e8f7df] rounded-md p-4",children:[s.jsx("h4",{className:"text-2xl font-semibold mb-2",children:"Forces"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.force_1})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.force_2})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.force_3})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.force_4})})]})}),s.jsx("div",{children:s.jsxs("div",{className:"bg-[#ffdfdf] rounded-md p-4",children:[s.jsx("h4",{className:"text-2xl font-semibold mb-2",children:"Faiblesses"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.faiblesse_1})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.faiblesse_2})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.faiblesse_3})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsx("p",{className:"text-[#4B5563]",children:e.faiblesse_4})})]})})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:h,description:e==null?void 0:e.justification_avis,avis:(e==null?void 0:e.avis)||"Commentaire",iconSrc:"/icones-livrables/market-icon.png",onClick:c}),s.jsx(Hi,{isOpen:l,onClose:u,title:h,iconComponent:s.jsx("img",{src:"/icones-livrables/market-icon.png",alt:"Mini SWOT Icon",className:"w-full h-full object-contain"}),contentComponent:g,recommendations:e==null?void 0:e.recommandations,definition:m,importance:p,showContentTab:!0,showCommentsTab:!0,deliverableId:d||void 0,organizationId:f||void 0})]})},zAe=({items:e=[],accentColor:t="blue",className:n=""})=>{const[r,i]=x.useState(new Set),a=x.useRef(null),l={blue:{marker:"bg-blue-500",ring:"focus:ring-blue-500",shadow:"shadow-blue-500/20"},emerald:{marker:"bg-emerald-500",ring:"focus:ring-emerald-500",shadow:"shadow-emerald-500/20"}}[t];return x.useEffect(()=>(a.current=new IntersectionObserver(c=>{c.forEach(u=>{u.isIntersecting&&i(d=>new Set([...d,u.target.id]))})},{threshold:.2,rootMargin:"50px"}),()=>{a.current&&a.current.disconnect()}),[]),x.useEffect(()=>{const c=document.querySelectorAll("[data-timeline-item]");return c.forEach(u=>{a.current&&a.current.observe(u)}),()=>{a.current&&c.forEach(u=>{var d;(d=a.current)==null||d.unobserve(u)})}},[e]),s.jsxs("div",{className:`min-h-screen bg-gray-50 font-['Poppins', 'Inter', system-ui, sans-serif] rounded-lg ${n}`,children:[" ",s.jsxs("div",{className:"w-full md:max-w-4xl md:mx-auto py-8 px-0 md:p-12 rounded-lg",children:[" ",s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-8 text-center",children:"Ma success story"})," ",s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[40px_1fr] gap-0 relative",children:[s.jsx("div",{className:"hidden md:block absolute left-[19px] top-0 bottom-0 w-[2px] bg-gray-200"}),e.map((c,u)=>s.jsxs(B.Fragment,{children:[s.jsx("div",{className:"hidden md:flex items-start justify-center pt-8",children:s.jsx("div",{className:`
                    relative w-3 h-3 rounded-full transition-all duration-300 ease-in-out z-10
                    ${c.isActive||r.has(c.id)?`${l.marker} shadow-lg ${l.shadow}`:"bg-gray-300"}
                  `,children:(c.isActive||r.has(c.id))&&s.jsx("div",{className:`absolute inset-0 rounded-full ${l.marker} animate-ping opacity-20`})})}),s.jsx("div",{id:c.id,"data-timeline-item":!0,className:`
                  timeline-item opacity-0 translate-y-4 transition-all duration-700 ease-out
                  ${r.has(c.id)?"opacity-100 translate-y-0":""}
                  ${u<e.length-1?"mb-8 md:mb-12":""}
                `,style:{transitionDelay:`${u*150}ms`},children:s.jsxs("div",{className:`
                    group bg-white rounded-lg border-[0.5px] border-gray-200
                    shadow-[0_1px_3px_rgba(0,0,0,0.08)] p-6 md:p-8
                    transition-all duration-300 ease-in-out cursor-pointer
                    hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)] hover:-translate-y-1
                    focus:outline-none focus:ring-2 ${l.ring} focus:ring-offset-2
                    min-h-[44px] md:ml-0 ml-0
                  `,tabIndex:0,role:"article","aria-label":`Timeline item: ${c.title}`,children:[s.jsxs("div",{className:"md:hidden flex items-center mb-4",children:[s.jsx("div",{className:`
                        w-3 h-3 rounded-full mr-4 transition-all duration-300 ease-in-out
                        ${c.isActive||r.has(c.id)?`${l.marker} shadow-lg ${l.shadow}`:"bg-gray-300"}
                      `}),s.jsx("div",{className:"flex-1 h-[2px] bg-gray-200"})]}),s.jsxs("div",{className:"flex flex-col items-start md:flex-row md:items-start md:space-x-4",children:[s.jsxs("div",{className:"flex-shrink-0 mt-1 mb-4 md:mb-1",children:[" ",s.jsx("div",{className:`
                        p-2 rounded-lg bg-gray-50 text-gray-600
                        group-hover:bg-gray-100 transition-colors duration-300
                        ${c.isActive||r.has(c.id)?`text-${t}-600`:""}
                      `,children:c.icon})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-medium tracking-wide text-gray-900 mb-1 md:mb-0",children:c.title}),s.jsx("time",{className:"text-sm text-gray-500 font-light flex items-center"})]}),s.jsx("p",{className:"text-sm text-gray-500 font-light mb-4 tracking-wide",children:c.subtitle}),s.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:c.description})]})]})]})})]},c.id))]})]})]})},BAe=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0),[i,a]=x.useState(null),{projectId:o}=Nt(),l="Ma Success Story",c="Visualisez vos projections d'évolution entrepreneuriale",u="La Success Story est un outil de projection qui permet de visualiser l'évolution de votre entreprise à travers différentes échéances temporelles, accompagnée d'un message de motivation personnalisé.",d="Ce livrable est essentiel pour maintenir la motivation entrepreneuriale, clarifier la vision à long terme et structurer les objectifs de croissance de l'entreprise selon des horizons temporels définis.",{isPopupOpen:f,handleTemplateClick:h,handlePopupClose:m}=Sa({hasContent:!0,hasDefinition:!0}),{deliverableId:p,organizationId:g}=Na({projectId:o||"",deliverableType:"other",deliverableTitle:"Ma Success Story"}),y=w=>{const b=[];return(w.projections_un_an_titre||w.projections_un_an_vision)&&b.push({id:"projection-1-year",title:w.projections_un_an_titre||"Projection 1 An",subtitle:"Projections à court terme (1 an)",description:w.projections_un_an_vision||"",date:"1 an",icon:s.jsx(fme,{className:"w-5 h-5"})}),(w.projections_trois_ans_titre||w.projections_trois_ans_vision)&&b.push({id:"projection-3-years",title:w.projections_trois_ans_titre||"Projection 3 Ans",subtitle:"Projections à moyen terme (3 ans)",description:w.projections_trois_ans_vision||"",date:"3 ans",icon:s.jsx(Pr,{className:"w-5 h-5"})}),(w.projections_cinq_ans_titre||w.projections_cinq_ans_vision)&&b.push({id:"projection-5-years",title:w.projections_cinq_ans_titre||"Projection 5 Ans",subtitle:"Projections à long terme (5 ans)",description:w.projections_cinq_ans_vision||"",date:"5 ans",icon:s.jsx(am,{className:"w-5 h-5"})}),b};x.useEffect(()=>{f&&(async()=>{if(!o){a("Project ID not found in URL"),r(!1);return}const{data:b,error:j}=await q.from("success_story").select("*, avis").eq("project_id",o).single();j?(a(j.message),t(null)):t(b),r(!1)})()},[f,o]);const v=s.jsxs(s.Fragment,{children:[n&&s.jsx("p",{children:"Loading data..."}),i&&s.jsxs("p",{className:"text-red-500",children:["Error: ",i]}),e&&s.jsxs(s.Fragment,{children:[e.message_motivation&&s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Un petit message pour toi..."}),s.jsx("p",{className:"text-[#4B5563]",children:e.message_motivation})]})}),s.jsx(zAe,{items:y(e)})]})]});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:l,description:c,avis:(e==null?void 0:e.avis)||"Commentaire",iconSrc:"/icones-livrables/story-icon.png",onClick:h}),s.jsx(Hi,{isOpen:f,onClose:m,title:l,iconComponent:s.jsx("img",{src:"/icones-livrables/story-icon.png",alt:"Success Story Icon",className:"w-full h-full object-contain"}),contentComponent:v,definition:u,importance:d,showContentTab:!0,showCommentsTab:!0,deliverableId:p||void 0,organizationId:g||void 0})]})},UAe=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0),[i,a]=x.useState(null),[o,l]=x.useState({}),{projectId:c}=Nt(),{isPopupOpen:u,handleTemplateClick:d,handlePopupClose:f}=Sa({hasContent:!0,hasDefinition:!0}),{deliverableId:h,organizationId:m}=Na({projectId:c||"",deliverableType:"pitch",deliverableTitle:"Pitch"});x.useEffect(()=>{(async()=>{if(!c){a("Project ID not found in URL."),r(!1);return}const{data:j,error:_}=await q.from("pitch").select("*, avis").eq("project_id",c).single();_?(a(_.message),t(null)):t(j),r(!1)})()},[c,q]);const p="Pitch",g="Présentations commerciales de votre projet",y="Le pitch est une présentation concise et percutante de votre projet d'entreprise, conçue pour capter l'attention et convaincre votre audience en différents formats selon le contexte.",v="Le pitch est essentiel pour communiquer efficacement sur votre projet, que ce soit pour convaincre des investisseurs, des partenaires ou des clients potentiels. Il vous permet de structurer votre discours et de présenter votre valeur ajoutée de manière claire et impactante.",w=s.jsxs(s.Fragment,{children:[n&&s.jsx("p",{children:"Loading pitch data..."}),i&&s.jsxs("p",{className:"text-red-500",children:["Error: ",i]}),e&&s.jsxs(di,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(vn,{value:"pitch-express",children:[s.jsx(yn,{className:"text-lg",children:"Pitch Express (30 secondes)"}),s.jsxs(bn,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Contenu du pitch de 30 secondes"}),s.jsx("p",{className:"text-[#4B5563]",style:{whiteSpace:"pre-wrap"},children:e.pitch_30_secondes_texte}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx(H,{onClick:()=>{navigator.clipboard.writeText(e.pitch_30_secondes_texte),l({...o,pitch_30_secondes_texte:!0}),setTimeout(()=>{l(b=>({...b,pitch_30_secondes_texte:!1}))},2e3)},className:"bg-gradient-to-r from-aurentia-pink to-aurentia-orange text-white px-3 py-1 text-sm rounded transition-all duration-300 hover:shadow-md",children:o.pitch_30_secondes_texte?s.jsxs(s.Fragment,{children:[s.jsx(Vr,{className:"mr-1 h-4 w-4"})," Copié"]}):s.jsxs(s.Fragment,{children:[s.jsx(Xa,{className:"mr-1 h-4 w-4"})," Copier"]})})})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("h4",{className:"text-sm font-semibold",children:"Appel à l'action du pitch de 30 secondes"})}),s.jsx("p",{className:"text-[#4B5563]",style:{whiteSpace:"pre-wrap"},children:e.pitch_30_secondes_appel_action})]})]})]}),s.jsxs(vn,{value:"pitch-court",children:[s.jsx(yn,{className:"text-lg",children:"Pitch Court"}),s.jsxs(bn,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Contenu du pitch court"}),s.jsx("p",{className:"text-[#4B5563]",style:{whiteSpace:"pre-wrap"},children:e.pitch_court_texte}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx(H,{onClick:()=>{navigator.clipboard.writeText(e.pitch_court_texte),l({...o,pitch_court_texte:!0}),setTimeout(()=>{l(b=>({...b,pitch_court_texte:!1}))},2e3)},className:"bg-gradient-to-r from-aurentia-pink to-aurentia-orange text-white px-3 py-1 text-sm rounded transition-all duration-300 hover:shadow-md",children:o.pitch_court_texte?s.jsxs(s.Fragment,{children:[s.jsx(Vr,{className:"mr-1 h-4 w-4"})," Copié"]}):s.jsxs(s.Fragment,{children:[s.jsx(Xa,{className:"mr-1 h-4 w-4"})," Copier"]})})})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("h4",{className:"text-sm font-semibold",children:"Appel à l'action du pitch court"})}),s.jsx("p",{className:"text-[#4B5563]",style:{whiteSpace:"pre-wrap"},children:e.pitch_court_appel_action})]})]})]}),s.jsxs(vn,{value:"pitch-complet",children:[s.jsx(yn,{className:"text-lg",children:"Pitch Complet"}),s.jsxs(bn,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Contenu du pitch complet"}),s.jsx("p",{className:"text-[#4B5563]",style:{whiteSpace:"pre-wrap"},children:e.pitch_complet_texte}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx(H,{onClick:()=>{navigator.clipboard.writeText(e.pitch_complet_texte),l({...o,pitch_complet_texte:!0}),setTimeout(()=>{l(b=>({...b,pitch_complet_texte:!1}))},2e3)},className:"bg-gradient-to-r from-aurentia-pink to-aurentia-orange text-white px-3 py-1 text-sm rounded transition-all duration-300 hover:shadow-md",children:o.pitch_complet_texte?s.jsxs(s.Fragment,{children:[s.jsx(Vr,{className:"mr-1 h-4 w-4"})," Copié"]}):s.jsxs(s.Fragment,{children:[s.jsx(Xa,{className:"mr-1 h-4 w-4"})," Copier"]})})})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("h4",{className:"text-sm font-semibold",children:"Appel à l'action du pitch complet"})}),s.jsx("p",{className:"text-[#4B5563]",style:{whiteSpace:"pre-wrap"},children:e.pitch_complet_appel_action})]})]})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:p,description:g,avis:(e==null?void 0:e.avis)||"Commentaire",iconSrc:"/icones-livrables/pitch-icon.png",onClick:d}),s.jsx(Hi,{isOpen:u,onClose:f,title:p,iconComponent:s.jsx("img",{src:"/icones-livrables/pitch-icon.png",alt:"Pitch Icon",className:"w-full h-full object-contain"}),contentComponent:w,definition:y,importance:v,showContentTab:!0,showCommentsTab:!0,deliverableId:h||void 0,organizationId:m||void 0})]})},qAe=({projectStatus:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState("direct"),[a,o]=x.useState("principal"),{projectId:l}=Nt(),c="#6191e2",u="Concurrence",d=e==="free"?"Analyse concurrentielle de votre projet (forces et faiblesses des concurrents) + site web":t==null?void 0:t.justification_avis,f=`L'analyse de la concurrence est une étude stratégique qui permet d'identifier et d'analyser les entreprises qui opèrent sur le même marché, offrent des produits ou services similaires, ou ciblent la même clientèle.

**Importance :** Cette analyse est cruciale pour positionner efficacement l'entreprise sur son marché, identifier les opportunités de différenciation, anticiper les menaces concurrentielles et développer des stratégies marketing et commerciales adaptées.`,{isPopupOpen:h,handleTemplateClick:m,handlePopupClose:p}=Sa({hasContent:!0,hasRecommendations:!!(t!=null&&t.recommandations),hasDefinition:!0}),{deliverableId:g,organizationId:y}=Na({projectId:l||"",deliverableType:"market-analysis",deliverableTitle:"Analyse de la Concurrence"});x.useEffect(()=>{(async()=>{if(l){const{data:b,error:j}=await q.from("concurrence").select("*").eq("project_id",l).single();j?console.error("Error fetching concurrence data:",j):n(b)}})()},[l]),x.useEffect(()=>{const w=b=>{const{projectId:j}=b.detail;j===l&&(console.log("🔄 Refreshing AnalyseDeLaConcurrenceLivrable data..."),(async()=>{if(l){const{data:N,error:S}=await q.from("concurrence").select("*").eq("project_id",l).single();S?console.error("Error fetching concurrence data:",S):n(N)}})())};return window.addEventListener("refreshDeliverables",w),()=>{window.removeEventListener("refreshDeliverables",w)}},[l]);const v=s.jsx(s.Fragment,{children:s.jsxs(di,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(vn,{value:"definition-concurrents",children:[s.jsx(yn,{className:"text-lg",children:"Définition des concurrents"}),s.jsxs(bn,{children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{className:`text-xs px-2 py-1 rounded-full cursor-pointer ${r==="direct"?"text-white":"bg-gray-200 text-gray-700"}`,style:r==="direct"?{backgroundColor:c}:{},onClick:()=>i("direct"),children:"Concurrents direct"}),s.jsx("button",{className:`text-xs px-2 py-1 rounded-full cursor-pointer ${r==="indirect"?"text-white":"bg-gray-200 text-gray-700"}`,style:r==="indirect"?{backgroundColor:c}:{},onClick:()=>i("indirect"),children:"Concurrence indirecte"}),s.jsx("button",{className:`text-xs px-2 py-1 rounded-full cursor-pointer ${r==="potentiel"?"text-white":"bg-gray-200 text-gray-700"}`,style:r==="potentiel"?{backgroundColor:c}:{},onClick:()=>i("potentiel"),children:"Concurrents potentiels"})]}),r==="direct"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 md:mb-0",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Définition"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_direct_definition})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 md:mb-0",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Importance"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_direct_importance})]})]}),r==="indirect"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 md:mb-0",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Définition"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_indirect_definition})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 md:mb-0",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Importance"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_potentiel_importance})]})]}),r==="potentiel"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 md:mb-0",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Définition"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_potentiel_definition})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 md:mb-0",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Importance"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_potentiel_importance})]})]})]})]}),s.jsxs(vn,{value:"concurrents",children:[s.jsx(yn,{className:"text-lg",children:"Concurrents"}),s.jsxs(bn,{children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[1,2,3,4,5,6,7,8].map(w=>{const b=w===1?"principal":w===2?"secondaire":`concurrent${w}`,j=(t==null?void 0:t[`concurrent_${w}_nom`])||`Concurrent ${w===1?"Principal":w===2?"Secondaire":w}`;return s.jsx("button",{className:`text-xs px-2 py-1 rounded-full cursor-pointer ${a===b?"text-white":"bg-gray-200 text-gray-700"}`,style:a===b?{backgroundColor:c}:{},onClick:()=>o(b),children:j},w)})}),[1,2,3,4,5,6,7,8].map(w=>{const b=w===1?"principal":w===2?"secondaire":`concurrent${w}`;return a===b?s.jsxs("div",{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t[`concurrent_${w}_description`]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-[#E8F7DF] rounded-md px-4 pb-4 pt-4 mb-4 md:mb-0",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2 text-black",children:"Forces"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t[`concurrent_${w}_forces`]})]}),s.jsxs("div",{className:"bg-[#FFDFDF] rounded-md px-4 pb-4 pt-4 mb-4 md:mb-0",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2 text-black",children:"Faiblesses"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t[`concurrent_${w}_faiblesses`]})]})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 mt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Caractéristiques"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t[`concurrent_${w}_caracteristiques`]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("a",{href:t==null?void 0:t[`concurrent_${w}_url`],target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-[#6191e2] text-white py-2 px-4 rounded-md hover:bg-[#4a7acb] transition-colors duration-200 flex items-center justify-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}),s.jsx("path",{d:"M2 12h20"})]}),"Site web"]})})]},w):null})]})]}),s.jsxs(vn,{value:"strategie-differentiation",children:[s.jsx(yn,{className:"text-lg",children:"Stratégie de Différenciation"}),s.jsxs(bn,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Segmentation concurrentielle"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_segmentation_concurrentielle})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Premier critère de différenciation"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_critere_differentiation_1})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Deuxième critère de différenciation"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_critere_differentiation_2})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Troisième critère de différenciation"}),s.jsx("p",{className:"text-[#4B5563]",children:t==null?void 0:t.free_critere_differentiation_3})]})]})]})]})});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:u,description:d,avis:e==="free"?"commentaire":(t==null?void 0:t.avis)||"Commentaire",iconSrc:"/icones-livrables/concurrence-icon.png",onClick:m}),s.jsx(Hi,{isOpen:h,onClose:p,title:"Analyse de la Concurrence",iconComponent:s.jsx("img",{src:"/icones-livrables/concurrence-icon.png",alt:"Concurrence Icon",className:"w-full h-full object-contain"}),contentComponent:v,recommendations:t==null?void 0:t.recommandations,definition:f,showContentTab:!0,showCommentsTab:!0,deliverableId:g||void 0,organizationId:y||void 0})]})},VAe=({title:e="Business Model Canvas",description:t,children:n,textColor:r,buttonColor:i})=>{var j,_,N,S,C,k,A,T,E,R,$,O,F,z;const a="Le Business Model Canvas est un outil stratégique qui permet de visualiser et structurer les éléments clés d'un modèle d'affaires, incluant la proposition de valeur, les segments clients, les ressources et la structure financière.",o="Essentiel pour définir comment l'entreprise crée, délivre et capture de la valeur. Il fournit une vision globale et cohérente du modèle économique et identifie les leviers de croissance.",[l,c]=x.useState(null),[u,d]=x.useState(!0),[f,h]=x.useState(!0),{projectId:m}=Nt(),{isPopupOpen:p,handleTemplateClick:g,handlePopupClose:y}=Sa({hasContent:!0,hasDefinition:!0}),{deliverableId:v,organizationId:w}=Na({projectId:m||"",deliverableType:"business-model",deliverableTitle:"Business Model Canvas"});x.useEffect(()=>{(async()=>{if(!m)return;const{data:I,error:M}=await q.from("business_model").select("*").eq("project_id",m).single();M?(console.error("Error fetching business model data:",M),c(null)):(console.log("Fetched business_model data:",I),c(I))})()},[m]),x.useEffect(()=>{const P=I=>{const{projectId:M}=I.detail;M===m&&(console.log("🔄 Refreshing BusinessModelLivrable data..."),(async()=>{if(!m)return;const{data:D,error:L}=await q.from("business_model").select("*").eq("project_id",m).single();L?(console.error("Error fetching business model data:",L),c(null)):(console.log("Refreshed business_model data:",D),c(D))})())};return window.addEventListener("refreshDeliverables",P),()=>{window.removeEventListener("refreshDeliverables",P)}},[m]);const b=s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-4",children:[s.jsxs("div",{className:"col-span-1 md:col-span-1 md:row-span-2 bg-gray-100 p-2 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/icones-livrables/business-model-icon.png",alt:"Business Model Icon",className:"w-6 h-6 object-cover"}),s.jsx("h4",{className:"text-base font-black",children:"Partenaires clés"})]}),s.jsx("ul",{className:"list-disc list-inside",children:(j=l==null?void 0:l.partenaires_cles)==null?void 0:j.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] text-sm mb-1",children:M},I)})})]}),s.jsxs("div",{className:"col-span-1 md:col-span-1 bg-gray-100 p-2 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/icones-livrables/business-model-icon.png",alt:"Business Model Icon",className:"w-6 h-6 object-cover"}),s.jsx("h4",{className:"text-base font-black",children:"Activités clés"})]}),s.jsx("ul",{className:"list-disc list-inside",children:(_=l==null?void 0:l.activites_cles)==null?void 0:_.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] text-sm mb-1",children:M},I)})})]}),s.jsxs("div",{className:"col-span-1 md:col-span-1 bg-gray-100 p-2 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/icones-livrables/business-model-icon.png",alt:"Business Model Icon",className:"w-6 h-6 object-cover"}),s.jsx("h4",{className:"text-base font-black",children:"Proposition de valeur"})]}),(N=l==null?void 0:l.proposition_valeur)==null?void 0:N.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("p",{className:"text-[#4B5563] text-sm mb-1",children:M},I)})]}),s.jsxs("div",{className:"col-span-1 md:col-span-1 bg-gray-100 p-2 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/icones-livrables/business-model-icon.png",alt:"Business Model Icon",className:"w-6 h-6 object-cover"}),s.jsx("h4",{className:"text-base font-black",children:"Relations clients"})]}),(S=l==null?void 0:l.relations_clients)==null?void 0:S.split(`
`).map((P,I)=>s.jsx("p",{className:"text-[#4B5563] text-sm mb-1",children:P},I))]}),s.jsxs("div",{className:"col-span-1 md:col-span-1 md:row-span-2 bg-gray-100 p-2 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/icones-livrables/business-model-icon.png",alt:"Business Model Icon",className:"w-6 h-6 object-cover"}),s.jsx("h4",{className:"text-base font-black",children:"Segments de clients"})]}),s.jsx("ul",{className:"list-disc list-inside",children:(C=l==null?void 0:l.segments_clients)==null?void 0:C.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] text-sm mb-1",children:M},I)})})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2 bg-gray-100 p-2 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/icones-livrables/business-model-icon.png",alt:"Business Model Icon",className:"w-6 h-6 object-cover"}),s.jsx("h4",{className:"text-base font-black",children:"Ressources clés"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[s.jsxs("div",{className:"col-span-1 border-b lg:border-b-0 lg:border-r border-gray-300 pb-2 lg:pb-0 lg:pr-2",children:[s.jsx("h5",{className:"text-sm font-black mb-1",children:"Humaines:"}),s.jsx("ul",{className:"list-disc list-inside",children:(k=l==null?void 0:l.ressources_humaines)==null?void 0:k.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] text-sm mb-1",children:M},I)})})]}),s.jsxs("div",{className:"col-span-1 border-b lg:border-b-0 pb-2 lg:pb-0 lg:pl-2",children:[s.jsx("h5",{className:"text-sm font-black mb-1",children:"Financières:"}),s.jsx("ul",{className:"list-disc list-inside",children:(A=l==null?void 0:l.ressources_financieres)==null?void 0:A.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] text-sm mb-1",children:M},I)})})]}),s.jsx("div",{className:"hidden lg:block lg:col-span-2",children:s.jsx("hr",{className:"my-2 border-gray-300"})}),s.jsxs("div",{className:"col-span-1 border-b lg:border-b-0 lg:border-r border-gray-300 pb-2 lg:pb-0 lg:pr-2",children:[s.jsx("h5",{className:"text-sm font-black mb-1",children:"Matérielles:"}),s.jsx("ul",{className:"list-disc list-inside",children:(T=l==null?void 0:l.ressources_materielles)==null?void 0:T.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] text-sm mb-1",children:M},I)})})]}),s.jsxs("div",{className:"col-span-1 lg:pl-2",children:[s.jsx("h5",{className:"text-sm font-black mb-1",children:"Intellectuelles:"}),s.jsx("ul",{className:"list-disc list-inside",children:(E=l==null?void 0:l.ressources_intellectuelles)==null?void 0:E.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] text-sm mb-1",children:M},I)})})]})]})]}),s.jsxs("div",{className:"col-span-1 md:col-span-1 bg-gray-100 p-2 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/icones-livrables/business-model-icon.png",alt:"Business Model Icon",className:"w-6 h-6 object-cover"}),s.jsx("h4",{className:"text-base font-black",children:"Canaux de distribution"})]}),s.jsx("ul",{className:"list-disc list-inside",children:(R=l==null?void 0:l.canaux)==null?void 0:R.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] text-sm mb-1",children:M},I)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"col-span-1 bg-gray-100 p-2 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/icones-livrables/business-model-icon.png",alt:"Business Model Icon",className:"w-6 h-6 object-cover"}),s.jsx("h4",{className:"text-base font-black",children:"Structure des coûts"})]}),s.jsx("button",{className:"text-xs px-2 py-1 rounded-full cursor-pointer bg-gray-200 text-gray-700 mb-2",onClick:()=>d(!u),children:"Description"}),u&&s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:($=l==null?void 0:l.structure_couts_analyse)==null?void 0:$.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("p",{className:"text-[#4B5563] whitespace-pre-wrap text-sm mb-1",children:M},I)})}),s.jsx("ul",{className:"list-disc list-inside",children:(O=l==null?void 0:l.structure_couts_liste_des_couts)==null?void 0:O.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] whitespace-pre-wrap text-sm mb-1",children:M},I)})})]}),s.jsxs("div",{className:"col-span-1 bg-gray-100 p-2 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/icones-livrables/market-icon.png",alt:"Market Icon",className:"w-6 h-6 object-cover"}),s.jsx("h4",{className:"text-base font-black",children:"Sources de revenus"})]}),s.jsx("button",{className:"text-xs px-2 py-1 rounded-full cursor-pointer bg-gray-200 text-gray-700 mb-2",onClick:()=>h(!f),children:"Description"}),f&&s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:(F=l==null?void 0:l.flux_revenus_analyse)==null?void 0:F.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("p",{className:"text-[#4B5563] whitespace-pre-wrap text-sm mb-1",children:M},I)})}),s.jsx("ul",{className:"list-disc list-inside",children:(z=l==null?void 0:l.flux_revenus_liste_des_revenus)==null?void 0:z.split(`
`).map((P,I)=>{const M=P.startsWith("- ")?P.substring(2):P;return s.jsx("li",{className:"text-[#4B5563] whitespace-pre-wrap text-sm mb-1",children:M},I)})})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:e,description:t,avis:(l==null?void 0:l.avis)||"Commentaire",iconSrc:"/icones-livrables/business-model-icon.png",onClick:g}),s.jsx(Hi,{isOpen:p,onClose:y,title:e,iconComponent:s.jsx("img",{src:"/icones-livrables/business-model-icon.png",alt:"Business Model Icon",className:"w-full h-full object-contain"}),contentComponent:b,definition:a,importance:o,showContentTab:!0,showCommentsTab:!0,deliverableId:v||void 0,organizationId:w||void 0,modalWidthClass:"md:w-[90%]"})]})},HAe=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0),[i,a]=x.useState("B2C"),[o,l]=x.useState(null),{projectId:c}=Nt(),u="Proposition de Valeur",d="Analyse complète de la proposition de valeur par segments clients",f="La proposition de valeur définit la manière dont votre entreprise crée, délivre et capture de la valeur pour différents segments de clients. Elle identifie les besoins, problèmes et aspirations de chaque segment, puis propose des solutions adaptées.",h="Essentiel pour aligner votre offre sur les attentes réelles du marché et différencier votre entreprise de la concurrence. Une proposition de valeur claire permet d'optimiser vos efforts marketing et commerciaux.",{isPopupOpen:m,handleTemplateClick:p,handlePopupClose:g}=Sa({hasContent:!0,hasDefinition:!0}),{deliverableId:y,organizationId:v}=Na({projectId:c||"",deliverableType:"other",deliverableTitle:"Proposition de Valeur"});x.useEffect(()=>{(async()=>{if(!c){l("Project ID is missing."),r(!1);return}const{data:_,error:N}=await q.from("proposition_valeur").select("*").eq("project_id",c).single();N?(console.error("Error fetching proposition_valeur data:",N),l(N.message),t(null)):(console.log("Fetched proposition_valeur data:",_),t(_)),r(!1)})()},[c]);const w=(j,_)=>{if(n)return s.jsx(Ln,{size:"sm",message:"Chargement..."});if(o)return s.jsxs("p",{children:["Erreur: ",o]});if(!e)return s.jsx("p",{children:_});const S=(e[j]||_).split(`
`).map(C=>`• ${C}`).join("<br />");return s.jsx("p",{className:"text-[#4B5563]",dangerouslySetInnerHTML:{__html:S}})},b=s.jsxs(s.Fragment,{children:[s.jsxs(mb,{type:"single",value:i,onValueChange:a,className:"flex-row mb-4 mt-4 justify-start",children:[s.jsx(ma,{value:"B2C","aria-label":"Toggle B2C",className:`px-3 py-1 text-sm mr-2 ${i==="B2C"?"bg-aurentia-orange-aurentia text-white":"bg-gray-200"}`,children:s.jsx("span",{className:i==="B2C"?"text-white":"",children:"Particuliers"})}),s.jsx(ma,{value:"B2B","aria-label":"Toggle B2B",className:`px-3 py-1 text-sm mr-2 ${i==="B2B"?"bg-aurentia-orange-aurentia text-white":"bg-gray-200"}`,children:s.jsx("span",{className:i==="B2B"?"text-white":"",children:"Entreprises"})}),s.jsx(ma,{value:"Organismes","aria-label":"Toggle Organismes",className:`px-3 py-1 text-sm mr-2 ${i==="Organismes"?"bg-aurentia-orange-aurentia text-white":"bg-gray-200"}`,children:s.jsx("span",{className:i==="Organismes"?"text-white":"",children:"Organismes"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Proposition de Valeur"}),s.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[i==="B2C"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Produits / Services"}),w("b2c_carte_valeur_produits_services","Produits et services de la carte de valeur B2C")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Bénéfices"}),w("b2c_carte_valeur_createurs_benefices","Créateurs de bénéfices de la carte de valeur B2C")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Solutions"}),w("b2c_carte_valeur_solutions","Solutions de la carte de valeur B2C")]})]}),i==="B2B"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Produits / Services"}),w("b2b_carte_valeur_produits_services","Produits et services de la carte de valeur B2B")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Bénéfices"}),w("b2b_carte_valeur_createurs_benefices","Créateurs de bénéfices de la carte de valeur B2B")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Solutions"}),w("b2b_carte_valeur_solutions","Solutions de la carte de valeur B2B")]})]}),i==="Organismes"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Produits / Services"}),w("organismes_carte_valeur_produits_services","Produits et services de la carte de valeur Organismes")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Créateurs de bénéfices"}),w("organismes_carte_valeur_createurs_benefices","Créateurs de bénéfices de la carte de valeur Organismes")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Solutions"}),w("organismes_carte_valeur_solutions","Solutions de la carte de valeur Organismes")]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Profil Acheteur"}),s.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[i==="B2C"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 w-full",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Désirs"}),w("b2c_profil_aspirations","Aspirations du profil B2C")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 w-full",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Besoins"}),w("b2c_profil_besoins","Besoins du profil B2C")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 w-full",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Difficultés"}),w("b2c_profil_problemes","Problèmes du profil B2C")]})]}),i==="B2B"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 w-full",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Désirs"}),w("b2b_profil_aspirations","Aspirations du profil B2B")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 w-full",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Besoins"}),w("b2b_profil_besoins","Besoins du profil B2B")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 w-full",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Difficultés"}),w("b2b_profil_problemes","Problèmes du profil B2B")]})]}),i==="Organismes"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 w-full",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Désirs"}),w("organismes_profil_aspirations","Aspirations du profil Organismes")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4 w-full",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Besoins"}),w("organismes_profil_besoins","Besoins du profil Organismes")]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 w-full",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Difficultés"}),w("organismes_profil_problemes","Problèmes du profil Organismes")]})]})]})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:u,description:d,avis:"Commentaire",iconSrc:"/icones-livrables/proposition-valeur-icon.png",onClick:p}),s.jsx(Hi,{isOpen:m,onClose:g,title:u,iconComponent:s.jsx("img",{src:"/icones-livrables/proposition-valeur-icon.png",alt:"Proposition de Valeur Icon"}),contentComponent:b,definition:f,importance:h,showContentTab:!0,showCommentsTab:!0,deliverableId:y||void 0,organizationId:v||void 0})]})},Zs=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:de("w-full caption-bottom text-sm",e),...t})}));Zs.displayName="Table";const so=x.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:de("[&_tr]:border-b",e),...t}));so.displayName="TableHeader";const ei=x.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:de("[&_tr:last-child]:border-0",e),...t}));ei.displayName="TableBody";const WAe=x.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));WAe.displayName="TableFooter";const st=x.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:de("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));st.displayName="TableRow";const xn=x.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));xn.displayName="TableHead";const Me=x.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Me.displayName="TableCell";const GAe=x.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:de("mt-4 text-sm text-muted-foreground",e),...t}));GAe.displayName="TableCaption";const KAe=({projectId:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(!0),[a,o]=x.useState(null),[l,c]=x.useState(1),u="Analyse de Marché",d="Analyse complète du marché cible et de ses opportunités",f="L'analyse de marché est une étude approfondie qui permet d'évaluer les opportunités et menaces d'un marché spécifique, incluant sa taille, sa segmentation, ses tendances d'évolution et les facteurs d'influence qui le caractérisent.",h="Cette analyse est essentielle pour valider la viabilité commerciale d'un projet d'entreprise, identifier les segments les plus prometteurs, et définir une stratégie d'entrée sur le marché adaptée aux réalités économiques, sociodémographiques et technologiques.",{isPopupOpen:m,handleTemplateClick:p,handlePopupClose:g}=Sa({hasContent:!0,hasDefinition:!0}),{deliverableId:y,organizationId:v}=Na({projectId:e||"",deliverableType:"market-analysis",deliverableTitle:"Analyse de Marché"});x.useEffect(()=>{e&&(async()=>{i(!0),o(null);try{const{data:j,error:_}=await q.from("marche").select("*").eq("project_id",e).single();if(_)throw _;n(j),console.log("Market Data received from Supabase:",j)}catch(j){o(j.message)}finally{i(!1)}})()},[e]);const w=s.jsxs(s.Fragment,{children:[r&&s.jsx("p",{children:"Chargement des données..."}),a&&s.jsxs("p",{className:"text-red-500",children:["Erreur: ",a]}),t&&s.jsxs(di,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(vn,{value:"presentation-generale-marche",children:[s.jsx(yn,{className:"text-left text-lg flex-1 pr-4",children:"Présentation générale du marché"}),s.jsxs(bn,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Nom du marché"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_marche})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Marchés connexes"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_marches_annexe})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description détaillée du marché"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_description_du_marche})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Trois enjeux principaux"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_3_enjeux_principaux})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Évolution du marché"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_evolution_du_marche})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Prédictions sur le marché"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_predictions})]})]})]}),s.jsxs(vn,{value:"analyse-viabilite",children:[s.jsx(yn,{className:"text-left text-lg flex-1 pr-4",children:"Analyse de la viabilité"}),s.jsxs(bn,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Difficultés d'entrée sur le marché"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_difficulte_a_l_entree})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Détails des difficultés d'entrée"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_details_difficulte_a_l_entree})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Classification du marché"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_classification})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Justification de la classification"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_justification_concise})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Viabilité du marché"}),s.jsx("p",{className:"text-[#4B5563]",children:t.free_marche_viable})]})]})]}),s.jsxs(vn,{value:"opportunites-menaces",children:[s.jsx(yn,{className:"text-left text-lg flex-1 pr-4",children:"Opportunités et Menaces"}),s.jsx(bn,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsx("div",{children:s.jsx("h4",{className:"text-2xl font-semibold mb-2",children:"Opportunités"})}),s.jsx("div",{children:s.jsx("h4",{className:"text-2xl font-semibold mb-2",children:"Menaces"})}),s.jsxs("div",{className:"bg-[#e8f7df] rounded-md p-4 mb-4",children:[s.jsx("h5",{className:"text-lg font-semibold mb-2",children:"Économique"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_economique_opportunite_1_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_economique_opportunite_1_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_economique_opportunite_1_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_economique_opportunite_1_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_economique_opportunite_2_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_economique_opportunite_2_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_economique_opportunite_2_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_economique_opportunite_2_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_economique_opportunite_3_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_economique_opportunite_3_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_economique_opportunite_3_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_economique_opportunite_3_source})]})})]}),s.jsxs("div",{className:"bg-[#ffdfdf] rounded-md p-4 mb-4",children:[s.jsx("h5",{className:"text-lg font-semibold mb-2",children:"Économique"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_economique_menace_1_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_economique_menace_1_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_economique_menace_1_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_economique_menace_1_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_economique_menace_2_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_economique_menace_2_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_economique_menace_2_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_economique_menace_2_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_economique_menace_3_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_economique_menace_3_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_economique_menace_3_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_economique_menace_3_source})]})})]}),s.jsxs("div",{className:"bg-[#e8f7df] rounded-md p-4 mb-4",children:[s.jsx("h5",{className:"text-lg font-semibold mb-2",children:"Socio-démographique"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_sociodemographique_opportunite_1_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_sociodemographique_opportunite_1_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_sociodemographique_opportunite_1_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_sociodemographique_opportunite_1_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_sociodemographique_opportunite_2_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_sociodemographique_opportunite_2_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_sociodemographique_opportunite_2_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_sociodemographique_opportunite_2_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_sociodemographique_opportunite_3_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_sociodemographique_opportunite_3_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_sociodemographique_opportunite_3_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_sociodemographique_opportunite_3_source})]})})]}),s.jsxs("div",{className:"bg-[#ffdfdf] rounded-md p-4 mb-4",children:[s.jsx("h5",{className:"text-lg font-semibold mb-2",children:"Socio-démographique"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_sociodemographique_menace_1_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_sociodemographique_menace_1_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_sociodemographique_menace_1_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_sociodemographique_menace_1_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_sociodemographique_menace_2_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_sociodemographique_menace_2_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_sociodemographique_menace_2_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_sociodemographique_menace_2_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_sociodemographique_menace_3_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_sociodemographique_menace_3_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_sociodemographique_menace_3_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_sociodemographique_menace_3_source})]})})]}),s.jsxs("div",{className:"bg-[#e8f7df] rounded-md p-4 mb-4",children:[s.jsx("h5",{className:"text-lg font-semibold mb-2",children:"Technologique"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_technologique_opportunite_1_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_technologique_opportunite_1_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_technologique_opportunite_1_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_technologique_opportunite_1_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_technologique_opportunite_2_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_technologique_opportunite_2_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_technologique_opportunite_2_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_technologique_opportunite_2_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_technologique_opportunite_3_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_technologique_opportunite_3_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_technologique_opportunite_3_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_technologique_opportunite_3_source})]})})]}),s.jsxs("div",{className:"bg-[#ffdfdf] rounded-md p-4 mb-4",children:[s.jsx("h5",{className:"text-lg font-semibold mb-2",children:"Technologique"}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_technologique_menace_1_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_technologique_menace_1_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_technologique_menace_1_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_technologique_menace_1_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_technologique_menace_2_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_technologique_menace_2_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_technologique_menace_2_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_technologique_menace_2_source})]})}),s.jsx("div",{className:"bg-white rounded-md p-2 mb-2",children:s.jsxs("p",{className:"text-[#4B5563]",children:[s.jsx("strong",{children:"Description:"})," ",t.pay_technologique_menace_3_description,s.jsx("br",{}),s.jsx("strong",{children:"Impact:"})," ",t.pay_technologique_menace_3_impact_potentiel,s.jsx("br",{}),s.jsx("a",{href:t.pay_technologique_menace_3_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 rounded-full text-sm text-white font-bold",style:{backgroundColor:"#f24e83"},children:t.pay_technologique_menace_3_source})]})})]})]})})]}),s.jsxs(vn,{value:"strategies-exploitation-opportunites",children:[s.jsx(yn,{className:"text-left text-lg flex-1 pr-4",children:"Stratégies d'exploitation des opportunités"}),s.jsxs(bn,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"border rounded-md overflow-hidden",children:s.jsxs(Zs,{children:[s.jsx(so,{children:s.jsxs(st,{className:"bg-[#e8f7df]",children:[s.jsx(xn,{className:"font-semibold text-black",children:"Opportunité"}),s.jsx(xn,{className:"font-semibold text-black hidden lg:table-cell",children:"Recommandation"}),s.jsx(xn,{className:"font-semibold text-black",children:"Opportunité associée"}),s.jsx(xn,{className:"font-semibold text-black",children:"Priorité"})]})}),s.jsxs(ei,{children:[s.jsxs(st,{children:[s.jsx(Me,{className:"font-medium",children:"Opportunité 1"}),s.jsx(Me,{className:"hidden lg:table-cell",children:t.pay_exploitation_opportunite_1_recommandation}),s.jsx(Me,{children:t.pay_exploitation_opportunite_1_opportunite_associee}),s.jsx(Me,{children:s.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800",children:t.pay_exploitation_opportunite_1_priorite})})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-medium",children:"Opportunité 2"}),s.jsx(Me,{className:"hidden lg:table-cell",children:t.pay_exploitation_opportunite_2_recommandation}),s.jsx(Me,{children:t.pay_exploitation_opportunite_2_opportunite_associee}),s.jsx(Me,{children:s.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800",children:t.pay_exploitation_opportunite_2_priorite})})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-medium",children:"Opportunité 3"}),s.jsx(Me,{className:"hidden lg:table-cell",children:t.pay_exploitation_opportunite_3_recommandation}),s.jsx(Me,{children:t.pay_exploitation_opportunite_3_opportunite_associee}),s.jsx(Me,{children:s.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800",children:t.pay_exploitation_opportunite_3_priorite})})]})]})]})})}),s.jsxs("div",{className:"block md:hidden space-y-4",children:[s.jsxs("div",{className:"bg-[#e8f7df] rounded-md p-4",children:[s.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Opportunité 1"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Recommandation:"})," ",t.pay_exploitation_opportunite_1_recommandation]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Opportunité associée:"})," ",t.pay_exploitation_opportunite_1_opportunite_associee]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priorité:"}),s.jsx("span",{className:"inline-block ml-2 px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800",children:t.pay_exploitation_opportunite_1_priorite})]})]})]}),s.jsxs("div",{className:"bg-[#e8f7df] rounded-md p-4",children:[s.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Opportunité 2"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Recommandation:"})," ",t.pay_exploitation_opportunite_2_recommandation]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Opportunité associée:"})," ",t.pay_exploitation_opportunite_2_opportunite_associee]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priorité:"}),s.jsx("span",{className:"inline-block ml-2 px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800",children:t.pay_exploitation_opportunite_2_priorite})]})]})]}),s.jsxs("div",{className:"bg-[#e8f7df] rounded-md p-4",children:[s.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Opportunité 3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Recommandation:"})," ",t.pay_exploitation_opportunite_3_recommandation]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Opportunité associée:"})," ",t.pay_exploitation_opportunite_3_opportunite_associee]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priorité:"}),s.jsx("span",{className:"inline-block ml-2 px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800",children:t.pay_exploitation_opportunite_3_priorite})]})]})]})]})]})]}),s.jsxs(vn,{value:"strategies-attenuation-menaces",children:[s.jsx(yn,{className:"text-left text-lg flex-1 pr-4",children:"Stratégies d'atténuation des menaces"}),s.jsxs(bn,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"border rounded-md overflow-hidden",children:s.jsxs(Zs,{children:[s.jsx(so,{children:s.jsxs(st,{className:"bg-[#ffdfdf]",children:[s.jsx(xn,{className:"font-semibold text-black",children:"Menace"}),s.jsx(xn,{className:"font-semibold text-black hidden lg:table-cell",children:"Recommandation"}),s.jsx(xn,{className:"font-semibold text-black",children:"Menace associée"}),s.jsx(xn,{className:"font-semibold text-black",children:"Priorité"})]})}),s.jsxs(ei,{children:[s.jsxs(st,{children:[s.jsx(Me,{className:"font-medium",children:"Menace 1"}),s.jsx(Me,{className:"hidden lg:table-cell",children:t.pay_attenuation_menace_1_recommandation}),s.jsx(Me,{children:t.pay_attenuation_menace_1_menace_associee}),s.jsx(Me,{children:s.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-800",children:t.pay_attenuation_menace_1_priorite})})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-medium",children:"Menace 2"}),s.jsx(Me,{className:"hidden lg:table-cell",children:t.pay_attenuation_menace_2_recommandation}),s.jsx(Me,{children:t.pay_attenuation_menace_2_menace_associee}),s.jsx(Me,{children:s.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-800",children:t.pay_attenuation_menace_2_priorite})})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-medium",children:"Menace 3"}),s.jsx(Me,{className:"hidden lg:table-cell",children:t.pay_attenuation_menace_3_recommandation}),s.jsx(Me,{children:t.pay_attenuation_menace_3_menace_associee}),s.jsx(Me,{children:s.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-800",children:t.pay_attenuation_menace_3_priorite})})]})]})]})})}),s.jsxs("div",{className:"block md:hidden space-y-4",children:[s.jsxs("div",{className:"bg-[#ffdfdf] rounded-md p-4",children:[s.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Menace 1"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Recommandation:"})," ",t.pay_attenuation_menace_1_recommandation]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Menace associée:"})," ",t.pay_attenuation_menace_1_menace_associee]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priorité:"}),s.jsx("span",{className:"inline-block ml-2 px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-800",children:t.pay_attenuation_menace_1_priorite})]})]})]}),s.jsxs("div",{className:"bg-[#ffdfdf] rounded-md p-4",children:[s.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Menace 2"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Recommandation:"})," ",t.pay_attenuation_menace_2_recommandation]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Menace associée:"})," ",t.pay_attenuation_menace_2_menace_associee]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priorité:"}),s.jsx("span",{className:"inline-block ml-2 px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-800",children:t.pay_attenuation_menace_2_priorite})]})]})]}),s.jsxs("div",{className:"bg-[#ffdfdf] rounded-md p-4",children:[s.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Menace 3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Recommandation:"})," ",t.pay_attenuation_menace_3_recommandation]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Menace associée:"})," ",t.pay_attenuation_menace_3_menace_associee]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priorité:"}),s.jsx("span",{className:"inline-block ml-2 px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-800",children:t.pay_attenuation_menace_3_priorite})]})]})]})]})]})]}),s.jsxs(vn,{value:"segmentation-marche",children:[s.jsx(yn,{className:"text-left text-lg flex-1 pr-4",children:"Segmentation du marché"}),s.jsxs(bn,{children:[s.jsxs("div",{className:"flex space-x-2 mb-4",children:[s.jsx("button",{className:`px-4 py-2 rounded-md ${l===1?"bg-[#f24e83] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>c(1),children:"Segment 1"}),s.jsx("button",{className:`px-4 py-2 rounded-md ${l===2?"bg-[#f24e83] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>c(2),children:"Segment 2"}),s.jsx("button",{className:`px-4 py-2 rounded-md ${l===3?"bg-[#f24e83] text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>c(3),children:"Segment 3"})]}),l===1&&s.jsx("div",{className:"border rounded-md",children:s.jsx(Zs,{children:s.jsxs(ei,{children:[s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Nom du segment de marché"}),s.jsx(Me,{children:t.pay_segment_1_nom})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Chiffre d'affaires potentiel"}),s.jsx(Me,{children:t.pay_segment_1_ca_potentiel})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Taille et volume"}),s.jsx(Me,{children:t.pay_segment_1_taille_volume})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Caractéristiques"}),s.jsx(Me,{children:t.pay_segment_1_caracteristiques})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Fréquence d'achat"}),s.jsx(Me,{children:t.pay_segment_1_frequence_achat})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Panier moyen"}),s.jsx(Me,{children:t.pay_segment_1_panier_moyen})]})]})})}),l===2&&s.jsx("div",{className:"border rounded-md",children:s.jsx(Zs,{children:s.jsxs(ei,{children:[s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Nom du segment de marché"}),s.jsx(Me,{children:t.pay_segment_2_nom})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Chiffre d'affaires potentiel"}),s.jsx(Me,{children:t.pay_segment_2_ca_potentiel})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Taille et volume"}),s.jsx(Me,{children:t.pay_segment_2_taille_volume})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Caractéristiques"}),s.jsx(Me,{children:t.pay_segment_2_caracteristiques})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Fréquence d'achat"}),s.jsx(Me,{children:t.pay_segment_2_frequence_achat})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Panier moyen"}),s.jsx(Me,{children:t.pay_segment_2_panier_moyen})]})]})})}),l===3&&s.jsx("div",{className:"border rounded-md",children:s.jsx(Zs,{children:s.jsxs(ei,{children:[s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Nom du segment de marché"}),s.jsx(Me,{children:t.pay_segment_3_nom})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Chiffre d'affaires potentiel"}),s.jsx(Me,{children:t.pay_segment_3_ca_potentiel})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Taille et volume"}),s.jsx(Me,{children:t.pay_segment_3_taille_volume})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Caractéristiques"}),s.jsx(Me,{children:t.pay_segment_3_caracteristiques})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Fréquence d'achat"}),s.jsx(Me,{children:t.pay_segment_3_frequence_achat})]}),s.jsxs(st,{children:[s.jsx(Me,{className:"font-semibold",children:"Panier moyen"}),s.jsx(Me,{children:t.pay_segment_3_panier_moyen})]})]})})})]})]}),s.jsxs(vn,{value:"synthese-vue-ensemble",children:[s.jsx(yn,{className:"text-left text-lg flex-1 pr-4",children:"Synthèse et vue d'ensemble"}),s.jsxs(bn,{children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Vue d'ensemble du marché"}),s.jsx("p",{className:"text-[#4B5563]",children:t.pay_vue_d_ensemble})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Synthèse de la demande"}),s.jsx("p",{className:"text-[#4B5563]",children:t.pay_synthese_demande})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Facteurs d'influence sur le marché"}),s.jsx("p",{className:"text-[#4B5563]",children:t.pay_facteurs_influence})]})]})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:u,description:(t==null?void 0:t.justification_avis)||d,avis:(t==null?void 0:t.avis)||"Commentaire",iconSrc:"/icones-livrables/market-icon.png",onClick:p}),s.jsx(Hi,{isOpen:m,onClose:g,title:u,iconComponent:s.jsx("img",{src:"/icones-livrables/market-icon.png",alt:"Market Icon",className:"w-full h-full object-contain"}),contentComponent:w,definition:f,importance:h,showContentTab:!0,showCommentsTab:!0,deliverableId:y||void 0,organizationId:v||void 0})]})},YAe=()=>{var C,k,A,T,E,R;const{projectId:e}=Nt(),[t,n]=x.useState(null),[r,i]=x.useState(!0),[a,o]=x.useState(null),[l,c]=x.useState({}),[u,d]=x.useState("materielles"),f="Ressources requises",h="Identification et planification des ressources nécessaires au projet",m="L'analyse des ressources consiste à identifier, quantifier et planifier l'ensemble des moyens matériels, humains et techniques nécessaires à la réalisation et au fonctionnement d'un projet d'entreprise.",p="Cette analyse est cruciale car elle permet d'évaluer les investissements requis, de planifier les recrutements, d'anticiper les coûts et de s'assurer que tous les moyens nécessaires seront disponibles au moment opportun pour le lancement et la croissance de l'entreprise.",{isPopupOpen:g,handleTemplateClick:y,handlePopupClose:v}=Sa({hasContent:!0,hasDefinition:!0}),{deliverableId:w,organizationId:b}=Na({projectId:e||"",deliverableType:"other",deliverableTitle:"Analyse des Ressources"}),j=$=>{if(!$)return{categories_ressources:[]};try{const O=JSON.parse($);return console.log("Parsed JSON structure:",O),O.output&&O.output.agent_response&&O.output.agent_response.categories_ressources?{categories_ressources:O.output.agent_response.categories_ressources}:O.categories_ressources?{categories_ressources:O.categories_ressources}:(console.warn("Structure JSON non reconnue:",O),{categories_ressources:[]})}catch(O){return console.error("Erreur lors du parsing JSON:",O),{categories_ressources:[]}}};x.useEffect(()=>{console.log("AnalyseDesRessourcesLivrable: useEffect triggered"),(async()=>{if(!e){o("Project ID not found in URL."),i(!1),console.log("AnalyseDesRessourcesLivrable: Project ID not found.");return}try{const{data:O,error:F}=await q.from("ressources_requises").select("*, avis").eq("project_id",e).single();if(F)F.code==="PGRST116"?(console.log("AnalyseDesRessourcesLivrable: No data found for project ID (PGRST116 error):",e),n(null),o(null)):(o(F.message||"An unknown error occurred while fetching data."),console.error("AnalyseDesRessourcesLivrable: Fetch error:",F));else if(!O)console.log("AnalyseDesRessourcesLivrable: No data found for project ID (ressourcesData is null):",e),n(null),o(null);else{console.log("AnalyseDesRessourcesLivrable: Raw data from Supabase:",O);const z={...O,ressources_materielles:j(O.ressources_materielles),ressources_humaines:j(O.ressources_humaines),ressources_techniques:j(O.ressources_techniques)};n(z),console.log("AnalyseDesRessourcesLivrable: Parsed data:",z)}}catch(O){o(O.message||"An unknown error occurred while fetching data."),console.error("AnalyseDesRessourcesLivrable: Fetch error:",O)}finally{i(!1),console.log("AnalyseDesRessourcesLivrable: Loading finished.")}})()},[e]);const _=($,O,F)=>{if(!$||!$.categorie||!Array.isArray($.elements))return console.log("Invalid category object:",$),null;const z=$.categorie,P=$.elements,I=O[z]||!1,M=()=>{F(U=>({...U,[z]:!U[z]}))};return P.length===0?null:s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsxs("button",{className:"w-full text-left py-2 focus:outline-none flex justify-between items-center",onClick:M,children:[s.jsx("h4",{className:"text-base font-semibold text-gray-800",children:z}),s.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${I?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${I?"max-h-[9999px]":"max-h-0"}`,children:s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"overflow-x-auto hidden sm:block",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantité"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Justification"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Alternative économique"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((U,D)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-6 text-sm font-medium text-gray-900 break-words",children:U.nom}),s.jsx("td",{className:"px-6 py-6 text-sm text-gray-500 break-words",children:U.quantite}),s.jsx("td",{className:"px-6 py-6 text-sm text-gray-500 break-words",children:U.justification}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U.priorite==="🔥 Prioritaire"?"bg-red-100 text-red-800":U.priorite==="Moyen"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:U.priorite})}),s.jsx("td",{className:"px-6 py-6 text-sm text-blue-600 break-words",children:U.alternative_economique&&U.alternative_economique!=="Aucune"?U.alternative_economique:"Aucune"})]},D))})]})}),s.jsx("div",{className:"sm:hidden space-y-4",children:P.map((U,D)=>s.jsxs("div",{className:`bg-white p-4 rounded-md shadow-sm border-l-4 ${U.priorite==="🔥 Prioritaire"?"border-red-100":U.priorite==="Moyen"?"border-yellow-100":"border-gray-100"}`,children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("h5",{className:"font-medium text-gray-900 text-base",children:U.nom}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full mt-1 inline-block ${U.priorite==="🔥 Prioritaire"?"bg-red-100 text-red-800":U.priorite==="Moyen"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:U.priorite})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[s.jsx("strong",{children:"Quantité:"})," ",U.quantite]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[s.jsx("strong",{children:"Justification:"})," ",U.justification]}),U.alternative_economique&&U.alternative_economique!=="Aucune"&&s.jsxs("p",{className:"text-sm text-blue-600",children:[s.jsx("strong",{children:"Alternative économique:"})," ",U.alternative_economique]})]},D))})]})})]},z)};if(r)return console.log("AnalyseDesRessourcesLivrable: Rendering Loading state."),s.jsx("div",{children:"Chargement des ressources..."});if(a)return console.log("AnalyseDesRessourcesLivrable: Rendering Error state."),s.jsxs("div",{children:["Erreur: ",a]});const S=t&&(((C=t.ressources_materielles)==null?void 0:C.categories_ressources)&&t.ressources_materielles.categories_ressources.length>0||((k=t.ressources_humaines)==null?void 0:k.categories_ressources)&&t.ressources_humaines.categories_ressources.length>0||((A=t.ressources_techniques)==null?void 0:A.categories_ressources)&&t.ressources_techniques.categories_ressources.length>0)?s.jsxs(s.Fragment,{children:[s.jsxs(mb,{type:"single",value:u,onValueChange:d,className:"flex-row mb-4 mt-4 justify-start",children:[s.jsx(ma,{value:"materielles","aria-label":"Toggle matérielles",className:`px-3 py-1 text-sm mr-2 ${u==="materielles"?"bg-aurentia-orange-aurentia text-white":"bg-gray-200"}`,children:s.jsx("span",{className:u==="materielles"?"text-white":"",children:"Ressources matérielles"})}),s.jsx(ma,{value:"humaines","aria-label":"Toggle humaines",className:`px-3 py-1 text-sm mr-2 ${u==="humaines"?"bg-aurentia-orange-aurentia text-white":"bg-gray-200"}`,children:s.jsx("span",{className:u==="humaines"?"text-white":"",children:"Ressources humaines"})}),s.jsx(ma,{value:"techniques","aria-label":"Toggle techniques",className:`px-3 py-1 text-sm mr-2 ${u==="techniques"?"bg-aurentia-orange-aurentia text-white":"bg-gray-200"}`,children:s.jsx("span",{className:u==="techniques"?"text-white":"",children:"Ressources techniques"})})]}),u==="materielles"&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ressources matérielles"}),(T=t==null?void 0:t.ressources_materielles)!=null&&T.categories_ressources&&t.ressources_materielles.categories_ressources.length>0?t.ressources_materielles.categories_ressources.map(($,O)=>s.jsx("div",{children:_($,l,c)},O)):s.jsx("p",{children:"Aucune ressource matérielle trouvée."})]}),u==="humaines"&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ressources humaines"}),(E=t==null?void 0:t.ressources_humaines)!=null&&E.categories_ressources&&t.ressources_humaines.categories_ressources.length>0?t.ressources_humaines.categories_ressources.map(($,O)=>s.jsx("div",{children:_($,l,c)},O)):s.jsx("p",{children:"Aucune ressource humaine trouvée."})]}),u==="techniques"&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Ressources techniques"}),(R=t==null?void 0:t.ressources_techniques)!=null&&R.categories_ressources&&t.ressources_techniques.categories_ressources.length>0?t.ressources_techniques.categories_ressources.map(($,O)=>s.jsx("div",{children:_($,l,c)},O)):s.jsx("p",{children:"Aucune ressource technique trouvée."})]})]}):s.jsx("p",{className:"mt-4",children:"Aucune donnée de ressource disponible pour ce projet."});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:f,description:h,avis:(t==null?void 0:t.avis)||"Commentaire",iconSrc:"/icones-livrables/ressources-icon.png",onClick:y}),s.jsx(Hi,{isOpen:g,onClose:v,title:f,iconComponent:s.jsx("img",{src:"/icones-livrables/ressources-icon.png",alt:"Ressources Icon",className:"w-full h-full object-contain"}),contentComponent:S,definition:m,importance:p,showContentTab:!0,showCommentsTab:!0,deliverableId:w||void 0,organizationId:b||void 0,modalWidthClass:"md:w-[90%]"})]})},XAe=({projectId:e})=>{var w,b,j,_,N,S,C,k,A,T,E,R,$,O,F;const[t,n]=x.useState(null),[r,i]=x.useState(!0),[a,o]=x.useState("vision"),l="Vision & Missions",c="Définition de l'identité stratégique du projet",u="La vision, mission et valeurs constituent le fondement stratégique d'une entreprise. La vision définit l'ambition à long terme, la mission précise le but et l'impact recherché, tandis que les valeurs établissent les principes directeurs qui guident les décisions et comportements.",d="Ces éléments sont essentiels pour donner une direction claire à l'entreprise, aligner les équipes autour d'objectifs communs, et communiquer efficacement avec les parties prenantes sur l'identité et les aspirations de l'organisation.",f="#fab85b",{isPopupOpen:h,handleTemplateClick:m,handlePopupClose:p}=Sa({hasContent:!0,hasDefinition:!0}),{deliverableId:g,organizationId:y}=Na({projectId:e||"",deliverableType:"other",deliverableTitle:"Vision Mission Valeurs"});if(x.useEffect(()=>{(async()=>{if(!e){i(!1);return}try{const{data:P,error:I}=await q.from("vision_mission_valeurs").select("*, avis").eq("project_id",e).single();if(I)console.error("Error fetching vision_mission_valeurs:",I),n(null);else{const M={...P,vision:P.vision?JSON.parse(P.vision):{},mission:P.mission?JSON.parse(P.mission):{},valeurs:P.valeurs?JSON.parse(P.valeurs):[],coherence_strategique:P.coherence_strategique?JSON.parse(P.coherence_strategique):{}};n(M)}}catch(P){console.error("Unexpected error during fetch or parse:",P),n(null)}finally{i(!1)}})()},[e]),r)return s.jsx("div",{children:"Loading..."});const v=s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap md:flex-nowrap gap-2 mb-4",children:[s.jsx("button",{className:`text-sm px-4 py-2 rounded-full cursor-pointer w-[calc(50%-0.25rem)] md:w-auto ${a==="vision"?"text-white":"bg-gray-200 text-gray-700"}`,style:a==="vision"?{backgroundColor:f}:{},onClick:()=>o("vision"),children:"Vision"}),s.jsx("button",{className:`text-sm px-4 py-2 rounded-full cursor-pointer w-[calc(50%-0.25rem)] md:w-auto ${a==="mission"?"text-white":"bg-gray-200 text-gray-700"}`,style:a==="mission"?{backgroundColor:f}:{},onClick:()=>o("mission"),children:"Mission"}),s.jsx("button",{className:`text-sm px-4 py-2 rounded-full cursor-pointer w-[calc(50%-0.25rem)] md:w-auto ${a==="valeurs"?"text-white":"bg-gray-200 text-gray-700"}`,style:a==="valeurs"?{backgroundColor:f}:{},onClick:()=>o("valeurs"),children:"Valeurs"}),s.jsx("button",{className:`text-sm px-4 py-2 rounded-full cursor-pointer w-[calc(50%-0.25rem)] md:w-auto ${a==="coherence_strategique"?"text-white":"bg-gray-200 text-gray-700"}`,style:a==="coherence_strategique"?{backgroundColor:f}:{},onClick:()=>o("coherence_strategique"),children:"Cohérence"})]}),a==="vision"&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Vision globale de l'entreprise"}),s.jsx("p",{className:"text-[#4B5563]",children:((w=t==null?void 0:t.vision)==null?void 0:w.vision_globale)||"N/A"})]}),s.jsx("h4",{className:"text-sm font-semibold mb-2 mt-4",children:"Projections sur 5 ans"}),s.jsx("div",{className:"bg-[#F9FAFB] rounded-md p-4 hidden md:block",children:s.jsxs("table",{className:"w-full text-left table-auto",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 border-b-2 border-gray-200 w-24",children:"Année"}),s.jsx("th",{className:"px-4 py-2 border-b-2 border-gray-200",children:"Description"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 border-b border-gray-200 w-24",children:"Année 1"}),s.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:((b=t==null?void 0:t.vision)==null?void 0:b.vision_1_an)||"N/A"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 border-b border-gray-200 w-24",children:"Année 2"}),s.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:((j=t==null?void 0:t.vision)==null?void 0:j.vision_2_ans)||"N/A"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 border-b border-gray-200 w-24",children:"Année 3"}),s.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:((_=t==null?void 0:t.vision)==null?void 0:_.vision_3_ans)||"N/A"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 border-b border-gray-200 w-24",children:"Année 4"}),s.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:((N=t==null?void 0:t.vision)==null?void 0:N.vision_4_ans)||"N/A"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 w-24",children:"Année 5"}),s.jsx("td",{className:"px-4 py-2",children:((S=t==null?void 0:t.vision)==null?void 0:S.vision_5_ans)||"N/A"})]})]})]})}),s.jsx("div",{className:"block md:hidden mt-4",children:(t==null?void 0:t.vision)&&[1,2,3,4,5].map(z=>{const P=z===1?"vision_1_an":`vision_${z}_ans`,I=t.vision[P]!==void 0?t.vision[P]:"N/A";return s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md p-4 mb-4 last:mb-0",children:[s.jsxs("h5",{className:"text-sm font-semibold mb-2",children:["Année ",z]}),s.jsx("p",{className:"text-[#4B5563]",children:I})]},z)})})]}),a==="mission"&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Énoncé de la mission"}),s.jsx("p",{className:"text-[#4B5563]",children:((C=t==null?void 0:t.mission)==null?void 0:C.enonce)||"N/A"})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Impact social et environnemental"}),s.jsx("p",{className:"text-[#4B5563]",children:((k=t==null?void 0:t.mission)==null?void 0:k.impact_social_environnemental)||"N/A"})]})]}),a==="valeurs"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"bg-[#F9FAFB] rounded-md p-4 hidden md:block",children:s.jsxs(Zs,{children:[s.jsx(so,{children:s.jsxs(st,{children:[s.jsx(xn,{className:"w-[200px]",children:"Nom de la valeur"}),s.jsx(xn,{children:"Description"})]})}),s.jsxs(ei,{children:[(A=t==null?void 0:t.valeurs)==null?void 0:A.map((z,P)=>s.jsxs(st,{children:[s.jsx(Me,{className:"font-medium",children:z.nom||"N/A"}),s.jsx(Me,{children:z.description||"N/A"})]},P)),Array.from({length:Math.max(0,6-(((T=t==null?void 0:t.valeurs)==null?void 0:T.length)||0))}).map((z,P)=>s.jsxs(st,{children:[s.jsx(Me,{className:"font-medium",children:"N/A"}),s.jsx(Me,{children:"N/A"})]},`empty-${P}`))]})]})}),s.jsxs("div",{className:"block md:hidden mt-4",children:[(E=t==null?void 0:t.valeurs)==null?void 0:E.map((z,P)=>s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md p-4 mb-4 last:mb-0",children:[s.jsx("h5",{className:"text-sm font-semibold mb-2",children:z.nom||"N/A"}),s.jsx("p",{className:"text-[#4B5563]",children:z.description||"N/A"})]},P)),Array.from({length:Math.max(0,6-(((R=t==null?void 0:t.valeurs)==null?void 0:R.length)||0))}).map((z,P)=>s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md p-4 mb-4 last:mb-0",children:[s.jsx("h5",{className:"text-sm font-semibold mb-2",children:"N/A"}),s.jsx("p",{className:"text-[#4B5563]",children:"N/A"})]},`placeholder-${P}`))]})]}),a==="coherence_strategique"&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Alignement Vision-Mission"}),s.jsx("p",{className:"text-[#4B5563]",children:(($=t==null?void 0:t.coherence_strategique)==null?void 0:$.alignement_vision_mission)||"N/A"})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Progression temporelle"}),s.jsx("p",{className:"text-[#4B5563]",children:((O=t==null?void 0:t.coherence_strategique)==null?void 0:O.progression_temporelle)||"N/A"})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Opérationnalisation des valeurs"}),s.jsx("p",{className:"text-[#4B5563]",children:((F=t==null?void 0:t.coherence_strategique)==null?void 0:F.operationnalisation_valeurs)||"N/A"})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:l,description:c,avis:(t==null?void 0:t.avis)||"Commentaire",iconSrc:"/icones-livrables/vision-icon.png",onClick:m}),s.jsx(Hi,{isOpen:h,onClose:p,title:l,iconComponent:s.jsx("img",{src:"/icones-livrables/vision-icon.png",alt:"Vision Icon",className:"w-full h-full object-contain"}),contentComponent:v,definition:u,importance:d,showContentTab:!0,showCommentsTab:!0,deliverableId:g||void 0,organizationId:y||void 0})]})},QAe=({title:e,description:t,iconSrc:n="/icones-livrables/juridique-icon.png",projectId:r})=>{const[i,a]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(!0),[p,g]=x.useState(null),y=`Le cadre juridique d'une entreprise constitue l'architecture légale fondamentale qui détermine sa structure, son fonctionnement et ses obligations. Il englobe le choix de la forme juridique (SARL, SAS, etc.) qui définit les modalités de gouvernance, la répartition des pouvoirs, les responsabilités des dirigeants et associés, ainsi que le régime fiscal applicable.

Cette analyse comprend également l'identification et la maîtrise des risques juridiques spécifiques au secteur d'activité, incluant les obligations réglementaires, les certifications requises, les licences nécessaires et la conformité aux normes sectorielles. Elle intègre la mise en place de mesures préventives, la souscription d'assurances adaptées et la définition des protocoles de compliance.

Le volet propriété intellectuelle constitue un pilier essentiel, couvrant la protection des marques, des brevets potentiels, des droits d'auteur et des secrets d'affaires. Il établit la stratégie de dépôt, de surveillance et de défense des actifs immatériels qui forment souvent la valeur différenciatrice de l'entreprise.`,v=`Le cadre juridique est le socle de sécurité et de crédibilité de toute entreprise. Une structuration juridique inadéquate peut entraîner des conséquences dramatiques : responsabilité personnelle illimitée des dirigeants, exposition patrimoniale maximale, difficultés de financement, problèmes de gouvernance, conflits entre associés non anticipés, et impossibilité de céder ou transmettre l'entreprise dans de bonnes conditions.

L'absence de maîtrise des risques sectoriels expose l'entrepreneur à des sanctions administratives, pénales ou civiles, des rappels de produits, des dommages-intérêts, une perte de réputation irréversible et potentiellement la fermeture de l'activité. Dans des secteurs réglementés, l'ignorance de la compliance peut coûter l'existence même de l'entreprise.

La négligence de la propriété intellectuelle représente un risque majeur de spoliation. Sans protection adéquate, les concurrents peuvent s'approprier librement les innovations, la marque, l'image de marque et les développements techniques, anéantissant l'avantage concurrentiel et la valeur de l'entreprise. Inversement, l'entrepreneur non protégé s'expose aux actions en contrefaçon de tiers.

Un cadre juridique solide facilite les levées de fonds, rassure les partenaires commerciaux, optimise la fiscalité, préserve la flexibilité opérationnelle et prépare les évolutions futures de l'entreprise. Il constitue un facteur déterminant de pérennité et de croissance.`,{isPopupOpen:w,handleTemplateClick:b,handlePopupClose:j}=Sa({hasContent:!!i,hasDefinition:!0,hasRecommendations:!!o}),{deliverableId:_,organizationId:N}=Na({projectId:r||"",deliverableType:"legal",deliverableTitle:"Cadre Juridique"});x.useEffect(()=>{r&&(async()=>{var A;m(!0),g(null);try{const{data:T,error:E}=await q.from("juridique").select("structure, recommandations, avis, justification_avis").eq("project_id",r).single();if(E)throw E;T?(a(((A=T.structure)==null?void 0:A.agent_response)||null),l(T.recommandations||null),u(T.avis||null),f(T.justification_avis||null)):(a(null),l(null),u(null),f(null))}catch(T){console.error("Erreur lors de la récupération des données juridiques:",T.message),g("Impossible de charger les données juridiques pour ce projet.")}finally{m(!1)}})()},[r]);const S=k=>!k||k.length===0?s.jsx("p",{className:"text-gray-500",children:"Non spécifié."}):s.jsx("ul",{className:"list-disc list-inside",children:k.map((A,T)=>s.jsx("li",{children:s.jsx(yl,{components:{p:({node:E,...R})=>s.jsx("span",{...R})},children:A})},T))}),C=()=>{var A,T,E,R,$,O,F,z,P,I,M,U,D,L,V,K,G,X,oe;if(h)return s.jsx("p",{className:"text-gray-500",children:"Chargement des données..."});if(p)return s.jsx("p",{className:"text-red-500",children:p});if(!i)return s.jsx("p",{className:"text-gray-500",children:"Aucune donnée juridique disponible pour ce projet."});const k=[{title:"Forme Juridique Recommandée",items:[{title:"Choix recommandé",content:((A=i.forme_juridique)==null?void 0:A.recommandation_principale)||"Non spécifié."},{title:"Justification du choix",content:((T=i.forme_juridique)==null?void 0:T.justification)||"Non spécifié."},{title:"Alternatives possibles",content:S((E=i.forme_juridique)==null?void 0:E.alternatives)},{title:"Avantages fiscaux",content:S((R=i.forme_juridique)==null?void 0:R.avantages_fiscaux)}].filter(Y=>Y.content!==void 0&&Y.content!==null)},{title:"Risques Juridiques",items:[{title:"Risques majeurs identifiés",content:S(($=i.risques_juridiques)==null?void 0:$.risques_majeurs)},{title:"Mesures préventives",content:S((O=i.risques_juridiques)==null?void 0:O.mesures_preventives)},{title:"Assurances recommandées",content:S((F=i.risques_juridiques)==null?void 0:F.assurances_recommandees)}].filter(Y=>Y.content!==void 0&&Y.content!==null)},{title:"Compliance Sectorielle",items:[{title:"Licences requises",content:S((z=i.compliance_sectorielle)==null?void 0:z.licences_requises)},{title:"Organismes régulateurs",content:S((P=i.compliance_sectorielle)==null?void 0:P.organismes_regulateurs)},{title:"Certifications nécessaires",content:S((I=i.compliance_sectorielle)==null?void 0:I.certifications_necessaires)},{title:"Réglementations applicables",content:S((M=i.compliance_sectorielle)==null?void 0:M.reglementations_applicables)}].filter(Y=>Y.content!==void 0&&Y.content!==null)},{title:"Propriété Intellectuelle",items:[{title:"Protection de marque (nécessité)",content:((D=(U=i.protection_intellectuelle)==null?void 0:U.marque)==null?void 0:D.necessite)||"Non spécifié."},{title:"Classes recommandées",content:S((V=(L=i.protection_intellectuelle)==null?void 0:L.marque)==null?void 0:V.classes_recommandees)},{title:"Stratégie brevets",content:((G=(K=i.protection_intellectuelle)==null?void 0:K.brevets)==null?void 0:G.strategie)||"Non spécifié."},{title:"Éléments brevetables",content:S((oe=(X=i.protection_intellectuelle)==null?void 0:X.brevets)==null?void 0:oe.elements_brevetables)}].filter(Y=>Y.content!==void 0&&Y.content!==null)}].filter(Y=>Y.items.length>0);return k.length===0?s.jsx("p",{className:"text-gray-500",children:"Aucun contenu structuré disponible pour le moment."}):s.jsx(di,{type:"single",collapsible:!0,className:"w-full",children:k.map((Y,ne)=>s.jsxs(vn,{value:`section-${ne}`,children:[s.jsx(yn,{className:"text-lg",children:Y.title}),s.jsx(bn,{children:Y.items.map((ge,se)=>s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:ge.title}),s.jsx("div",{className:"text-[#4B5563]",style:{whiteSpace:"pre-wrap"},children:ge.content})]},se))})]},ne))})};return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:e,description:d||t,avis:c||"Non généré",iconSrc:n,onClick:b}),s.jsx(Hi,{isOpen:w,onClose:j,title:e,iconComponent:s.jsx("img",{src:n,alt:`${e} icon`,className:"h-16 w-16 object-contain"}),contentComponent:C(),definition:y,importance:v,recommendations:o,showContentTab:!0,showCommentsTab:!0,deliverableId:_||void 0,organizationId:N||void 0})]})},JAe=({title:e,description:t,avis:n,justification_avis:r,structure:i,iconSrc:a="/icones-livrables/market-icon.png",definition:o,recommendations:l,importance:c})=>{const{isPopupOpen:u,handleTemplateClick:d,handlePopupClose:f}=Sa({hasContent:!!n||!!r||i&&i.length>0,hasDefinition:!!o,hasRecommendations:!!l}),h=s.jsx("div",{className:"space-y-6",children:i&&i.length>0&&s.jsx(di,{type:"single",collapsible:!0,className:"w-full",children:i.map((m,p)=>s.jsxs(vn,{value:`section-${p}`,children:[s.jsx(yn,{className:"text-lg",children:m.title}),s.jsx(bn,{children:m.items.map((g,y)=>s.jsxs("div",{className:"bg-gray-50 rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:g.title}),s.jsx("p",{className:"text-gray-600",children:g.content})]},y))})]},p))})});return s.jsxs(s.Fragment,{children:[s.jsx(Vi,{title:e,description:t,avis:n||"Non généré",iconSrc:a,onClick:d}),s.jsx(Hi,{isOpen:u,onClose:f,title:e,iconComponent:s.jsx("img",{src:a,alt:`${e} icon`,className:"h-16 w-16 object-contain"}),contentComponent:h,definition:o,importance:c,recommendations:l,showContentTab:!0})]})},zg=({children:e,isBlurred:t,onUnlockClick:n})=>{const[r,i]=x.useState(!1);return s.jsxs("div",{className:"relative h-full",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[t&&s.jsx("div",{className:`absolute inset-0 bg-white bg-opacity-50 flex items-center justify-center z-10 transition-all duration-300
            ${r?"backdrop-blur-sm":"backdrop-blur-none"}
            ${r?"opacity-100":"opacity-0"}
          `,children:s.jsx("button",{className:`px-6 py-3 rounded-full text-white font-bold bg-gradient-primary transition-opacity duration-300
              ${r?"opacity-100":"opacity-0"}
            `,onClick:n,children:"Débloquer"})}),s.jsxs("div",{className:"h-full",children:[" ",e]})]})},ZAe=({deliverable:e})=>{const t=a=>{if(!a)return{text:"En attente",style:"bg-gray-200 text-gray-600"};switch(a.toLowerCase()){case"completed":case"terminé":case"complete":return{text:"Terminé",style:"bg-green-100 text-green-700"};case"in_progress":case"en_cours":case"processing":return{text:"En cours",style:"bg-blue-100 text-blue-700"};case"pending":case"en_attente":return{text:"En attente",style:"bg-gray-200 text-gray-600"};default:return{text:"En cours",style:"bg-blue-100 text-blue-700"}}},n=e.key==="juridique"?e.statut_juridique:e.status,r=t(n),i=a=>({concurrence:"/icones-livrables/concurrence-icon.png",pestel:"/icones-livrables/market-icon.png",proposition_valeur:"/icones-livrables/proposition-valeur-icon.png",business_model:"/icones-livrables/business-model-icon.png",ressources:"/icones-livrables/ressources-icon.png",juridique:"/icones-livrables/juridique-icon.png"})[a]||"/icones-livrables/market-icon.png";return s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:i(e.key),alt:e.name,className:"w-8 h-8 object-contain"}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:e.name})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.style}`,children:r.text})]})},e2e=(e,t=!0)=>{const[n,r]=x.useState([]),[i,a]=x.useState(!1),o=x.useRef(null),l=[{key:"concurrence",id:"statut_concurrence",name:"Concurrence",icon:"/icones-livrables/concurrence-icon.png",color:"#e74c3c"},{key:"pestel",id:"statut_pestel",name:"Analyse de marché (PESTEL)",icon:"/icones-livrables/market-icon.png",color:"#3498db"},{key:"proposition_valeur",id:"statut_proposition_valeur",name:"Proposition de valeur",icon:"/icones-livrables/proposition-valeur-icon.png",color:"#9b59b6"},{key:"business_model",id:"statut_business_model",name:"Business model",icon:"/icones-livrables/business-model-icon.png",color:"#57a68b"},{key:"ressources",id:"statut_ressources",name:"Analyse des ressources",icon:"/icones-livrables/ressources-icon.png",color:"#f39c12"},{key:"juridique",id:"statut_juridique",name:"Cadre juridique",icon:"/icones-livrables/juridique-icon.png",color:"#8e44ad"}],c=async()=>{if(e)try{a(!0);const{data:m,error:p}=await q.from("project_summary").select("statut_concurrence, statut_pestel, statut_proposition_valeur, statut_business_model, statut_ressources, statut_juridique").eq("project_id",e).single();if(p){console.error("Erreur lors de la récupération des statuts:",p);return}if(m){console.log("Fetched deliverable statuses from Supabase:",m);const g=l.map(y=>({...y,status:m[y.id]||null}));r(g)}}catch(m){console.error("Erreur lors de la récupération des statuts:",m)}finally{a(!1)}},u=()=>{!e||!t||(console.log("🔄 Démarrage du polling des statuts de livrables"),c(),o.current=setInterval(()=>{c()},4e3))},d=()=>{o.current&&(console.log("⏹️ Arrêt du polling des statuts de livrables"),clearInterval(o.current),o.current=null)},f=()=>n.length>0&&n.every(m=>m.status==="completed"||m.status==="terminé"),h=()=>n.filter(m=>m.status==="completed"||m.status==="terminé").length;return x.useEffect(()=>(t&&e?u():d(),()=>{d()}),[e,t]),{deliverables:n,isLoading:i,error:null,areAllDeliverablesCompleted:f(),completedCount:h(),totalCount:n.length,refetch:c}},t2e=({isOpen:e,onClose:t,title:n,sections:r,iconSrc:i,recommendations:a})=>{const[o,l]=x.useState("content"),[c,u]=x.useState(!1),[d,f]=x.useState(0),[h,m]=x.useState("auto"),p=x.useRef(null),g=x.useRef(null),y=v=>{v===o||c||(u(!0),setTimeout(()=>{l(v),setTimeout(()=>{var w,b;if(p.current&&g.current){const j=p.current.scrollHeight,_=((w=g.current.querySelector(".sticky"))==null?void 0:w.clientHeight)||100,N=((b=g.current.querySelector(".border-b"))==null?void 0:b.clientHeight)||50,C=j+_+N+48;f(j),m(`${C}px`)}setTimeout(()=>{u(!1)},60)},30)},100))};return x.useLayoutEffect(()=>{var v,w;if(e&&p.current&&g.current){const b=p.current.scrollHeight,j=((v=g.current.querySelector(".sticky"))==null?void 0:v.clientHeight)||100,_=((w=g.current.querySelector(".border-b"))==null?void 0:w.clientHeight)||50,N=48,S=b+j+_+N;f(b),m(`${S}px`);const C=new ResizeObserver(()=>{if(p.current&&!c&&g.current){const k=p.current.scrollHeight;if(k!==d){const A=k+j+_+N;f(k),m(`${A}px`)}}});return C.observe(p.current),()=>{C.disconnect()}}},[e,o,c]),e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:s.jsxs("div",{ref:g,className:"bg-white text-black rounded-lg w-full mx-2.5 md:w-3/4 relative transform scale-95 opacity-0 overflow-hidden flex flex-col",onClick:v=>v.stopPropagation(),style:{animation:"scaleIn 0.3s ease-out forwards",height:h,maxHeight:"calc(100vh - 100px)",transition:"height 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.3s ease-out"},children:[s.jsxs("div",{className:"sticky top-0 bg-white z-10 border-b border-gray-200 p-6 pb-4 flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center",children:[i&&s.jsx("img",{src:i,alt:"Icon",className:"w-8 h-8 object-cover mr-3"}),s.jsx("h2",{className:"text-xl font-bold",children:n})]}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",onClick:t,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),n==="Évaluation Globale de Viabilité"&&s.jsxs("div",{className:"flex bg-white border-b border-gray-100",children:[s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 ${o==="content"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>y("content"),children:"Contenu"}),s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 ${o==="recommendations"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>y("recommendations"),children:"Recommandations"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:s.jsx("div",{ref:p,className:`transition-all duration-300 ${c?"opacity-0 blur-sm transform translate-y-2":"opacity-100 blur-0 transform translate-y-0"}`,children:n==="Évaluation Globale de Viabilité"?s.jsxs(s.Fragment,{children:[o==="content"&&s.jsx(s.Fragment,{children:r.filter(v=>v.title!=="Recommandations Prioritaires").length>0?s.jsx(di,{type:"single",collapsible:!0,className:"w-full",children:r.filter(v=>v.title!=="Recommandations Prioritaires").map((v,w)=>s.jsxs(vn,{value:`section-${w}`,children:[s.jsx(yn,{className:"text-lg",children:v.title}),s.jsx(bn,{children:v.items.map((b,j)=>s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:b.title}),s.jsx("div",{className:"text-[#4B5563]",style:{whiteSpace:"pre-wrap"},children:Array.isArray(b.content)?s.jsx("ul",{children:b.content.map((_,N)=>s.jsx("li",{children:s.jsx(yl,{children:String(_)})},N))}):s.jsx(yl,{children:String(b.content)})})]},j))})]},w))}):s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-500",children:"Aucun contenu disponible pour le moment."})})}),o==="recommendations"&&s.jsx("div",{className:"w-full",children:a&&a.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs("table",{className:"w-full border-collapse border border-gray-300 rounded-lg overflow-hidden",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold text-gray-700",children:"Recommandation"}),s.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold text-gray-700",children:"Priorité"}),s.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold text-gray-700",children:"Impact Attendu"})]})}),s.jsx("tbody",{children:a.map((v,w)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-800",children:v.action||"N/A"}),s.jsx("td",{className:"border border-gray-300 px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.priorite==="Haute"||v.priorite==="Élevée"?"bg-red-100 text-red-800":v.priorite==="Moyenne"||v.priorite==="Modérée"?"bg-yellow-100 text-yellow-800":v.priorite==="Faible"||v.priorite==="Basse"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.priorite||"N/A"})}),s.jsx("td",{className:"border border-gray-300 px-4 py-3 text-gray-800",children:v.impact_attendu||"N/A"})]},w))})]})}),s.jsx("div",{className:"md:hidden space-y-4",children:a.map((v,w)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h5",{className:"font-semibold text-gray-900 text-sm flex-1 pr-2",children:v.action||"N/A"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ${v.priorite==="Haute"||v.priorite==="Élevée"?"bg-red-100 text-red-800":v.priorite==="Moyenne"||v.priorite==="Modérée"?"bg-yellow-100 text-yellow-800":v.priorite==="Faible"||v.priorite==="Basse"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.priorite||"N/A"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Impact attendu:"})," ",v.impact_attendu||"N/A"]})]},w))})]}):s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-500",children:"Aucune recommandation disponible pour le moment."})})})]}):s.jsx(s.Fragment,{children:r.length>0?s.jsx(di,{type:"single",collapsible:!0,className:"w-full",children:r.map((v,w)=>s.jsxs(vn,{value:`section-${w}`,children:[s.jsx(yn,{className:"text-lg",children:v.title}),s.jsx(bn,{children:v.items.map((b,j)=>s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:b.title}),s.jsx("div",{className:"text-[#4B5563]",style:{whiteSpace:"pre-wrap"},children:Array.isArray(b.content)?s.jsx("ul",{children:b.content.map((_,N)=>s.jsx("li",{children:s.jsx(yl,{children:String(_)})},N))}):s.jsx(yl,{children:String(b.content)})})]},j))})]},w))}):s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-500",children:"Aucun contenu disponible pour le moment."})})})})}),s.jsx("style",{children:`
            @keyframes scaleIn {
              to {
                opacity: 1;
                transform: scale(1);
              }
            }
          `})]})}):null},N3=({title:e,score:t,subtitle:n,resumeExecutif:r,isMain:i=!1,onViewMore:a,isDisabled:o=!1})=>{const c=(u=>u>=4?"#10B981":u===3?"#FF6B47":u<=2?"#EF4444":"#6B7280")(t);if(i){const u=(d,f=200)=>d?d.length<=f?d:d.substring(0,f)+"...":"";return s.jsxs("div",{className:`relative bg-white border border-gray-200 rounded-xl p-6 cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1 ${o?"opacity-50 cursor-not-allowed":""}`,onClick:o?void 0:a,style:{minHeight:"240px"},children:[s.jsx("div",{className:"absolute top-3 right-3 text-gray-400",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("circle",{cx:"12",cy:"5",r:"2"}),s.jsx("circle",{cx:"12",cy:"12",r:"2"}),s.jsx("circle",{cx:"12",cy:"19",r:"2"})]})}),s.jsxs("div",{className:"flex flex-col h-full items-center justify-center text-center",children:[s.jsxs("div",{className:"flex flex-col items-center mb-6",children:[s.jsxs("div",{className:"text-5xl font-bold mb-2",style:{color:c},children:[t,"/5"]}),s.jsx("div",{className:"text-lg font-medium text-gray-900",children:e})]}),r&&s.jsx("div",{className:"w-full lg:w-[70%] mx-auto",children:s.jsx("div",{className:"text-sm text-gray-600 text-center",children:u(r,200)})})]}),o&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 bg-opacity-75 rounded-xl",children:s.jsx("span",{className:"text-gray-600 font-semibold",children:"Analyse non disponible"})})]})}return s.jsxs("div",{className:`relative bg-white border border-gray-200 rounded-xl p-5 cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1 ${o?"opacity-50 cursor-not-allowed":""}`,onClick:o?void 0:a,style:{minHeight:"120px"},children:[s.jsx("div",{className:"absolute top-3 right-3 text-gray-400",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("circle",{cx:"12",cy:"5",r:"2"}),s.jsx("circle",{cx:"12",cy:"12",r:"2"}),s.jsx("circle",{cx:"12",cy:"19",r:"2"})]})}),s.jsxs("div",{className:"flex flex-col justify-center h-full",children:[s.jsxs("div",{className:"text-2xl font-semibold mb-1",style:{color:c},children:[t,"/5"]}),s.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:e}),n&&s.jsx("div",{className:"text-xs italic text-gray-500",children:n})]}),o&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 bg-opacity-75 rounded-xl",children:s.jsx("span",{className:"text-gray-600 font-semibold",children:"Analyse non disponible"})})]})},n2e=({className:e})=>{const{projectId:t}=Nt(),[n,r]=x.useState(null),[i,a]=x.useState(!0),[o,l]=x.useState(!1),[c,u]=x.useState(null);x.useEffect(()=>{if(!t){we({title:"Erreur",description:"ID du projet manquant pour charger les scores.",variant:"destructive"}),a(!1);return}(async()=>{a(!0);const{data:N,error:S}=await q.from("score_projet").select("*").eq("project_id",t).single();S?(console.error("Error fetching score data:",S),we({title:"Erreur",description:"Impossible de charger les scores du projet.",variant:"destructive"}),r(null)):r(N),a(!1)})()},[t]);const d=(_,N,S,C)=>{u({title:_,sections:N,iconSrc:S,recommendations:C}),l(!0)},f=()=>{l(!1),u(null)};if(i)return s.jsx("div",{children:"Chargement des scores..."});if(!n)return s.jsx("div",{children:"Aucune donnée de score disponible pour ce projet."});const h=(_,N,S=null)=>{if(!_)return S;const C=N.split("->");let k=_;for(let A=0;A<C.length;A++){const T=C[A].replace(/'/g,"");if(T.startsWith(">")){const E=T.substring(1);k=k?k[E]:void 0}else k=k?k[T]:void 0;if(k===void 0)return S}return k!==void 0?k:S},m=n.evaluation_finale,p=n.analyse_juridique,g=n.marche_concurrence,y=n.faisabilite_business,v=n.innovation_risques;console.log("Score data:",n),console.log("Evaluation finale:",m);const w=[{id:"evaluation_finale",title:"Score Global de Viabilité",score:parseInt(h(m,"evaluation_finale->score_global->>note_finale","0"))||0,subtitle:h(m,"evaluation_finale->score_global->>niveau_difficulte"),resumeExecutif:h(m,"evaluation_finale->conclusion->>resume_executif",""),isMain:!0,data:m,popupTitle:"Évaluation Globale de Viabilité",iconSrc:"/icones-livrables/score-icon.png",getSections:_=>[{title:"Synthèse du Projet",items:[{title:"Opportunité principale",content:h(_,"evaluation_finale->synthese->>opportunite_principale","N/A")},{title:"Facteur limitant",content:h(_,"evaluation_finale->synthese->>facteur_limitant_principal","N/A")},{title:"Points forts majeurs",content:h(_,"evaluation_finale->synthese->points_forts_majeurs",[])},{title:"Faiblesses critiques",content:h(_,"evaluation_finale->synthese->faiblesses_critiques",[])}]},{title:"Conclusion & Décision",items:[{title:"Résumé exécutif",content:h(_,"evaluation_finale->conclusion->>resume_executif","N/A")},{title:"Décision recommandée",content:h(_,"evaluation_finale->score_global->>decision_recommandee","N/A")},{title:"Niveau de confiance",content:h(_,"evaluation_finale->conclusion->>niveau_confiance","N/A")},{title:"Prochaines étapes",content:h(_,"evaluation_finale->conclusion->next_steps",[])}]},{title:"Recommandations Prioritaires",items:[{title:"Tableau des Recommandations",content:h(_,"evaluation_finale->recommandations_prioritaires",[])}]}]},{id:"analyse_juridique",title:"Complexité Juridique",score:parseInt(h(p,"analyse_juridique->evaluation_globale->>score_difficulte","0"))||0,subtitle:h(p,"analyse_juridique->evaluation_globale->>niveau_complexite"),data:p,popupTitle:"Analyse Juridique & Réglementaire",iconSrc:"/icones-livrables/juridique-icon.png",getSections:_=>[{title:"Facteurs de Risque",items:[{title:"Risques majeurs",content:h(_,"analyse_juridique->facteurs_risque->risques_majeurs",[])},{title:"Risques mineurs",content:h(_,"analyse_juridique->facteurs_risque->risques_mineurs",[])},{title:"Délais critiques",content:h(_,"analyse_juridique->facteurs_risque->delais_critiques",[])},{title:"Points bloquants",content:h(_,"analyse_juridique->facteurs_risque->points_bloquants",[])}]},{title:"Conformité & Structure",items:[{title:"RGPD applicable",content:h(_,"analyse_juridique->analyse_detaillee->conformite_generale->>rgpd_applicable","N/A")},{title:"Autres conformités",content:h(_,"analyse_juridique->analyse_detaillee->conformite_generale->autres_conformites",[])},{title:"Formes juridiques",content:h(_,"analyse_juridique->analyse_detaillee->structure_juridique->formes_juridiques_recommandees",[])},{title:"Capital minimum",content:h(_,"analyse_juridique->analyse_detaillee->structure_juridique->>capital_minimum_requis","N/A")}]},{title:"Propriété Intellectuelle",items:[{title:"Urgence dépôt",content:h(_,"analyse_juridique->analyse_detaillee->propriete_intellectuelle->>urgence_depot","N/A")},{title:"Coût protection",content:h(_,"analyse_juridique->analyse_detaillee->propriete_intellectuelle->>cout_protection","N/A")},{title:"Protections nécessaires",content:h(_,"analyse_juridique->analyse_detaillee->propriete_intellectuelle->protections_necessaires",[])}]},{title:"Recommandations Juridiques",items:h(_,"analyse_juridique->recommandations_prioritaires",[]).map(N=>({title:N.action,content:`Délai: ${N.delai}
Priorité: ${N.priorite}
Coût estimé: ${N.cout_estime}
Impact lancement: ${N.impact_lancement}`}))}]},{id:"marche_concurrence",title:"Accessibilité du Marché",score:parseInt(h(g,"analyse_marche_concurrence->evaluation_globale->>score_accessibilite","0"))||0,subtitle:h(g,"analyse_marche_concurrence->evaluation_globale->>niveau_difficulte"),data:g,popupTitle:"Analyse Marché & Concurrence",iconSrc:"/icones-livrables/market-icon.png",getSections:_=>[{title:"Taille & Opportunités du Marché",items:[{title:"Volume global",content:h(_,"analyse_marche_concurrence->analyse_marche->taille_marche->>volume_global","N/A")},{title:"Croissance",content:h(_,"analyse_marche_concurrence->analyse_marche->taille_marche->>croissance_tendance","N/A")},{title:"Segments porteurs",content:h(_,"analyse_marche_concurrence->analyse_marche->taille_marche->segments_porteurs",[])},{title:"Niches inexploitées",content:h(_,"analyse_marche_concurrence->analyse_marche->opportunites_marche->niches_inexploitees",[])}]},{title:"Barrières d'Entrée",items:[{title:"Types de barrières",content:h(_,"analyse_marche_concurrence->analyse_marche->barrieres_entree->types_barrieres",[])},{title:"Niveau barrières",content:h(_,"analyse_marche_concurrence->analyse_marche->barrieres_entree->>niveau_barrieres","N/A")},{title:"Compétences critiques",content:h(_,"analyse_marche_concurrence->analyse_marche->barrieres_entree->competences_critiques",[])},{title:"Délais établissement",content:h(_,"analyse_marche_concurrence->analyse_marche->barrieres_entree->>delais_etablissement","N/A")}]},{title:"Analyse Concurrentielle",items:[{title:"Intensité",content:h(_,"analyse_marche_concurrence->analyse_concurrence->intensite_concurrentielle->>niveau_intensite","N/A")},{title:"Axes différenciation",content:h(_,"analyse_marche_concurrence->analyse_concurrence->facilite_differentiation->axes_differentiation",[])},{title:"Leaders établis",content:h(_,"analyse_marche_concurrence->analyse_concurrence->positionnement_concurrent->leaders_etablis",[])},{title:"Espaces libres",content:h(_,"analyse_marche_concurrence->analyse_concurrence->positionnement_concurrent->espaces_libres",[])}]},{title:"Stratégies Recommandées",items:[{title:"Défis majeurs",content:h(_,"analyse_marche_concurrence->synthesis_competitive->defis_majeurs",[])},{title:"Positions favorables",content:h(_,"analyse_marche_concurrence->synthesis_competitive->position_favorable",[])},{title:"Stratégies",content:h(_,"analyse_marche_concurrence->synthesis_competitive->strategies_recommandees",[])}]}]},{id:"faisabilite_business",title:"Faisabilité Business",score:parseInt(h(y,"analyse_faisabilite_business->evaluation_globale->>score_faisabilite","0"))||0,subtitle:h(y,"analyse_faisabilite_business->evaluation_globale->>niveau_complexite"),data:y,popupTitle:"Faisabilité Business",iconSrc:"/icones-livrables/business-model-icon.png",getSections:_=>[{title:"Facteurs de Réussite",items:[{title:"Atouts majeurs",content:h(_,"analyse_faisabilite_business->facteurs_reussite->atouts_majeurs",[])},{title:"Conditions de succès",content:h(_,"analyse_faisabilite_business->facteurs_reussite->conditions_succes",[])},{title:"Risques principaux",content:h(_,"analyse_faisabilite_business->facteurs_reussite->risques_principaux",[])}]},{title:"Solidité du Business Model",items:[{title:"Clarté concept",content:h(_,"analyse_faisabilite_business->solidite_business_model->>clarte_concept","N/A")},{title:"Différenciation",content:h(_,"analyse_faisabilite_business->solidite_business_model->>differentiation","N/A")},{title:"Scalabilité",content:h(_,"analyse_faisabilite_business->solidite_business_model->>scalabilite","N/A")},{title:"Cohérence globale",content:h(_,"analyse_faisabilite_business->solidite_business_model->>coherence_globale","N/A")}]},{title:"Complexité Opérationnelle",items:[{title:"Délais lancement",content:h(_,"analyse_faisabilite_business->complexite_operationnelle->>delais_lancement","N/A")},{title:"Facilité mise en œuvre",content:h(_,"analyse_faisabilite_business->complexite_operationnelle->>facilite_mise_oeuvre","N/A")},{title:"Défis principaux",content:h(_,"analyse_faisabilite_business->complexite_operationnelle->principaux_defis",[])},{title:"Ressources nécessaires",content:h(_,"analyse_faisabilite_business->complexite_operationnelle->>ressources_necessaires","N/A")}]}]},{id:"innovation_risques",title:"Innovation & Adoption",score:parseInt(h(v,"analyse_innovation_risques->evaluation_globale->>score_innovation_risque","0"))||0,subtitle:h(v,"analyse_innovation_risques->evaluation_globale->>niveau_risque"),data:v,popupTitle:"Innovation & Risques d'Adoption",iconSrc:"/icones-livrables/lightbulb-icon.png",getSections:_=>[{title:"Niveau d'Originalité",items:[{title:"Degré innovation",content:h(_,"analyse_innovation_risques->niveau_originalite->>degre_innovation","N/A")},{title:"Nouveauté concept",content:h(_,"analyse_innovation_risques->niveau_originalite->>nouveaute_concept","N/A")},{title:"Avantage concurrentiel",content:h(_,"analyse_innovation_risques->niveau_originalite->>avantage_concurrentiel","N/A")},{title:"Différenciation marché",content:h(_,"analyse_innovation_risques->niveau_originalite->>differentiation_marche","N/A")}]},{title:"Risques d'Adoption",items:[{title:"Barrières principales",content:h(_,"analyse_innovation_risques->risques_adoption->barrieres_principales",[])},{title:"Temps adoption",content:h(_,"analyse_innovation_risques->risques_adoption->>temps_adoption_estime","N/A")},{title:"Facilité compréhension",content:h(_,"analyse_innovation_risques->risques_adoption->>facilite_comprehension","N/A")},{title:"Résistance utilisateurs",content:h(_,"analyse_innovation_risques->risques_adoption->>resistance_utilisateurs","N/A")}]},{title:"Facteurs de Succès",items:[{title:"Atouts innovation",content:h(_,"analyse_innovation_risques->facteurs_succes_innovation->atouts_innovation",[])},{title:"Risques d'échec",content:h(_,"analyse_innovation_risques->facteurs_succes_innovation->risques_echec",[])},{title:"Conditions d'acceptation",content:h(_,"analyse_innovation_risques->facteurs_succes_innovation->conditions_acceptation",[])}]}]}],b=w.find(_=>_.isMain),j=w.filter(_=>!_.isMain);return s.jsxs("div",{className:`p-6 border border-gray-200 rounded-xl shadow-sm bg-white ${e}`,children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.5fr_1fr] gap-6",children:[b&&s.jsx(N3,{title:"Note globale",score:b.score,subtitle:b.subtitle,resumeExecutif:b.resumeExecutif,isMain:!0,onViewMore:()=>d(b.popupTitle,b.getSections(b.data),b.iconSrc,h(b.data,"evaluation_finale->recommandations_prioritaires",[])),isDisabled:!b.data},b.id),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(_=>s.jsx(N3,{title:_.title,score:_.score,subtitle:_.subtitle,isMain:!1,onViewMore:()=>d(_.popupTitle,_.getSections(_.data),_.iconSrc),isDisabled:!_.data},_.id))})]}),s.jsx(t2e,{isOpen:o,onClose:f,title:(c==null?void 0:c.title)||"",sections:(c==null?void 0:c.sections)||[],iconSrc:c==null?void 0:c.iconSrc,recommendations:c==null?void 0:c.recommendations})]})},S3=()=>{const{projectId:e}=Nt(),t=It();cr();const{openCreditsDialog:n}=QD(),{purchasedRemaining:r,monthlyRemaining:i,refresh:a}=nb(),[o,l]=x.useState("Particulier"),[c,u]=x.useState(!0),[d,f]=x.useState(null),[h,m]=x.useState(null);x.useEffect(()=>{e||t("/individual/project-business")},[e,t]);const[p,g]=x.useState(null),[y,v]=x.useState(!1),[w,b]=x.useState(null),[j,_]=x.useState(!1),[N,S]=x.useState(!1),[C,k]=x.useState(""),[A,T]=x.useState("Lecteur"),[E,R]=x.useState([]),[$,O]=x.useState(!1),{userProjects:F}=yr(),{deliverables:z}=e2e(e,p==="premium_en_cours"),P=(L,V,K)=>{b({title:L,content:V,buttonColor:K}),v(!0)},I=()=>{v(!1),b(null)},M=async()=>{if(_(!1),!e){we({title:"Erreur",description:"ID du projet manquant",variant:"destructive"});return}const L=600,{data:{user:V}}=await q.auth.getUser();if(!V){we({title:"Erreur",description:"Utilisateur non authentifié.",variant:"destructive"});return}const K=r+i;if(K<L){we({title:"Crédits insuffisants",description:`Vous avez ${K} crédits, ${L} requis. Veuillez en acheter davantage.`,variant:"destructive"}),I(),n();return}I();try{let G=r,X=i;r>=L?G-=L:(X=K-L,G=0);const{error:oe}=await q.from("profiles").update({purchased_credits_remaining:G,monthly_credits_remaining:X}).eq("id",V.id);if(oe)throw oe;const{error:Y}=await q.from("project_summary").update({statut_project:"payment_receive"}).eq("project_id",e);if(Y)throw Y;const ne=await fetch("https://n8n.srv906204.hstgr.cloud/webhook/generation-livrables-premium",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:e,user_id:V.id,type:"premium_credits"})});if(!ne.ok)throw new Error(`Webhook failed: ${ne.status}`);a(),we({title:"Génération en cours",description:`${L} crédits débités. Génération des livrables premium...`}),window.location.reload()}catch(G){console.error("Error generating premium deliverables:",G),we({title:"Erreur",description:"Erreur lors de la génération des livrables premium.",variant:"destructive"})}},U=()=>{if(h==="active"){_(!0);return}P("Générer les livrabels premium pour :",s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-100 p-2 rounded-md flex items-center justify-center text-center mb-4 font-bold w-fit mx-auto",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédits",className:"h-8 w-8 inline-block mr-2"})," ",s.jsx("span",{className:"text-2xl",children:"600"})]}),s.jsxs(Mt,{className:"text-center",children:[s.jsx("span",{className:"font-bold text-[#2D2D2D]",children:"JeFaisQuoi"})," mérite d'exister. Débloquez tous les livrables clés pour créer votre projet sans erreur."]}),s.jsxs(Kt,{className:"flex justify-center gap-4 mt-8",children:[s.jsx(H,{variant:"outline",onClick:I,className:"flex-1",children:"Non"}),s.jsx(H,{onClick:M,className:"flex-1 bg-gradient-primary hover:opacity-90",children:"Let's go!"})]})]}))},D=()=>{if(!C){we({title:"Erreur",description:"Veuillez entrer une adresse email",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C)){we({title:"Erreur",description:"Veuillez entrer une adresse email valide",variant:"destructive"});return}if(E.length===0){we({title:"Erreur",description:"Veuillez sélectionner au moins un projet",variant:"destructive"});return}S(!1),k(""),T("Lecteur"),R([]),we({title:"Succès",description:`Invitation envoyée à ${C}`})};return x.useEffect(()=>{if(!e){u(!1),f(null);return}(async()=>{u(!0);const{data:V,error:K}=await q.from("project_summary").select("nom_projet, description_synthetique, statut_project").eq("project_id",e).single();K?(console.error("Error fetching project:",K),we({title:"Erreur",description:"Impossible de charger les détails du projet.",variant:"destructive"}),f(null),g(null)):(f({nom_projet:(V==null?void 0:V.nom_projet)||"Projet sans nom",description_projet:(V==null?void 0:V.description_synthetique)||"Aucune description"}),g((V==null?void 0:V.statut_project)||null),console.log("fetchProject: projectStatus set to",V==null?void 0:V.statut_project)),u(!1)})()},[e]),x.useEffect(()=>{(async()=>{const{data:{user:V}}=await q.auth.getUser();if(V){const{data:K,error:G}=await q.from("profiles").select("subscription_status").eq("id",V.id).single();G?console.error("Error fetching user subscription status:",G):m((K==null?void 0:K.subscription_status)||null)}})()},[]),x.useEffect(()=>{if(!e||!["payment_receive","premium_en_cours"].includes(p||""))return;console.log(`Polling started for project status: ${p}`);const V=setInterval(async()=>{try{const{data:K,error:G}=await q.from("project_summary").select("statut_project").eq("project_id",e).single();if(G){console.error("Error polling project status:",G);return}K&&K.statut_project!==p&&(console.log(`Project status changed from ${p} to ${K.statut_project}`),g(K.statut_project)),K.statut_project==="premium_terminé"&&we({title:"Livrables prêts !",description:"Tous vos livrables premium ont été générés avec succès."})}catch(K){console.error("Polling failed:",K)}},2e3);return()=>{console.log("Polling stopped."),clearInterval(V)}},[e,p]),x.useEffect(()=>{const L=V=>{const{projectId:K,newStatus:G}=V.detail;K===e&&(console.log("📡 Received projectStatusUpdated event, updating status to:",G),g(G))};return window.addEventListener("projectStatusUpdated",L),()=>{window.removeEventListener("projectStatusUpdated",L)}},[e]),c?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):d?s.jsx(Ff,{children:s.jsxs("div",{className:"mx-auto py-8 animate-fade-in",children:[s.jsxs("div",{className:"w-[95vw] md:w-11/12 mx-auto px-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 mb-6",children:[s.jsx("div",{className:"flex flex-col w-full md:w-1/2 md:order-first",children:s.jsx("h1",{className:"text-3xl font-semibold",children:"Mes livrables"})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3 w-full md:w-1/2 md:order-last",children:[s.jsxs("div",{className:"flex items-center gap-3 w-full",children:[s.jsxs(H,{variant:"outline",className:"flex items-center gap-2 text-sm w-1/2",onClick:()=>{p==="free"?U():we({title:"Modification",description:"La fonctionnalité de modification sera bientôt disponible.",duration:3e3})},children:[s.jsx(Zr,{size:16}),"Modifier"]}),s.jsxs(H,{variant:"outline",className:"flex items-center gap-2 text-sm w-1/2",onClick:()=>{p==="free"?U():we({title:"Exportation",description:"La fonctionnalité d'exportation sera bientôt disponible.",duration:3e3})},children:[s.jsx(Fo,{size:16}),"Exporter"]})]}),s.jsxs(H,{onClick:()=>O(!0),className:"flex items-center gap-2 bg-gradient-primary hover:opacity-90 transition-opacity w-full",size:"sm",children:[s.jsx(mf,{size:16}),"Inviter un collaborateur"]})]})]}),s.jsx(n2e,{className:"mb-8"})," ",s.jsx("div",{className:"col-span-full",children:s.jsx(jNe,{})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-5 items-stretch auto-rows-fr min-h-[200px]",children:[s.jsx("div",{className:"md:h-full",children:s.jsx($Ae,{})}),s.jsx("div",{className:"md:h-full",children:s.jsx(FAe,{})}),s.jsx("div",{className:"md:h-full",children:s.jsx(BAe,{})}),s.jsx("div",{className:"md:h-full",children:s.jsx(UAe,{})}),s.jsx("div",{className:"md:h-full",children:s.jsx(XAe,{projectId:e})}),s.jsx("div",{className:"md:h-full",children:s.jsx(JAe,{title:"Livrable Template",description:"Ceci est un livrable template pour démonstration.",avis:"Nouveau",justification_avis:"Ceci est un livrable template pour démonstration, avec la nouvelle structure.",iconSrc:"/icones-livrables/market-icon.png",structure:[{title:"Section 1: Introduction",items:[{title:"Sous-section 1.1",content:"Contenu de la sous-section 1.1."},{title:"Sous-section 1.2",content:"Contenu de la sous-section 1.2."}]},{title:"Section 2: Détails",items:[{title:"Sous-section 2.1",content:"Contenu de la sous-section 2.1."}]}]})}),s.jsx("div",{className:"md:h-full",children:s.jsx(QAe,{title:"Cadre Juridique",description:"Analyse du cadre légal et réglementaire de votre projet.",projectId:e})})]}),s.jsx("div",{className:"grid grid-cols-12 gap-4 md:gap-5 mt-8",children:s.jsx("div",{className:"col-span-12 text-center",children:p==="free"?s.jsx("button",{className:"btn-primary",onClick:U,children:"Débloquer les prochains livrables"}):s.jsx("button",{className:"btn-primary",children:"Niveau 2"})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-5 mt-8 items-stretch auto-rows-fr min-h-[200px]",children:[s.jsx("div",{className:"md:h-full",children:s.jsx(zg,{isBlurred:p==="free",onUnlockClick:U,children:s.jsx(qAe,{projectStatus:p})})}),s.jsx("div",{className:"md:h-full",children:s.jsx(zg,{isBlurred:p==="free",onUnlockClick:U,children:s.jsx(KAe,{projectId:e})})}),s.jsx("div",{className:"md:h-full",children:s.jsx(zg,{isBlurred:p==="free",onUnlockClick:U,children:s.jsx(HAe,{})})}),s.jsx("div",{className:"md:h-full",children:s.jsx(zg,{isBlurred:p==="free",onUnlockClick:U,children:s.jsx(VAe,{title:"Business Model",description:"Modèle économique structuré de votre entreprise",textColor:"#57a68b",buttonColor:"#57a68b"})})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-5 mt-8 items-stretch auto-rows-fr min-h-[200px]",children:s.jsx("div",{className:"md:h-full",children:s.jsx(zg,{isBlurred:p==="free",onUnlockClick:U,children:s.jsx(YAe,{})})})})]}),s.jsx(pt,{open:p==="premium_en_cours",onOpenChange:()=>{},children:s.jsxs(gt,{className:"w-[95vw] max-w-[500px] rounded-lg sm:w-full",onEscapeKeyDown:L=>L.preventDefault(),onInteractOutside:L=>L.preventDefault(),hideCloseButton:!0,children:[s.jsxs(jt,{children:[s.jsx(xt,{className:"text-2xl",children:"☕️ Une pause café ?"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs(s.Fragment,{children:["La génération des livrables premium peut durer jusqu'à 10 minutes, dû à la chaîne de raisonnement et aux modèles IA de réflexion apporfondies utilisés. ",s.jsx("br",{}),s.jsx("br",{})," En attendant, profitez-en pour vous faire un petit café car la suite de l'aventure ne sera sûrement pas de tout repos !"]})})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Génération en cours :"}),z.filter(L=>L.key!=="juridique").map(L=>s.jsx(ZAe,{deliverable:L},L.key))]}),s.jsx("div",{className:"flex justify-center items-center py-4",children:s.jsxs("div",{className:"loader",children:[s.jsx("div",{className:"circle"}),s.jsx("div",{className:"circle"}),s.jsx("div",{className:"circle"}),s.jsx("div",{className:"square"})]})})]})}),s.jsx(pt,{open:j,onOpenChange:_,children:s.jsxs(gt,{className:"w-[95vw] max-w-[400px] rounded-lg sm:w-full",children:[s.jsxs(jt,{children:[s.jsx(xt,{className:"text-2xl text-center",children:"Générer les livrables ?"}),s.jsx(Mt,{className:"text-center",children:"Êtes-vous sûr de vouloir générer les livrables premium pour ce projet ?"})]}),s.jsxs(Kt,{className:"flex justify-center gap-4",children:[s.jsx(H,{variant:"outline",onClick:()=>_(!1),className:"flex-1",children:"Non"}),s.jsx(H,{onClick:M,className:"flex-1 bg-gradient-primary hover:opacity-90",children:"Oui"})]})]})}),s.jsx(pt,{open:y,onOpenChange:v,children:s.jsxs(gt,{className:"w-[95vw] max-w-[500px] rounded-lg sm:w-full",children:[s.jsx(jt,{children:s.jsx(xt,{className:"text-2xl text-center",children:w==null?void 0:w.title})}),w==null?void 0:w.content,s.jsxs("div",{className:"absolute right-4 top-4 flex space-x-2",children:[s.jsxs(H,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{we({title:"Modification",description:"La fonctionnalité de modification sera bientôt disponible.",duration:3e3})},children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Modifier"})]}),s.jsxs(tb,{className:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(tn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Fermer"})]})]})]})}),s.jsx(pt,{open:N,onOpenChange:S,children:s.jsxs(gt,{className:"rounded-xl w-[90vw] mx-auto my-4 sm:max-w-[425px] sm:w-full",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Inviter un nouveau collaborateur"}),s.jsx(Mt,{children:"Envoyez une invitation par email pour donner accès à votre projet."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"email",children:"Adresse email"}),s.jsx(ke,{id:"email",type:"email",placeholder:"collaborateur@example.com",value:C,onChange:L=>k(L.target.value),className:"placeholder:text-xs"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"role",children:"Rôle"}),s.jsxs(vt,{value:A,onValueChange:L=>T(L),children:[s.jsx(yt,{id:"role",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"Lecteur",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ns,{className:"w-4 h-4 mr-2"}),"Lecteur - Peut consulter le projet"]})}),s.jsx(fe,{value:"Éditeur",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(zo,{className:"w-4 h-4 mr-2"}),"Éditeur - Peut modifier le projet"]})})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"projects",children:"Projets"}),s.jsx(uM,{options:F.map(L=>({value:L.project_id,label:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ow,{className:"w-4 h-4"}),L.nom_projet]})})),value:E,onChange:R,placeholder:"Sélectionner les projets..."})]})]}),s.jsxs(Kt,{className:"flex justify-end gap-2",children:[s.jsx(H,{variant:"outline",onClick:()=>S(!1),className:"mr-2 flex-1",children:"Annuler"}),s.jsx(H,{onClick:D,className:"flex-1",children:"Envoyer l'invitation"})]})]})}),s.jsx(fb,{isOpen:$,onClose:()=>O(!1),description:"La fonctionnalité d'invitation de collaborateurs sera bientôt disponible. Restez à l'écoute pour les mises à jour !"})]})}):s.jsxs("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)] animate-popup-appear",children:[" ",s.jsxs("div",{className:"container mx-auto px-4 py-8 text-center bg-white p-8 rounded-lg shadow-lg max-w-lg w-[90vw]",children:[" ",s.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Que l'aventure commence !"})," ",s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Créez un nouveau projet pour découvrir tout le potentiel de votre idée."})," ",s.jsx(H,{onClick:()=>t("/individual/warning"),className:"mt-4 px-4 py-2 rounded-lg bg-gradient-primary hover:from-blue-600 hover:to-purple-700 text-white text-lg font-semibold shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105",children:"Créer un nouveau projet"})]})]})},r2e=()=>{const e=It(),t=()=>{e("/individual/form-business-idea")};return s.jsx("div",{className:"container mx-auto px-4 py-8 flex flex-col items-center justify-center min-h-screen animate-popup-appear",children:s.jsxs("div",{className:"bg-white w-[95%] md:w-3/4 lg:w-2/3 p-6 rounded-lg shadow-md flex flex-col items-center text-center",children:[s.jsx(hf,{size:48,className:"text-aurentia-pink mb-4"}),s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Regardez la vidéo avant de commencer"}),s.jsx("div",{className:"relative w-full mt-4 mx-auto",style:{paddingBottom:"56.25%",height:0},children:s.jsx("iframe",{src:"https://www.youtube.com/embed/IFsykJwBl7M?si=w6BErOIaedinIyvj",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full rounded-lg"})}),s.jsx(H,{onClick:t,className:"mt-4 px-4 py-2 rounded-lg bg-gradient-primary hover:from-blue-600 hover:to-purple-700 text-white text-lg font-semibold shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105",children:"Continuer vers le formulaire"})]})})},s2e="https://llcliurrrrxnkquwmwsi.supabase.co",i2e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsY2xpdXJycnJ4bmtxdXdtd3NpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc5MDMwOTEsImV4cCI6MjA1MzQ3OTA5MX0.UWfFrlMEQRvRhXYUORmUhrc1A6WLAJbLBnpCWAVaWSQ",Hs=zD(s2e,i2e),hl={async getAllTools(){const{data:e,error:t}=await Hs.from("ai_tools").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching AI tools:",t),new Error("Failed to fetch AI tools");return e||[]},async getToolById(e){const{data:t,error:n}=await Hs.from("ai_tools").select("*").eq("id",e).eq("is_active",!0).single();return n?(console.error("Error fetching AI tool:",n),null):t},async getToolBySlug(e){const{data:t,error:n}=await Hs.from("ai_tools").select("*").eq("slug",e).eq("is_active",!0).single();return n?(console.error("Error fetching AI tool by slug:",n),null):t},async getUserFavorites(e){const{data:t,error:n}=await Hs.from("ai_tool_favorites").select(`
        *,
        ai_tools:tool_id (
          id,
          title,
          slug,
          category
        )
      `).eq("user_id",e);if(n)throw console.error("Error fetching user favorites:",n),new Error("Failed to fetch favorites");return t||[]},async addFavorite(e,t){const{error:n}=await Hs.from("ai_tool_favorites").insert({user_id:e,tool_id:t});if(n)throw console.error("Error adding favorite:",n),new Error("Failed to add favorite")},async removeFavorite(e,t){const{error:n}=await Hs.from("ai_tool_favorites").delete().eq("user_id",e).eq("tool_id",t);if(n)throw console.error("Error removing favorite:",n),new Error("Failed to remove favorite")},async getUserHistory(e,t=20){const{data:n,error:r}=await Hs.from("ai_tool_usage_history").select(`
        *,
        ai_tools:tool_id (
          id,
          title,
          slug,
          category
        )
      `).eq("user_id",e).order("created_at",{ascending:!1}).limit(t);if(r)throw console.error("Error fetching user history:",r),new Error("Failed to fetch usage history");return n||[]},async createUsageRecord(e,t,n,r){const{data:i,error:a}=await Hs.from("ai_tool_usage_history").insert({user_id:e,tool_id:t,project_id:r,input_data:n,status:"pending"}).select().single();if(a)throw console.error("Error creating usage record:",a),new Error("Failed to create usage record");return i.id},async updateUsageRecord(e,t){const{error:n}=await Hs.from("ai_tool_usage_history").update(t).eq("id",e);if(n)throw console.error("Error updating usage record:",n),new Error("Failed to update usage record")},async getUserSettings(e,t){const{data:n,error:r}=await Hs.from("ai_tool_user_settings").select("*").eq("user_id",e).eq("tool_id",t).single();if(r&&r.code!=="PGRST116")throw console.error("Error fetching user settings:",r),new Error("Failed to fetch user settings");return n},async saveUserSettings(e,t,n){const{error:r}=await Hs.from("ai_tool_user_settings").upsert({user_id:e,tool_id:t,settings_data:n},{onConflict:"user_id,tool_id"});if(r)throw console.error("Error saving user settings:",r),new Error("Failed to save user settings")},async deductCredits(e,t){try{const{data:n,error:r}=await Hs.from("profiles").select("monthly_credits_remaining, purchased_credits_remaining").eq("id",e).single();if(r||!n)throw new Error("Failed to fetch user profile");const i=n.monthly_credits_remaining+n.purchased_credits_remaining;if(i<t)return console.error(`Insufficient credits: ${i} available, ${t} required`),!1;let a=n.purchased_credits_remaining,o=n.monthly_credits_remaining;if(a>=t)a-=t;else{const c=t-a;a=0,o-=c}const{error:l}=await Hs.from("profiles").update({monthly_credits_remaining:o,purchased_credits_remaining:a}).eq("id",e);if(l)throw new Error("Failed to update credits");return!0}catch(n){return console.error("Error deducting credits:",n),!1}},async executeTool(e){var r,i;const t=Date.now();let n=null;try{const a=await this.getToolById(e.toolId);if(!a)throw new Error("Tool not found");const{data:{user:o}}=await Hs.auth.getUser();if(!o)throw new Error("User not authenticated");if(!await this.deductCredits(o.id,a.credits_cost))throw new Error("Insufficient credits");n=await this.createUsageRecord(o.id,e.toolId,e.inputData,e.projectId),await this.updateUsageRecord(n,{status:"processing"});const c={theme:e.inputData.theme,additional_info:e.inputData.additionalInfo||"",reference_article:e.inputData.referenceArticle||"",client_type:e.inputData.clientType,target_audience:((r=e.userSettings)==null?void 0:r.targetAudience)||"",internal_links:((i=e.userSettings)==null?void 0:i.internalLinks)||[],project_id:e.projectId||null,usage_id:n,user_id:o.id,tool_id:e.toolId};console.log("🚀 Calling webhook with payload:",c);const u=await fetch(a.webhook_url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!u.ok)throw new Error(`Webhook call failed: ${u.status} ${u.statusText}`);const d=await u.json(),f=Date.now()-t;return console.log("✅ Webhook response:",d),await this.updateUsageRecord(n,{status:"completed",output_data:d,completed_at:new Date().toISOString(),credits_used:a.credits_cost,execution_time_ms:f}),{success:!0,data:d,executionId:n}}catch(a){return console.error("❌ Error executing tool:",a),n&&await this.updateUsageRecord(n,{status:"failed",error_message:a instanceof Error?a.message:"Unknown error",execution_time_ms:Date.now()-t}),{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}}},a2e="https://llcliurrrrxnkquwmwsi.supabase.co",o2e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsY2xpdXJycnJ4bmtxdXdtd3NpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc5MDMwOTEsImV4cCI6MjA1MzQ3OTA5MX0.UWfFrlMEQRvRhXYUORmUhrc1A6WLAJbLBnpCWAVaWSQ",DE=zD(a2e,o2e),AZ=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState([]),o=x.useCallback(async()=>{try{r(!0);const[c,u]=await Promise.all([hl.getAllTools(),hl.getUserFavorites("mock-user-id").catch(()=>[])]);t(c),a(u.map(d=>d.tool_id))}catch(c){console.error("Error loading tools:",c),Ne.error("Impossible de charger les outils IA")}finally{r(!1)}},[]),l=x.useCallback(async c=>{try{i.includes(c)?(await hl.removeFavorite("mock-user-id",c),a(u=>u.filter(d=>d!==c)),Ne.success("Retiré des favoris")):(await hl.addFavorite("mock-user-id",c),a(u=>[...u,c]),Ne.success("Ajouté aux favoris"))}catch(u){console.error("Error toggling favorite:",u),Ne.error("Erreur lors de la gestion des favoris")}},[i]);return x.useEffect(()=>{o()},[o]),{tools:e,loading:n,favorites:i,toggleFavorite:l,refetch:o}},l2e=e=>{const[t,n]=x.useState(null),[r,i]=x.useState(!0),[a,o]=x.useState([]),[l,c]=x.useState({}),[u,d]=x.useState(!1),{currentProjectId:f}=yr();x.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{i(!0);const v=await hl.getToolById(e);n(v);const{data:{user:w}}=await DE.auth.getUser();w&&(await m(w.id),await p(w.id))}catch(v){console.error("Error loading tool data:",v),Ne.error("Erreur lors du chargement de l'outil")}finally{i(!1)}},m=async v=>{try{const w=await hl.getUserSettings(v,e);w&&c(w.settings_data)}catch(w){console.error("Error loading user settings:",w)}},p=async v=>{try{const b=(await hl.getUserHistory(v,20)).filter(j=>j.tool_id===e);o(b)}catch(w){console.error("Error loading history:",w)}};return{tool:t,loading:r,history:a,settings:l,executing:u,saveSettings:async v=>{const{data:{user:w}}=await DE.auth.getUser();if(!w)return Ne.error("Vous devez être connecté"),!1;try{return d(!0),await hl.saveUserSettings(w.id,e,v),c(v),!0}catch(b){return console.error("Error saving settings:",b),Ne.error("Erreur lors de la sauvegarde des paramètres"),!1}finally{d(!1)}},executeTool:async v=>{const{data:{user:w}}=await DE.auth.getUser();if(!w)return Ne.error("Vous devez être connecté"),{success:!1,error:"User not authenticated"};if(!t)return Ne.error("Outil non trouvé"),{success:!1,error:"Tool not found"};try{d(!0);const b=await hl.executeTool({toolId:t.id,inputData:v,userSettings:l,projectId:f||null});return b.success?await p(w.id):Ne.error(b.error||"Erreur lors de l'exécution"),b}catch(b){console.error("Error executing tool:",b);const j=b instanceof Error?b.message:"Unknown error";return Ne.error(j),{success:!1,error:j}}finally{d(!1)}}}},c2e=()=>{const e=It(),{tools:t,loading:n,favorites:r,toggleFavorite:i}=AZ(),[a,o]=x.useState(""),[l,c]=x.useState("all"),[u,d]=x.useState("popularity"),[f,h]=x.useState(!1),[m,p]=x.useState(!1),[g,y]=x.useState(!1),[v,w]=x.useState({type:"",title:"",description:""}),j=[...t.filter(k=>{const A=(k.title||"").toLowerCase().includes(a.toLowerCase())||(k.description||"").toLowerCase().includes(a.toLowerCase()),T=l==="all"||k.category===l,E=!f||r.includes(k.id);return A&&T&&E})].sort((k,A)=>{switch(u){case"name":return(k.title||"").localeCompare(A.title||"");case"popularity":return(A.credits_cost||0)-(k.credits_cost||0);case"category":return(k.category||"").localeCompare(A.category||"");case"date":return new Date(A.created_at||0).getTime()-new Date(k.created_at||0).getTime();default:return 0}}),_=k=>{e(`/individual/outils/${k.slug}/${k.id}`)},N=()=>{Ne.success("Demande soumise avec succès!"),y(!1),w({type:"",title:"",description:""})},S=k=>({text:s.jsx(Hr,{className:"h-5 w-5"}),image:s.jsx(y2,{className:"h-5 w-5"}),video:s.jsx(mme,{className:"h-5 w-5"}),audio:s.jsx(pme,{className:"h-5 w-5"}),code:s.jsx(cD,{className:"h-5 w-5"}),data:s.jsx(mi,{className:"h-5 w-5"}),business:s.jsx(et,{className:"h-5 w-5"}),education:s.jsx(Zr,{className:"h-5 w-5"})})[k]||s.jsx(Hr,{className:"h-5 w-5"}),C=[{title:"Outils disponibles",value:t.length.toString(),icon:s.jsx(Hr,{className:"h-6 w-6"})},{title:"Mes favoris",value:r.length.toString(),icon:s.jsx(Zt,{className:"h-6 w-6"})},{title:"Coût moyen",value:t.length>0?Math.round(t.reduce((k,A)=>k+A.credits_cost,0)/t.length).toString()+" crédits":"0",icon:s.jsx(mi,{className:"h-6 w-6"})},{title:"Catégories",value:[...new Set(t.map(k=>k.category))].length.toString(),icon:s.jsx(et,{className:"h-6 w-6"})}];return n?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):s.jsx("div",{className:"min-h-screen",style:{background:"#F4F4F1"},children:s.jsxs("div",{className:"mx-auto px-4 py-8",style:{width:"85%",maxWidth:"1400px"},children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Outils IA"}),s.jsx("p",{className:"text-gray-600",children:"Découvrez et utilisez une collection complète d'outils d'intelligence artificielle pour booster votre productivité et automatiser vos tâches."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(H,{variant:"secondary",className:"bg-white border border-gray-200 hover:bg-gray-50",children:"En savoir +"}),s.jsxs(pt,{open:g,onOpenChange:y,children:[s.jsx(Ll,{asChild:!0,children:s.jsx(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:"Ajouter +"})}),s.jsxs(gt,{className:"sm:max-w-md",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Nouvelle demande d'outil"}),s.jsx(Mt,{children:"Proposez un nouvel outil IA que vous aimeriez voir intégré à notre plateforme."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type d'outil"}),s.jsxs(vt,{value:v.type,onValueChange:k=>w({...v,type:k}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Sélectionnez le type"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"text",children:"Outil de texte"}),s.jsx(fe,{value:"image",children:"Outil d'image"}),s.jsx(fe,{value:"video",children:"Outil vidéo"}),s.jsx(fe,{value:"audio",children:"Outil audio"}),s.jsx(fe,{value:"code",children:"Outil de code"}),s.jsx(fe,{value:"autre",children:"Autre"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nom de l'outil"}),s.jsx(ke,{value:v.title,onChange:k=>w({...v,title:k.target.value}),placeholder:"Ex: GPT-4 Writer Pro"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description et utilité"}),s.jsx(at,{value:v.description,onChange:k=>w({...v,description:k.target.value}),placeholder:"Décrivez l'outil et pourquoi il serait utile...",rows:4})]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>y(!1),children:"Annuler"}),s.jsx(H,{onClick:N,style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:"Soumettre la demande"})]})]})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:C.map((k,A)=>s.jsx(re,{className:"border",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:k.title}),s.jsx("p",{className:"text-2xl font-bold",children:k.value})]}),s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#fef2ed",color:"#ff5932"},children:k.icon})]})})},A))}),s.jsxs(re,{className:"mb-8 border",children:[s.jsx(pe,{className:"pb-4",children:s.jsxs("div",{className:"cursor-pointer flex items-center justify-between",onClick:()=>p(!m),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mD,{className:"h-5 w-5 text-gray-600"}),s.jsx(me,{className:"text-lg",children:"Filtres et Recherche"})]}),s.jsx(ya,{className:`h-5 w-5 text-gray-600 transition-transform duration-300 ${m?"rotate-180":""}`})]})}),s.jsx("div",{className:de("transition-all duration-300 overflow-hidden",m?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:s.jsx(ie,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1 w-full",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(ke,{placeholder:"Rechercher un outil...",className:"pl-10 w-full focus:ring-0 focus:border-gray-300",value:a,onChange:k=>o(k.target.value)})]}),s.jsxs(vt,{value:u,onValueChange:d,children:[s.jsx(yt,{className:"w-full md:w-[180px] focus:ring-0 focus:border-gray-300",children:s.jsx(_t,{placeholder:"Trier par"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"popularity",children:"Popularité"}),s.jsx(fe,{value:"name",children:"Nom A-Z"}),s.jsx(fe,{value:"date",children:"Date d'ajout"}),s.jsx(fe,{value:"category",children:"Catégorie"})]})]}),s.jsxs(vt,{value:l,onValueChange:c,children:[s.jsx(yt,{className:"w-full md:w-[180px] focus:ring-0 focus:border-gray-300",children:s.jsx(_t,{placeholder:"Catégorie"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Toutes les catégories"}),s.jsx(fe,{value:"text",children:"Texte"}),s.jsx(fe,{value:"image",children:"Image"}),s.jsx(fe,{value:"video",children:"Vidéo"}),s.jsx(fe,{value:"audio",children:"Audio"}),s.jsx(fe,{value:"code",children:"Code"}),s.jsx(fe,{value:"data",children:"Données"}),s.jsx(fe,{value:"business",children:"Business"}),s.jsx(fe,{value:"education",children:"Éducation"})]})]}),s.jsxs(H,{variant:f?"default":"outline",size:"sm",onClick:()=>h(!f),className:"flex items-center gap-2",children:[s.jsx(Zt,{className:de("h-4 w-4",f&&"fill-current")}),"Favoris"]})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(k=>s.jsx(re,{className:"group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1 overflow-hidden border rounded-lg",onClick:()=>_(k),children:s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-tl-lg rounded-bl-lg overflow-hidden flex items-center justify-center",children:k.image_url?s.jsx("img",{src:k.image_url,alt:k.title,className:"w-full h-full object-cover",style:{width:"100%",height:"100%"}}):s.jsx("div",{className:"text-gray-400 text-2xl w-full h-full flex items-center justify-center",children:S(k.category)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(me,{className:"text-lg font-semibold mb-2",children:k.title}),s.jsx(Xe,{className:"text-sm text-gray-600 line-clamp-2",children:k.description})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-md font-normal",children:k.category}),k.tags&&k.tags.slice(0,2).map((A,T)=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-md font-normal",children:A},T))]}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédit",className:"w-5 h-5",style:{display:"inline-block"}}),s.jsx("span",{className:"font-semibold text-gray-700",children:k.credits_cost})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{variant:"ghost",size:"sm",className:"p-1.5 h-8 w-8 transition-opacity rounded-full hover:bg-gray-100",onClick:A=>{A.stopPropagation(),i(k.id)},children:s.jsx(Zt,{className:de("h-4 w-4",r.includes(k.id)&&"fill-yellow-400 text-yellow-400")})}),s.jsx(H,{size:"sm",className:"text-xs px-3 py-1.5 h-auto text-white",style:{backgroundColor:"#ff5932"},onClick:A=>{A.stopPropagation(),_(k)},children:"Utiliser"})]})]})]})},k.id))}),j.length===0&&s.jsx(re,{className:"border",children:s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(rr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun outil trouvé"}),s.jsx("p",{className:"text-gray-600",children:"Essayez de modifier vos critères de recherche ou de filtres."})]})})]})})};function C3(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function u2e(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function d2e(e,t,n){const i=xb((n||{}).ignore||[]),a=f2e(t);let o=-1;for(;++o<a.length;)yJ(e,"text",l);function l(u,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return c(u,d)}function c(u,d){const f=d[d.length-1],h=a[o][0],m=a[o][1];let p=0;const y=f.children.indexOf(u);let v=!1,w=[];h.lastIndex=0;let b=h.exec(u.value);for(;b;){const j=b.index,_={index:b.index,input:b.input,stack:[...d,u]};let N=m(...b,_);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=j+1:(p!==j&&w.push({type:"text",value:u.value.slice(p,j)}),Array.isArray(N)?w.push(...N):N&&w.push(N),p=j+b[0].length,v=!0),!h.global)break;b=h.exec(u.value)}return v?(p<u.value.length&&w.push({type:"text",value:u.value.slice(p)}),f.children.splice(y,1,...w)):w=[u],y+w.length}}function f2e(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([h2e(i[0]),m2e(i[1])])}return t}function h2e(e){return typeof e=="string"?new RegExp(u2e(e),"g"):e}function m2e(e){return typeof e=="function"?e:function(){return e}}const ME="phrasing",IE=["autolink","link","image","label"];function p2e(){return{transforms:[j2e],enter:{literalAutolink:x2e,literalAutolinkEmail:LE,literalAutolinkHttp:LE,literalAutolinkWww:LE},exit:{literalAutolink:w2e,literalAutolinkEmail:b2e,literalAutolinkHttp:v2e,literalAutolinkWww:y2e}}}function g2e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ME,notInConstruct:IE},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ME,notInConstruct:IE},{character:":",before:"[ps]",after:"\\/",inConstruct:ME,notInConstruct:IE}]}}function x2e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function LE(e){this.config.enter.autolinkProtocol.call(this,e)}function v2e(e){this.config.exit.autolinkProtocol.call(this,e)}function y2e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function b2e(e){this.config.exit.autolinkEmail.call(this,e)}function w2e(e){this.exit(e)}function j2e(e){d2e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,_2e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),N2e]],{ignore:["link","linkReference"]})}function _2e(e,t,n,r,i){let a="";if(!TZ(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!S2e(n)))return!1;const o=C2e(n+r);if(!o[0])return!1;const l={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function N2e(e,t,n,r){return!TZ(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function S2e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function C2e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=C3(e,"(");let a=C3(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function TZ(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||wf(n)||K1(n))&&(!t||n!==47)}PZ.peek=M2e;function E2e(){this.buffer()}function k2e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function A2e(){this.buffer()}function T2e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function P2e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Qa(this.sliceSerialize(e)).toLowerCase(),n.label=t}function O2e(e){this.exit(e)}function R2e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Qa(this.sliceSerialize(e)).toLowerCase(),n.label=t}function D2e(e){this.exit(e)}function M2e(){return"["}function PZ(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),l(),o(),a+=i.move("]"),a}function I2e(){return{enter:{gfmFootnoteCallString:E2e,gfmFootnoteCall:k2e,gfmFootnoteDefinitionLabelString:A2e,gfmFootnoteDefinition:T2e},exit:{gfmFootnoteCallString:P2e,gfmFootnoteCall:O2e,gfmFootnoteDefinitionLabelString:R2e,gfmFootnoteDefinition:D2e}}}function L2e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:PZ},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const l=a.createTracker(o);let c=l.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return c+=l.move(a.safe(a.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,l.current()),t?OZ:$2e))),u(),c}}function $2e(e,t,n){return t===0?e:OZ(e,t,n)}function OZ(e,t,n){return(n?"":"    ")+e}const F2e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];RZ.peek=V2e;function z2e(){return{canContainEols:["delete"],enter:{strikethrough:U2e},exit:{strikethrough:q2e}}}function B2e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:F2e}],handlers:{delete:RZ}}}function U2e(e){this.enter({type:"delete",children:[]},e)}function q2e(e){this.exit(e)}function RZ(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function V2e(){return"~"}function H2e(e){return e.length}function W2e(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||H2e,a=[],o=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const g=[],y=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const w=G2e(e[d][v]);if(n.alignDelimiters!==!1){const b=i(w);y[v]=b,(c[v]===void 0||b>c[v])&&(c[v]=b)}g.push(w)}o[d]=g,l[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=E3(r[f]);else{const g=E3(r);for(;++f<u;)a[f]=g}f=-1;const h=[],m=[];for(;++f<u;){const g=a[f];let y="",v="";g===99?(y=":",v=":"):g===108?y=":":g===114&&(v=":");let w=n.alignDelimiters===!1?1:Math.max(1,c[f]-y.length-v.length);const b=y+"-".repeat(w)+v;n.alignDelimiters!==!1&&(w=y.length+w+v.length,w>c[f]&&(c[f]=w),m[f]=w),h[f]=b}o.splice(1,0,h),l.splice(1,0,m),d=-1;const p=[];for(;++d<o.length;){const g=o[d],y=l[d];f=-1;const v=[];for(;++f<u;){const w=g[f]||"";let b="",j="";if(n.alignDelimiters!==!1){const _=c[f]-(y[f]||0),N=a[f];N===114?b=" ".repeat(_):N===99?_%2?(b=" ".repeat(_/2+.5),j=" ".repeat(_/2-.5)):(b=" ".repeat(_/2),j=b):j=" ".repeat(_)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(b),v.push(w),n.alignDelimiters!==!1&&v.push(j),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}p.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return p.join(`
`)}function G2e(e){return e==null?"":String(e)}function E3(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function K2e(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),Y2e);return i(),o}function Y2e(e,t,n){return">"+(n?"":" ")+e}function X2e(e,t){return k3(e,t.inConstruct,!0)&&!k3(e,t.notInConstruct,!1)}function k3(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function A3(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&X2e(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Q2e(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function J2e(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Z2e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function eTe(e,t,n,r){const i=Z2e(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(J2e(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,tTe);return f(),h}const l=n.createTracker(r),c=i.repeat(Math.max(Q2e(a,i)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),f()}return d+=l.move(`
`),a&&(d+=l.move(a+`
`)),d+=l.move(c),u(),d}function tTe(e,t,n){return(n?"":"    ")+e}function IM(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function nTe(e,t,n,r){const i=IM(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),o(),u}function rTe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Mv(e){return"&#x"+e.toString(16).toUpperCase()+";"}function i_(e,t,n){const r=Vm(e),i=Vm(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}DZ.peek=sTe;function DZ(e,t,n,r){const i=rTe(n),a=n.enter("emphasis"),o=n.createTracker(r),l=o.move(i);let c=o.move(n.containerPhrasing(e,{after:i,before:l,...o.current()}));const u=c.charCodeAt(0),d=i_(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Mv(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=i_(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+Mv(f));const m=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},l+c+m}function sTe(e,t,n){return n.options.emphasis||"*"}function iTe(e,t){let n=!1;return J1(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,NT}),!!((!e.depth||e.depth<3)&&bM(e)&&(t.options.setext||n))}function aTe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(iTe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");a.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=Mv(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),c(),l(),u}MZ.peek=oTe;function MZ(e){return e.value||""}function oTe(){return"<"}IZ.peek=lTe;function IZ(e,t,n,r){const i=IM(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),o(),u}function lTe(){return"!"}LZ.peek=cTe;function LZ(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return o(),n.stack=d,a(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function cTe(){return"!"}$Z.peek=uTe;function $Z(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],l=n.compilePattern(o);let c;if(o.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function uTe(){return"`"}function FZ(e,t){const n=bM(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}zZ.peek=dTe;function zZ(e,t,n,r){const i=IM(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let l,c;if(FZ(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),l(),n.stack=d,f}l=n.enter("link"),c=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(c=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),c()),u+=o.move(")"),l(),u}function dTe(e,t,n){return FZ(e,n)?"<":"["}BZ.peek=fTe;function BZ(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return o(),n.stack=d,a(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function fTe(){return"["}function LM(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function hTe(e){const t=LM(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function mTe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function UZ(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function pTe(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?mTe(n):LM(n);const l=e.ordered?o==="."?")":".":hTe(n);let c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),UZ(n)===o&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=l),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),u}function gTe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function xTe(e,t,n,r){const i=gTe(n);let a=n.bulletCurrent||LM(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(r);l.move(a+" ".repeat(o-a.length)),l.shift(o);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(f,h,m){return h?(m?"":" ".repeat(o))+f:(m?a:a+" ".repeat(o-a.length))+f}}function vTe(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const yTe=xb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function bTe(e,t,n,r){return(e.children.some(function(o){return yTe(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function wTe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}qZ.peek=jTe;function qZ(e,t,n,r){const i=wTe(n),a=n.enter("strong"),o=n.createTracker(r),l=o.move(i+i);let c=o.move(n.containerPhrasing(e,{after:i,before:l,...o.current()}));const u=c.charCodeAt(0),d=i_(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Mv(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=i_(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+Mv(f));const m=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},l+c+m}function jTe(e,t,n){return n.options.strong||"*"}function _Te(e,t,n,r){return n.safe(e.value,r)}function NTe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function STe(e,t,n){const r=(UZ(n)+(n.options.ruleSpaces?" ":"")).repeat(NTe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const VZ={blockquote:K2e,break:A3,code:eTe,definition:nTe,emphasis:DZ,hardBreak:A3,heading:aTe,html:MZ,image:IZ,imageReference:LZ,inlineCode:$Z,link:zZ,linkReference:BZ,list:pTe,listItem:xTe,paragraph:vTe,root:bTe,strong:qZ,text:_Te,thematicBreak:STe};function CTe(){return{enter:{table:ETe,tableData:T3,tableHeader:T3,tableRow:ATe},exit:{codeText:TTe,table:kTe,tableData:$E,tableHeader:$E,tableRow:$E}}}function ETe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function kTe(e){this.exit(e),this.data.inTable=void 0}function ATe(e){this.enter({type:"tableRow",children:[]},e)}function $E(e){this.exit(e)}function T3(e){this.enter({type:"tableCell",children:[]},e)}function TTe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,PTe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function PTe(e,t){return t==="|"?t:e}function OTe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:c,tableRow:l}};function o(m,p,g,y){return u(d(m,g,y),m.align)}function l(m,p,g,y){const v=f(m,g,y),w=u([v]);return w.slice(0,w.indexOf(`
`))}function c(m,p,g,y){const v=g.enter("tableCell"),w=g.enter("phrasing"),b=g.containerPhrasing(m,{...y,before:a,after:a});return w(),v(),b}function u(m,p){return W2e(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let v=-1;const w=[],b=p.enter("table");for(;++v<y.length;)w[v]=f(y[v],p,g);return b(),w}function f(m,p,g){const y=m.children;let v=-1;const w=[],b=p.enter("tableRow");for(;++v<y.length;)w[v]=c(y[v],m,p,g);return b(),w}function h(m,p,g){let y=VZ.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function RTe(){return{exit:{taskListCheckValueChecked:P3,taskListCheckValueUnchecked:P3,paragraph:MTe}}}function DTe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ITe}}}function P3(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function MTe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const l=i[a];if(l.type==="paragraph"){o=l;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ITe(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);a&&l.move(o);let c=VZ.listItem(e,t,n,{...r,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+o}}function LTe(){return[p2e(),I2e(),z2e(),CTe(),RTe()]}function $Te(e){return{extensions:[g2e(),L2e(e),B2e(),OTe(e),DTe()]}}const FTe={tokenize:HTe,partial:!0},HZ={tokenize:WTe,partial:!0},WZ={tokenize:GTe,partial:!0},GZ={tokenize:KTe,partial:!0},zTe={tokenize:YTe,partial:!0},KZ={name:"wwwAutolink",tokenize:qTe,previous:XZ},YZ={name:"protocolAutolink",tokenize:VTe,previous:QZ},Xl={name:"emailAutolink",tokenize:UTe,previous:JZ},Ko={};function BTe(){return{text:Ko}}let Qu=48;for(;Qu<123;)Ko[Qu]=Xl,Qu++,Qu===58?Qu=65:Qu===91&&(Qu=97);Ko[43]=Xl;Ko[45]=Xl;Ko[46]=Xl;Ko[95]=Xl;Ko[72]=[Xl,YZ];Ko[104]=[Xl,YZ];Ko[87]=[Xl,KZ];Ko[119]=[Xl,KZ];function UTe(e,t,n){const r=this;let i,a;return o;function o(f){return!TT(f)||!JZ.call(r,r.previous)||$M(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return TT(f)?(e.consume(f),l):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(zTe,d,u)(f):f===45||f===95||ms(f)?(a=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),i=!0,c}function d(f){return a&&i&&Os(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function qTe(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!XZ.call(r,r.previous)||$M(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(FTe,e.attempt(HZ,e.attempt(WZ,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function VTe(e,t,n){const r=this;let i="",a=!1;return o;function o(f){return(f===72||f===104)&&QZ.call(r,r.previous)&&!$M(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),l):n(f)}function l(f){if(Os(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),a?u:(a=!0,c)):n(f)}function u(f){return f===null||e_(f)||jn(f)||wf(f)||K1(f)?n(f):e.attempt(HZ,e.attempt(WZ,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function HTe(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function WTe(e,t,n){let r,i,a;return o;function o(u){return u===46||u===95?e.check(GZ,c,l)(u):u===null||jn(u)||wf(u)||u!==45&&K1(u)?c(u):(a=!0,e.consume(u),o)}function l(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function c(u){return i||r||!a?n(u):t(u)}}function GTe(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(GZ,t,a)(o):o===null||jn(o)||wf(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function KTe(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),a):l===93?(e.consume(l),i):l===60||l===null||jn(l)||wf(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||jn(l)||wf(l)?t(l):r(l)}function a(l){return Os(l)?o(l):n(l)}function o(l){return l===59?(e.consume(l),r):Os(l)?(e.consume(l),o):n(l)}}function YTe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return ms(a)?n(a):t(a)}}function XZ(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||jn(e)}function QZ(e){return!Os(e)}function JZ(e){return!(e===47||TT(e))}function TT(e){return e===43||e===45||e===46||e===95||ms(e)}function $M(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const XTe={tokenize:sPe,partial:!0};function QTe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tPe,continuation:{tokenize:nPe},exit:rPe}},text:{91:{name:"gfmFootnoteCall",tokenize:ePe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:JTe,resolveTo:ZTe}}}}function JTe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!o||!o._balanced)return n(c);const u=Qa(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function ZTe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function ePe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!o||f===null||f===91||jn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Qa(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return jn(f)||(o=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function tPe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,l;return c;function c(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(o>999||p===93&&!l||p===null||p===91||jn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=Qa(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return jn(p)||(l=!0),o++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),o++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),qt(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function nPe(e,t,n){return e.check(gb,t,e.attempt(XTe,t,n))}function rPe(e){e.exit("gfmFootnoteDefinition")}function sPe(e,t,n){const r=this;return qt(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function iPe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,l){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let u=c;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[c][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[c][1].end)},f={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[c][1].start)},h=[["enter",d,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",f,l]],m=l.parser.constructs.insideSpan.null;m&&Di(h,h.length,0,Y1(m,o.slice(u+1,c),l)),Di(h,h.length,0,[["exit",f,l],["enter",o[c][1],l],["exit",o[c][1],l],["exit",d,l]]),Di(o,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function a(o,l,c){const u=this.previous,d=this.events;let f=0;return h;function h(p){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(p):(o.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=Vm(u);if(p===126)return f>1?c(p):(o.consume(p),f++,m);if(f<2&&!n)return c(p);const y=o.exit("strikethroughSequenceTemporary"),v=Vm(p);return y._open=!v||v===2&&!!g,y._close=!g||g===2&&!!v,l(p)}}}class aPe{constructor(){this.map=[]}add(t,n,r){oPe(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function oPe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function lPe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function cPe(){return{flow:{null:{name:"table",tokenize:uPe,resolveAll:dPe}}}}function uPe(e,t,n){const r=this;let i=0,a=0,o;return l;function l(A){let T=r.events.length-1;for(;T>-1;){const $=r.events[T][1].type;if($==="lineEnding"||$==="linePrefix")T--;else break}const E=T>-1?r.events[T][1].type:null,R=E==="tableHead"||E==="tableRow"?N:c;return R===N&&r.parser.lazy[r.now().line]?n(A):R(A)}function c(A){return e.enter("tableHead"),e.enter("tableRow"),u(A)}function u(A){return A===124||(o=!0,a+=1),d(A)}function d(A){return A===null?n(A):Je(A)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),m):n(A):$t(A)?qt(e,d,"whitespace")(A):(a+=1,o&&(o=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(A)))}function f(A){return A===null||A===124||jn(A)?(e.exit("data"),d(A)):(e.consume(A),A===92?h:f)}function h(A){return A===92||A===124?(e.consume(A),f):f(A)}function m(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),o=!1,$t(A)?qt(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):p(A))}function p(A){return A===45||A===58?y(A):A===124?(o=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),g):_(A)}function g(A){return $t(A)?qt(e,y,"whitespace")(A):y(A)}function y(A){return A===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),v):A===45?(a+=1,v(A)):A===null||Je(A)?j(A):_(A)}function v(A){return A===45?(e.enter("tableDelimiterFiller"),w(A)):_(A)}function w(A){return A===45?(e.consume(A),w):A===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(A))}function b(A){return $t(A)?qt(e,j,"whitespace")(A):j(A)}function j(A){return A===124?p(A):A===null||Je(A)?!o||i!==a?_(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):_(A)}function _(A){return n(A)}function N(A){return e.enter("tableRow"),S(A)}function S(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),S):A===null||Je(A)?(e.exit("tableRow"),t(A)):$t(A)?qt(e,S,"whitespace")(A):(e.enter("data"),C(A))}function C(A){return A===null||A===124||jn(A)?(e.exit("data"),S(A)):(e.consume(A),A===92?k:C)}function k(A){return A===92||A===124?(e.consume(A),C):C(A)}}function dPe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],l=!1,c=0,u,d,f;const h=new aPe;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(l=!1,c!==0&&(O3(h,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],o=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],f=T0(h,t,a,i,void 0,f),a=[0,0,0,0]),o[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],f=T0(h,t,a,i,void 0,f)),a=o,o=[a[1],n,0,0])):p.type==="tableHead"?(l=!0,c=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(c=n,a[1]!==0?(o[0]=o[1],f=T0(h,t,a,i,n,f)):o[1]!==0&&(f=T0(h,t,o,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=n)}for(c!==0&&O3(h,t,c,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=lPe(t.events,n))}return e}function T0(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(a.end=Object.assign({},jh(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=jh(t.events,n[1]);if(a={type:o,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=jh(t.events,n[2]),d=jh(t.events,n[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},jh(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function O3(e,t,n,r,i){const a=[],o=jh(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function jh(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const fPe={name:"tasklistCheck",tokenize:mPe};function hPe(){return{text:{91:fPe}}}function mPe(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return jn(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),o):n(c)}function o(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return Je(c)?t(c):$t(c)?e.check({tokenize:pPe},t,n)(c):n(c)}}function pPe(e,t,n){return qt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function gPe(e){return eJ([BTe(),QTe(),iPe(e),cPe(),hPe()])}const xPe={};function PT(e){const t=this,n=e||xPe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(gPe(n)),a.push(LTe()),o.push($Te(n))}const vPe=()=>{const{slug:e,id:t}=Nt(),n=It(),{favorites:r}=AZ(),{tool:i,loading:a,history:o,settings:l,executing:c,saveSettings:u,executeTool:d}=l2e(t||""),[f,h]=x.useState(!0),[m,p]=x.useState({}),[g,y]=x.useState({}),[v,w]=x.useState(null),[b,j]=x.useState(null),[_,N]=x.useState(!1),[S,C]=x.useState(null),k=["informations","parametres","utilisation","historique"],{activeTab:A,isTransitioning:T,contentRef:E,handleTabChange:R}=W1({tabs:k,defaultTab:"informations"}),$=()=>{n("/individual/outils")},O=x.useCallback(K=>{S&&clearTimeout(S);const G=setTimeout(async()=>{try{await u(K),Ne.success("Paramètres sauvegardés automatiquement")}catch(X){console.error("Erreur lors de la sauvegarde automatique:",X),Ne.error("Erreur lors de la sauvegarde automatique")}},2e3);C(G)},[S,u]),F=x.useCallback(K=>{y(K),O(K)},[O]);x.useEffect(()=>()=>{S&&clearTimeout(S)},[S]),x.useEffect(()=>{l&&Object.keys(l).length>0&&y(l)},[l]);const z=K=>{if(typeof K!="string")return K;let G=K.replace(/^[\s\S]*?```[\s\S]*?```\s*/m,"");return G=G.replace(/^{\s*"[^"]*":\s*"[^"]*"\s*}\s*/m,""),G=G.replace(/^json\s*\n\s*{[\s\S]*?}\s*/m,""),G=G.trim(),G=G.replace(/\\n/g,`
`),G=G.replace(/\\t/g,"	"),G=G.replace(/^(#{1,6})([^\s#])/gm,"$1 $2"),G=G.replace(/^(#{1,6}\s.+)(\n?)([^#\n])/gm,`$1

$3`),G=G.replace(/^(\*|\-|\+)([^\s])/gm,"$1 $2"),G=G.replace(/^(\d+\.)([^\s])/gm,"$1 $2"),G=G.replace(/```(\w*)\n?/g,"\n```$1\n"),G=G.replace(/\n```\n/g,"\n```\n\n"),G=G.replace(/\n{3,}/g,`

`),G=G.replace(/[ \t]+$/gm,""),G},P=K=>({"Marketing & Com":"#38bdf8",Commercial:"#fbbf24",Stratégie:"#ef4444",Juridique:"#9333ea",RH:"#047857",Finance:"#a8a29e",Productivité:"#34d399",text:"#000000"})[K]||"#6b7280",I=async K=>{var G;if(K.preventDefault(),!((G=m.theme)!=null&&G.trim())){Ne.error("Veuillez saisir un thème pour votre article");return}if(!m.clientType){Ne.error("Veuillez sélectionner un type de client");return}w("Génération en cours...");try{const X=await d({theme:m.theme,additionalInfo:m.additionalInfo||"",referenceArticle:m.referenceArticle||"",clientType:m.clientType});if(X.success&&X.data){let oe="";if(Array.isArray(X.data)&&X.data.length>0){const Y=X.data[0];Y&&Y.text?oe=Y.text:oe=JSON.stringify(X.data,null,2)}else X.data.content?oe=X.data.content:X.data.text?oe=X.data.text:oe=JSON.stringify(X.data,null,2);w(oe),Ne.success("Article généré avec succès !")}else throw new Error(X.error||"Erreur inconnue")}catch(X){console.error("Erreur lors de la génération:",X),w(null),Ne.error(X instanceof Error?X.message:"Erreur lors de la génération de l'article")}},M=()=>{v&&navigator.clipboard.writeText(v)},U=()=>{if(v){const K=new Blob([v],{type:"text/plain"}),G=URL.createObjectURL(K),X=document.createElement("a");X.href=G,X.download=`${i==null?void 0:i.title}_result.txt`,X.click(),URL.revokeObjectURL(G)}},D=K=>new Date(K).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),L=K=>{j(K),N(!0)};if(a)return s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[s.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]})});if(!i)return s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Outil non trouvé"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"L'outil que vous recherchez n'existe pas ou n'est plus disponible."}),s.jsx(H,{onClick:$,children:"Retour aux outils"})]})});r.includes(i.id);const V=()=>{var K;switch(A){case"parametres":return s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0",children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"h-5 w-5"}),"Paramètres Généraux"]})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Be,{children:"Liens internes"}),s.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>{const G={id:Date.now().toString(),url:"",description:""},X=g.internalLinks||[];F({...g,internalLinks:[...X,G]})},children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"Ajouter un lien"]})]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Zs,{children:[s.jsx(so,{children:s.jsxs(st,{children:[s.jsx(xn,{children:"URL"}),s.jsx(xn,{children:"Description"}),s.jsx(xn,{className:"w-20",children:"Actions"})]})}),s.jsx(ei,{children:(g.internalLinks||[]).length===0?s.jsx(st,{children:s.jsx(Me,{colSpan:3,className:"text-center text-gray-500 py-6",children:'Aucun lien ajouté. Cliquez sur "Ajouter un lien" pour commencer.'})}):(g.internalLinks||[]).map((G,X)=>s.jsxs(st,{children:[s.jsx(Me,{children:s.jsx(ke,{placeholder:"https://example.com/article",value:G.url,onChange:oe=>{const Y=[...g.internalLinks||[]];Y[X]={...G,url:oe.target.value},F({...g,internalLinks:Y})}})}),s.jsx(Me,{children:s.jsx(ke,{placeholder:"Description du lien",value:G.description,onChange:oe=>{const Y=[...g.internalLinks||[]];Y[X]={...G,description:oe.target.value},F({...g,internalLinks:Y})}})}),s.jsx(Me,{children:s.jsx(H,{variant:"outline",size:"sm",onClick:()=>{const oe=(g.internalLinks||[]).filter((Y,ne)=>ne!==X);F({...g,internalLinks:oe})},children:s.jsx(Rr,{className:"h-4 w-4"})})})]},G.id))})]})})]}),s.jsx(H,{variant:"outline",onClick:async()=>{try{await u(g),Ne.success("Paramètres sauvegardés avec succès !")}catch{Ne.error("Erreur lors de la sauvegarde des paramètres")}},className:"w-full",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Sauvegarde..."]}):"Sauvegarder les paramètres"})]})]})});case"utilisation":return s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 w-full",children:[s.jsxs(pe,{children:[s.jsx(me,{children:"Zone d'entrée"}),s.jsx(Xe,{children:"Configurez votre article de blog SEO"})]}),s.jsx(ie,{children:s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"theme",children:"Thème de l'article *"}),s.jsx(ke,{id:"theme",placeholder:"Ex: Les tendances du marketing digital en 2025",value:m.theme||"",onChange:G=>p({...m,theme:G.target.value}),className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"additional-info",children:"Informations supplémentaires"}),s.jsx(at,{id:"additional-info",placeholder:"Ajoutez des détails, des points spécifiques à traiter, votre angle d'approche...",value:m.additionalInfo||"",onChange:G=>p({...m,additionalInfo:G.target.value}),className:"w-full",rows:4})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"reference-article",children:"Article de blog de référence"}),s.jsx(ke,{id:"reference-article",placeholder:"https://example.com/article-de-reference",value:m.referenceArticle||"",onChange:G=>p({...m,referenceArticle:G.target.value}),className:"w-full",type:"url"})]}),s.jsxs("div",{children:[s.jsx(Be,{children:"Type de client *"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(H,{type:"button",variant:m.clientType==="particulier"?"default":"outline",onClick:()=>p({...m,clientType:"particulier"}),className:"flex-1",children:"Particulier"}),s.jsx(H,{type:"button",variant:m.clientType==="entreprise"?"default":"outline",onClick:()=>p({...m,clientType:"entreprise"}),className:"flex-1",children:"Entreprise"}),s.jsx(H,{type:"button",variant:m.clientType==="organisme"?"default":"outline",onClick:()=>p({...m,clientType:"organisme"}),className:"flex-1",children:"Organisme"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédit",className:"w-5 h-5",style:{display:"inline-block"}}),s.jsx("span",{className:"font-semibold text-gray-700",children:i.credits_cost})]}),s.jsx(H,{type:"submit",disabled:c||!((K=m.theme)!=null&&K.trim())||!m.clientType,className:"text-white",style:{backgroundColor:"#ff5932"},children:c?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{className:"h-4 w-4 mr-2 animate-spin"}),"Génération..."]}):"Générer l'article"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 w-full",children:[s.jsxs(pe,{children:[s.jsx(me,{children:"Résultat"}),s.jsx(Xe,{children:"Le résultat généré apparaîtra ici"})]}),s.jsx(ie,{children:v?v==="Génération en cours..."?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Pt,{className:"h-12 w-12 mx-auto mb-3 text-orange-500 animate-spin"}),s.jsx("p",{className:"text-gray-600",children:"Génération en cours"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Veuillez patienter..."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:s.jsx("div",{className:"markdown-content text-sm text-gray-700",children:s.jsx(yl,{remarkPlugins:[PT],components:{h1:({children:G})=>s.jsx("h1",{className:"text-xl font-bold mb-4 text-gray-900",children:G}),h2:({children:G})=>s.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-800",children:G}),h3:({children:G})=>s.jsx("h3",{className:"text-md font-medium mb-2 text-gray-800",children:G}),p:({children:G})=>s.jsx("p",{className:"mb-3 leading-relaxed",children:G}),ul:({children:G})=>s.jsx("ul",{className:"mb-3 ml-4 list-disc",children:G}),ol:({children:G})=>s.jsx("ol",{className:"mb-3 ml-4 list-decimal",children:G}),li:({children:G})=>s.jsx("li",{className:"mb-1",children:G}),strong:({children:G})=>s.jsx("strong",{className:"font-semibold",children:G}),em:({children:G})=>s.jsx("em",{className:"italic",children:G}),code:({children:G})=>s.jsx("code",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs font-mono",children:G}),pre:({children:G})=>s.jsx("pre",{className:"bg-gray-800 text-gray-100 p-3 rounded-md overflow-x-auto mb-3",children:G}),blockquote:({children:G})=>s.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic mb-3",children:G}),a:({href:G,children:X})=>s.jsx("a",{href:G,className:"text-blue-600 hover:text-blue-800 underline",target:"_blank",rel:"noopener noreferrer",children:X}),table:({children:G})=>s.jsx("table",{className:"w-full border-collapse border border-gray-300 mb-3",children:G}),th:({children:G})=>s.jsx("th",{className:"border border-gray-300 px-2 py-1 bg-gray-100 font-semibold",children:G}),td:({children:G})=>s.jsx("td",{className:"border border-gray-300 px-2 py-1",children:G})},children:z(v)})})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(H,{variant:"outline",onClick:M,className:"flex-1",children:[s.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Copier"]}),s.jsxs(H,{variant:"outline",onClick:U,className:"flex-1",children:[s.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Télécharger"]})]})]}):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(sn,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{children:"Le résultat s'affichera ici"}),s.jsx("p",{className:"text-sm",children:'Remplissez le formulaire et cliquez sur "Générer"'})]})})]})]})});case"informations":return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-lg border-0",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-start gap-5 mb-6",children:[s.jsx("div",{className:"flex-shrink-0",children:i.image_url?s.jsx("img",{src:i.image_url,alt:i.title,className:"w-32 h-32 object-cover rounded-lg"}):s.jsx("div",{className:"w-32 h-32 flex items-center justify-center bg-gray-100 rounded-lg",children:s.jsx("div",{className:"text-4xl",children:"🔧"})})}),s.jsxs("div",{style:{marginLeft:"20px"},className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Tags"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags&&i.tags.length>0?i.tags.map((G,X)=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:G},X)):s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:"Outil SEO"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Yt,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Temps estimé"})]}),s.jsx("div",{className:"text-lg font-bold text-gray-900",children:i.estimated_time||"5-10 minutes"})]}),s.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédit",className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Coût"})]}),s.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[i.credits_cost," crédits"]})]}),s.jsxs("div",{className:"rounded-lg p-4 text-center",style:{backgroundColor:P(i.category),color:i.category==="Finance"?"#000000":"#ffffff"},children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),s.jsx("span",{className:"text-sm font-medium",children:"Catégorie"})]}),s.jsx("div",{className:"text-lg font-bold",children:i.category})]})]})]})}),s.jsx("div",{className:"mt-6 mb-6",children:s.jsxs("div",{className:"bg-transparent grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-lg border-0",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Fonctionnalités"}),s.jsx("ul",{className:"space-y-3",children:i.features&&i.features.length>0?i.features.map((G,X)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:"#ff5932"}}),s.jsx("span",{className:"text-gray-700",children:G})]},X)):s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:"#ff5932"}}),s.jsx("span",{className:"text-gray-700",children:"Génération de contenu optimisé"})]})})]})}),s.jsx("div",{className:"flex justify-center items-start",children:s.jsx("div",{className:"relative bg-transparent rounded-xl overflow-hidden shadow-2xl",style:{width:"100%",maxWidth:"600px",aspectRatio:"16/9"},children:i.video_url?s.jsx("iframe",{width:"100%",height:"100%",src:i.video_url.includes("youtube.com")||i.video_url.includes("youtu.be")?i.video_url.replace("watch?v=","embed/").replace("youtu.be/","youtube.com/embed/"):i.video_url,title:"Vidéo de démonstration",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full rounded-xl"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx(u1,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Vidéo de démonstration"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucune vidéo disponible"})]})})})})]})})]});case"historique":return s.jsx("div",{className:"w-full space-y-6",children:o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(v2,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune utilisation pour le moment"}),s.jsx("p",{className:"text-gray-500",children:"Votre historique d'utilisation apparaîtra ici après avoir utilisé l'outil."})]}):s.jsx("div",{className:"space-y-4",children:o.map(G=>s.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all cursor-pointer border-0",onClick:()=>L(G),children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[G.status==="completed"?s.jsx(Gt,{className:"w-5 h-5 text-green-600"}):G.status==="failed"?s.jsx(hi,{className:"w-5 h-5 text-red-600"}):G.status==="processing"?s.jsx(Pt,{className:"w-5 h-5 text-yellow-600 animate-spin"}):s.jsx(Yt,{className:"w-5 h-5 text-gray-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Utilisation du ",D(G.created_at)]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[G.credits_used," crédits utilisés"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ce,{variant:G.status==="completed"?"default":"destructive",className:G.status==="completed"?"bg-green-100 text-green-700":G.status==="failed"?"bg-red-100 text-red-700":G.status==="processing"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700",children:G.status==="completed"?"Terminé":G.status==="failed"?"Échoué":G.status==="processing"?"En cours":"En attente"}),s.jsx(H,{variant:"outline",size:"sm",children:"Voir le résultat"})]})]})})},G.id))})});default:return null}};return s.jsx("div",{className:"min-h-screen",style:{background:"#f4f4f1"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",style:{width:"90%",maxWidth:"1400px"},children:[s.jsxs(H,{variant:"ghost",onClick:$,className:"mb-6 p-2 hover:bg-gray-200",children:[s.jsx(x7,{className:"h-4 w-4 mr-2"}),"Retour aux outils"]}),s.jsxs(re,{className:"bg-transparent shadow-none border-0 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"border-b border-gray-200 bg-white rounded-lg",children:s.jsxs("div",{className:"flex overflow-x-auto",children:[s.jsxs("button",{onClick:()=>R("informations"),className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ${A==="informations"?"border-b-2 text-gray-900":"text-gray-600 hover:text-gray-800"}`,style:A==="informations"?{borderBottomColor:"#ff5932",color:"#ff5932"}:{},children:[s.jsx(sn,{className:"h-4 w-4"}),"Informations"]}),s.jsxs("button",{onClick:()=>R("parametres"),className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ${A==="parametres"?"border-b-2 text-gray-900":"text-gray-600 hover:text-gray-800"}`,style:A==="parametres"?{borderBottomColor:"#ff5932",color:"#ff5932"}:{},children:[s.jsx(Zr,{className:"h-4 w-4"}),"Paramètres généraux"]}),s.jsxs("button",{onClick:()=>R("utilisation"),className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ${A==="utilisation"?"border-b-2 text-gray-900":"text-gray-600 hover:text-gray-800"}`,style:A==="utilisation"?{borderBottomColor:"#ff5932",color:"#ff5932"}:{},children:[s.jsx(Hr,{className:"h-4 w-4"}),"Utilisation"]}),s.jsxs("button",{onClick:()=>R("historique"),className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap flex items-center gap-2 ${A==="historique"?"border-b-2 text-gray-900":"text-gray-600 hover:text-gray-800"}`,style:A==="historique"?{borderBottomColor:"#ff5932",color:"#ff5932"}:{},children:[s.jsx(v2,{className:"h-4 w-4"}),"Historique"]})]})}),s.jsx("div",{className:"relative overflow-hidden",children:s.jsx("div",{ref:E,className:`transition-all duration-300 ${T?"opacity-0 blur-sm":"opacity-100 blur-0"}`,children:V()})})]}),s.jsx(pt,{open:_,onOpenChange:N,children:s.jsxs(gt,{className:"history-modal-content",style:{width:window.innerWidth<768?"90%":"60%",maxWidth:"90vw",maxHeight:"80vh",borderRadius:"12px",padding:"0",overflow:"hidden"},children:[s.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-4 bg-white border-b",children:[s.jsx(xt,{className:"text-lg font-semibold",children:"Détails de l'utilisation"}),s.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(hi,{className:"h-5 w-5 text-gray-600"})})]}),s.jsxs("div",{className:"overflow-y-auto p-6",style:{maxHeight:"calc(80vh - 80px)"},children:[s.jsx(Mt,{className:"sr-only",children:"Informations détaillées sur cette utilisation de l'outil"}),b&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date"}),s.jsx("p",{className:"text-sm",children:D(b.created_at)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Statut"}),s.jsx(Ce,{className:b.status==="completed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:b.status==="completed"?"Terminé":"Échoué"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Crédits"}),s.jsx("p",{className:"text-sm",children:b.credits_used})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Données d'entrée"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded border text-sm",children:s.jsx("pre",{className:"whitespace-pre-wrap",children:b.input_data?typeof b.input_data=="string"?b.input_data:JSON.stringify(b.input_data,null,2):"Aucune donnée d'entrée"})})]}),b.output_data&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Résultat"}),s.jsx("div",{className:"bg-white shadow-md p-4 rounded-lg border-0",children:s.jsx("div",{className:"markdown-content text-sm text-gray-700",children:s.jsx(yl,{remarkPlugins:[PT],components:{h1:({children:K})=>s.jsx("h1",{className:"text-xl font-bold mb-4 text-gray-900",children:K}),h2:({children:K})=>s.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-800",children:K}),h3:({children:K})=>s.jsx("h3",{className:"text-md font-medium mb-2 text-gray-800",children:K}),p:({children:K})=>s.jsx("p",{className:"mb-3 leading-relaxed",children:K}),ul:({children:K})=>s.jsx("ul",{className:"mb-3 ml-4 list-disc",children:K}),ol:({children:K})=>s.jsx("ol",{className:"mb-3 ml-4 list-decimal",children:K}),li:({children:K})=>s.jsx("li",{className:"mb-1",children:K}),strong:({children:K})=>s.jsx("strong",{className:"font-semibold",children:K}),em:({children:K})=>s.jsx("em",{className:"italic",children:K}),code:({children:K})=>s.jsx("code",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs font-mono",children:K}),pre:({children:K})=>s.jsx("pre",{className:"bg-gray-800 text-gray-100 p-3 rounded-md overflow-x-auto mb-3",children:K}),blockquote:({children:K})=>s.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic mb-3",children:K}),a:({href:K,children:G})=>s.jsx("a",{href:K,className:"text-blue-600 hover:text-blue-800 underline",target:"_blank",rel:"noopener noreferrer",children:G}),table:({children:K})=>s.jsx("table",{className:"w-full border-collapse border border-gray-300 mb-3",children:K}),th:({children:K})=>s.jsx("th",{className:"border border-gray-300 px-2 py-1 bg-gray-100 font-semibold",children:K}),td:({children:K})=>s.jsx("td",{className:"border border-gray-300 px-2 py-1",children:K})},children:z(typeof b.output_data=="string"?b.output_data:JSON.stringify(b.output_data,null,2))})})})]}),b.status==="failed"&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-red-600",children:"Erreur"}),s.jsx("div",{className:"bg-red-50 p-3 rounded border border-red-200 text-sm text-red-700",children:"Une erreur s'est produite lors du traitement."})]})]})]})]})})]})})},R3=[{id:1,name:"Marie Dubois",agency:"Creative Studio MD",domain:"Design Graphique",specialties:["Logo","Charte graphique","UI/UX","Branding"],priceRange:{min:500,max:2e3},rating:4.9,reviewCount:47,location:"Paris, France",image:"/placeholder.svg",description:"Designer graphique passionnée avec 8 ans d'expérience dans la création d'identités visuelles fortes et mémorables.",experience:"8 ans",completedProjects:156,responseTime:"< 2h",languages:["Français","Anglais"],portfolio:"https://mariedubois-design.com",email:"marie@creativestudiomd.com",phone:"+33 6 12 34 56 78",certifications:["Adobe Certified Expert","Google UX Design"],availability:"Disponible"},{id:2,name:"Thomas Martin",agency:"DevCraft Solutions",domain:"Développement Web",specialties:["React","Node.js","E-commerce","API"],priceRange:{min:800,max:3500},rating:4.8,reviewCount:32,location:"Lyon, France",image:"/placeholder.svg",description:"Développeur full-stack spécialisé dans les applications web modernes et les solutions e-commerce sur mesure.",experience:"6 ans",completedProjects:89,responseTime:"< 4h",languages:["Français","Anglais","Espagnol"],portfolio:"https://devcraft-solutions.fr",email:"thomas@devcraft-solutions.fr",phone:"+33 6 98 76 54 32",certifications:["AWS Certified","React Professional"],availability:"Partiellement disponible"},{id:3,name:"Sophie Laurent",agency:"SEO Masters",domain:"Marketing Digital",specialties:["SEO","Google Ads","Analytics","Content Marketing"],priceRange:{min:600,max:2500},rating:4.7,reviewCount:63,location:"Marseille, France",image:"/placeholder.svg",description:"Experte en référencement naturel et payant, j'aide les entreprises à améliorer leur visibilité en ligne.",experience:"5 ans",completedProjects:124,responseTime:"< 1h",languages:["Français","Anglais"],portfolio:"https://seo-masters.fr",email:"sophie@seo-masters.fr",phone:"+33 6 45 67 89 12",certifications:["Google Ads Certified","SEMrush Certified"],availability:"Disponible"},{id:4,name:"Alexandre Petit",agency:"Mobile First Agency",domain:"Développement Mobile",specialties:["React Native","Flutter","iOS","Android"],priceRange:{min:1e3,max:4e3},rating:4.9,reviewCount:28,location:"Toulouse, France",image:"/placeholder.svg",description:"Développeur mobile expert en applications cross-platform avec une approche mobile-first.",experience:"7 ans",completedProjects:67,responseTime:"< 3h",languages:["Français","Anglais"],portfolio:"https://mobilefirst-agency.com",email:"alexandre@mobilefirst-agency.com",phone:"+33 6 23 45 67 89",certifications:["Google Mobile Web Specialist","Apple Developer"],availability:"Occupé"},{id:5,name:"Camille Rousseau",agency:"Content Creator Pro",domain:"Création de Contenu",specialties:["Rédaction web","Copywriting","Social Media","Storytelling"],priceRange:{min:300,max:1500},rating:4.6,reviewCount:41,location:"Bordeaux, France",image:"/placeholder.svg",description:"Rédactrice web et copywriter spécialisée dans la création de contenus engageants et optimisés SEO.",experience:"4 ans",completedProjects:203,responseTime:"< 2h",languages:["Français","Anglais","Italien"],portfolio:"https://contentcreatorpro.fr",email:"camille@contentcreatorpro.fr",phone:"+33 6 78 90 12 34",certifications:["HubSpot Content Marketing","Google Analytics"],availability:"Disponible"},{id:6,name:"Julien Moreau",agency:"Data Insights Lab",domain:"Data Science",specialties:["Machine Learning","Python","Tableau","Business Intelligence"],priceRange:{min:1200,max:5e3},rating:4.8,reviewCount:19,location:"Nantes, France",image:"/placeholder.svg",description:"Data scientist expérimenté, je transforme vos données en insights actionnables pour votre business.",experience:"9 ans",completedProjects:45,responseTime:"< 6h",languages:["Français","Anglais"],portfolio:"https://datainsightslab.fr",email:"julien@datainsightslab.fr",phone:"+33 6 34 56 78 90",certifications:["AWS Machine Learning","Tableau Desktop Specialist"],availability:"Partiellement disponible"}],yPe=()=>{const e=It(),{currentProjectId:t,userProjectsLoading:n}=yr(),[r,i]=x.useState(!1),[a,o]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,p]=x.useState(null),[g,y]=x.useState(!1),[v,w]=x.useState(""),[b,j]=x.useState("all"),[_,N]=x.useState([0,5e3]),[S,C]=x.useState("all"),[k,A]=x.useState("rating"),[T,E]=x.useState(null);x.useEffect(()=>{(async()=>{const{data:{user:M}}=await q.auth.getUser();p(M)})()},[]);const R=async()=>{if(!m||!a.trim()||!l.trim()||!u.trim()||!f.trim()){console.error("User not logged in, or first name, last name, portfolio, or domain is empty.");return}y(!0);try{const I=await fetch("https://n8n.srv906204.hstgr.cloud/webhook/partenaires-freelances",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:m.id,firstName:a,lastName:l,portfolio:u,domain:f})});I.ok?(console.log("Data sent successfully!"),i(!1)):console.error("Failed to send data:",I.statusText)}catch(I){console.error("Error sending data:",I)}finally{y(!1)}},$=R3.filter(I=>{const M=I.name.toLowerCase().includes(v.toLowerCase())||I.agency.toLowerCase().includes(v.toLowerCase())||I.specialties.some(V=>V.toLowerCase().includes(v.toLowerCase())),U=b==="all"||I.domain===b,D=I.priceRange.min<=_[1]&&I.priceRange.max>=_[0],L=S==="all"||I.availability===S;return M&&U&&D&&L}).sort((I,M)=>{switch(k){case"rating":return M.rating-I.rating;case"price-low":return I.priceRange.min-M.priceRange.min;case"price-high":return M.priceRange.max-I.priceRange.max;case"experience":return parseInt(M.experience)-parseInt(I.experience);case"projects":return M.completedProjects-I.completedProjects;default:return 0}}),O=Array.from(new Set(R3.map(I=>I.domain))),F=I=>{switch(I){case"Disponible":return"bg-green-100 text-green-800";case"Occupé":return"bg-red-100 text-red-800";case"Partiellement disponible":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},[z,P]=x.useState(!1);return x.useEffect(()=>{P(!0)},[]),n?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):t?s.jsx(Ff,{children:s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Partenaires Aurentia"}),s.jsx("p",{className:"text-gray-600",children:"Trouvez le partenaire idéal pour votre projet"})]}),s.jsx(H,{onClick:()=>i(!0),className:"bg-gradient-primary hover:from-blue-600 hover:to-purple-700",children:"Devenir Partenaire"})]}),s.jsxs(re,{className:"mb-8",children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Dl,{className:"h-5 w-5"}),"Filtres et Recherche"]})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(ke,{placeholder:"Rechercher par nom, agence ou spécialité...",value:v,onChange:I=>w(I.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Domaine"}),s.jsxs(vt,{value:b,onValueChange:j,children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Tous les domaines"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Tous les domaines"}),O.map(I=>s.jsx(fe,{value:I,children:I},I))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Disponibilité"}),s.jsxs(vt,{value:S,onValueChange:C,children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Toutes"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Toutes"}),s.jsx(fe,{value:"Disponible",children:"Disponible"}),s.jsx(fe,{value:"Partiellement disponible",children:"Partiellement disponible"}),s.jsx(fe,{value:"Occupé",children:"Occupé"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Trier par"}),s.jsxs(vt,{value:k,onValueChange:A,children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"rating",children:"Note"}),s.jsx(fe,{value:"price-low",children:"Prix croissant"}),s.jsx(fe,{value:"price-high",children:"Prix décroissant"}),s.jsx(fe,{value:"experience",children:"Expérience"}),s.jsx(fe,{value:"projects",children:"Projets réalisés"})]})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"text-sm text-gray-600",children:[$.length," partenaire",$.length>1?"s":""," trouvé",$.length>1?"s":""]})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Fourchette de prix: ",_[0],"€ - ",_[1],"€"]}),s.jsx(Av,{value:_,onValueChange:N,max:5e3,min:0,step:100,className:"w-full"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(I=>s.jsxs(re,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>E(I),children:[s.jsx(pe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:I.image,alt:I.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:I.name}),s.jsx(Xe,{className:"text-sm",children:I.agency})]})]}),s.jsx(Ce,{className:F(I.availability),children:I.availability})]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{variant:"outline",className:"mb-2",children:I.domain}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:I.description})]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.specialties.slice(0,3).map(M=>s.jsx(Ce,{variant:"secondary",className:"text-xs",children:M},M)),I.specialties.length>3&&s.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["+",I.specialties.length-3]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-medium",children:I.rating}),s.jsxs("span",{className:"text-gray-500",children:["(",I.reviewCount,")"]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[s.jsx(rs,{className:"h-4 w-4"}),s.jsx("span",{children:I.location.split(",")[0]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",children:s.jsxs("span",{className:"font-medium text-green-600",children:[I.priceRange.min,"€ - ",I.priceRange.max,"€"]})}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(Yt,{className:"h-3 w-3"}),s.jsxs("span",{children:["Répond ",I.responseTime]})]})]})]})]},I.id))})," ",$.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-500 text-lg",children:"Aucun partenaire ne correspond à vos critères de recherche."}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Essayez de modifier vos filtres pour voir plus de résultats."})]}),s.jsx(pt,{open:!!T,onOpenChange:()=>E(null),children:s.jsx(gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:T&&s.jsxs(s.Fragment,{children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("img",{src:T.image,alt:T.name,className:"w-20 h-20 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(xt,{className:"text-2xl",children:T.name}),s.jsx(Mt,{className:"text-lg font-medium text-gray-700",children:T.agency}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsx(Ce,{className:F(T.availability),children:T.availability}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-medium",children:T.rating}),s.jsxs("span",{className:"text-gray-500",children:["(",T.reviewCount," avis)"]})]})]})]})]})}),s.jsx(wu,{className:"my-6"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"À propos"}),s.jsx("p",{className:"text-gray-700",children:T.description})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Spécialités"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.specialties.map(I=>s.jsx(Ce,{variant:"outline",children:I},I))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.certifications.map(I=>s.jsxs(Ce,{className:"bg-blue-100 text-blue-800",children:[s.jsx(ui,{className:"h-3 w-3 mr-1"}),I]},I))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Langues"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.languages.map(I=>s.jsx(Ce,{variant:"secondary",children:I},I))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{children:[s.jsx(pe,{children:s.jsx(me,{className:"text-lg",children:"Informations clés"})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rs,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:T.location})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(et,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{className:"text-sm",children:[T.completedProjects," projets réalisés"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{className:"text-sm",children:["Répond ",T.responseTime]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ui,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{className:"text-sm",children:[T.experience," d'expérience"]})]})]})]}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsx(me,{className:"text-lg",children:"Tarifs"})}),s.jsx(ie,{children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[T.priceRange.min,"€ - ",T.priceRange.max,"€"]}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Par projet"})]})})]}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsx(me,{className:"text-lg",children:"Contact"})}),s.jsxs(ie,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ft,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:T.email})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ha,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:T.phone})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pr,{className:"h-4 w-4 text-gray-500"}),s.jsx("a",{href:T.portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"Portfolio"})]})]})]}),s.jsxs(H,{className:"w-full bg-gradient-primary hover:from-blue-600 hover:to-purple-700",size:"lg",children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Envoyer une demande"]})]})]})]})})}),s.jsx(fb,{isOpen:z,onClose:()=>P(!1),description:s.jsxs(s.Fragment,{children:["Prochainement, connectez-vous directement avec notre réseau de partenaires Aurentia certifiés. Une plateforme dédiée pour trouver les experts dont votre projet a besoin :",s.jsx("br",{}),s.jsx("br",{}),"✅ ",s.jsx("b",{children:"Création"})," : Designers graphiques, développeurs web, créateurs de contenu",s.jsx("br",{}),"✅ ",s.jsx("b",{children:"Marketing"})," : Spécialistes SEO, experts en publicité, consultants réseaux sociaux",s.jsx("br",{}),"✅ ",s.jsx("b",{children:"Business"})," : Comptables, juristes, consultants en stratégie",s.jsx("br",{}),"✅ ",s.jsx("b",{children:"Technique"})," : Développeurs d'applications, experts en automatisation, spécialistes data",s.jsx("br",{}),s.jsx("br",{}),"Tous nos partenaires sont sélectionnés pour leur expertise et leur connaissance de l'écosystème entrepreneurial. Trouvez, comparez et collaborez en quelques clics.",s.jsx("br",{}),s.jsx("br",{}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mt-4",children:[s.jsxs("div",{className:"text-black text-center mb-4",children:[s.jsx("p",{className:"font-semibold",children:"Candidature partenaire"}),s.jsx("p",{children:"Remplissez le formulaire ci-dessous pour nous rejoindre"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ke,{type:"text",placeholder:"Prénom",value:a,onChange:I=>o(I.target.value),className:"flex-1"}),s.jsx(ke,{type:"text",placeholder:"Nom",value:l,onChange:I=>c(I.target.value),className:"flex-1"})]}),s.jsx(ke,{type:"text",placeholder:"Votre site / Portfolio",value:u,onChange:I=>d(I.target.value),className:"flex-1"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ke,{type:"text",placeholder:"Votre domaine d'activité",value:f,onChange:I=>h(I.target.value),className:"flex-1"}),s.jsx(H,{onClick:R,disabled:g||!a.trim()||!l.trim()||!u.trim()||!f.trim(),className:"rounded-xl w-10 h-10 p-0 bg-gradient-primary hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg flex-shrink-0",children:g?s.jsx(Pt,{className:"h-5 w-5 text-white animate-spin"}):s.jsx(m2,{size:18,className:"text-white"})})]})]})]})]})}),s.jsx(pt,{open:r,onOpenChange:i,children:s.jsx(gt,{className:"w-[90vw] rounded-lg",children:s.jsxs(jt,{children:[s.jsx(xt,{className:"bg-gradient-primary text-transparent bg-clip-text text-3xl",children:"Devenir Partenaire Aurentia"}),s.jsx(wu,{className:"my-4"}),s.jsxs(Mt,{className:"text-black",children:["Rejoignez notre réseau de partenaires qualifiés et développez votre activité en collaborant avec des porteurs de projets ambitieux.",s.jsx("br",{}),s.jsx("br",{}),"En tant que partenaire Aurentia, vous bénéficierez d'une visibilité accrue et d'un accès privilégié à des projets correspondant à votre expertise."]})]})})})]})})}):(cr(),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)] animate-popup-appear",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 text-center bg-white p-8 rounded-lg shadow-lg max-w-lg w-[90vw]",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Que l'aventure commence !"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Créez un nouveau projet pour découvrir tout le potentiel de votre idée."}),s.jsx(H,{onClick:()=>e("/individual/warning"),className:"mt-4 px-4 py-2 rounded-lg bg-gradient-primary hover:from-blue-600 hover:to-purple-700 text-white text-lg font-semibold shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105",children:"Créer un nouveau projet"})]})}))},bPe=({title:e,price:t,oldPrice:n,deliverables:r,buttonText:i,creditsSection:a,className:o,onButtonClick:l})=>s.jsxs("div",{className:`relative bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center text-center md:w-[350px] ${o} border border-gray-200`,children:[s.jsxs("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-[#FF5932] text-white text-sm font-bold px-4 py-1 rounded-full flex items-center gap-1",children:[s.jsx(Zhe,{size:16,fill:"white"})," Populaire"]}),s.jsx("h2",{className:"text-3xl font-bold text-[#FF5932] mb-4 md:mb-2",children:e}),s.jsx("div",{className:"flex items-baseline gap-2 mb-2",children:s.jsxs("p",{className:"text-[#2D2D2D] text-5xl font-bold",children:["€12,90",s.jsx("span",{className:"text-base font-normal",children:"/mois"})]})}),s.jsx("div",{className:"w-4/5 border-b border-gray-300 mx-auto mb-6"})," ",s.jsx("div",{className:"bg-gray-100 p-3 rounded-lg text-gray-800 text-center mb-6 w-4/5 mx-auto",children:s.jsx("span",{className:"font-bold text-lg",children:"🎁 Premiers livrables premium offerts ! 🎁"})}),s.jsx("ul",{className:"list-none p-0 m-0 w-4/5 mx-auto flex flex-col items-start mb-6",children:r.map((c,u)=>s.jsxs("li",{className:"flex items-center mb-3 w-full",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[#FF5932] flex items-center justify-center mr-2",children:s.jsx(Vr,{size:16,className:"text-white"})}),s.jsx("span",{className:"text-gray-800 text-xl text-left",children:c})]},u))}),s.jsx("button",{className:"mt-auto w-4/5 mx-auto py-3 rounded-lg text-white text-lg font-normal bg-[#FF5932] hover:opacity-90 transition-opacity",onClick:l,children:"C'est partit !"})]});var nS="Popover",[ZZ]=sr(nS,[Ru]),wb=Ru(),[wPe,Uu]=ZZ(nS),eee=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=wb(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=Or({prop:r,defaultProp:i??!1,onChange:a,caller:nS});return s.jsx(p1,{...l,children:s.jsx(wPe,{scope:t,contentId:xr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:n})})};eee.displayName=nS;var tee="PopoverAnchor",jPe=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Uu(tee,n),a=wb(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return x.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Ky,{...a,...r,ref:t})});jPe.displayName=tee;var nee="PopoverTrigger",ree=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Uu(nee,n),a=wb(n),o=it(t,i.triggerRef),l=s.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lee(i.open),...r,ref:o,onClick:Te(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(Ky,{asChild:!0,...a,children:l})});ree.displayName=nee;var FM="PopoverPortal",[_Pe,NPe]=ZZ(FM,{forceMount:void 0}),see=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=Uu(FM,t);return s.jsx(_Pe,{scope:t,forceMount:n,children:s.jsx(vs,{present:n||a.open,children:s.jsx(Rp,{asChild:!0,container:i,children:r})})})};see.displayName=FM;var Wm="PopoverContent",iee=x.forwardRef((e,t)=>{const n=NPe(Wm,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=Uu(Wm,e.__scopePopover);return s.jsx(vs,{present:r||a.open,children:a.modal?s.jsx(CPe,{...i,ref:t}):s.jsx(EPe,{...i,ref:t})})});iee.displayName=Wm;var SPe=xu("PopoverContent.RemoveScroll"),CPe=x.forwardRef((e,t)=>{const n=Uu(Wm,e.__scopePopover),r=x.useRef(null),i=it(t,r),a=x.useRef(!1);return x.useEffect(()=>{const o=r.current;if(o)return A1(o)},[]),s.jsx(Jy,{as:SPe,allowPinchZoom:!0,children:s.jsx(aee,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Te(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),EPe=x.forwardRef((e,t)=>{const n=Uu(Wm,e.__scopePopover),r=x.useRef(!1),i=x.useRef(!1);return s.jsx(aee,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),aee=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Uu(Wm,n),m=wb(n);return E1(),s.jsx(Qy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(If,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(g1,{"data-state":lee(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),oee="PopoverClose",kPe=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Uu(oee,n);return s.jsx($e.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,()=>i.onOpenChange(!1))})});kPe.displayName=oee;var APe="PopoverArrow",TPe=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=wb(n);return s.jsx(x1,{...i,...r,ref:t})});TPe.displayName=APe;function lee(e){return e?"open":"closed"}var PPe=eee,OPe=ree,RPe=see,cee=iee;const oa=PPe,la=OPe,Ai=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>s.jsx(RPe,{children:s.jsx(cee,{ref:i,align:t,sideOffset:n,className:de("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none transition-[height] ease-in-out duration-300 overflow-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ai.displayName=cee.displayName;const OT={id:"monthly_subscription",name:"Abonnement Mensuel Aurentia",price:"12,90€",credits:1500,stripeUrl:"https://buy.stripe.com/4gMfZidrg5Cwamd4TR0gw09"},DPe=async(e,t)=>{try{const n=`pi_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;console.log(`🔄 Tentative de création payment intent: ${n} pour user: ${e}, project: ${t}`);const{data:r,error:i}=await q.from("payment_intents").insert({payment_intent_id:n,user_id:e,project_id:t,status:"pending",created_at:new Date().toISOString()}).select();return i?(console.error("❌ Erreur création payment intent:",i),console.error("❌ Détails de l'erreur:",JSON.stringify(i,null,2)),null):(console.log("✅ Payment intent créé avec succès:",r),console.log(`✅ Payment intent ID: ${n}`),n)}catch(n){return console.error("❌ Erreur lors de la création du payment intent:",n),null}},MPe=(e,t)=>{const n=new URL(e);return n.searchParams.append("client_reference_id",t),n.toString()},RT=1e3;class IPe{async initiateSubscription(t){try{const{data:{session:n},error:r}=await q.auth.getSession();if(r||!(n!=null&&n.user))return{success:!1,error:"Vous devez être connecté pour effectuer un paiement"};const i=n.user.id,{error:a}=await q.from("project_summary").update({statut_project:"subscription_waiting"}).eq("project_id",t);if(a)return console.error("❌ Erreur mise à jour statut projet:",a),{success:!1,error:"Erreur lors de la mise à jour du statut du projet"};console.log("✅ Statut projet mis à jour: subscription_waiting");const o={userId:i,projectId:t,type:"subscription",planName:OT.name,timestamp:Date.now()},l=await DPe(i,t);if(!l)return{success:!1,error:"Erreur lors de la création de l'intention de paiement"};const c={...o,paymentIntentId:l};localStorage.setItem("aurentia_subscription_data",JSON.stringify(c));const u=MPe(OT.stripeUrl,l);return console.log(`🔗 Ouverture du lien Stripe avec payment intent: ${l}`),window.open(u,"_blank"),{success:!0}}catch(n){return console.error("Erreur lors de l'initiation de l'abonnement:",n),{success:!1,error:"Erreur lors de l'initiation de l'abonnement"}}}async initiatePremiumGeneration(t){try{const{data:{session:n},error:r}=await q.auth.getSession();if(r||!(n!=null&&n.user))return{success:!1,error:"Vous devez être connecté pour générer les livrables premium"};const i=n.user.id,{data:a,error:o}=await q.rpc("billing.can_generate_premium_for_free",{p_user_id:i});if(o)return console.error("❌ Erreur vérification premier livrable gratuit:",o),{success:!1,error:"Erreur lors de la vérification des droits"};if(!a){const{data:d,error:f}=await q.rpc("billing.get_user_balance",{p_user_id:i});if(f||!d)return console.error("❌ Erreur récupération solde:",f),{success:!1,error:"Erreur lors de la vérification du solde"};if(d.total_credits<RT)return{success:!1,error:`Crédits insuffisants. Vous avez ${d.total_credits} crédits, ${RT} requis.`}}const{data:l,error:c}=await q.rpc("billing.generate_premium_deliverables",{p_user_id:i,p_project_id:t});if(c)return console.error("❌ Erreur génération livrables premium:",c),{success:!1,error:"Erreur lors de la génération des livrables premium"};const{error:u}=await q.from("project_summary").update({statut_project:"payment_receive"}).eq("project_id",t);return u?(console.error("❌ Erreur mise à jour statut projet:",u),{success:!1,error:"Erreur lors de la mise à jour du statut du projet"}):{success:!0,message:l.free?"Premier livrable premium généré gratuitement !":"Livrables premium générés avec succès !"}}catch(n){return console.error("Erreur lors de la génération des livrables premium:",n),{success:!1,error:"Erreur lors de la génération des livrables premium"}}}async checkProjectStatus(t){try{const{data:n,error:r}=await q.from("project_summary").select("statut_project").eq("project_id",t).single();return r?(console.error("❌ Erreur vérification statut projet:",r),null):(n==null?void 0:n.statut_project)||null}catch(n){return console.error("❌ Erreur lors de la vérification du statut:",n),null}}async processSubscriptionSuccess(t,n){try{console.log(`🚀 Traitement de l'abonnement réussi - Projet: ${t}, User: ${n}`),localStorage.removeItem("aurentia_subscription_data");const r=await this.checkProjectStatus(t);if(console.log(`🔍 Vérification finale du statut: ${r}`),r!=="payment_receive")return console.error(`❌ Statut incorrect pour la génération: ${r}`),{success:!1,error:`Statut incorrect pour la génération des livrables: ${r}`};console.log("✅ Statut confirmé: payment_receive, traitement de l'abonnement..."),console.log("💳 Ajout des crédits mensuels d'abonnement...");const{error:i}=await q.rpc("billing.add_credits",{p_user_id:n,p_amount:1500,p_credit_type:"monthly",p_description:"Crédits mensuels abonnement Aurentia",p_stripe_reference:`subscription_${t}`});if(i)throw console.error("❌ Erreur lors de l'ajout des crédits:",i),new Error("Erreur lors de l'ajout des crédits d'abonnement");console.log("✅ Crédits mensuels ajoutés avec succès"),typeof window<"u"&&(window.dispatchEvent(new CustomEvent("creditsUpdated")),window.dispatchEvent(new CustomEvent("subscriptionUpdated"))),console.log("🌐 Appel du webhook de génération des livrables premium...");const a=await fetch("https://n8n.srv906204.hstgr.cloud/webhook/generation-livrables-premium",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:t,user_id:n,type:"subscription"})});if(!a.ok)throw new Error(`Webhook failed with status: ${a.status}`);const o=await a.json();return console.log("✅ Webhook response:",o),{success:!0}}catch(r){return console.error("❌ Erreur lors du traitement de l'abonnement:",r),{success:!1,error:"Erreur lors du traitement de l'abonnement. Veuillez contacter le support."}}}async checkDeliverablesCompletion(t){try{console.log("🔍 Vérification de la génération des livrables pour le projet:",t);const{data:n,error:r}=await q.from("ressources_requises").select("ressources_materielles, ressources_humaines, ressources_techniques").eq("project_id",t).single();if(r)return console.log("❌ Erreur lors de la vérification des ressources:",r),!1;const i=n&&n.ressources_materielles&&n.ressources_humaines&&n.ressources_techniques;if(console.log("📊 État des ressources:",{materielles:!!(n!=null&&n.ressources_materielles),humaines:!!(n!=null&&n.ressources_humaines),techniques:!!(n!=null&&n.ressources_techniques),complete:i}),!i)return!1;const a=["concurrence","marche","business_model","proposition_valeur"];for(const o of a){const{data:l,error:c}=await q.from(o).select("*").eq("project_id",t).single();if(c||!l)return console.log(`❌ Table ${o} non complète ou erreur:`,c),!1;if(!Object.values(l).some(d=>d&&typeof d=="string"&&d.trim().length>0))return console.log(`❌ Table ${o} vide ou incomplète`),!1;console.log(`✅ Table ${o} complète`)}return console.log("✅ Tous les livrables sont générés !"),!0}catch(n){return console.error("❌ Erreur lors de la vérification des livrables:",n),!1}}checkPendingSubscription(){try{const t=localStorage.getItem("aurentia_subscription_data");if(!t)return null;const n=JSON.parse(t),r=Date.now()-5*60*1e3;return n.timestamp<r?(localStorage.removeItem("aurentia_subscription_data"),null):{userId:n.userId,projectId:n.projectId,type:n.type}}catch(t){return console.error("Erreur lors de la vérification de l'abonnement en attente:",t),null}}async getUserBalance(t){try{const{data:n,error:r}=await q.rpc("billing.get_user_balance",{p_user_id:t});return r?(console.error("❌ Erreur récupération solde utilisateur:",r),null):n}catch(n){return console.error("❌ Erreur lors de la récupération du solde:",n),null}}async canGeneratePremiumForFree(t){try{const{data:n,error:r}=await q.rpc("billing.can_generate_premium_for_free",{p_user_id:t});return r?(console.error("❌ Erreur vérification premier livrable gratuit:",r),!1):n||!1}catch(n){return console.error("❌ Erreur lors de la vérification du premier livrable gratuit:",n),!1}}}const Zo=new IPe,LPe=()=>{const e=It(),[t,n]=x.useState(!1),[r,i]=x.useState("idle"),[a,o]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,p]=x.useState(null),g=x.useRef(null),y=x.useRef(null),v=x.useRef(!1),w=x.useRef(!1),b=(E,R)=>{console.log(`🔄 Démarrage du polling pour le projet ${E}`),h(E),p(R),c(!0),i("processing"),g.current=setInterval(async()=>{const $=await Zo.checkProjectStatus(E);console.log(`🔍 Vérification statut projet: ${$}`),$==="payment_receive"?(console.log("✅ Paiement reçu, arrêt du polling et déclenchement du webhook..."),clearInterval(g.current),g.current=null,c(!1),await S(E,R),d(!0)):$==="subscription_waiting"?console.log("⏳ En attente de l'abonnement..."):$==="subscription_active"?(console.log("✅ Abonnement actif détecté, arrêt du polling."),clearInterval(g.current),g.current=null,c(!1),i("success"),v.current||(Ne.success("Abonnement activé !"),v.current=!0)):$==="free"?(console.log("ℹ️ Projet en statut gratuit, arrêt du polling"),clearInterval(g.current),g.current=null,c(!1),i("idle")):(console.log("❌ Statut inattendu:",$),clearInterval(g.current),g.current=null,c(!1),i("error"),o("Statut de paiement inattendu"))},4e3)},j=()=>{g.current&&(clearInterval(g.current),g.current=null),c(!1),h(null),p(null)},_=E=>{console.log(`🔄 Démarrage du polling des livrables pour le projet ${E}`),d(!0),y.current=setInterval(async()=>{await Zo.checkDeliverablesCompletion(E)?(console.log("✅ Tous les livrables sont générés !"),clearInterval(y.current),y.current=null,d(!1),w.current||(Ne.success("Le chargement des livrables est terminé !"),w.current=!0),typeof window<"u"&&window.dispatchEvent(new CustomEvent("deliverablesCompleted",{detail:{projectId:E}})),e(`/project-business/${E}`)):console.log("⏳ Livrables en cours de génération...")},4e3)},N=()=>{y.current&&(clearInterval(y.current),y.current=null),d(!1)},S=async(E,R)=>{try{n(!0),i("processing"),o(null),console.log("🔄 Traitement de l'abonnement en cours...");const $=await Zo.processSubscriptionSuccess(E,R);if($.success)i("success"),v.current||(Ne.success("Abonnement validé ! Génération des livrables en cours..."),v.current=!0),_(E),n(!1);else throw new Error($.error||"Erreur lors du traitement")}catch($){console.error("❌ Erreur lors du traitement de l'abonnement:",$),o($ instanceof Error?$.message:"Erreur lors du traitement de l'abonnement"),i("error"),n(!1),c(!1),Ne.error("Erreur lors du traitement de l'abonnement")}},C=async E=>{try{console.log(`🚀 Initiation de l'abonnement - Projet: ${E}`),o(null),i("idle");const R=await Zo.initiateSubscription(E);if(!R.success){console.error("❌ Échec de l'initiation de l'abonnement:",R.error),o(R.error||"Erreur lors de l'initiation de l'abonnement"),i("error"),Ne.error(R.error||"Erreur lors de l'initiation de l'abonnement");return}console.log("✅ Initiation de l'abonnement réussie, démarrage du polling...");const{data:{session:$}}=await q.auth.getSession();$!=null&&$.user?b(E,$.user.id):(console.error("❌ Aucune session utilisateur trouvée"),o("Session utilisateur non trouvée"),i("error")),Ne.success("Redirection vers l'abonnement...")}catch(R){console.error("❌ Erreur lors de l'initiation de l'abonnement:",R),o("Erreur inattendue lors de l'initiation de l'abonnement"),i("error"),Ne.error("Erreur inattendue lors de l'initiation de l'abonnement")}},k=async E=>{try{console.log(`🚀 Génération des livrables premium - Projet: ${E}`),o(null),i("idle");const R=await Zo.initiatePremiumGeneration(E);if(!R.success){console.error("❌ Échec de la génération des livrables premium:",R.error),o(R.error||"Erreur lors de la génération des livrables premium"),i("error"),Ne.error(R.error||"Erreur lors de la génération des livrables premium");return}console.log("✅ Génération des livrables premium réussie"),i("success");const{data:{session:$}}=await q.auth.getSession();$!=null&&$.user&&(h(E),p($.user.id),_(E)),Ne.success(R.message||"Génération des livrables premium en cours...")}catch(R){console.error("❌ Erreur lors de la génération des livrables premium:",R),o("Erreur inattendue lors de la génération des livrables premium"),i("error"),Ne.error("Erreur inattendue lors de la génération des livrables premium")}},A=()=>{j(),N(),n(!1),i("idle"),o(null),v.current=!1,w.current=!1},T=async()=>{if(console.log("❌ Annulation de l'abonnement par l'utilisateur"),f)try{const E=await Zo.checkProjectStatus(f);if(console.log("🔍 Statut actuel du projet:",E),E==="subscription_waiting"){const{error:R}=await q.from("project_summary").update({statut_project:"free"}).eq("project_id",f);R?console.error("❌ Erreur lors de la remise à zéro du statut projet:",R):(console.log(`✅ Statut projet remis de "${E}" à "free"`),typeof window<"u"&&window.dispatchEvent(new CustomEvent("projectStatusUpdated",{detail:{projectId:f,newStatus:"free"}})))}else console.log(`ℹ️ Pas de changement de statut nécessaire, statut actuel: ${E}`)}catch(E){console.error("❌ Erreur lors de la remise à zéro du statut projet:",E)}j(),N(),localStorage.removeItem("aurentia_subscription_data"),n(!1),i("idle"),o(null),c(!1),d(!1),v.current=!1,w.current=!1,Ne.info("Abonnement annulé")};return x.useEffect(()=>{const E=async()=>{const $=Zo.checkPendingSubscription();if($){console.log("🔍 Données d'abonnement trouvées dans localStorage, vérification du statut...");const O=await Zo.checkProjectStatus($.projectId);console.log(`📊 Statut actuel du projet: ${O}`),O==="subscription_waiting"?(console.log("✅ Projet toujours en attente, redémarrage du polling..."),b($.projectId,$.userId)):O==="payment_receive"?(console.log("✅ Paiement déjà reçu, vérification des livrables..."),await Zo.checkDeliverablesCompletion($.projectId)?(console.log("✅ Livrables déjà complets, nettoyage des données..."),localStorage.removeItem("aurentia_subscription_data")):(console.log("⏳ Livrables non complets, redémarrage du polling des livrables..."),_($.projectId))):O==="subscription_active"?(console.log("✅ Abonnement déjà actif, nettoyage des données..."),localStorage.removeItem("aurentia_subscription_data")):(console.log("ℹ️ Projet plus en attente d'abonnement, nettoyage des données..."),localStorage.removeItem("aurentia_subscription_data"))}};E();const R=()=>{setTimeout(E,1e3)};return window.addEventListener("focus",R),()=>{window.removeEventListener("focus",R),j(),N()}},[]),{isLoading:t,paymentStatus:r,paymentError:a,isWaitingSubscription:l,isWaitingDeliverables:u,initiateSubscription:C,generatePremiumDeliverables:k,resetPaymentState:A,cancelSubscription:T,subscriptionPlan:OT,premiumCost:RT}},$Pe=({isOpen:e,onClose:t,projectTitle:n="Votre projet",projectId:r})=>{const{initiateSubscription:i}=LPe(),a=async o=>{if(!r){we({title:"Erreur",description:"ID du projet manquant",variant:"destructive"});return}await i(r)};return s.jsx(pt,{open:e,onOpenChange:t,children:s.jsx(gt,{className:"w-[90vw] md:w-[70vw] max-w-none overflow-y-auto max-h-[90vh] md:h-[90vh] rounded-lg md:flex md:flex-col md:justify-center md:items-center",children:s.jsxs(jt,{children:[s.jsx(xt,{className:"text-center text-2xl font-bold text-[#2D2D2D]",children:"Obtenez votre plan d'action personnalisé en quelques clics !"}),s.jsx("div",{className:"mt-4"}),s.jsx("div",{children:s.jsx("div",{className:"flex flex-col md:flex-row gap-8 justify-center items-stretch mt-8",children:s.jsx(bPe,{title:"Pack Entrepreneur",price:s.jsxs(s.Fragment,{children:["12,90€",s.jsx("span",{className:"text-sm",children:"/mois"})]}),oldPrice:"",deliverables:["Plan d'action personnalisé","Livrables premium","3 000 crédits","Exportation PDF","Accès à toutes les fonctionnalités","Collaboration utilisateurs","Support prioritaire"],buttonText:"Let's go !",creditsSection:s.jsx("div",{className:"bg-gray-100 p-3 rounded-lg text-gray-800 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"font-bold",children:"3 000 crédits Aurentia IA"}),s.jsx(SD,{children:s.jsxs(Bj,{children:[s.jsx(Uj,{asChild:!0,children:s.jsxs(oa,{children:[s.jsx(la,{asChild:!0,children:s.jsx(Xhe,{className:"h-4 w-4 text-gray-500 cursor-pointer"})}),s.jsx(Ai,{className:"sm:fixed sm:inset-0 sm:flex sm:items-center sm:justify-center sm:transform-none md:static md:translate-x-0 md:translate-y-0",children:s.jsx("p",{children:"1 crédit = un message avec notre Agent IA connecté à votre projet"})})]})}),s.jsx(jv,{children:s.jsx("p",{children:"1 crédit = un message avec notre Agent IA connecté à votre projet"})})]})})]})}),className:"flex-1",onButtonClick:()=>a()})})})]})})})};function FPe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const rS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jp(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function zM(e){return"nodeType"in e}function Vs(e){var t,n;return e?Jp(e)?e:zM(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function BM(e){const{Document:t}=Vs(e);return e instanceof t}function jb(e){return Jp(e)?!1:e instanceof Vs(e).HTMLElement}function uee(e){return e instanceof Vs(e).SVGElement}function Zp(e){return e?Jp(e)?e.document:zM(e)?BM(e)?e:jb(e)||uee(e)?e.ownerDocument:document:document:document}const io=rS?x.useLayoutEffect:x.useEffect;function sS(e){const t=x.useRef(e);return io(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function zPe(){const e=x.useRef(null),t=x.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Iv(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return io(()=>{n.current!==e&&(n.current=e)},t),n}function _b(e,t){const n=x.useRef();return x.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function a_(e){const t=sS(e),n=x.useRef(null),r=x.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function o_(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let FE={};function Nb(e,t){return x.useMemo(()=>{if(t)return t;const n=FE[e]==null?0:FE[e]+1;return FE[e]=n,e+"-"+n},[e,t])}function dee(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const hm=dee(1),l_=dee(-1);function BPe(e){return"clientX"in e&&"clientY"in e}function iS(e){if(!e)return!1;const{KeyboardEvent:t}=Vs(e.target);return t&&e instanceof t}function UPe(e){if(!e)return!1;const{TouchEvent:t}=Vs(e.target);return t&&e instanceof t}function c_(e){if(UPe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return BPe(e)?{x:e.clientX,y:e.clientY}:null}const Uo=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Uo.Translate.toString(e),Uo.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),D3="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function qPe(e){return e.matches(D3)?e:e.querySelector(D3)}const VPe={display:"none"};function HPe(e){let{id:t,value:n}=e;return B.createElement("div",{id:t,style:VPe},n)}function WPe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return B.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function GPe(){const[e,t]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const fee=x.createContext(null);function KPe(e){const t=x.useContext(fee);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function YPe(){const[e]=x.useState(()=>new Set),t=x.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[x.useCallback(r=>{let{type:i,event:a}=r;e.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,a)})},[e]),t]}const XPe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},QPe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function JPe(e){let{announcements:t=QPe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=XPe}=e;const{announce:a,announcement:o}=GPe(),l=Nb("DndLiveRegion"),[c,u]=x.useState(!1);if(x.useEffect(()=>{u(!0)},[]),KPe(x.useMemo(()=>({onDragStart(f){let{active:h}=f;a(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;t.onDragMove&&a(t.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;a(t.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;a(t.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;a(t.onDragCancel({active:h,over:m}))}}),[a,t])),!c)return null;const d=B.createElement(B.Fragment,null,B.createElement(HPe,{id:r,value:i.draggable}),B.createElement(WPe,{id:l,announcement:o}));return n?Rs.createPortal(d,n):d}var Er;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Er||(Er={}));function u_(){}function Gd(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function UM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ao=Object.freeze({x:0,y:0});function ZPe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function eOe(e,t){const n=c_(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function tOe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function nOe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function rOe(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function M3(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const qM=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=M3(t,t.left,t.top),a=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=ZPe(M3(c),i);a.push({id:l,data:{droppableContainer:o,value:u}})}}return a.sort(tOe)};function sOe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,l=a-n;if(r<i&&n<a){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const iOe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:o}=a,l=n.get(o);if(l){const c=sOe(l,t);c>0&&i.push({id:o,data:{droppableContainer:a,value:c}})}}return i.sort(nOe)};function aOe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function hee(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ao}function oOe(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const lOe=oOe(1);function mee(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function cOe(e,t,n){const r=mee(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:l}=r,c=e.left-o-(1-i)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const uOe={ignoreTransform:!1};function eg(e,t){t===void 0&&(t=uOe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Vs(e).getComputedStyle(e);u&&(n=cOe(n,u,d))}const{top:r,left:i,width:a,height:o,bottom:l,right:c}=n;return{top:r,left:i,width:a,height:o,bottom:l,right:c}}function I3(e){return eg(e,{ignoreTransform:!0})}function dOe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function fOe(e,t){return t===void 0&&(t=Vs(e).getComputedStyle(e)),t.position==="fixed"}function hOe(e,t){t===void 0&&(t=Vs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function VM(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(BM(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!jb(i)||uee(i)||n.includes(i))return n;const a=Vs(e).getComputedStyle(i);return i!==e&&hOe(i,a)&&n.push(i),fOe(i,a)?n:r(i.parentNode)}return e?r(e):n}function pee(e){const[t]=VM(e,1);return t??null}function zE(e){return!rS||!e?null:Jp(e)?e:zM(e)?BM(e)||e===Zp(e).scrollingElement?window:jb(e)?e:null:null}function gee(e){return Jp(e)?e.scrollX:e.scrollLeft}function xee(e){return Jp(e)?e.scrollY:e.scrollTop}function DT(e){return{x:gee(e),y:xee(e)}}var Fr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Fr||(Fr={}));function vee(e){return!rS||!e?!1:e===document.scrollingElement}function yee(e){const t={x:0,y:0},n=vee(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const mOe={x:.2,y:.2};function pOe(e,t,n,r,i){let{top:a,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=mOe);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=yee(e),m={x:0,y:0},p={x:0,y:0},g={height:t.height*i.y,width:t.width*i.x};return!u&&a<=t.top+g.height?(m.y=Fr.Backward,p.y=r*Math.abs((t.top+g.height-a)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=Fr.Forward,p.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!h&&l>=t.right-g.width?(m.x=Fr.Forward,p.x=r*Math.abs((t.right-g.width-l)/g.width)):!f&&o<=t.left+g.width&&(m.x=Fr.Backward,p.x=r*Math.abs((t.left+g.width-o)/g.width)),{direction:m,speed:p}}function gOe(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function bee(e){return e.reduce((t,n)=>hm(t,DT(n)),ao)}function xOe(e){return e.reduce((t,n)=>t+gee(n),0)}function vOe(e){return e.reduce((t,n)=>t+xee(n),0)}function wee(e,t){if(t===void 0&&(t=eg),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);pee(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const yOe=[["x",["left","right"],xOe],["y",["top","bottom"],vOe]];class HM{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=VM(n),i=bee(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,l]of yOe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=i[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Lx{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function bOe(e){const{EventTarget:t}=Vs(e);return e instanceof t?e:Zp(e)}function BE(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ta;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ta||(ta={}));function L3(e){e.preventDefault()}function wOe(e){e.stopPropagation()}var Jt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Jt||(Jt={}));const jee={start:[Jt.Space,Jt.Enter],cancel:[Jt.Esc],end:[Jt.Space,Jt.Enter,Jt.Tab]},jOe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Jt.Right:return{...n,x:n.x+25};case Jt.Left:return{...n,x:n.x-25};case Jt.Down:return{...n,y:n.y+25};case Jt.Up:return{...n,y:n.y-25}}};class aS{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Lx(Zp(n)),this.windowListeners=new Lx(Vs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ta.Resize,this.handleCancel),this.windowListeners.add(ta.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ta.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&wee(r),n(ao)}handleKeyDown(t){if(iS(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=jee,coordinateGetter:o=jOe,scrollBehavior:l="smooth"}=i,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:ao;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:n,context:r.current,currentCoordinates:d});if(f){const h=l_(f,d),m={x:0,y:0},{scrollableAncestors:p}=r.current;for(const g of p){const y=t.code,{isTop:v,isRight:w,isLeft:b,isBottom:j,maxScroll:_,minScroll:N}=yee(g),S=gOe(g),C={x:Math.min(y===Jt.Right?S.right-S.width/2:S.right,Math.max(y===Jt.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(y===Jt.Down?S.bottom-S.height/2:S.bottom,Math.max(y===Jt.Down?S.top:S.top+S.height/2,f.y))},k=y===Jt.Right&&!w||y===Jt.Left&&!b,A=y===Jt.Down&&!j||y===Jt.Up&&!v;if(k&&C.x!==f.x){const T=g.scrollLeft+h.x,E=y===Jt.Right&&T<=_.x||y===Jt.Left&&T>=N.x;if(E&&!h.y){g.scrollTo({left:T,behavior:l});return}E?m.x=g.scrollLeft-T:m.x=y===Jt.Right?g.scrollLeft-_.x:g.scrollLeft-N.x,m.x&&g.scrollBy({left:-m.x,behavior:l});break}else if(A&&C.y!==f.y){const T=g.scrollTop+h.y,E=y===Jt.Down&&T<=_.y||y===Jt.Up&&T>=N.y;if(E&&!h.x){g.scrollTo({top:T,behavior:l});return}E?m.y=g.scrollTop-T:m.y=y===Jt.Down?g.scrollTop-_.y:g.scrollTop-N.y,m.y&&g.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,hm(l_(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}aS.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=jee,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function $3(e){return!!(e&&"distance"in e)}function F3(e){return!!(e&&"delay"in e)}class WM{constructor(t,n,r){var i;r===void 0&&(r=bOe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=Zp(o),this.documentListeners=new Lx(this.document),this.listeners=new Lx(r),this.windowListeners=new Lx(Vs(o)),this.initialCoordinates=(i=c_(a))!=null?i:ao,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ta.Resize,this.handleCancel),this.windowListeners.add(ta.DragStart,L3),this.windowListeners.add(ta.VisibilityChange,this.handleCancel),this.windowListeners.add(ta.ContextMenu,L3),this.documentListeners.add(ta.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(F3(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if($3(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ta.Click,wOe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ta.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!i)return;const c=(n=c_(t))!=null?n:ao,u=l_(i,c);if(!r&&l){if($3(l)){if(l.tolerance!=null&&BE(u,l.tolerance))return this.handleCancel();if(BE(u,l.distance))return this.handleStart()}if(F3(l)&&BE(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Jt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const _Oe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class GM extends WM{constructor(t){const{event:n}=t,r=Zp(n.target);super(t,_Oe,r)}}GM.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const NOe={move:{name:"mousemove"},end:{name:"mouseup"}};var MT;(function(e){e[e.RightClick=2]="RightClick"})(MT||(MT={}));class KM extends WM{constructor(t){super(t,NOe,Zp(t.event.target))}}KM.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===MT.RightClick?!1:(r==null||r({event:n}),!0)}}];const UE={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class YM extends WM{constructor(t){super(t,UE)}static setup(){return window.addEventListener(UE.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(UE.move.name,t)};function t(){}}}YM.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var $x;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})($x||($x={}));var d_;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(d_||(d_={}));function SOe(e){let{acceleration:t,activator:n=$x.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:l=d_.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const m=EOe({delta:f,disabled:!a}),[p,g]=zPe(),y=x.useRef({x:0,y:0}),v=x.useRef({x:0,y:0}),w=x.useMemo(()=>{switch(n){case $x.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case $x.DraggableRect:return i}},[n,i,c]),b=x.useRef(null),j=x.useCallback(()=>{const N=b.current;if(!N)return;const S=y.current.x*v.current.x,C=y.current.y*v.current.y;N.scrollBy(S,C)},[]),_=x.useMemo(()=>l===d_.TreeOrder?[...u].reverse():u,[l,u]);x.useEffect(()=>{if(!a||!u.length||!w){g();return}for(const N of _){if((r==null?void 0:r(N))===!1)continue;const S=u.indexOf(N),C=d[S];if(!C)continue;const{direction:k,speed:A}=pOe(N,C,w,t,h);for(const T of["x","y"])m[T][k[T]]||(A[T]=0,k[T]=0);if(A.x>0||A.y>0){g(),b.current=N,p(j,o),y.current=A,v.current=k;return}}y.current={x:0,y:0},v.current={x:0,y:0},g()},[t,j,r,g,a,o,JSON.stringify(w),JSON.stringify(m),p,u,_,d,JSON.stringify(h)])}const COe={x:{[Fr.Backward]:!1,[Fr.Forward]:!1},y:{[Fr.Backward]:!1,[Fr.Forward]:!1}};function EOe(e){let{delta:t,disabled:n}=e;const r=o_(t);return _b(i=>{if(n||!r||!i)return COe;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Fr.Backward]:i.x[Fr.Backward]||a.x===-1,[Fr.Forward]:i.x[Fr.Forward]||a.x===1},y:{[Fr.Backward]:i.y[Fr.Backward]||a.y===-1,[Fr.Forward]:i.y[Fr.Forward]||a.y===1}}},[n,t,r])}function kOe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return _b(i=>{var a;return t==null?null:(a=r??i)!=null?a:null},[r,t])}function AOe(e,t){return x.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...a]},[]),[e,t])}var Lv;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Lv||(Lv={}));var IT;(function(e){e.Optimized="optimized"})(IT||(IT={}));const z3=new Map;function TOe(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=x.useState(null),{frequency:l,measure:c,strategy:u}=i,d=x.useRef(e),f=y(),h=Iv(f),m=x.useCallback(function(v){v===void 0&&(v=[]),!h.current&&o(w=>w===null?v:w.concat(v.filter(b=>!w.includes(b))))},[h]),p=x.useRef(null),g=_b(v=>{if(f&&!n)return z3;if(!v||v===z3||d.current!==e||a!=null){const w=new Map;for(let b of e){if(!b)continue;if(a&&a.length>0&&!a.includes(b.id)&&b.rect.current){w.set(b.id,b.rect.current);continue}const j=b.node.current,_=j?new HM(c(j),j):null;b.rect.current=_,_&&w.set(b.id,_)}return w}return v},[e,a,n,f,c]);return x.useEffect(()=>{d.current=e},[e]),x.useEffect(()=>{f||m()},[n,f]),x.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),x.useEffect(()=>{f||typeof l!="number"||p.current!==null||(p.current=setTimeout(()=>{m(),p.current=null},l))},[l,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:a!=null};function y(){switch(u){case Lv.Always:return!1;case Lv.BeforeDragging:return n;default:return!n}}}function XM(e,t){return _b(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function POe(e,t){return XM(e,t)}function OOe(e){let{callback:t,disabled:n}=e;const r=sS(t),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function oS(e){let{callback:t,disabled:n}=e;const r=sS(t),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function ROe(e){return new HM(eg(e),e)}function B3(e,t,n){t===void 0&&(t=ROe);const[r,i]=x.useState(null);function a(){i(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=OOe({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),l=oS({callback:a});return io(()=>{a(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function DOe(e){const t=XM(e);return hee(e,t)}const U3=[];function MOe(e){const t=x.useRef(e),n=_b(r=>e?r&&r!==U3&&e&&t.current&&e.parentNode===t.current.parentNode?r:VM(e):U3,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function IOe(e){const[t,n]=x.useState(null),r=x.useRef(e),i=x.useCallback(a=>{const o=zE(a.target);o&&n(l=>l?(l.set(o,DT(o)),new Map(l)):null)},[]);return x.useEffect(()=>{const a=r.current;if(e!==a){o(a);const l=e.map(c=>{const u=zE(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,DT(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(a)};function o(l){l.forEach(c=>{const u=zE(c);u==null||u.removeEventListener("scroll",i)})}},[i,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>hm(a,o),ao):bee(e):ao,[e,t])}function q3(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const r=e!==ao;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?l_(e,n.current):ao}function LOe(e){x.useEffect(()=>{if(!rS)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function $Oe(e,t){return x.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=o=>{a(o,t)},n},{}),[e,t])}function _ee(e){return x.useMemo(()=>e?dOe(e):null,[e])}const V3=[];function FOe(e,t){t===void 0&&(t=eg);const[n]=e,r=_ee(n?Vs(n):null),[i,a]=x.useState(V3);function o(){a(()=>e.length?e.map(c=>vee(c)?r:new HM(t(c),c)):V3)}const l=oS({callback:o});return io(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),i}function Nee(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return jb(t)?t:e}function zOe(e){let{measure:t}=e;const[n,r]=x.useState(null),i=x.useCallback(u=>{for(const{target:d}of u)if(jb(d)){r(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),a=oS({callback:i}),o=x.useCallback(u=>{const d=Nee(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),r(d?t(d):null)},[t,a]),[l,c]=a_(o);return x.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const BOe=[{sensor:GM,options:{}},{sensor:aS,options:{}}],UOe={current:{}},Bw={draggable:{measure:I3},droppable:{measure:I3,strategy:Lv.WhileDragging,frequency:IT.Optimized},dragOverlay:{measure:eg}};class Fx extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const qOe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fx,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:u_},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bw,measureDroppableContainers:u_,windowRect:null,measuringScheduled:!1},See={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:u_,draggableNodes:new Map,over:null,measureDroppableContainers:u_},Sb=x.createContext(See),Cee=x.createContext(qOe);function VOe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fx}}}function HOe(e,t){switch(t.type){case Er.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Er.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Er.DragEnd:case Er.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Er.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Fx(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Er.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new Fx(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case Er.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Fx(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function WOe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=x.useContext(Sb),a=o_(r),o=o_(n==null?void 0:n.id);return x.useEffect(()=>{if(!t&&!r&&a&&o!=null){if(!iS(a)||document.activeElement===a.target)return;const l=i.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=qPe(d);if(f){f.focus();break}}})}},[r,t,i,o,a]),null}function Eee(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function GOe(e){return x.useMemo(()=>({draggable:{...Bw.draggable,...e==null?void 0:e.draggable},droppable:{...Bw.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Bw.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function KOe(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=x.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;io(()=>{if(!o&&!l||!t){a.current=!1;return}if(a.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=hee(d,r);if(o||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=pee(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,l,r,n])}const lS=x.createContext({...ao,scaleX:1,scaleY:1});var jc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(jc||(jc={}));const QM=x.memo(function(t){var n,r,i,a;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=BOe,collisionDetection:f=iOe,measuring:h,modifiers:m,...p}=t;const g=x.useReducer(HOe,void 0,VOe),[y,v]=g,[w,b]=YPe(),[j,_]=x.useState(jc.Uninitialized),N=j===jc.Initialized,{draggable:{active:S,nodes:C,translate:k},droppable:{containers:A}}=y,T=S!=null?C.get(S):null,E=x.useRef({initial:null,translated:null}),R=x.useMemo(()=>{var $n;return S!=null?{id:S,data:($n=T==null?void 0:T.data)!=null?$n:UOe,rect:E}:null},[S,T]),$=x.useRef(null),[O,F]=x.useState(null),[z,P]=x.useState(null),I=Iv(p,Object.values(p)),M=Nb("DndDescribedBy",o),U=x.useMemo(()=>A.getEnabled(),[A]),D=GOe(h),{droppableRects:L,measureDroppableContainers:V,measuringScheduled:K}=TOe(U,{dragging:N,dependencies:[k.x,k.y],config:D.droppable}),G=kOe(C,S),X=x.useMemo(()=>z?c_(z):null,[z]),oe=rc(),Y=POe(G,D.draggable.measure);KOe({activeNode:S!=null?C.get(S):null,config:oe.layoutShiftCompensation,initialRect:Y,measure:D.draggable.measure});const ne=B3(G,D.draggable.measure,Y),ge=B3(G?G.parentElement:null),se=x.useRef({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ce=A.getNodeFor((n=se.current.over)==null?void 0:n.id),ve=zOe({measure:D.dragOverlay.measure}),te=(r=ve.nodeRef.current)!=null?r:G,ue=N?(i=ve.rect)!=null?i:ne:null,ee=!!(ve.nodeRef.current&&ve.rect),le=DOe(ee?null:ne),Ie=_ee(te?Vs(te):null),Pe=MOe(N?ce??G:null),Ae=FOe(Pe),W=Eee(m,{transform:{x:k.x-le.x,y:k.y-le.y,scaleX:1,scaleY:1},activatorEvent:z,active:R,activeNodeRect:ne,containerNodeRect:ge,draggingNodeRect:ue,over:se.current.over,overlayNodeRect:ve.rect,scrollableAncestors:Pe,scrollableAncestorRects:Ae,windowRect:Ie}),_e=X?hm(X,k):null,Le=IOe(Pe),Qe=q3(Le),Q=q3(Le,[ne]),ae=hm(W,Qe),Se=ue?lOe(ue,W):null,ye=R&&Se?f({active:R,collisionRect:Se,droppableRects:L,droppableContainers:U,pointerCoordinates:_e}):null,ze=rOe(ye,"id"),[je,We]=x.useState(null),Ge=ee?W:hm(W,Q),ut=aOe(Ge,(a=je==null?void 0:je.rect)!=null?a:null,ne),nn=x.useRef(null),Rt=x.useCallback(($n,St)=>{let{sensor:Ct,options:Ee}=St;if($.current==null)return;const mt=C.get($.current);if(!mt)return;const nt=$n.nativeEvent,mn=new Ct({active:$.current,activeNode:mt,event:nt,options:Ee,context:se,onAbort(Qt){if(!C.get(Qt))return;const{onDragAbort:Jn}=I.current,Mr={id:Qt};Jn==null||Jn(Mr),w({type:"onDragAbort",event:Mr})},onPending(Qt,br,Jn,Mr){if(!C.get(Qt))return;const{onDragPending:Sg}=I.current,sc={id:Qt,constraint:br,initialCoordinates:Jn,offset:Mr};Sg==null||Sg(sc),w({type:"onDragPending",event:sc})},onStart(Qt){const br=$.current;if(br==null)return;const Jn=C.get(br);if(!Jn)return;const{onDragStart:Mr}=I.current,Ng={activatorEvent:nt,active:{id:br,data:Jn.data,rect:E}};Rs.unstable_batchedUpdates(()=>{Mr==null||Mr(Ng),_(jc.Initializing),v({type:Er.DragStart,initialCoordinates:Qt,active:br}),w({type:"onDragStart",event:Ng}),F(nn.current),P(nt)})},onMove(Qt){v({type:Er.DragMove,coordinates:Qt})},onEnd:Dt(Er.DragEnd),onCancel:Dt(Er.DragCancel)});nn.current=mn;function Dt(Qt){return async function(){const{active:Jn,collisions:Mr,over:Ng,scrollAdjustedTranslate:Sg}=se.current;let sc=null;if(Jn&&Sg){const{cancelDrop:Cg}=I.current;sc={activatorEvent:nt,active:Jn,collisions:Mr,delta:Sg,over:Ng},Qt===Er.DragEnd&&typeof Cg=="function"&&await Promise.resolve(Cg(sc))&&(Qt=Er.DragCancel)}$.current=null,Rs.unstable_batchedUpdates(()=>{v({type:Qt}),_(jc.Uninitialized),We(null),F(null),P(null),nn.current=null;const Cg=Qt===Er.DragEnd?"onDragEnd":"onDragCancel";if(sc){const bC=I.current[Cg];bC==null||bC(sc),w({type:Cg,event:sc})}})}}},[C]),hn=x.useCallback(($n,St)=>(Ct,Ee)=>{const mt=Ct.nativeEvent,nt=C.get(Ee);if($.current!==null||!nt||mt.dndKit||mt.defaultPrevented)return;const mn={active:nt};$n(Ct,St.options,mn)===!0&&(mt.dndKit={capturedBy:St.sensor},$.current=Ee,Rt(Ct,St))},[C,Rt]),ss=AOe(d,hn);LOe(d),io(()=>{ne&&j===jc.Initializing&&_(jc.Initialized)},[ne,j]),x.useEffect(()=>{const{onDragMove:$n}=I.current,{active:St,activatorEvent:Ct,collisions:Ee,over:mt}=se.current;if(!St||!Ct)return;const nt={active:St,activatorEvent:Ct,collisions:Ee,delta:{x:ae.x,y:ae.y},over:mt};Rs.unstable_batchedUpdates(()=>{$n==null||$n(nt),w({type:"onDragMove",event:nt})})},[ae.x,ae.y]),x.useEffect(()=>{const{active:$n,activatorEvent:St,collisions:Ct,droppableContainers:Ee,scrollAdjustedTranslate:mt}=se.current;if(!$n||$.current==null||!St||!mt)return;const{onDragOver:nt}=I.current,mn=Ee.get(ze),Dt=mn&&mn.rect.current?{id:mn.id,rect:mn.rect.current,data:mn.data,disabled:mn.disabled}:null,Qt={active:$n,activatorEvent:St,collisions:Ct,delta:{x:mt.x,y:mt.y},over:Dt};Rs.unstable_batchedUpdates(()=>{We(Dt),nt==null||nt(Qt),w({type:"onDragOver",event:Qt})})},[ze]),io(()=>{se.current={activatorEvent:z,active:R,activeNode:G,collisionRect:Se,collisions:ye,droppableRects:L,draggableNodes:C,draggingNode:te,draggingNodeRect:ue,droppableContainers:A,over:je,scrollableAncestors:Pe,scrollAdjustedTranslate:ae},E.current={initial:ue,translated:Se}},[R,G,ye,Se,C,te,ue,L,A,je,Pe,ae]),SOe({...oe,delta:k,draggingRect:Se,pointerCoordinates:_e,scrollableAncestors:Pe,scrollableAncestorRects:Ae});const eh=x.useMemo(()=>({active:R,activeNode:G,activeNodeRect:ne,activatorEvent:z,collisions:ye,containerNodeRect:ge,dragOverlay:ve,draggableNodes:C,droppableContainers:A,droppableRects:L,over:je,measureDroppableContainers:V,scrollableAncestors:Pe,scrollableAncestorRects:Ae,measuringConfiguration:D,measuringScheduled:K,windowRect:Ie}),[R,G,ne,z,ye,ge,ve,C,A,L,je,V,Pe,Ae,D,K,Ie]),th=x.useMemo(()=>({activatorEvent:z,activators:ss,active:R,activeNodeRect:ne,ariaDescribedById:{draggable:M},dispatch:v,draggableNodes:C,over:je,measureDroppableContainers:V}),[z,ss,R,ne,v,M,C,je,V]);return B.createElement(fee.Provider,{value:b},B.createElement(Sb.Provider,{value:th},B.createElement(Cee.Provider,{value:eh},B.createElement(lS.Provider,{value:ut},u)),B.createElement(WOe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),B.createElement(JPe,{...l,hiddenTextDescribedById:M}));function rc(){const $n=(O==null?void 0:O.autoScrollEnabled)===!1,St=typeof c=="object"?c.enabled===!1:c===!1,Ct=N&&!$n&&!St;return typeof c=="object"?{...c,enabled:Ct}:{enabled:Ct}}}),YOe=x.createContext(null),H3="button",XOe="Draggable";function QOe(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=Nb(XOe),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=x.useContext(Sb),{role:m=H3,roleDescription:p="draggable",tabIndex:g=0}=i??{},y=(c==null?void 0:c.id)===t,v=x.useContext(y?lS:YOe),[w,b]=a_(),[j,_]=a_(),N=$Oe(o,t),S=Iv(n);io(()=>(f.set(t,{id:t,key:a,node:w,activatorNode:j,data:S}),()=>{const k=f.get(t);k&&k.key===a&&f.delete(t)}),[f,t]);const C=x.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":y&&m===H3?!0:void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[r,m,g,y,p,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:C,isDragging:y,listeners:r?void 0:N,node:w,over:h,setNodeRef:b,setActivatorNodeRef:_,transform:v}}function kee(){return x.useContext(Cee)}const JOe="Droppable",ZOe={timeout:25};function Aee(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=Nb(JOe),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=x.useContext(Sb),d=x.useRef({disabled:n}),f=x.useRef(!1),h=x.useRef(null),m=x.useRef(null),{disabled:p,updateMeasurementsFor:g,timeout:y}={...ZOe,...i},v=Iv(g??r),w=x.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),m.current=null},y)},[y]),b=oS({callback:w,disabled:p||!o}),j=x.useCallback((C,k)=>{b&&(k&&(b.unobserve(k),f.current=!1),C&&b.observe(C))},[b]),[_,N]=a_(j),S=Iv(t);return x.useEffect(()=>{!b||!_.current||(b.disconnect(),f.current=!1,b.observe(_.current))},[_,b]),x.useEffect(()=>(l({type:Er.RegisterDroppable,element:{id:r,key:a,disabled:n,node:_,rect:h,data:S}}),()=>l({type:Er.UnregisterDroppable,key:a,id:r})),[r]),x.useEffect(()=>{n!==d.current.disabled&&(l({type:Er.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,l]),{active:o,rect:h,isOver:(c==null?void 0:c.id)===r,node:_,over:c,setNodeRef:N}}function eRe(e){let{animation:t,children:n}=e;const[r,i]=x.useState(null),[a,o]=x.useState(null),l=o_(n);return!n&&!r&&l&&i(l),io(()=>{if(!a)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){i(null);return}Promise.resolve(t(u,a)).then(()=>{i(null)})},[t,r,a]),B.createElement(B.Fragment,null,n,r?x.cloneElement(r,{ref:o}):null)}const tRe={x:0,y:0,scaleX:1,scaleY:1};function nRe(e){let{children:t}=e;return B.createElement(Sb.Provider,{value:See},B.createElement(lS.Provider,{value:tRe},t))}const rRe={position:"fixed",touchAction:"none"},sRe=e=>iS(e)?"transform 250ms ease":void 0,iRe=x.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:o,rect:l,style:c,transform:u,transition:d=sRe}=e;if(!l)return null;const f=i?u:{...u,scaleX:1,scaleY:1},h={...rRe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Uo.Transform.toString(f),transformOrigin:i&&r?eOe(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return B.createElement(n,{className:o,style:h,ref:t},a)}),aRe=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:a,className:o}=e;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(i))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},oRe=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Uo.Transform.toString(t)},{transform:Uo.Transform.toString(n)}]},lRe={duration:250,easing:"ease",keyframes:oRe,sideEffects:aRe({styles:{active:{opacity:"0"}}})};function cRe(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return sS((a,o)=>{if(t===null)return;const l=n.get(a);if(!l)return;const c=l.node.current;if(!c)return;const u=Nee(o);if(!u)return;const{transform:d}=Vs(o).getComputedStyle(o),f=mee(d);if(!f)return;const h=typeof t=="function"?t:uRe(t);return wee(c,i.draggable.measure),h({active:{id:a,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:f})})}function uRe(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...lRe,...e};return a=>{let{active:o,dragOverlay:l,transform:c,...u}=a;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},h={x:c.x-d.x,y:c.y-d.y,...f},m=i({...u,active:o,dragOverlay:l,transform:{initial:c,final:h}}),[p]=m,g=m[m.length-1];if(JSON.stringify(p)===JSON.stringify(g))return;const y=r==null?void 0:r({active:o,dragOverlay:l,...u}),v=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(w=>{v.onfinish=()=>{y==null||y(),w()}})}}let W3=0;function dRe(e){return x.useMemo(()=>{if(e!=null)return W3++,W3},[e])}const fRe=B.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggableNodes:p,droppableContainers:g,dragOverlay:y,over:v,measuringConfiguration:w,scrollableAncestors:b,scrollableAncestorRects:j,windowRect:_}=kee(),N=x.useContext(lS),S=dRe(f==null?void 0:f.id),C=Eee(o,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:y.rect,over:v,overlayNodeRect:y.rect,scrollableAncestors:b,scrollableAncestorRects:j,transform:N,windowRect:_}),k=XM(h),A=cRe({config:r,draggableNodes:p,droppableContainers:g,measuringConfiguration:w}),T=k?y.setRef:void 0;return B.createElement(nRe,null,B.createElement(eRe,{animation:A},f&&S?B.createElement(iRe,{key:S,id:f.id,ref:T,as:l,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:k,style:{zIndex:u,...i},transform:C},n):null))});function cS(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function hRe(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function P0(e){return e!==null&&e>=0}function mRe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function pRe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Tee=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=cS(t,r,n),o=t[i],l=a[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},O0={scaleX:1,scaleY:1},uS=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const l=(t=a[n])!=null?t:r;if(!l)return null;if(i===n){const u=a[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...O0}:null}const c=gRe(a,i,n);return i>n&&i<=o?{x:0,y:-l.height-c,...O0}:i<n&&i>=o?{x:0,y:l.height+c,...O0}:{x:0,y:0,...O0}};function gRe(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Pee="Sortable",Oee=B.createContext({activeIndex:-1,containerId:Pee,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Tee,disabled:{draggable:!1,droppable:!1}});function dS(e){let{children:t,id:n,items:r,strategy:i=Tee,disabled:a=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=kee(),f=Nb(Pee,n),h=l.rect!==null,m=x.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),p=o!=null,g=o?m.indexOf(o.id):-1,y=u?m.indexOf(u.id):-1,v=x.useRef(m),w=!mRe(m,v.current),b=y!==-1&&g===-1||w,j=pRe(a);io(()=>{w&&p&&d(m)},[w,m,p,d]),x.useEffect(()=>{v.current=m},[m]);const _=x.useMemo(()=>({activeIndex:g,containerId:f,disabled:j,disableTransforms:b,items:m,overIndex:y,useDragOverlay:h,sortedRects:hRe(m,c),strategy:i}),[g,f,j.draggable,j.droppable,b,m,y,c,h,i]);return B.createElement(Oee.Provider,{value:_},t)}const xRe=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return cS(n,r,i).indexOf(t)},vRe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==a&&i===o?!1:n?!0:o!==i&&t===c},yRe={duration:200,easing:"ease"},Ree="transform",bRe=Uo.Transition.toString({property:Ree,duration:0,easing:"linear"}),wRe={roleDescription:"sortable"};function jRe(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,o]=x.useState(null),l=x.useRef(n);return io(()=>{if(!t&&n!==l.current&&r.current){const c=i.current;if(c){const u=eg(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[t,n,r,i]),x.useEffect(()=>{a&&o(null)},[a]),a}function Cb(e){let{animateLayoutChanges:t=vRe,attributes:n,disabled:r,data:i,getNewIndex:a=xRe,id:o,strategy:l,resizeObserverConfig:c,transition:u=yRe}=e;const{items:d,containerId:f,activeIndex:h,disabled:m,disableTransforms:p,sortedRects:g,overIndex:y,useDragOverlay:v,strategy:w}=x.useContext(Oee),b=_Re(r,m),j=d.indexOf(o),_=x.useMemo(()=>({sortable:{containerId:f,index:j,items:d},...i}),[f,i,j,d]),N=x.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:S,node:C,isOver:k,setNodeRef:A}=Aee({id:o,data:_,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:T,activatorEvent:E,activeNodeRect:R,attributes:$,setNodeRef:O,listeners:F,isDragging:z,over:P,setActivatorNodeRef:I,transform:M}=QOe({id:o,data:_,attributes:{...wRe,...n},disabled:b.draggable}),U=FPe(A,O),D=!!T,L=D&&!p&&P0(h)&&P0(y),V=!v&&z,K=V&&L?M:null,X=L?K??(l??w)({rects:g,activeNodeRect:R,activeIndex:h,overIndex:y,index:j}):null,oe=P0(h)&&P0(y)?a({id:o,items:d,activeIndex:h,overIndex:y}):j,Y=T==null?void 0:T.id,ne=x.useRef({activeId:Y,items:d,newIndex:oe,containerId:f}),ge=d!==ne.current.items,se=t({active:T,containerId:f,isDragging:z,isSorting:D,id:o,index:j,items:d,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:u,wasDragging:ne.current.activeId!=null}),ce=jRe({disabled:!se,index:j,node:C,rect:S});return x.useEffect(()=>{D&&ne.current.newIndex!==oe&&(ne.current.newIndex=oe),f!==ne.current.containerId&&(ne.current.containerId=f),d!==ne.current.items&&(ne.current.items=d)},[D,oe,f,d]),x.useEffect(()=>{if(Y===ne.current.activeId)return;if(Y!=null&&ne.current.activeId==null){ne.current.activeId=Y;return}const te=setTimeout(()=>{ne.current.activeId=Y},50);return()=>clearTimeout(te)},[Y]),{active:T,activeIndex:h,attributes:$,data:_,rect:S,index:j,newIndex:oe,items:d,isOver:k,isSorting:D,isDragging:z,listeners:F,node:C,overIndex:y,over:P,setNodeRef:U,setActivatorNodeRef:I,setDroppableNodeRef:A,setDraggableNodeRef:O,transform:ce??X,transition:ve()};function ve(){if(ce||ge&&ne.current.newIndex===j)return bRe;if(!(V&&!iS(E)||!u)&&(D||se))return Uo.Transition.toString({...u,property:Ree})}}function _Re(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Jt.Down,Jt.Right,Jt.Up,Jt.Left;const fh=async e=>{const{data:t,error:n}=await q.from("kanban_card").select("*").eq("project_id",e).order("created_at",{ascending:!0});if(n)throw n;return t},NRe=async e=>{const{data:t,error:n}=await q.from("kanban_card").insert([e]).select().single();if(n)throw n;return t},G3=async e=>{const{data:t,error:n}=await q.from("kanban_card").update(e).eq("id",e.id).select().single();if(n)throw n;return t},K3=async e=>{const{error:t}=await q.from("kanban_card").delete().eq("id",e);if(t)throw t},qE=async e=>{const{data:t,error:n}=await q.from("kanban_comment").select("*").eq("card_id",e).order("created_at",{ascending:!0});if(n)throw n;return t},SRe=async e=>{const{data:t,error:n}=await q.from("kanban_comment").insert([e]).select().single();if(n)throw n;return t},CRe=async e=>{const{error:t}=await q.from("kanban_comment").delete().eq("id",e);if(t)throw t},R0=[{key:"todo",label:"À faire",color:"bg-blue-50 border-blue-200"},{key:"inprogress",label:"En cours",color:"bg-yellow-50 border-yellow-200"},{key:"done",label:"Fait",color:"bg-green-50 border-green-200"}];function Dee({id:e,title:t,description:n,onClick:r,isDragging:i,priority:a,tags:o,createdBy:l,onDelete:c,commentCount:u,animationDelay:d=0}){var j;const{attributes:f,listeners:h,setNodeRef:m,transform:p,transition:g,isDragging:y}=Cb({id:e}),v={transform:Uo.Transform.toString(p),transition:g||"all 180ms cubic-bezier(0.4,0,0.2,1)",zIndex:y?50:1,opacity:y||i?.3:1,pointerEvents:i?"none":"auto",animationDelay:`${d}s`},w=a==="haute"?"bg-red-100 text-red-700 border-red-300":a==="moyenne"?"bg-yellow-100 text-yellow-700 border-yellow-300":"bg-green-100 text-green-700 border-green-300",b=a.charAt(0).toUpperCase()+a.slice(1);return s.jsxs("div",{ref:m,style:v,...f,...h,onClick:r,className:"relative bg-white rounded-2xl shadow-lg p-4 mb-4 border border-gray-200 hover:shadow-2xl hover:border-primary/60 hover:scale-[1.03] transition-all duration-200 ease-in-out cursor-pointer select-none group animate-fadein"+(y?" ring-2 ring-primary":""),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-blue-400 flex items-center justify-center text-white font-bold text-sm",children:((j=l==null?void 0:l[0])==null?void 0:j.toUpperCase())||"?"}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border ${w}`,children:b}),s.jsx("div",{className:"ml-auto flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:c&&s.jsx("button",{className:"p-1 rounded hover:bg-red-100 text-red-500",onClick:_=>{_.stopPropagation(),c()},title:"Supprimer la carte",children:s.jsx(Rr,{size:16})})})]}),s.jsx("h3",{className:"font-semibold text-lg mb-1 text-gray-800 group-hover:text-primary transition-colors duration-200 ease-in-out line-clamp-2",children:t}),s.jsx("p",{className:"text-gray-600 text-sm group-hover:text-gray-800 transition-colors duration-200 ease-in-out line-clamp-3 mb-2",children:n}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:o.map(_=>s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100",children:_},_))}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mt-1",children:[s.jsx(c1,{size:14}),s.jsx("span",{children:u??0})]})]})}function ERe({height:e=80}){return s.jsx("div",{style:{height:e,marginBottom:16,borderRadius:16,opacity:0,pointerEvents:"none"}})}function kRe({label:e,color:t,columnKey:n,tasks:r,activeId:i,onCardClick:a,isOver:o,onAddCard:l,onDelete:c,commentCountByCard:u}){const{setNodeRef:d}=Aee({id:n}),[f,h]=x.useState(!1),[m,p]=x.useState(""),[g,y]=x.useState("");return s.jsxs("div",{ref:d,className:`w-[280px] ${t} rounded-2xl p-4 mx-2 border-2 flex flex-col shadow-md transition-all duration-200 ease-in-out ${o?"ring-4 ring-primary/30 shadow-xl":""}`,children:[s.jsx("h2",{className:"text-xl font-bold mb-3 text-center text-gray-700 tracking-tight sticky top-0 bg-opacity-80 z-10",children:e}),s.jsx(wu,{className:"mb-3"}),s.jsx(dS,{items:r.map(v=>v.id),strategy:uS,children:r.length===0?s.jsx("div",{className:"text-gray-400 italic text-center animate-fadein",children:"Aucune tâche"}):r.map((v,w)=>i===v.id?s.jsx(ERe,{height:88},v.id):s.jsx(Dee,{id:v.id,title:v.name,description:v.description,priority:v.priority,tags:v.tags,createdBy:v.created_by,commentCount:u[v.id]||0,onClick:()=>a&&a(v.id),onDelete:c?()=>c(v.id):void 0,animationDelay:w*.1},v.id))}),f?s.jsxs("div",{className:"bg-white rounded-xl shadow p-3 mt-2 flex flex-col gap-2 border border-gray-200 animate-fadein",children:[s.jsx("input",{className:"border rounded px-2 py-1 text-sm focus:outline-primary",placeholder:"Nom de la tâche",value:m,onChange:v=>p(v.target.value),autoFocus:!0}),s.jsx("textarea",{className:"border rounded px-2 py-1 text-sm focus:outline-primary min-h-[40px]",placeholder:"Description",value:g,onChange:v=>y(v.target.value)}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx("button",{className:"text-xs px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 transition-colors duration-150",onClick:()=>h(!1),children:"Annuler"}),s.jsx("button",{className:"text-xs px-2 py-1 rounded bg-primary text-white hover:bg-primary/90 disabled:opacity-50 transition-colors duration-150",disabled:!m.trim(),onClick:()=>{l&&m.trim()&&(l(m,g),p(""),y(""),h(!1))},children:"Ajouter"})]})]}):s.jsx("button",{className:"mt-2 text-primary text-xs font-medium hover:underline hover:text-primary/80 transition self-center",onClick:()=>h(!0),children:"+ Ajouter une carte"})]})}const ARe=()=>{const{id:e}=Nt(),{currentProjectId:t}=yr(),n=t||e,[r,i]=x.useState(null),[a,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState([]),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,y]=x.useState(""),[v,w]=x.useState(""),[b,j]=x.useState("moyenne"),[_,N]=x.useState([]),[S,C]=x.useState("todo"),[k,A]=x.useState(""),[T,E]=x.useState(null),[R,$]=x.useState(!1),[O,F]=x.useState(!1),[z,P]=x.useState({}),I=UM(Gd(GM,{activationConstraint:{distance:5}}));x.useEffect(()=>{n&&(c(!0),fh(n).then(o).finally(()=>c(!1)))},[n]),x.useEffect(()=>{m&&($(!0),qE(m).then(d).finally(()=>$(!1)))},[m]);const M=R0.reduce((W,_e)=>(W[_e.key]=a.filter(Le=>Le.status===_e.key),W),{}),U=W=>{h(W.active.id)},D=W=>{const{over:_e}=W;if(!_e)return E(null);for(const Le of R0){if(_e.id===Le.key){E(Le.key);return}if(M[Le.key].find(Qe=>Qe.id===_e.id)){E(Le.key);return}}E(null)},L=async W=>{const{active:_e,over:Le}=W;if(h(null),E(null),!Le||_e.id===Le.id)return;let Qe="";for(const ae of R0)(Le.id===ae.key||M[ae.key].find(Se=>Se.id===Le.id))&&(Qe=ae.key);if(!Qe)return;const Q=a.find(ae=>ae.id===_e.id);if(Q&&Q.status!==Qe){await G3({id:Q.id,status:Qe});const ae=await fh(n);o(ae)}},V=()=>{h(null),E(null)},K=W=>{const _e=a.find(Le=>Le.id===W);_e&&(p(W),y(_e.name),w(_e.description),j(_e.priority),N(_e.tags),C(_e.status))},G=async()=>{m&&(await G3({id:m,name:g,description:v,priority:b,tags:_,status:S}),p(null),o(await fh(n)))},X=async()=>{m&&(await K3(m),p(null),o(await fh(n)))},oe=async(W,_e,Le)=>{!r||!n||(await NRe({name:_e,description:Le,priority:"moyenne",tags:[],status:W,created_by:r,project_id:n}),o(await fh(n)))},Y=async()=>{!m||!r||!k.trim()||(await SRe({card_id:m,author:r,comment:k.trim()}),A(""),d(await qE(m)))},ne=async W=>{m&&(await CRe(W),d(await qE(m)))},ge=f?a.find(W=>W.id===f):null,se=async W=>{await K3(W),o(await fh(n))};x.useEffect(()=>{q.auth.getSession().then(({data:{session:W}})=>{var _e;i(((_e=W==null?void 0:W.user)==null?void 0:_e.id)??null)})},[]),x.useEffect(()=>{if(!u.length)return;const _e=Array.from(new Set(u.map(Le=>Le.author))).filter(Le=>typeof Le=="string"&&Le.length===36&&!(Le in z));_e.length!==0&&(async()=>{var ae;const Le=_e;if(!Array.isArray(Le)||Le.length===0)return;const{data:Qe,error:Q}=await q.from("profiles").select("id, display_name, email").in("id",Le);if(!Q&&Qe){const Se={};for(const ye of Qe)Se[ye.id]=((ae=ye.display_name)==null?void 0:ae.trim())||ye.email||ye.id.slice(0,4)+"…";P(ye=>({...ye,...Se}))}})()},[u]);const ce={};u.forEach(W=>{ce[W.card_id]=(ce[W.card_id]||0)+1});const[ve,te]=x.useState(!1),[ue,ee]=x.useState(!1),{subscriptionStatus:le}=CY(),{userProjects:Ie}=yr(),[Pe,Ae]=x.useState("Votre projet");return x.useEffect(()=>{le==="inactive"&&ee(!0)},[le]),x.useEffect(()=>{if(n){const W=Ie.find(_e=>_e.project_id===n);W&&Ae(W.nom_projet)}},[n,Ie]),s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-center md:text-left tracking-tight",children:"Plan d'action"}),s.jsxs(QM,{sensors:I,collisionDetection:qM,onDragStart:U,onDragOver:D,onDragEnd:L,onDragCancel:V,children:[s.jsx("div",{className:"flex flex-col md:flex-row gap-6 md:gap-0 justify-between items-start w-full overflow-x-auto pb-4 mt-4",children:R0.map(W=>s.jsx(dS,{items:M[W.key].length?M[W.key].map(_e=>_e.id):[W.key],strategy:uS,children:s.jsx(kRe,{label:W.label,color:W.color,columnKey:W.key,tasks:M[W.key],activeId:f,onCardClick:K,isOver:T===W.key,onAddCard:(_e,Le)=>oe(W.key,_e,Le),onDelete:se,commentCountByCard:ce})},W.key))}),s.jsx(fRe,{children:ge?s.jsx(Dee,{id:ge.id,title:ge.name,description:ge.description,priority:ge.priority,tags:ge.tags,createdBy:ge.created_by,commentCount:ce[ge.id]||0,isDragging:!0}):null})]}),s.jsxs("div",{className:"mt-8 text-center text-gray-400 text-xs",children:["Glissez-déposez les cartes pour les déplacer entre les colonnes.",s.jsx("br",{}),"Cliquez sur une carte pour l'éditer."]}),s.jsx(pt,{open:!!m,onOpenChange:W=>!W&&p(null),children:s.jsxs(gt,{className:"max-w-md",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Éditer la carte"}),s.jsx(Mt,{children:"Modifiez le nom, la description, la priorité, les tags et le statut de la tâche."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ke,{value:g,onChange:W=>y(W.target.value),placeholder:"Nom de la tâche",className:"text-lg font-semibold"}),s.jsx(at,{value:v,onChange:W=>w(W.target.value),placeholder:"Description",className:"min-h-[80px]"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Priorité :"}),s.jsxs("select",{className:"border rounded px-2 py-1 text-sm focus:outline-primary",value:b,onChange:W=>j(W.target.value),children:[s.jsx("option",{value:"faible",children:"Faible"}),s.jsx("option",{value:"moyenne",children:"Moyenne"}),s.jsx("option",{value:"haute",children:"Haute"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[s.jsx("label",{className:"text-sm font-medium",children:"Statut :"}),s.jsxs("select",{className:"border rounded px-2 py-1 text-sm focus:outline-primary",value:S,onChange:W=>C(W.target.value),children:[s.jsx("option",{value:"todo",children:"À faire"}),s.jsx("option",{value:"inprogress",children:"En cours"}),s.jsx("option",{value:"done",children:"Fait"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm mb-1",children:"Commentaires"}),s.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2 mb-2",children:R?s.jsx("div",{className:"text-xs text-gray-400",children:"Chargement..."}):u.length===0?s.jsx("div",{className:"text-xs text-gray-400 italic",children:"Aucun commentaire"}):u.map(W=>s.jsxs("div",{className:"flex items-start gap-2 bg-gray-50 rounded p-2",children:[s.jsx("div",{className:"font-bold text-primary text-xs mt-0.5",children:W.author===r?"Moi":z[W.author]||W.author.slice(0,4)+"…"}),s.jsx("div",{className:"flex-1 text-xs text-gray-700",children:W.comment}),s.jsx("button",{className:"text-xs text-red-400 hover:text-red-600 ml-2",onClick:()=>ne(W.id),title:"Supprimer le commentaire",children:"✕"})]},W.id))}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx("input",{className:"border rounded px-2 py-1 text-xs flex-1 focus:outline-primary",placeholder:"Ajouter un commentaire...",value:k,onChange:W=>A(W.target.value),onKeyDown:W=>{W.key==="Enter"&&Y()},disabled:R}),s.jsx(H,{size:"sm",onClick:Y,disabled:!k.trim()||R,children:"Envoyer"})]})]}),s.jsxs("div",{className:"flex justify-between gap-2 pt-2",children:[s.jsx(H,{variant:"destructive",onClick:X,children:"Supprimer"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",onClick:()=>p(null),children:"Annuler"}),s.jsx(H,{onClick:G,disabled:!g.trim(),children:"Enregistrer"})]})]})]})]})}),s.jsx($Pe,{isOpen:ue,onClose:()=>ee(!1),projectTitle:Pe,projectId:n})]})};async function TRe(e){try{let t=q.from("resources").select("*").eq("is_published",!0);if(e!=null&&e.search&&(t=t.or(`name.ilike.%${e.search}%, description.ilike.%${e.search}%`)),e!=null&&e.category&&e.category!=="all"&&(t=t.eq("category",e.category)),e!=null&&e.type&&e.type!=="all"&&(t=t.eq("type",e.type)),e!=null&&e.difficulty&&e.difficulty!=="all"&&(t=t.eq("difficulty",e.difficulty)),e!=null&&e.sortBy){const a=e.sortBy==="recent"?"created_at":e.sortBy==="popular"?"download_count":e.sortBy==="rating"?"average_rating":"name",o=e.sortOrder==="asc";t=t.order(a,{ascending:o})}else t=t.order("created_at",{ascending:!1});const{data:n,error:r}=await t;if(r)throw console.error("Error fetching resources:",r),r;return(n||[]).map(a=>({...a,rating_count:a.total_ratings||0,is_favorite:!1}))}catch(t){throw console.error("Error in fetchResources:",t),t}}function PRe(e){return Xxe({queryKey:["resources",e],queryFn:()=>TRe(e),staleTime:5*60*1e3})}function ORe(){return{favorites:[],toggleFavorite:e=>{console.log("Toggle favorite for resource:",e)},isFavorite:e=>!1}}const RRe=({resource:e,onClick:t,onToggleFavorite:n,onDownload:r,isFavorite:i,isDownloading:a=!1})=>{const o=c=>{switch(c){case"Débutant":return"bg-green-100 text-green-800";case"Intermédiaire":return"bg-orange-100 text-orange-800";case"Avancé":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=c=>{switch(c){case"notion":return"📝";case"canva":return"🎨";case"pdf":return"📄";case"template":return"📋";case"guide":return"📖";case"video":return"🎥";case"audio":return"🎧";case"tool":return"🛠️";default:return"📄"}};return s.jsx(re,{className:"group cursor-pointer transition-all duration-300 hover:-translate-y-1 hover:shadow-lg border border-gray-200 hover:border-[#F86E19] bg-white overflow-hidden",onClick:t,children:s.jsxs(ie,{className:"p-0",children:[s.jsxs("div",{className:"aspect-square w-full overflow-hidden bg-gray-100",children:[e.image_url?s.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl bg-gradient-to-br from-gray-100 to-gray-200",children:l(e.type)}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(H,{variant:"ghost",size:"sm",className:de("h-8 w-8 p-0 rounded-full bg-white/80 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-200",i&&"opacity-100 bg-[#F86E19]/10"),onClick:c=>{c.stopPropagation(),n()},children:s.jsx(N7,{className:de("h-4 w-4 transition-colors",i?"text-[#F86E19] fill-[#F86E19]":"text-gray-600")})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx(me,{className:"text-lg font-semibold mb-2 line-clamp-2 min-h-[3rem]",children:e.name}),s.jsx("p",{className:"text-muted-foreground text-sm mb-3 line-clamp-2 min-h-[2.5rem]",children:e.description}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3 min-h-[1.5rem]",children:[s.jsx("span",{className:de("inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium",o(e.difficulty)),children:e.difficulty}),s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:e.category}),e.estimated_time&&s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:e.estimated_time})]}),s.jsx("div",{className:"flex items-center justify-between mb-3 text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-3",children:[e.average_rating&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zt,{className:"h-3 w-3 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-xs font-medium",children:e.average_rating.toFixed(1)}),e.rating_count&&s.jsxs("span",{className:"text-xs",children:["(",e.rating_count,")"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ns,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",children:e.view_count})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fo,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",children:e.download_count})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédit",className:"w-4 h-4"}),s.jsx("span",{className:"font-semibold text-gray-700",children:e.price})]}),s.jsx(H,{size:"sm",className:"h-7 px-3 text-xs bg-[#F86E19] hover:bg-[#E55A00] text-white",disabled:a,onClick:c=>{c.stopPropagation(),t()},children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-3 h-3 border border-white border-t-transparent rounded-full mr-1"}),"Téléchargement..."]}):s.jsxs(s.Fragment,{children:[s.jsx(j2,{className:"h-3 w-3 mr-1"}),"Acheter"]})})]})]})]})})},Y3=B.memo(RRe);async function DRe(e){try{const{error:t}=await q.from("resources").update({download_count:q.raw("download_count + 1")}).eq("id",e);if(t)throw console.error("Error updating download count:",t),t}catch(t){throw console.error("Error in downloadResource:",t),t}}function MRe(){const e=TD();return Qxe({mutationFn:DRe,onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["resources"]}),e.invalidateQueries({queryKey:["resource",n]})}})}const IRe=({images:e,activeIndex:t,onIndexChange:n,className:r})=>{if(!e||e.length===0)return s.jsx("div",{className:de("aspect-square bg-gray-100 rounded-lg flex items-center justify-center",r),children:s.jsx("span",{className:"text-6xl",children:"📄"})});const i=()=>{const l=t===0?e.length-1:t-1;n(l)},a=()=>{const l=t===e.length-1?0:t+1;n(l)},o=l=>{n(l)};return s.jsxs("div",{className:de("relative",r),children:[s.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("img",{src:e[t],alt:`Image ${t+1}`,className:"w-full h-full object-cover transition-opacity duration-300"}),e.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(H,{variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0 bg-white/90 hover:bg-white rounded-full shadow-md",onClick:i,children:s.jsx(_a,{className:"h-4 w-4"})}),s.jsx(H,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0 bg-white/90 hover:bg-white rounded-full shadow-md",onClick:a,children:s.jsx(Oi,{className:"h-4 w-4"})})]})]}),e.length>1&&s.jsx("div",{className:"flex justify-center gap-2 mt-4",children:e.map((l,c)=>s.jsx("button",{className:de("w-2 h-2 rounded-full transition-all duration-200",c===t?"bg-[#F86E19] w-6":"bg-gray-300 hover:bg-gray-400"),onClick:()=>o(c)},c))}),e.length>1&&s.jsx("div",{className:"mt-4 grid grid-cols-4 gap-2",children:e.map((l,c)=>s.jsx("button",{className:de("aspect-square rounded-lg overflow-hidden border-2 transition-all duration-200",c===t?"border-[#F86E19] opacity-100":"border-gray-200 opacity-60 hover:opacity-80"),onClick:()=>o(c),children:s.jsx("img",{src:l,alt:`Thumbnail ${c+1}`,className:"w-full h-full object-cover"})},c))})]})},LRe=({items:e,className:t})=>{const[n,r]=x.useState(new Set),i=a=>{const o=new Set(n);o.has(a)?o.delete(a):o.add(a),r(o)};return!e||e.length===0?null:s.jsx("div",{className:de("space-y-3",t),children:e.map((a,o)=>s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-100 shadow-sm",children:[s.jsxs("button",{className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-[#F86E19]/20",onClick:()=>i(o),children:[s.jsx("span",{className:"font-semibold text-gray-900 pr-4",children:a.question}),s.jsx("div",{className:de("flex-shrink-0 transition-transform duration-200",n.has(o)&&"rotate-180"),children:s.jsx(ya,{className:"h-5 w-5 text-gray-500"})})]}),s.jsx("div",{className:de("overflow-hidden transition-all duration-300 ease-in-out",n.has(o)?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:s.jsx("div",{className:"px-6 pb-4 text-gray-700 leading-relaxed",children:a.answer})})]},o))})};function wt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function pi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ks(e,t){const n=wt(e);return isNaN(t)?pi(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function oo(e,t){const n=wt(e);if(isNaN(t))return pi(e,NaN);if(!t)return n;const r=n.getDate(),i=pi(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const JM=6048e5,$Re=864e5,D0=43200,X3=1440;let FRe={};function tg(){return FRe}function qo(e,t){var l,c,u,d;const n=tg(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=wt(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function jf(e){return qo(e,{weekStartsOn:1})}function Mee(e){const t=wt(e),n=t.getFullYear(),r=pi(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=jf(r),a=pi(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=jf(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Gm(e){const t=wt(e);return t.setHours(0,0,0,0),t}function Km(e){const t=wt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ao(e,t){const n=Gm(e),r=Gm(t),i=+n-Km(n),a=+r-Km(r);return Math.round((i-a)/$Re)}function zRe(e){const t=Mee(e),n=pi(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),jf(n)}function LT(e,t){const n=t*7;return ks(e,n)}function BRe(e,t){return oo(e,t*12)}function URe(e){let t;return e.forEach(function(n){const r=wt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function qRe(e){let t;return e.forEach(n=>{const r=wt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Uw(e,t){const n=wt(e),r=wt(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function VRe(e){return pi(e,Date.now())}function ri(e,t){const n=Gm(e),r=Gm(t);return+n==+r}function ZM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function HRe(e){if(!ZM(e)&&typeof e!="number")return!1;const t=wt(e);return!isNaN(Number(t))}function Ym(e,t){const n=wt(e),r=wt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function WRe(e,t,n){const r=qo(e,n),i=qo(t,n),a=+r-Km(r),o=+i-Km(i);return Math.round((a-o)/JM)}function GRe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function KRe(e,t){return+wt(e)-+wt(t)}function YRe(e){const t=wt(e);return t.setHours(23,59,59,999),t}function fS(e){const t=wt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function XRe(e){const t=wt(e);return+YRe(t)==+fS(t)}function QRe(e,t){const n=wt(e),r=wt(t),i=Uw(n,r),a=Math.abs(Ym(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let l=Uw(n,r)===-i;XRe(wt(e))&&a===1&&Uw(e,r)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function JRe(e,t,n){const r=KRe(e,t)/1e3;return GRe(n==null?void 0:n.roundingMethod)(r)}function fi(e){const t=wt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Iee(e){const t=wt(e),n=pi(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function eI(e,t){var l,c,u,d;const n=tg(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=wt(e),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function Lee(e){return eI(e,{weekStartsOn:1})}const ZRe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eDe=(e,t,n)=>{let r;const i=ZRe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function mm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const tDe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nDe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rDe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sDe={date:mm({formats:tDe,defaultWidth:"full"}),time:mm({formats:nDe,defaultWidth:"full"}),dateTime:mm({formats:rDe,defaultWidth:"full"})},iDe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aDe=(e,t,n,r)=>iDe[e];function Co(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const oDe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lDe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cDe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uDe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dDe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fDe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hDe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mDe={ordinalNumber:hDe,era:Co({values:oDe,defaultWidth:"wide"}),quarter:Co({values:lDe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Co({values:cDe,defaultWidth:"wide"}),day:Co({values:uDe,defaultWidth:"wide"}),dayPeriod:Co({values:dDe,defaultWidth:"wide",formattingValues:fDe,defaultFormattingWidth:"wide"})};function Eo(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?gDe(l,f=>f.test(o)):pDe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function pDe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function gDe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function $ee(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const xDe=/^(\d+)(th|st|nd|rd)?/i,vDe=/\d+/i,yDe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bDe={any:[/^b/i,/^(a|c)/i]},wDe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jDe={any:[/1/i,/2/i,/3/i,/4/i]},_De={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NDe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SDe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CDe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EDe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kDe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ADe={ordinalNumber:$ee({matchPattern:xDe,parsePattern:vDe,valueCallback:e=>parseInt(e,10)}),era:Eo({matchPatterns:yDe,defaultMatchWidth:"wide",parsePatterns:bDe,defaultParseWidth:"any"}),quarter:Eo({matchPatterns:wDe,defaultMatchWidth:"wide",parsePatterns:jDe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Eo({matchPatterns:_De,defaultMatchWidth:"wide",parsePatterns:NDe,defaultParseWidth:"any"}),day:Eo({matchPatterns:SDe,defaultMatchWidth:"wide",parsePatterns:CDe,defaultParseWidth:"any"}),dayPeriod:Eo({matchPatterns:EDe,defaultMatchWidth:"any",parsePatterns:kDe,defaultParseWidth:"any"})},tI={code:"en-US",formatDistance:eDe,formatLong:sDe,formatRelative:aDe,localize:mDe,match:ADe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function TDe(e){const t=wt(e);return Ao(t,Iee(t))+1}function Fee(e){const t=wt(e),n=+jf(t)-+zRe(t);return Math.round(n/JM)+1}function zee(e,t){var d,f,h,m;const n=wt(e),r=n.getFullYear(),i=tg(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(h=i.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=pi(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=qo(o,t),c=pi(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=qo(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function PDe(e,t){var l,c,u,d;const n=tg(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=zee(e,t),a=pi(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),qo(a,t)}function Bee(e,t){const n=wt(e),r=+qo(n,t)-+PDe(n,t);return Math.round(r/JM)+1}function ln(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const dc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ln(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ln(n+1,2)},d(e,t){return ln(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ln(e.getHours()%12||12,t.length)},H(e,t){return ln(e.getHours(),t.length)},m(e,t){return ln(e.getMinutes(),t.length)},s(e,t){return ln(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ln(i,t.length)}},hh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q3={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return dc.y(e,t)},Y:function(e,t,n,r){const i=zee(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return ln(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):ln(a,t.length)},R:function(e,t){const n=Mee(e);return ln(n,t.length)},u:function(e,t){const n=e.getFullYear();return ln(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ln(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ln(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return dc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ln(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Bee(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):ln(i,t.length)},I:function(e,t,n){const r=Fee(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ln(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):dc.d(e,t)},D:function(e,t,n){const r=TDe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ln(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ln(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ln(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return ln(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=hh.noon:r===0?i=hh.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=hh.evening:r>=12?i=hh.afternoon:r>=4?i=hh.morning:i=hh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return dc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):dc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ln(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ln(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):dc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):dc.s(e,t)},S:function(e,t){return dc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Z3(r);case"XXXX":case"XX":return od(r);case"XXXXX":case"XXX":default:return od(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Z3(r);case"xxxx":case"xx":return od(r);case"xxxxx":case"xxx":default:return od(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+J3(r,":");case"OOOO":default:return"GMT"+od(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+J3(r,":");case"zzzz":default:return"GMT"+od(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ln(r,t.length)},T:function(e,t,n){const r=e.getTime();return ln(r,t.length)}};function J3(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+ln(a,2)}function Z3(e,t){return e%60===0?(e>0?"-":"+")+ln(Math.abs(e)/60,2):od(e,t)}function od(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=ln(Math.trunc(r/60),2),a=ln(r%60,2);return n+i+t+a}const e6=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Uee=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ODe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return e6(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",e6(r,t)).replace("{{time}}",Uee(i,t))},RDe={p:Uee,P:ODe},DDe=/^D+$/,MDe=/^Y+$/,IDe=["D","DD","YY","YYYY"];function LDe(e){return DDe.test(e)}function $De(e){return MDe.test(e)}function FDe(e,t,n){const r=zDe(e,t,n);if(console.warn(r),IDe.includes(e))throw new RangeError(r)}function zDe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const BDe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UDe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qDe=/^'([^]*?)'?$/,VDe=/''/g,HDe=/[a-zA-Z]/;function ps(e,t,n){var d,f,h,m,p,g,y,v;const r=tg(),i=(n==null?void 0:n.locale)??r.locale??tI,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,l=wt(e);if(!HRe(l))throw new RangeError("Invalid time value");let c=t.match(UDe).map(w=>{const b=w[0];if(b==="p"||b==="P"){const j=RDe[b];return j(w,i.formatLong)}return w}).join("").match(BDe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:WDe(w)};if(Q3[b])return{isToken:!0,value:w};if(b.match(HDe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&$De(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&LDe(b))&&FDe(b,t,String(e));const j=Q3[b[0]];return j(l,b,i.localize,u)}).join("")}function WDe(e){const t=e.match(qDe);return t?t[1].replace(VDe,"'"):e}function GDe(e,t,n){const r=tg(),i=(n==null?void 0:n.locale)??r.locale??tI,a=2520,o=Uw(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=wt(t),u=wt(e)):(c=wt(e),u=wt(t));const d=JRe(u,c),f=(Km(u)-Km(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):h===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<X3){const p=Math.round(h/60);return i.formatDistance("aboutXHours",p,l)}else{if(h<a)return i.formatDistance("xDays",1,l);if(h<D0){const p=Math.round(h/X3);return i.formatDistance("xDays",p,l)}else if(h<D0*2)return m=Math.round(h/D0),i.formatDistance("aboutXMonths",m,l)}if(m=QRe(u,c),m<12){const p=Math.round(h/D0);return i.formatDistance("xMonths",p,l)}else{const p=m%12,g=Math.trunc(m/12);return p<3?i.formatDistance("aboutXYears",g,l):p<9?i.formatDistance("overXYears",g,l):i.formatDistance("almostXYears",g+1,l)}}function nI(e,t){return GDe(e,VRe(e),t)}function KDe(e){const t=wt(e),n=t.getFullYear(),r=t.getMonth(),i=pi(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function YDe(e){return Math.trunc(+wt(e)/1e3)}function XDe(e){const t=wt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function QDe(e,t){return WRe(XDe(e),fi(e),t)+1}function $T(e,t){const n=wt(e),r=wt(t);return n.getTime()>r.getTime()}function qee(e,t){const n=wt(e),r=wt(t);return+n<+r}function rI(e,t){const n=wt(e),r=wt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function JDe(e,t){const n=wt(e),r=wt(t);return n.getFullYear()===r.getFullYear()}function VE(e,t){return ks(e,-t)}function HE(e,t){const n=wt(e),r=n.getFullYear(),i=n.getDate(),a=pi(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const o=KDe(a);return n.setMonth(t,Math.min(i,o)),n}function t6(e,t){const n=wt(e);return isNaN(+n)?pi(e,NaN):(n.setFullYear(t),n)}const ZDe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},eMe=(e,t,n)=>{let r;const i=ZDe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},tMe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},nMe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},rMe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sMe={date:mm({formats:tMe,defaultWidth:"full"}),time:mm({formats:nMe,defaultWidth:"full"}),dateTime:mm({formats:rMe,defaultWidth:"full"})},iMe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},aMe=(e,t,n,r)=>iMe[e],oMe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},lMe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},cMe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},uMe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},dMe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},fMe=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let a;return n===1?a=r&&i.includes(r)?"ère":"er":a="ème",n+a},hMe=["MMM","MMMM"],mMe={preprocessor:(e,t)=>e.getDate()===1||!t.some(r=>r.isToken&&hMe.includes(r.value))?t:t.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:fMe,era:Co({values:oMe,defaultWidth:"wide"}),quarter:Co({values:lMe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Co({values:cMe,defaultWidth:"wide"}),day:Co({values:uMe,defaultWidth:"wide"}),dayPeriod:Co({values:dMe,defaultWidth:"wide"})},pMe=/^(\d+)(ième|ère|ème|er|e)?/i,gMe=/\d+/i,xMe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},vMe={any:[/^av/i,/^ap/i]},yMe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},bMe={any:[/1/i,/2/i,/3/i,/4/i]},wMe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},jMe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Me={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},NMe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},SMe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},CMe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},EMe={ordinalNumber:$ee({matchPattern:pMe,parsePattern:gMe,valueCallback:e=>parseInt(e)}),era:Eo({matchPatterns:xMe,defaultMatchWidth:"wide",parsePatterns:vMe,defaultParseWidth:"any"}),quarter:Eo({matchPatterns:yMe,defaultMatchWidth:"wide",parsePatterns:bMe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Eo({matchPatterns:wMe,defaultMatchWidth:"wide",parsePatterns:jMe,defaultParseWidth:"any"}),day:Eo({matchPatterns:_Me,defaultMatchWidth:"wide",parsePatterns:NMe,defaultParseWidth:"any"}),dayPeriod:Eo({matchPatterns:SMe,defaultMatchWidth:"any",parsePatterns:CMe,defaultParseWidth:"any"})},Ti={code:"fr",formatDistance:eMe,formatLong:sMe,formatRelative:aMe,localize:mMe,match:EMe,options:{weekStartsOn:1,firstWeekContainsDate:4}},kMe=({review:e})=>{const t=(n,r)=>(n.charAt(0)+r.charAt(0)).toUpperCase();return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-[#F86E19]/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[#F86E19] font-semibold text-sm",children:t(e.user.firstName,e.user.lastName)})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium text-gray-900",children:[e.user.firstName," ",e.user.lastName]}),e.verified&&s.jsx(Gt,{className:"h-4 w-4 text-green-500"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((n,r)=>s.jsx(Zt,{className:de("h-4 w-4",r<e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300")},r))}),s.jsx("span",{className:"text-sm text-gray-500",children:ps(new Date(e.createdAt),"dd MMMM yyyy",{locale:Ti})})]})]})]})}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.comment}),e.helpful&&s.jsx("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-100",children:s.jsxs(H,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700",children:[s.jsx(dme,{className:"h-4 w-4 mr-1"}),"Utile (",e.helpful,")"]})})]})},AMe=({onSubmit:e,onCancel:t})=>{const[n,r]=x.useState(0),[i,a]=x.useState(""),[o,l]=x.useState(!1),c=async u=>{if(u.preventDefault(),n===0){Ne.error("Veuillez sélectionner une note");return}if(i.trim().length<10){Ne.error("Votre commentaire doit contenir au moins 10 caractères");return}l(!0);try{await e(n,i.trim()),r(0),a(""),t(),Ne.success("Votre avis a été publié avec succès !")}catch{Ne.error("Erreur lors de la publication de votre avis")}finally{l(!1)}};return s.jsxs("form",{onSubmit:c,className:"bg-white border border-gray-200 rounded-xl p-6 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-lg",children:"Laisser un avis"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note *"}),s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(u=>s.jsx("button",{type:"button",className:"p-1 hover:scale-110 transition-transform",onClick:()=>r(u),children:s.jsx(Zt,{className:de("h-6 w-6",u<=n?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-200")})},u))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaire *"}),s.jsx(at,{value:i,onChange:u=>a(u.target.value),placeholder:"Partagez votre expérience avec cette ressource...",className:"min-h-[100px]",maxLength:500}),s.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.length,"/500"]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(H,{type:"submit",disabled:o||n===0||i.trim().length<10,className:"bg-[#F86E19] hover:bg-[#E55A0E] text-white",children:o?"Publication...":"Publier l'avis"}),s.jsx(H,{type:"button",variant:"outline",onClick:t,disabled:o,children:"Annuler"})]})]})},TMe=({resourceId:e,reviews:t=[],averageRating:n=0,totalReviews:r=0,canAddReview:i=!1,onAddReview:a,className:o})=>{const[l,c]=x.useState(!1),u=async(d,f)=>{a&&await a(d,f)};return s.jsxs("div",{className:de("space-y-6",o),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold flex items-center gap-2",children:"💬 Avis des clients"}),r>0&&s.jsx("div",{className:"flex items-center gap-4 mt-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((d,f)=>s.jsx(Zt,{className:de("h-5 w-5",f<Math.floor(n)?"fill-yellow-400 text-yellow-400":"text-gray-300")},f))}),s.jsx("span",{className:"font-semibold text-lg",children:n.toFixed(1)}),s.jsxs("span",{className:"text-gray-600",children:["(",r," avis)"]})]})})]}),i&&!l&&s.jsxs(H,{variant:"outline",onClick:()=>c(!0),className:"border-[#F86E19] text-[#F86E19] hover:bg-[#F86E19] hover:text-white",children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"Ajouter un avis"]})]}),l&&s.jsx(AMe,{onSubmit:u,onCancel:()=>c(!1)}),s.jsx("div",{className:"space-y-4",children:t.length>0?t.map(d=>s.jsx(kMe,{review:d},d.id)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{className:"text-lg",children:"Aucun avis pour le moment"}),s.jsx("p",{className:"text-sm",children:"Soyez le premier à partager votre expérience !"})]})})]})},PMe=({resource:e,isOpen:t,onClose:n,onToggleFavorite:r,isFavorite:i})=>{const a=MRe(),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(0);if(x.useEffect(()=>{e&&t&&console.log(`Vue ajoutée pour la ressource ${e.id}`)},[e,t]),!e)return null;const h=[e.image_url,e.image_2_url,e.image_3_url,e.image_4_url].filter(Boolean),m=[{emoji:"✅",text:"Plus de 350 prompts testés et optimisés"},{emoji:"✅",text:"18 catégories complètes de business"},{emoji:"✅",text:"Prompts pour débutants et experts"},{emoji:"✅",text:"Guide d'utilisation inclus"},{emoji:"✅",text:"Templates de conversations avancées"},{emoji:"✅",text:"Stratégies de vente et marketing"},{emoji:"✅",text:"Outils de création de contenu"},{emoji:"✅",text:"Systèmes d'automatisation"},{emoji:"✅",text:"Prompts pour réseaux sociaux"},{emoji:"✅",text:"Solutions e-commerce et tunnels de vente"},{emoji:"✅",text:"Techniques de copywriting éprouvées"},{emoji:"✅",text:"Stratégies SEO et génération de leads"}],p=e.included_items&&e.included_items.length>0?e.included_items:m,g=[e.faq_question_1&&e.faq_answer_1&&{question:e.faq_question_1,answer:e.faq_answer_1},e.faq_question_2&&e.faq_answer_2&&{question:e.faq_question_2,answer:e.faq_answer_2},e.faq_question_3&&e.faq_answer_3&&{question:e.faq_question_3,answer:e.faq_answer_3}].filter(Boolean),y=[{id:"1",user:{firstName:"Marie",lastName:"Dubois",email:"marie@example.com"},rating:5,comment:"Excellente ressource ! Très bien documentée et facile à utiliser.",createdAt:"2024-01-15T10:30:00Z",verified:!0,helpful:12},{id:"2",user:{firstName:"Thomas",lastName:"Martin",email:"thomas@example.com"},rating:4,comment:"Très utile pour mon projet. Quelques améliorations possibles mais globalement satisfait.",createdAt:"2024-01-10T14:20:00Z",verified:!0,helpful:8}],v=async()=>{u(!0);try{w(),Ne.success("Achat réussi ! Téléchargement en cours...")}catch{Ne.error("Erreur lors de l'achat")}finally{u(!1)}},w=()=>{e.file_url?a.mutate(e.id,{onSuccess:()=>{window.open(e.file_url,"_blank"),Ne.success("Téléchargement démarré !")},onError:()=>{Ne.error("Erreur lors du téléchargement")}}):Ne.error("Lien de téléchargement non disponible")},b=async(j,_)=>{console.log("Avis ajouté:",{rating:j,comment:_,resourceId:e.id})};return t?s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:n,children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-7xl w-full max-h-[90vh] overflow-hidden",onClick:j=>j.stopPropagation(),children:[s.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[s.jsx("h1",{className:"text-2xl font-bold truncate pr-4",children:e.name}),s.jsx(H,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0 hover:bg-gray-100 rounded-full flex-shrink-0",children:s.jsx(tn,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 p-6 lg:p-8 max-h-[calc(90vh-80px)] overflow-hidden",children:[s.jsx("div",{className:"lg:sticky lg:top-8 h-fit",children:s.jsxs("div",{className:"relative",children:[s.jsx(IRe,{images:h,activeIndex:d,onIndexChange:f}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(H,{variant:"ghost",size:"sm",className:de("h-10 w-10 p-0 rounded-full bg-white/90 backdrop-blur-sm",i&&"bg-[#F86E19]/10"),onClick:r,children:s.jsx(N7,{className:de("h-5 w-5",i?"text-[#F86E19] fill-[#F86E19]":"text-gray-600")})})})]})}),s.jsxs("div",{className:"overflow-y-auto max-h-[80vh] pr-4 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-4",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((j,_)=>s.jsx(Zt,{className:"h-5 w-5 fill-current"},_))}),s.jsxs("span",{className:"text-gray-600",children:[e.rating_count||3," avis"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédit",className:"w-8 h-8"}),s.jsx("span",{className:"text-4xl font-bold",children:e.price}),s.jsx("span",{className:"text-xl text-gray-600",children:"crédits"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Taxes incluses"})]}),s.jsxs("div",{className:"prose mb-6",children:[s.jsx("div",{className:"text-xl font-bold text-center py-4 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg mb-4",children:"🔥 ENFIN L'ARME SECRÈTE QUE VOUS ATTENDIEZ 🔥"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.detailed_description||e.description})]}),s.jsx(H,{onClick:v,disabled:c,className:"w-full bg-[#FFC439] hover:bg-[#FFD666] text-black font-semibold py-4 px-6 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg mb-8",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{className:"h-5 w-5 mr-2 animate-spin"}),"Traitement..."]}):"Payer avec PayPal"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Inclus dans le pack"}),s.jsx("ul",{className:"space-y-3",children:p.map((j,_)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-xl mt-0.5",children:j.emoji}),s.jsx("span",{className:"text-gray-700",children:j.text})]},_))})]}),(e.reason_1_title||e.reason_2_title||e.reason_3_title)&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Pourquoi choisir cette template"}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:[e.reason_1_title&&s.jsxs("div",{className:"bg-black/5 rounded-xl p-6 hover:bg-black/8 transition-all duration-200",children:[s.jsx("h3",{className:"font-semibold mb-2 text-emerald-700",children:e.reason_1_title}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.reason_1_text})]}),e.reason_2_title&&s.jsxs("div",{className:"bg-black/5 rounded-xl p-6 hover:bg-black/8 transition-all duration-200",children:[s.jsx("h3",{className:"font-semibold mb-2 text-emerald-700",children:e.reason_2_title}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.reason_2_text})]}),e.reason_3_title&&s.jsxs("div",{className:"bg-black/5 rounded-xl p-6 hover:bg-black/8 transition-all duration-200",children:[s.jsx("h3",{className:"font-semibold mb-2 text-emerald-700",children:e.reason_3_title}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.reason_3_text})]})]})]}),g.length>0&&s.jsxs("div",{className:"bg-[#EDEBE6] rounded-2xl p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"FAQ"}),s.jsx(LRe,{items:g})]}),s.jsx(TMe,{resourceId:e.id,reviews:y,averageRating:e.average_rating||4.5,totalReviews:e.rating_count||3,canAddReview:!0,onAddReview:b})]})]})]})}):null},OMe=["Business Plan","Marketing","Finance","Juridique","Design","Technique","Formation","Templates","Outils"],RMe=["notion","canva","pdf","template","guide","video","audio","tool"],DMe=["Débutant","Intermédiaire","Avancé"],MMe=({filters:e,onFiltersChange:t,onResetFilters:n})=>{const r=(a,o)=>{t({...e,[a]:o})},i=!!(e.search||e.category&&e.category!=="all"||e.type&&e.type!=="all"||e.difficulty&&e.difficulty!=="all"||e.sortBy&&e.sortBy!=="recent");return s.jsx(re,{className:"mb-6",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ke,{placeholder:"Rechercher des ressources...",value:e.search||"",onChange:a=>r("search",a.target.value),className:"pl-8"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs(vt,{value:e.category||"all",onValueChange:a=>r("category",a),children:[s.jsx(yt,{className:"hover:border-[#F86E19] transition-colors",children:s.jsx(_t,{placeholder:"Catégorie"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Toutes les catégories"}),OMe.map(a=>s.jsx(fe,{value:a,children:a},a))]})]}),s.jsxs(vt,{value:e.type||"all",onValueChange:a=>r("type",a),children:[s.jsx(yt,{className:"hover:border-[#F86E19] transition-colors",children:s.jsx(_t,{placeholder:"Type"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Tous les types"}),RMe.map(a=>s.jsx(fe,{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))]})]}),s.jsxs(vt,{value:e.difficulty||"all",onValueChange:a=>r("difficulty",a),children:[s.jsx(yt,{className:"hover:border-[#F86E19] transition-colors",children:s.jsx(_t,{placeholder:"Difficulté"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Tous les niveaux"}),DMe.map(a=>s.jsx(fe,{value:a,children:a},a))]})]}),s.jsxs(vt,{value:e.sortBy||"recent",onValueChange:a=>r("sortBy",a),children:[s.jsx(yt,{className:"hover:border-[#F86E19] transition-colors",children:s.jsx(_t,{placeholder:"Trier par"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"recent",children:"Plus récents"}),s.jsx(fe,{value:"popular",children:"Plus populaires"}),s.jsx(fe,{value:"rating",children:"Mieux notés"}),s.jsx(fe,{value:"name",children:"Nom (A-Z)"})]})]})]}),i&&s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Dl,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtres actifs"})]}),s.jsxs(H,{variant:"ghost",size:"sm",onClick:n,className:"h-7 px-3 text-xs hover:bg-[#F3F4F6] hover:text-black",children:[s.jsx(tn,{className:"h-3 w-3 mr-1"}),"Réinitialiser"]})]})]})})})},IMe=()=>{const[e,t]=x.useState({search:"",category:"all",type:"all",difficulty:"all",sortBy:"recent",sortOrder:"desc"}),[n,r]=x.useState("grid"),[i,a]=x.useState(null),[o,l]=x.useState(!1),{data:c=[],isLoading:u,error:d}=PRe(e),{toggleFavorite:f,isFavorite:h}=ORe();x.useMemo(()=>({...e,category:e.category==="all"?void 0:e.category,type:e.type==="all"?void 0:e.type,difficulty:e.difficulty==="all"?void 0:e.difficulty}),[e]);const m=b=>{a(b),l(!0)},p=()=>{l(!1),a(null)},g=b=>{f(b);const j=c.find(_=>_.id===b);j&&Ne.success(`${j.name} ajouté aux favoris`)},y=b=>{console.log("Download:",b.name)},v=()=>{t({search:"",category:"all",type:"all",difficulty:"all",sortBy:"recent",sortOrder:"desc"})},w=x.useMemo(()=>{const b=c.length,j=c.reduce((N,S)=>N+S.download_count,0),_=c.length>0?c.reduce((N,S)=>N+(S.average_rating||0),0)/c.length:0;return{totalResources:b,totalDownloads:j,averageRating:Math.round(_*10)/10}},[c]);return d?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(re,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-red-600",children:"Erreur lors du chargement des ressources"}),s.jsx(H,{onClick:()=>window.location.reload(),className:"mt-4",children:"Réessayer"})]})}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Ressources Aurentia"}),s.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:"Découvrez notre bibliothèque de ressources pour développer votre projet entrepreneurial"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[s.jsx(re,{className:"text-center",children:s.jsxs(ie,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-[#F86E19]",children:w.totalResources}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Ressources disponibles"})]})}),s.jsx(re,{className:"text-center",children:s.jsxs(ie,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:w.totalDownloads}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Téléchargements totaux"})]})}),s.jsx(re,{className:"text-center",children:s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Zt,{className:"h-5 w-5 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-2xl font-bold",children:w.averageRating})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Note moyenne"})]})})]})]}),s.jsx(MMe,{filters:e,onFiltersChange:t,onResetFilters:v}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:u?"Chargement...":`${c.length} ressource(s) trouvée(s)`})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{variant:n==="grid"?"default":"outline",size:"sm",onClick:()=>r("grid"),className:"h-8 w-8 p-0",children:s.jsx(fD,{className:"h-4 w-4"})}),s.jsx(H,{variant:n==="list"?"default":"outline",size:"sm",onClick:()=>r("list"),className:"h-8 w-8 p-0",children:s.jsx(hD,{className:"h-4 w-4"})})]})]}),u?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Pt,{className:"h-8 w-8 animate-spin text-[#F86E19]"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Chargement des ressources..."})]}):c.length===0?s.jsxs(re,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"📚"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune ressource trouvée"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Essayez de modifier vos critères de recherche ou réinitialisez les filtres."}),s.jsx(H,{onClick:v,variant:"outline",children:"Réinitialiser les filtres"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`grid gap-6 ${n==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:c.map(b=>s.jsx(Y3,{resource:b,onClick:()=>m(b),onToggleFavorite:()=>g(b.id),onDownload:()=>y(b),isFavorite:h(b.id)},b.id))}),c.length<6&&!e.search&&s.jsxs("div",{className:"mt-12",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(mi,{className:"h-5 w-5 text-[#F86E19]"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Ressources populaires"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.sort((b,j)=>j.download_count-b.download_count).slice(0,3).map(b=>s.jsx(Y3,{resource:b,onClick:()=>m(b),onToggleFavorite:()=>g(b.id),onDownload:()=>y(b),isFavorite:h(b.id)},`popular-${b.id}`))})]})]}),s.jsx(PMe,{resource:i,isOpen:o,onClose:p,onToggleFavorite:()=>i&&g(i.id),isFavorite:i?h(i.id):!1})]})},LMe=()=>{const e=It(),{currentProjectId:t,userProjectsLoading:n}=yr();return n?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):t?s.jsx(Ff,{children:s.jsx("div",{className:"animate-fade-in",children:s.jsx(IMe,{})})}):s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)] animate-popup-appear",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 text-center bg-white p-8 rounded-lg shadow-lg max-w-lg w-[90vw]",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Que l'aventure commence !"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Créez un nouveau projet pour découvrir tout le potentiel de votre idée."}),s.jsx(H,{onClick:()=>e("/individual/warning"),className:"mt-4 px-4 py-2 rounded-lg bg-gradient-primary hover:from-blue-600 hover:to-purple-700 text-white text-lg font-semibold shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105",children:"Créer un nouveau projet"})]})})},$Me=({stats:e,loading:t=!1})=>{const n=[{title:"Total Collaborateurs",value:(e==null?void 0:e.total)||0,icon:et,color:"bg-blue-50 text-blue-600",bgColor:"bg-gradient-to-br from-blue-50 to-blue-100",description:"Nombre total de collaborateurs"},{title:"Collaborateurs Actifs",value:(e==null?void 0:e.active)||0,icon:Wd,color:"bg-green-50 text-green-600",bgColor:"bg-gradient-to-br from-green-50 to-green-100",description:"Collaborateurs actuellement actifs"},{title:"Invitations en Attente",value:(e==null?void 0:e.pending)||0,icon:Yt,color:"bg-yellow-50 text-yellow-600",bgColor:"bg-gradient-to-br from-yellow-50 to-yellow-100",description:"Invitations non acceptées"},{title:"Projets Collaboratifs",value:(e==null?void 0:e.collaborativeProjects)||0,icon:Ci,color:"bg-purple-50 text-purple-600",bgColor:"bg-gradient-to-br from-purple-50 to-purple-100",description:"Projets avec des collaborateurs"}];return t?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((r,i)=>s.jsx(re,{className:"animate-pulse",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]}),s.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-lg"})]})})},i))}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:n.map((r,i)=>{const a=r.icon;return s.jsxs(re,{className:`relative overflow-hidden transition-all duration-300 hover:shadow-lg hover:scale-105 ${r.bgColor} border-0 animate-slide-up`,style:{animationDelay:`${i*.1}s`},children:[s.jsxs(ie,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:r.title}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.value}),r.title==="Collaborateurs Actifs"&&(e==null?void 0:e.total)>0&&s.jsxs("span",{className:"text-sm text-gray-500",children:["/",e.total]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:r.description})]}),s.jsx("div",{className:`h-12 w-12 rounded-lg flex items-center justify-center ${r.color} transition-transform hover:scale-110`,children:s.jsx(a,{size:24})})]}),r.title==="Collaborateurs Actifs"&&(e==null?void 0:e.total)>0&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[s.jsx("span",{children:"Taux d'activité"}),s.jsxs("span",{children:[Math.round(e.active/e.total*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${e.active/e.total*100}%`}})})]}),r.title==="Invitations en Attente"&&r.value>0&&s.jsxs("div",{className:"mt-3 flex items-center text-xs text-yellow-600",children:[s.jsx(Bh,{size:12,className:"mr-1"}),s.jsx("span",{children:"Nécessite une action"})]}),r.title==="Projets Collaboratifs"&&r.value>0&&s.jsxs("div",{className:"mt-3 flex items-center text-xs text-purple-600",children:[s.jsx(mi,{size:12,className:"mr-1"}),s.jsx("span",{children:"Collaboration active"})]})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 hover:opacity-10 transform -skew-x-12 transition-all duration-700 hover:translate-x-full"})]},r.title)})})},n6=({status:e,className:t=""})=>{const r=(a=>{switch(a){case"active":return{label:"Actif",variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-200",icon:Gt};case"pending":return{label:"En attente",variant:"secondary",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",icon:Yt};case"suspended":return{label:"Suspendu",variant:"destructive",className:"bg-red-100 text-red-800 hover:bg-red-200",icon:hi};case"inactive":return{label:"Inactif",variant:"outline",className:"bg-gray-100 text-gray-800 hover:bg-gray-200",icon:ts};default:return{label:"Inconnu",variant:"outline",className:"bg-gray-100 text-gray-800",icon:ts}}})(e),i=r.icon;return s.jsxs(Ce,{variant:r.variant,className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium transition-colors ${r.className} ${t}`,children:[s.jsx(i,{size:12}),r.label]})},Vee=({projects:e=[],selectedProjects:t=[],onChange:n,disabled:r=!1,placeholder:i="Sélectionner des projets...",className:a=""})=>{const[o,l]=x.useState(""),u=e.filter(h=>h.name.toLowerCase().includes(o.toLowerCase())||h.description&&h.description.toLowerCase().includes(o.toLowerCase())).map(h=>({value:h.id,label:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rw,{size:14,className:"text-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:h.name}),h.description&&s.jsx("div",{className:"text-xs text-gray-500 truncate",children:h.description})]})]}),description:h.description})),d=e.filter(h=>t.includes(h.id)),f=s.jsxs("div",{className:`flex h-auto min-h-[36px] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background cursor-pointer transition-colors hover:bg-accent hover:text-accent-foreground ${r?"cursor-not-allowed opacity-50":""} ${a}`,children:[s.jsx("div",{className:"flex flex-1 items-center overflow-hidden",children:d.length===0?s.jsx("span",{className:"text-muted-foreground truncate",children:i}):s.jsx("div",{className:"flex flex-wrap gap-1",children:d.map(h=>s.jsxs(Ce,{variant:"secondary",className:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100",children:[s.jsx(Rw,{size:10,className:"mr-1"}),h.name,s.jsx("button",{onClick:m=>{m.stopPropagation(),n(t.filter(p=>p!==h.id))},className:"ml-1 hover:bg-blue-200 rounded-full p-0.5",disabled:r,children:s.jsx(tn,{size:10})})]},h.id))})}),s.jsxs("div",{className:"ml-2 flex items-center gap-1",children:[d.length>0&&s.jsx(Ce,{variant:"outline",className:"text-xs",children:d.length}),s.jsx(rr,{size:14,className:"opacity-50"})]})]});return s.jsxs("div",{className:"space-y-2",children:[s.jsx(uM,{options:u,value:t,onChange:n,placeholder:i,disabled:r,trigger:f,className:a}),d.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-600",children:["Projets sélectionnés (",d.length,")"]}),s.jsx("div",{className:"space-y-1",children:d.map(h=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-md px-2 py-1.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rw,{size:12,className:"text-blue-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.name}),h.description&&s.jsx("div",{className:"text-gray-500 text-xs",children:h.description})]})]}),s.jsx("button",{onClick:()=>n(t.filter(m=>m!==h.id)),className:"text-gray-400 hover:text-red-500 transition-colors",disabled:r,children:s.jsx(tn,{size:12})})]},h.id))})]})]})},Ju=e=>{var t;return(e==null?void 0:e.email)||((t=e==null?void 0:e.user)==null?void 0:t.email)||""},r6=e=>!e||typeof e!="string"?"?":e.split("@")[0].substring(0,2).toUpperCase(),FMe=({collaborators:e=[],projects:t=[],onUpdateCollaborator:n,onRemoveCollaborator:r,onChangeStatus:i,loading:a=!1})=>{const o=e.map(k=>{var A;return{...k,email:(k==null?void 0:k.email)||((A=k==null?void 0:k.user)==null?void 0:A.email)||"",projects:(k==null?void 0:k.projects)||[],status:(k==null?void 0:k.status)||"active",role:(k==null?void 0:k.role)||"viewer",id:(k==null?void 0:k.id)||"",user:(k==null?void 0:k.user)||null,project:(k==null?void 0:k.project)||null}}),[l,c]=x.useState(""),[u,d]=x.useState("all"),[f,h]=x.useState("all"),[m,p]=x.useState("email"),[g,y]=x.useState("asc"),[v,w]=x.useState(null),[b,j]=x.useState(null),_=o.filter(k=>{const T=Ju(k).toLowerCase().includes(l.toLowerCase()),E=u==="all"||k.status===u,R=f==="all"||k.role===f;return T&&E&&R}).sort((k,A)=>{let T=k[m],E=A[m];return m==="projects"&&(T=(k.projects||[]).length,E=(A.projects||[]).length),typeof T=="string"&&(T=T.toLowerCase(),E=E.toLowerCase()),g==="asc"?T>E?1:-1:T<E?1:-1}),N=async(k,A)=>{await n(k,{role:A})},S=async()=>{b&&(await r(b.id),j(null))},C=async(k,A)=>{await n(k,{projects:A})};return a?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"}),[...Array(5)].map((k,A)=>s.jsx("div",{className:"h-16 bg-gray-100 rounded animate-pulse"},A))]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[s.jsxs("div",{className:"relative flex-1 w-2/5",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),s.jsx(ke,{placeholder:"Rechercher par email...",value:l,onChange:k=>c(k.target.value),className:"pl-10"})]}),s.jsxs(vt,{value:u,onValueChange:d,children:[s.jsxs(yt,{className:"w-[140px]",children:[s.jsx(Dl,{size:16,className:"mr-2"}),s.jsx(_t,{placeholder:"Statut"})]}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Tous les statuts"}),s.jsx(fe,{value:"active",children:"Actif"}),s.jsx(fe,{value:"pending",children:"En attente"}),s.jsx(fe,{value:"suspended",children:"Suspendu"})]})]}),s.jsxs(vt,{value:f,onValueChange:h,children:[s.jsx(yt,{className:"w-[140px]",children:s.jsx(_t,{placeholder:"Rôle"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Tous les rôles"}),s.jsx(fe,{value:"viewer",children:"Lecteur"}),s.jsx(fe,{value:"editor",children:"Éditeur"}),s.jsx(fe,{value:"admin",children:"Administrateur"})]})]})]})}),s.jsx("div",{className:"block md:hidden space-y-3",children:_.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:l||u!=="all"||f!=="all"?"Aucun collaborateur ne correspond aux critères de recherche":"Aucun collaborateur pour le moment"}):_.map(k=>s.jsxs("div",{className:"bg-white border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pv,{className:"h-10 w-10",children:s.jsx(Ov,{className:"text-sm bg-blue-100 text-blue-600",children:r6(Ju(k))})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:Ju(k)}),s.jsx(n6,{status:k.status})]})]}),s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>j(k),className:"text-red-600 hover:text-red-800 hover:bg-red-50",children:s.jsx(Rr,{size:16})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Projets:"}),s.jsx(H,{variant:"ghost",size:"sm",className:"h-auto p-1 text-right",onClick:()=>w(k),children:s.jsxs("span",{className:"text-sm text-gray-900",children:[(k.projects||[]).length," projet",(k.projects||[]).length>1?"s":""]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Rôle:"}),s.jsxs(vt,{value:k.role,onValueChange:A=>N(k.id,A),children:[s.jsx(yt,{className:"w-[120px] h-8",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"viewer",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{size:14}),"Lecteur"]})}),s.jsx(fe,{value:"editor",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b2,{size:14}),"Éditeur"]})}),s.jsx(fe,{value:"admin",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vF,{size:14}),"Admin"]})})]})]})]})]})]},k.id))}),s.jsx("div",{className:"hidden md:block border rounded-lg overflow-x-auto",children:s.jsxs(Zs,{children:[s.jsx(so,{children:s.jsxs(st,{className:"bg-gray-50",children:[s.jsx(xn,{className:"cursor-pointer hover:bg-gray-100",onClick:()=>{m==="email"?y(g==="asc"?"desc":"asc"):(p("email"),y("asc"))},children:s.jsxs("div",{className:"flex items-center gap-2",children:["Collaborateur",s.jsx(ya,{size:14,className:`transition-transform ${m==="email"&&g==="desc"?"rotate-180":""}`})]})}),s.jsx(xn,{children:"Projet"}),s.jsx(xn,{children:"Rôle"}),s.jsx(xn,{children:"Statut"}),s.jsx(xn,{className:"w-[50px]"})]})}),s.jsx(ei,{children:_.length===0?s.jsx(st,{children:s.jsx(Me,{colSpan:5,className:"text-center py-8 text-gray-500",children:l||u!=="all"||f!=="all"?"Aucun collaborateur ne correspond aux critères de recherche":"Aucun collaborateur pour le moment"})}):_.map(k=>s.jsxs(st,{className:"hover:bg-gray-50",children:[s.jsx(Me,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pv,{className:"h-8 w-8",children:s.jsx(Ov,{className:"text-xs bg-blue-100 text-blue-600",children:r6(Ju(k))})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ft,{size:14,className:"text-gray-400"}),s.jsx("span",{className:"font-medium",children:Ju(k)})]})]})}),s.jsx(Me,{children:s.jsx(H,{variant:"ghost",size:"sm",className:"h-auto p-1 text-left justify-start",onClick:()=>w(k),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rw,{size:14,className:"text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-900 hover:text-gray-700",children:[(k.projects||[]).length," projet",(k.projects||[]).length>1?"s":""]})]})})}),s.jsx(Me,{children:s.jsxs(vt,{value:k.role,onValueChange:A=>N(k.id,A),children:[s.jsx(yt,{className:"w-[140px] h-8",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"viewer",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{size:14}),"Lecteur"]})}),s.jsx(fe,{value:"editor",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b2,{size:14}),"Éditeur"]})}),s.jsx(fe,{value:"admin",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vF,{size:14}),"Administrateur"]})})]})]})}),s.jsx(Me,{children:s.jsx(n6,{status:k.status})}),s.jsx(Me,{children:s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>j(k),className:"text-red-600 hover:text-red-800 hover:bg-red-50",children:s.jsx(Rr,{size:16})})})]},k.id))})]})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Modifier ",Ju(v)]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Projets assignés"}),s.jsx(Vee,{projects:t,selectedProjects:v.projects||[],onChange:k=>w(A=>({...A,projects:k}))})]})}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(H,{variant:"outline",onClick:()=>w(null),children:"Annuler"}),s.jsx(H,{onClick:()=>{C(v.id,v.projects||[]),w(null)},children:"Sauvegarder"})]})]})}),s.jsx(R1,{open:!!b,onOpenChange:()=>j(null),children:s.jsxs(rb,{children:[s.jsxs(sb,{children:[s.jsx(ab,{children:"Êtes-vous sûr ?"}),s.jsxs(ob,{children:['Cette action ne peut pas être annulée. Cela supprimera définitivement le collaborateur "',Ju(b),'" et retirera son accès à tous les projets.']})]}),s.jsxs(ib,{children:[s.jsx(cb,{children:"Annuler"}),s.jsx(lb,{onClick:S,className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})})]})},zMe=({isOpen:e,onClose:t,onInvite:n,projects:r=[],loading:i=!1,error:a=null})=>{const[o,l]=x.useState({email:"",role:"",projects:[]}),[c,u]=x.useState({}),[d,f]=x.useState(!1),h=[{value:"read",label:"Lecteur",description:"Peut consulter les projets et livrables"},{value:"write",label:"Éditeur",description:"Peut modifier les projets et créer des livrables"},{value:"admin",label:"Administrateur",description:"Accès complet à tous les projets et paramètres"}],m=()=>{const v={};return o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(v.email="Format d'email invalide"):v.email="L'email est requis",o.role||(v.role="Le rôle est requis"),o.projects.length===0&&(v.projects="Il est recommandé d'assigner au moins un projet"),u(v),Object.keys(v).length===0},p=async v=>{if(v.preventDefault(),!m())return;(await n(o)).success&&(f(!0),setTimeout(()=>{g()},2e3))},g=()=>{l({email:"",role:"",projects:[]}),u({}),f(!1),t()},y=()=>{const v=h.find(w=>w.value===o.role);return v?v.description:""};return s.jsx(pt,{open:e,onOpenChange:g,children:s.jsxs(gt,{className:"sm:max-w-[500px]",children:[s.jsxs(jt,{children:[s.jsxs(xt,{className:"flex items-center gap-2",children:[s.jsx(mf,{size:20,className:"text-blue-600"}),"Inviter un nouveau collaborateur"]}),s.jsx(Mt,{children:"Invitez une personne à collaborer sur vos projets. Elle recevra un email d'invitation."})]}),d?s.jsxs("div",{className:"py-8 text-center",children:[s.jsx(Gt,{size:48,className:"mx-auto text-green-500 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-2",children:"Invitation envoyée !"}),s.jsxs("p",{className:"text-gray-600",children:["L'invitation a été envoyée à ",o.email]})]}):s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(Ft,{size:16}),"Adresse email"]}),s.jsx(ke,{id:"email",type:"email",placeholder:"collaborateur@example.com",value:o.email,onChange:v=>l(w=>({...w,email:v.target.value})),className:c.email?"border-red-500":""}),c.email&&s.jsx("p",{className:"text-sm text-red-500",children:c.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"role",children:"Rôle"}),s.jsxs(vt,{value:o.role,onValueChange:v=>l(w=>({...w,role:v})),children:[s.jsx(yt,{className:c.role?"border-red-500":"",children:s.jsx(_t,{placeholder:"Sélectionner un rôle"})}),s.jsx(bt,{children:h.map(v=>s.jsx(fe,{value:v.value,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:v.label}),s.jsx("span",{className:"text-xs text-gray-500",children:v.description})]})},v.value))})]}),o.role&&s.jsx("p",{className:"text-xs text-gray-600",children:y()}),c.role&&s.jsx("p",{className:"text-sm text-red-500",children:c.role})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Projets assignés"}),s.jsx(Vee,{projects:r,selectedProjects:o.projects,onChange:v=>l(w=>({...w,projects:v})),placeholder:"Sélectionner des projets...",className:c.projects?"border-red-500":""}),c.projects&&s.jsxs($l,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(ts,{className:"h-4 w-4 text-yellow-600"}),s.jsx(Fl,{className:"text-yellow-700",children:c.projects})]})]}),a&&s.jsxs($l,{className:"border-red-200 bg-red-50",children:[s.jsx(ts,{className:"h-4 w-4 text-red-600"}),s.jsx(Fl,{className:"text-red-700",children:a})]}),s.jsxs(Kt,{children:[s.jsx(H,{type:"button",variant:"outline",onClick:g,disabled:i,children:"Annuler"}),s.jsx(H,{type:"submit",disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{size:16,className:"mr-2 animate-spin"}),"Envoi en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(mf,{size:16,className:"mr-2"}),"Envoyer l'invitation"]})})]})]})]})})},BMe=e=>{const{userProjects:t,currentProjectId:n}=yr(),[r,i]=x.useState([]),[a,o]=x.useState([]),[l,c]=x.useState(!1),[u,d]=x.useState(null),{toast:f}=ja(),h=t.map(A=>({id:A.project_id,name:A.nom_projet||"Projet sans nom",description:`Créé le ${new Date(A.created_at).toLocaleDateString("fr-FR")}`})),m=A=>A.map(T=>{var E;return{...T,email:T.email||((E=T.user)==null?void 0:E.email)||"",projects:T.projects||[],status:T.status||"active",role:T.role||"viewer"}}),p=async()=>{c(!0);try{const A=e?await ji.getProjectCollaborators(e):await ji.getUserCollaborators();i(m(A))}catch(A){d(A.message),f({title:"Erreur",description:"Impossible de charger les collaborateurs",variant:"destructive"})}finally{c(!1)}},g=async()=>{try{const A=await ji.getSentInvitations();o(A)}catch(A){console.error("Erreur lors du chargement des invitations:",A)}};x.useEffect(()=>{p(),g();const A=q.channel("collaborators_changes").on("postgres_changes",{event:"*",schema:"public",table:"project_collaborators",filter:void 0},()=>{p()}).subscribe(),T=q.channel("invitations_changes").on("postgres_changes",{event:"*",schema:"public",table:"project_invitations"},()=>{g()}).subscribe();return()=>{A.unsubscribe(),T.unsubscribe()}},[e,n]);const y=async A=>{c(!0);try{const{email:T,role:E,projects:R}=A,$=R||[n];let O=!0,F=null;for(const z of $){const P=await ji.inviteCollaborator(z,T,E);if(!P.success){O=!1,F=P.error;break}}return O?(f({title:"Invitation envoyée",description:`Une invitation a été envoyée à ${T}`}),await p(),{success:!0}):(f({title:"Erreur",description:F,variant:"destructive"}),{success:!1,error:F})}catch(T){return f({title:"Erreur",description:T.message,variant:"destructive"}),{success:!1,error:T.message}}finally{c(!1)}},v=async A=>{try{const T=await ji.acceptInvitation(A);return T.success?(f({title:"Invitation acceptée",description:"Vous avez maintenant accès au projet"}),await p(),await g(),{success:!0}):(f({title:"Erreur",description:T.error,variant:"destructive"}),{success:!1,error:T.error})}catch(T){return f({title:"Erreur",description:T.message,variant:"destructive"}),{success:!1,error:T.message}}},w=async(A,T)=>{try{return T.role&&await ji.updateCollaboratorRole(A,T.role),T.status&&await ji.updateCollaboratorStatus(A,T.status),await p(),{success:!0}}catch(E){return f({title:"Erreur",description:E.message,variant:"destructive"}),{success:!1,error:E.message}}},b=async A=>{try{return await ji.removeCollaborator(A),f({title:"Collaborateur supprimé",description:"Le collaborateur a été retiré du projet"}),await p(),{success:!0}}catch(T){return f({title:"Erreur",description:T.message,variant:"destructive"}),{success:!1,error:T.message}}},j=async(A,T)=>w(A,{status:T}),_=async(A,T)=>{if(!n||!T)return!1;try{const E=await ji.checkUserPermissions(n,T);return{read:E.permissions.canRead,write:E.permissions.canWrite,delete:E.permissions.canDelete,manage:E.permissions.canManageCollaborators}[A]||!1}catch(E){return console.error("Erreur lors de la vérification des permissions:",E),!1}},N=A=>r.find(T=>T.id===A),S=A=>r.filter(T=>T.status===A),C=A=>{const T=N(A);return T?h.filter(E=>r.some(R=>R.user_id===T.user_id&&R.project_id===E.id)):[]},k={total:r.length,active:r.filter(A=>A.status==="accepted").length,pending:a.length,suspended:r.filter(A=>A.status==="suspended").length,collaborativeProjects:h.filter(A=>r.some(T=>{var E;return((E=T.project)==null?void 0:E.project_id)===A.id&&T.status==="accepted"})).length,byRole:{read:r.filter(A=>A.role==="read").length,write:r.filter(A=>A.role==="write").length,admin:r.filter(A=>A.role==="admin").length}};return{collaborators:r,invitations:a,projects:h,loading:l,error:u,stats:k,inviteCollaborator:y,acceptInvitation:v,updateCollaborator:w,removeCollaborator:b,changeCollaboratorStatus:j,getCollaboratorById:N,getCollaboratorsByStatus:S,getCollaboratorProjects:C,checkPermission:_,refresh:p,clearError:()=>d(null)}};var hS="Switch",[UMe]=sr(hS),[qMe,VMe]=UMe(hS),Hee=x.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),p=it(t,b=>m(b)),g=x.useRef(!1),y=h?d||!!h.closest("form"):!0,[v,w]=Or({prop:i,defaultProp:a??!1,onChange:u,caller:hS});return s.jsxs(qMe,{scope:n,checked:v,disabled:l,children:[s.jsx($e.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":Yee(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:Te(e.onClick,b=>{w(j=>!j),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&s.jsx(Kee,{control:h,bubbles:!g.current,name:r,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Hee.displayName=hS;var Wee="SwitchThumb",Gee=x.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=VMe(Wee,n);return s.jsx($e.span,{"data-state":Yee(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});Gee.displayName=Wee;var HMe="SwitchBubbleInput",Kee=x.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=x.useRef(null),l=it(o,a),c=ub(n),u=Gy(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const p=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(p)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Kee.displayName=HMe;function Yee(e){return e?"checked":"unchecked"}var Xee=Hee,WMe=Gee;const As=x.forwardRef(({className:e,...t},n)=>s.jsx(Xee,{className:de("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(WMe,{className:de("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));As.displayName=Xee.displayName;var s6=1,GMe=.9,KMe=.8,YMe=.17,WE=.1,GE=.999,XMe=.9999,QMe=.99,JMe=/[\\\/_+.#"@\[\(\{&]/,ZMe=/[\\\/_+.#"@\[\(\{&]/g,eIe=/[\s-]/,Qee=/[\s-]/g;function FT(e,t,n,r,i,a,o){if(a===t.length)return i===e.length?s6:QMe;var l=`${i},${a}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(a),u=n.indexOf(c,i),d=0,f,h,m,p;u>=0;)f=FT(e,t,n,r,u+1,a+1,o),f>d&&(u===i?f*=s6:JMe.test(e.charAt(u-1))?(f*=KMe,m=e.slice(i,u-1).match(ZMe),m&&i>0&&(f*=Math.pow(GE,m.length))):eIe.test(e.charAt(u-1))?(f*=GMe,p=e.slice(i,u-1).match(Qee),p&&i>0&&(f*=Math.pow(GE,p.length))):(f*=YMe,i>0&&(f*=Math.pow(GE,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=XMe)),(f<WE&&n.charAt(u-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(u-1)!==r.charAt(a))&&(h=FT(e,t,n,r,u+1,a+2,o),h*WE>f&&(f=h*WE)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function i6(e){return e.toLowerCase().replace(Qee," ")}function tIe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,FT(e,t,i6(e),i6(t),0,0,{})}var Bg='[cmdk-group=""]',KE='[cmdk-group-items=""]',nIe='[cmdk-group-heading=""]',Jee='[cmdk-item=""]',a6=`${Jee}:not([aria-disabled="true"])`,zT="cmdk-item-select",_h="data-value",rIe=(e,t,n)=>tIe(e,t,n),Zee=x.createContext(void 0),Eb=()=>x.useContext(Zee),ete=x.createContext(void 0),sI=()=>x.useContext(ete),tte=x.createContext(void 0),nte=x.forwardRef((e,t)=>{let n=Nh(()=>{var D,L;return{search:"",value:(L=(D=e.value)!=null?D:e.defaultValue)!=null?L:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Nh(()=>new Set),i=Nh(()=>new Map),a=Nh(()=>new Map),o=Nh(()=>new Set),l=rte(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:p,disablePointerSelection:g=!1,vimBindings:y=!0,...v}=e,w=xr(),b=xr(),j=xr(),_=x.useRef(null),N=mIe();_f(()=>{if(d!==void 0){let D=d.trim();n.current.value=D,S.emit()}},[d]),_f(()=>{N(6,R)},[]);let S=x.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>n.current,setState:(D,L,V)=>{var K,G,X,oe;if(!Object.is(n.current[D],L)){if(n.current[D]=L,D==="search")E(),A(),N(1,T);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Y=document.getElementById(j);Y?Y.focus():(K=document.getElementById(w))==null||K.focus()}if(N(7,()=>{var Y;n.current.selectedItemId=(Y=$())==null?void 0:Y.id,S.emit()}),V||N(5,R),((G=l.current)==null?void 0:G.value)!==void 0){let Y=L??"";(oe=(X=l.current).onValueChange)==null||oe.call(X,Y);return}}S.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),C=x.useMemo(()=>({value:(D,L,V)=>{var K;L!==((K=a.current.get(D))==null?void 0:K.value)&&(a.current.set(D,{value:L,keywords:V}),n.current.filtered.items.set(D,k(L,V)),N(2,()=>{A(),S.emit()}))},item:(D,L)=>(r.current.add(D),L&&(i.current.has(L)?i.current.get(L).add(D):i.current.set(L,new Set([D]))),N(3,()=>{E(),A(),n.current.value||T(),S.emit()}),()=>{a.current.delete(D),r.current.delete(D),n.current.filtered.items.delete(D);let V=$();N(4,()=>{E(),(V==null?void 0:V.getAttribute("id"))===D&&T(),S.emit()})}),group:D=>(i.current.has(D)||i.current.set(D,new Set),()=>{a.current.delete(D),i.current.delete(D)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:w,inputId:j,labelId:b,listInnerRef:_}),[]);function k(D,L){var V,K;let G=(K=(V=l.current)==null?void 0:V.filter)!=null?K:rIe;return D?G(D,n.current.search,L):0}function A(){if(!n.current.search||l.current.shouldFilter===!1)return;let D=n.current.filtered.items,L=[];n.current.filtered.groups.forEach(K=>{let G=i.current.get(K),X=0;G.forEach(oe=>{let Y=D.get(oe);X=Math.max(Y,X)}),L.push([K,X])});let V=_.current;O().sort((K,G)=>{var X,oe;let Y=K.getAttribute("id"),ne=G.getAttribute("id");return((X=D.get(ne))!=null?X:0)-((oe=D.get(Y))!=null?oe:0)}).forEach(K=>{let G=K.closest(KE);G?G.appendChild(K.parentElement===G?K:K.closest(`${KE} > *`)):V.appendChild(K.parentElement===V?K:K.closest(`${KE} > *`))}),L.sort((K,G)=>G[1]-K[1]).forEach(K=>{var G;let X=(G=_.current)==null?void 0:G.querySelector(`${Bg}[${_h}="${encodeURIComponent(K[0])}"]`);X==null||X.parentElement.appendChild(X)})}function T(){let D=O().find(V=>V.getAttribute("aria-disabled")!=="true"),L=D==null?void 0:D.getAttribute(_h);S.setState("value",L||void 0)}function E(){var D,L,V,K;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let G=0;for(let X of r.current){let oe=(L=(D=a.current.get(X))==null?void 0:D.value)!=null?L:"",Y=(K=(V=a.current.get(X))==null?void 0:V.keywords)!=null?K:[],ne=k(oe,Y);n.current.filtered.items.set(X,ne),ne>0&&G++}for(let[X,oe]of i.current)for(let Y of oe)if(n.current.filtered.items.get(Y)>0){n.current.filtered.groups.add(X);break}n.current.filtered.count=G}function R(){var D,L,V;let K=$();K&&(((D=K.parentElement)==null?void 0:D.firstChild)===K&&((V=(L=K.closest(Bg))==null?void 0:L.querySelector(nIe))==null||V.scrollIntoView({block:"nearest"})),K.scrollIntoView({block:"nearest"}))}function $(){var D;return(D=_.current)==null?void 0:D.querySelector(`${Jee}[aria-selected="true"]`)}function O(){var D;return Array.from(((D=_.current)==null?void 0:D.querySelectorAll(a6))||[])}function F(D){let L=O()[D];L&&S.setState("value",L.getAttribute(_h))}function z(D){var L;let V=$(),K=O(),G=K.findIndex(oe=>oe===V),X=K[G+D];(L=l.current)!=null&&L.loop&&(X=G+D<0?K[K.length-1]:G+D===K.length?K[0]:K[G+D]),X&&S.setState("value",X.getAttribute(_h))}function P(D){let L=$(),V=L==null?void 0:L.closest(Bg),K;for(;V&&!K;)V=D>0?fIe(V,Bg):hIe(V,Bg),K=V==null?void 0:V.querySelector(a6);K?S.setState("value",K.getAttribute(_h)):z(D)}let I=()=>F(O().length-1),M=D=>{D.preventDefault(),D.metaKey?I():D.altKey?P(1):z(1)},U=D=>{D.preventDefault(),D.metaKey?F(0):D.altKey?P(-1):z(-1)};return x.createElement($e.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:D=>{var L;(L=v.onKeyDown)==null||L.call(v,D);let V=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||V))switch(D.key){case"n":case"j":{y&&D.ctrlKey&&M(D);break}case"ArrowDown":{M(D);break}case"p":case"k":{y&&D.ctrlKey&&U(D);break}case"ArrowUp":{U(D);break}case"Home":{D.preventDefault(),F(0);break}case"End":{D.preventDefault(),I();break}case"Enter":{D.preventDefault();let K=$();if(K){let G=new Event(zT);K.dispatchEvent(G)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:gIe},c),mS(e,D=>x.createElement(ete.Provider,{value:S},x.createElement(Zee.Provider,{value:C},D))))}),sIe=x.forwardRef((e,t)=>{var n,r;let i=xr(),a=x.useRef(null),o=x.useContext(tte),l=Eb(),c=rte(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;_f(()=>{if(!u)return l.item(i,o==null?void 0:o.id)},[u]);let d=ste(i,a,[e.value,e.children,a],e.keywords),f=sI(),h=ju(N=>N.value&&N.value===d.current),m=ju(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(i)>0:!0);x.useEffect(()=>{let N=a.current;if(!(!N||e.disabled))return N.addEventListener(zT,p),()=>N.removeEventListener(zT,p)},[m,e.onSelect,e.disabled]);function p(){var N,S;g(),(S=(N=c.current).onSelect)==null||S.call(N,d.current)}function g(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:y,value:v,onSelect:w,forceMount:b,keywords:j,..._}=e;return x.createElement($e.div,{ref:Rl(a,t),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!h,"data-disabled":!!y,"data-selected":!!h,onPointerMove:y||l.getDisablePointerSelection()?void 0:g,onClick:y?void 0:p},e.children)}),iIe=x.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...a}=e,o=xr(),l=x.useRef(null),c=x.useRef(null),u=xr(),d=Eb(),f=ju(m=>i||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);_f(()=>d.group(o),[]),ste(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:i}),[i]);return x.createElement($e.div,{ref:Rl(l,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),mS(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},x.createElement(tte.Provider,{value:h},m))))}),aIe=x.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=x.useRef(null),a=ju(o=>!o.search);return!n&&!a?null:x.createElement($e.div,{ref:Rl(i,t),...r,"cmdk-separator":"",role:"separator"})}),oIe=x.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,a=sI(),o=ju(u=>u.search),l=ju(u=>u.selectedItemId),c=Eb();return x.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),x.createElement($e.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),lIe=x.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,a=x.useRef(null),o=x.useRef(null),l=ju(u=>u.selectedItemId),c=Eb();return x.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement($e.div,{ref:Rl(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},mS(e,u=>x.createElement("div",{ref:Rl(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),cIe=x.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:a,container:o,...l}=e;return x.createElement(VD,{open:n,onOpenChange:r},x.createElement(P1,{container:o},x.createElement(Wp,{"cmdk-overlay":"",className:i}),x.createElement(Gp,{"aria-label":e.label,"cmdk-dialog":"",className:a},x.createElement(nte,{ref:t,...l}))))}),uIe=x.forwardRef((e,t)=>ju(n=>n.filtered.count===0)?x.createElement($e.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),dIe=x.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...a}=e;return x.createElement($e.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},mS(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),xi=Object.assign(nte,{List:lIe,Item:sIe,Input:oIe,Group:iIe,Separator:aIe,Dialog:cIe,Empty:uIe,Loading:dIe});function fIe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function hIe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function rte(e){let t=x.useRef(e);return _f(()=>{t.current=e}),t}var _f=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Nh(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function ju(e){let t=sI(),n=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,n,n)}function ste(e,t,n,r=[]){let i=x.useRef(),a=Eb();return _f(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=r.map(u=>u.trim());a.value(e,l,c),(o=t.current)==null||o.setAttribute(_h,l),i.current=l}),i}var mIe=()=>{let[e,t]=x.useState(),n=Nh(()=>new Map);return _f(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function pIe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function mS({asChild:e,children:t},n){return e&&x.isValidElement(t)?x.cloneElement(pIe(t),{ref:t.ref},n(t.props.children)):n(t)}var gIe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const qc=x.forwardRef(({className:e,...t},n)=>s.jsx(xi,{ref:n,className:de("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));qc.displayName=xi.displayName;const px=x.forwardRef(({className:e,...t},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(rr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(xi.Input,{ref:n,className:de("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));px.displayName=xi.Input.displayName;const Vc=x.forwardRef(({className:e,...t},n)=>s.jsx(xi.List,{ref:n,className:de("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Vc.displayName=xi.List.displayName;const gx=x.forwardRef((e,t)=>s.jsx(xi.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));gx.displayName=xi.Empty.displayName;const Hc=x.forwardRef(({className:e,...t},n)=>s.jsx(xi.Group,{ref:n,className:de("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Hc.displayName=xi.Group.displayName;const xIe=x.forwardRef(({className:e,...t},n)=>s.jsx(xi.Separator,{ref:n,className:de("-mx-1 h-px bg-border",e),...t}));xIe.displayName=xi.Separator.displayName;const Wc=x.forwardRef(({className:e,...t},n)=>s.jsx(xi.Item,{ref:n,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Wc.displayName=xi.Item.displayName;var ft=function(){return ft=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ft.apply(this,arguments)};function vIe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ite(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function kb(e){return e.mode==="multiple"}function Ab(e){return e.mode==="range"}function pS(e){return e.mode==="single"}var yIe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function bIe(e,t){return ps(e,"LLLL y",t)}function wIe(e,t){return ps(e,"d",t)}function jIe(e,t){return ps(e,"LLLL",t)}function _Ie(e){return"".concat(e)}function NIe(e,t){return ps(e,"cccccc",t)}function SIe(e,t){return ps(e,"yyyy",t)}var CIe=Object.freeze({__proto__:null,formatCaption:bIe,formatDay:wIe,formatMonthCaption:jIe,formatWeekNumber:_Ie,formatWeekdayName:NIe,formatYearCaption:SIe}),EIe=function(e,t,n){return ps(e,"do MMMM (EEEE)",n)},kIe=function(){return"Month: "},AIe=function(){return"Go to next month"},TIe=function(){return"Go to previous month"},PIe=function(e,t){return ps(e,"cccc",t)},OIe=function(e){return"Week n. ".concat(e)},RIe=function(){return"Year: "},DIe=Object.freeze({__proto__:null,labelDay:EIe,labelMonthDropdown:kIe,labelNext:AIe,labelPrevious:TIe,labelWeekNumber:OIe,labelWeekday:PIe,labelYearDropdown:RIe});function MIe(){var e="buttons",t=yIe,n=tI,r={},i={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:CIe,labels:DIe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function IIe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return r?a=fi(r):t&&(a=new Date(t,0,1)),i?o=fS(i):n&&(o=new Date(n,11,31)),{fromDate:a?Gm(a):void 0,toDate:o?Gm(o):void 0}}var ate=x.createContext(void 0);function LIe(e){var t,n=e.initialProps,r=MIe(),i=IIe(n),a=i.fromDate,o=i.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(pS(n)||kb(n)||Ab(n))&&(c=n.onSelect);var u=ft(ft(ft({},r),n),{captionLayout:l,classNames:ft(ft({},r.classNames),n.classNames),components:ft({},n.components),formatters:ft(ft({},r.formatters),n.formatters),fromDate:a,labels:ft(ft({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ft(ft({},r.modifiers),n.modifiers),modifiersClassNames:ft(ft({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:ft(ft({},r.styles),n.styles),toDate:o});return s.jsx(ate.Provider,{value:u,children:e.children})}function Tn(){var e=x.useContext(ate);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function ote(e){var t=Tn(),n=t.locale,r=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function $Ie(e){return s.jsx("svg",ft({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lte(e){var t,n,r=e.onChange,i=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,u=Tn(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:$Ie;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:a}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function FIe(e){var t,n=Tn(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var f=[];if(JDe(r,i))for(var h=fi(r),m=r.getMonth();m<=i.getMonth();m++)f.push(HE(h,m));else for(var h=fi(new Date),m=0;m<=11;m++)f.push(HE(h,m));var p=function(y){var v=Number(y.target.value),w=HE(fi(e.displayMonth),v);e.onChange(w)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:lte;return s.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(y){return s.jsx("option",{value:y.getMonth(),children:l(y,{locale:o})},y.getMonth())})})}function zIe(e){var t,n=e.displayMonth,r=Tn(),i=r.fromDate,a=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var m=i.getFullYear(),p=a.getFullYear(),g=m;g<=p;g++)h.push(t6(Iee(new Date),g));var y=function(w){var b=t6(fi(n),Number(w.target.value));e.onChange(b)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:lte;return s.jsx(v,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(w){return s.jsx("option",{value:w.getFullYear(),children:d(w,{locale:o})},w.getFullYear())})})}function BIe(e,t){var n=x.useState(e),r=n[0],i=n[1],a=t===void 0?r:t;return[a,i]}function UIe(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&Ym(a,i)<0){var u=-1*(c-1);i=oo(a,u)}return o&&Ym(i,o)<0&&(i=o),fi(i)}function qIe(){var e=Tn(),t=UIe(e),n=BIe(t,e.month),r=n[0],i=n[1],a=function(o){var l;if(!e.disableNavigation){var c=fi(o);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,a]}function VIe(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=fi(e),a=fi(oo(i,r)),o=Ym(a,i),l=[],c=0;c<o;c++){var u=oo(i,c);l.push(u)}return n&&(l=l.reverse()),l}function HIe(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=fi(e);if(!n)return oo(l,o);var c=Ym(n,e);if(!(c<a))return oo(l,o)}}function WIe(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=fi(e);if(!n)return oo(l,-o);var c=Ym(l,n);if(!(c<=0))return oo(l,-o)}}var cte=x.createContext(void 0);function GIe(e){var t=Tn(),n=qIe(),r=n[0],i=n[1],a=VIe(r,t),o=HIe(r,t),l=WIe(r,t),c=function(f){return a.some(function(h){return rI(f,h)})},u=function(f,h){c(f)||(h&&qee(f,h)?i(oo(f,1+t.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(cte.Provider,{value:d,children:e.children})}function Tb(){var e=x.useContext(cte);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function o6(e){var t,n=Tn(),r=n.classNames,i=n.styles,a=n.components,o=Tb().goToMonth,l=function(d){o(oo(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:ote,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:u}),s.jsx(FIe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(zIe,{onChange:l,displayMonth:e.displayMonth})]})}function KIe(e){return s.jsx("svg",ft({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function YIe(e){return s.jsx("svg",ft({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var f_=x.forwardRef(function(e,t){var n=Tn(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var o=a.join(" "),l=ft(ft({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",ft({},e,{ref:t,type:"button",className:o,style:l}))});function XIe(e){var t,n,r=Tn(),i=r.dir,a=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:a}),m=[o.nav_button,o.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:a}),g=[o.nav_button,o.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:YIe,v=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:KIe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(f_,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(f_,{name:"next-month","aria-label":p,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})})]})}function l6(e){var t=Tn().numberOfMonths,n=Tb(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(p){return rI(e.displayMonth,p)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){r&&a(r)},m=function(){i&&a(i)};return s.jsx(XIe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:m})}function QIe(e){var t,n=Tn(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:ote,u;return i?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(o6,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(o6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(l6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(l6,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:a.caption,children:u})}function JIe(e){var t=Tn(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function ZIe(e,t,n){for(var r=n?jf(new Date):qo(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=ks(r,a);i.push(o)}return i}function e4e(){var e=Tn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=ZIe(i,a,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:i}),children:l(d,{locale:i})},f)})]})}function t4e(){var e,t=Tn(),n=t.classNames,r=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:e4e;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(a,{})})}function n4e(e){var t=Tn(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var iI=x.createContext(void 0);function r4e(e){if(!kb(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(iI.Provider,{value:t,children:e.children})}return s.jsx(s4e,{initialProps:e.initialProps,children:e.children})}function s4e(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,a=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var p=!!(d.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var g=!!(!d.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var y=r?ite([],r):[];if(d.selected){var v=y.findIndex(function(w){return ri(u,w)});y.splice(v,1)}else y.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,y,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=a&&r.length>a-1,f=r.some(function(h){return ri(h,u)});return!!(d&&!f)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(iI.Provider,{value:c,children:n})}function aI(){var e=x.useContext(iI);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function i4e(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?ri(i,e)&&ri(r,e)?void 0:ri(i,e)?{from:i,to:void 0}:ri(r,e)?void 0:$T(r,e)?{from:e,to:i}:{from:r,to:e}:i?$T(e,i)?{from:i,to:e}:{from:e,to:i}:r?qee(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var oI=x.createContext(void 0);function a4e(e){if(!Ab(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(oI.Provider,{value:t,children:e.children})}return s.jsx(o4e,{initialProps:e.initialProps,children:e.children})}function o4e(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},a=i.from,o=i.to,l=t.min,c=t.max,u=function(m,p,g){var y,v;(y=t.onDayClick)===null||y===void 0||y.call(t,m,p,g);var w=i4e(m,r);(v=t.onSelect)===null||v===void 0||v.call(t,w,m,p,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],ri(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:VE(a,l-1),before:ks(a,l-1)}),a&&o&&d.disabled.push({after:a,before:ks(a,l-1)}),!a&&o&&d.disabled.push({after:VE(o,l-1),before:ks(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:ks(a,-c+1)}),d.disabled.push({after:ks(a,c-1)})),a&&o){var f=Ao(o,a)+1,h=c-f;d.disabled.push({before:VE(a,h)}),d.disabled.push({after:ks(o,h)})}!a&&o&&(d.disabled.push({before:ks(o,-c+1)}),d.disabled.push({after:ks(o,c-1)}))}return s.jsx(oI.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function lI(){var e=x.useContext(oI);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function qw(e){return Array.isArray(e)?ite([],e):e!==void 0?[e]:[]}function l4e(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=qw(i)}),t}var lo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(lo||(lo={}));var c4e=lo.Selected,el=lo.Disabled,u4e=lo.Hidden,d4e=lo.Today,YE=lo.RangeEnd,XE=lo.RangeMiddle,QE=lo.RangeStart,f4e=lo.Outside;function h4e(e,t,n){var r,i=(r={},r[c4e]=qw(e.selected),r[el]=qw(e.disabled),r[u4e]=qw(e.hidden),r[d4e]=[e.today],r[YE]=[],r[XE]=[],r[QE]=[],r[f4e]=[],r);return e.fromDate&&i[el].push({before:e.fromDate}),e.toDate&&i[el].push({after:e.toDate}),kb(e)?i[el]=i[el].concat(t.modifiers[el]):Ab(e)&&(i[el]=i[el].concat(n.modifiers[el]),i[QE]=n.modifiers[QE],i[XE]=n.modifiers[XE],i[YE]=n.modifiers[YE]),i}var ute=x.createContext(void 0);function m4e(e){var t=Tn(),n=aI(),r=lI(),i=h4e(t,n,r),a=l4e(t.modifiers),o=ft(ft({},i),a);return s.jsx(ute.Provider,{value:o,children:e.children})}function dte(){var e=x.useContext(ute);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function p4e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function g4e(e){return!!(e&&typeof e=="object"&&"from"in e)}function x4e(e){return!!(e&&typeof e=="object"&&"after"in e)}function v4e(e){return!!(e&&typeof e=="object"&&"before"in e)}function y4e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function b4e(e,t){var n,r=t.from,i=t.to;if(r&&i){var a=Ao(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=Ao(e,r)>=0&&Ao(i,e)>=0;return o}return i?ri(i,e):r?ri(r,e):!1}function w4e(e){return ZM(e)}function j4e(e){return Array.isArray(e)&&e.every(ZM)}function _4e(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(w4e(n))return ri(e,n);if(j4e(n))return n.includes(e);if(g4e(n))return b4e(e,n);if(y4e(n))return n.dayOfWeek.includes(e.getDay());if(p4e(n)){var r=Ao(n.before,e),i=Ao(n.after,e),a=r>0,o=i<0,l=$T(n.before,n.after);return l?o&&a:a||o}return x4e(n)?Ao(e,n.after)>0:v4e(n)?Ao(n.before,e)>0:typeof n=="function"?n(e):!1})}function cI(e,t,n){var r=Object.keys(t).reduce(function(a,o){var l=t[o];return _4e(e,l)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!rI(e,n)&&(i.outside=!0),i}function N4e(e,t){for(var n=fi(e[0]),r=fS(e[e.length-1]),i,a,o=n;o<=r;){var l=cI(o,t),c=!l.disabled&&!l.hidden;if(!c){o=ks(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=ks(o,1)}return a||i}var S4e=365;function fte(e,t){var n=t.moveBy,r=t.direction,i=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:ks,week:LT,month:oo,year:BRe,startOfWeek:function(y){return i.ISOWeek?jf(y):qo(y,{locale:f,weekStartsOn:c})},endOfWeek:function(y){return i.ISOWeek?Lee(y):eI(y,{locale:f,weekStartsOn:c})}},m=h[n](e,r==="after"?1:-1);r==="before"&&u?m=URe([u,m]):r==="after"&&d&&(m=qRe([d,m]));var p=!0;if(a){var g=cI(m,a);p=!g.disabled&&!g.hidden}return p?m:l.count>S4e?l.lastFocused:fte(m,{moveBy:n,direction:r,context:i,modifiers:a,retry:ft(ft({},l),{count:l.count+1})})}var hte=x.createContext(void 0);function C4e(e){var t=Tb(),n=dte(),r=x.useState(),i=r[0],a=r[1],o=x.useState(),l=o[0],c=o[1],u=N4e(t.displayMonths,n),d=i??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(i),a(void 0)},h=function(y){a(y)},m=Tn(),p=function(y,v){if(i){var w=fte(i,{moveBy:y,direction:v,context:m,modifiers:n});ri(i,w)||(t.goToDate(w,i),h(w))}},g={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return s.jsx(hte.Provider,{value:g,children:e.children})}function uI(){var e=x.useContext(hte);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function E4e(e,t){var n=dte(),r=cI(e,n,t);return r}var dI=x.createContext(void 0);function k4e(e){if(!pS(e.initialProps)){var t={selected:void 0};return s.jsx(dI.Provider,{value:t,children:e.children})}return s.jsx(A4e,{initialProps:e.initialProps,children:e.children})}function A4e(e){var t=e.initialProps,n=e.children,r=function(a,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,o,l)},i={selected:t.selected,onDayClick:r};return s.jsx(dI.Provider,{value:i,children:n})}function mte(){var e=x.useContext(dI);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function T4e(e,t){var n=Tn(),r=mte(),i=aI(),a=lI(),o=uI(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,p=o.focusMonthAfter,g=o.focusYearBefore,y=o.focusYearAfter,v=o.focusStartOfWeek,w=o.focusEndOfWeek,b=function(z){var P,I,M,U;pS(n)?(P=r.onDayClick)===null||P===void 0||P.call(r,e,t,z):kb(n)?(I=i.onDayClick)===null||I===void 0||I.call(i,e,t,z):Ab(n)?(M=a.onDayClick)===null||M===void 0||M.call(a,e,t,z):(U=n.onDayClick)===null||U===void 0||U.call(n,e,t,z)},j=function(z){var P;h(e),(P=n.onDayFocus)===null||P===void 0||P.call(n,e,t,z)},_=function(z){var P;f(),(P=n.onDayBlur)===null||P===void 0||P.call(n,e,t,z)},N=function(z){var P;(P=n.onDayMouseEnter)===null||P===void 0||P.call(n,e,t,z)},S=function(z){var P;(P=n.onDayMouseLeave)===null||P===void 0||P.call(n,e,t,z)},C=function(z){var P;(P=n.onDayPointerEnter)===null||P===void 0||P.call(n,e,t,z)},k=function(z){var P;(P=n.onDayPointerLeave)===null||P===void 0||P.call(n,e,t,z)},A=function(z){var P;(P=n.onDayTouchCancel)===null||P===void 0||P.call(n,e,t,z)},T=function(z){var P;(P=n.onDayTouchEnd)===null||P===void 0||P.call(n,e,t,z)},E=function(z){var P;(P=n.onDayTouchMove)===null||P===void 0||P.call(n,e,t,z)},R=function(z){var P;(P=n.onDayTouchStart)===null||P===void 0||P.call(n,e,t,z)},$=function(z){var P;(P=n.onDayKeyUp)===null||P===void 0||P.call(n,e,t,z)},O=function(z){var P;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?g():m();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?y():p();break;case"Home":z.preventDefault(),z.stopPropagation(),v();break;case"End":z.preventDefault(),z.stopPropagation(),w();break}(P=n.onDayKeyDown)===null||P===void 0||P.call(n,e,t,z)},F={onClick:b,onFocus:j,onBlur:_,onKeyDown:O,onKeyUp:$,onMouseEnter:N,onMouseLeave:S,onPointerEnter:C,onPointerLeave:k,onTouchCancel:A,onTouchEnd:T,onTouchMove:E,onTouchStart:R};return F}function P4e(){var e=Tn(),t=mte(),n=aI(),r=lI(),i=pS(e)?t.selected:kb(e)?n.selected:Ab(e)?r.selected:void 0;return i}function O4e(e){return Object.values(lo).includes(e)}function R4e(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(O4e(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function D4e(e,t){var n=ft({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=ft(ft({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function M4e(e,t,n){var r,i,a,o=Tn(),l=uI(),c=E4e(e,t),u=T4e(e,c),d=P4e(),f=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var N;c.outside||l.focusedDay&&f&&ri(l.focusedDay,e)&&((N=n.current)===null||N===void 0||N.focus())},[l.focusedDay,e,n,f,c.outside]);var h=R4e(o,c).join(" "),m=D4e(o,c),p=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:n4e,y=s.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),v={style:m,className:h,children:y,role:"gridcell"},w=l.focusTarget&&ri(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&ri(l.focusedDay,e),j=ft(ft(ft({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||w?0:-1,r)),u),_={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:v};return _}function I4e(e){var t=x.useRef(null),n=M4e(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(f_,ft({name:"day",ref:t},n.buttonProps)):s.jsx("div",ft({},n.divProps))}function L4e(e){var t=e.number,n=e.dates,r=Tn(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){i(t,n,m)};return s.jsx(f_,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:h,children:d})}function $4e(e){var t,n,r=Tn(),i=r.styles,a=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:I4e,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:L4e,d;return o&&(d=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},YDe(f))})]})}function c6(e,t,n){for(var r=n!=null&&n.ISOWeek?Lee(t):eI(t,n),i=n!=null&&n.ISOWeek?jf(e):qo(e,n),a=Ao(r,i),o=[],l=0;l<=a;l++)o.push(ks(i,l));var c=o.reduce(function(u,d){var f=n!=null&&n.ISOWeek?Fee(d):Bee(d,n),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function F4e(e,t){var n=c6(fi(e),fS(e),t);if(t!=null&&t.useFixedWeeks){var r=QDe(e,t);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=LT(a,6-r),l=c6(LT(a,1),o,t);n.push.apply(n,l)}}return n}function z4e(e){var t,n,r,i=Tn(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,m=i.ISOWeek,p=F4e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:t4e,y=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:$4e,v=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:JIe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(w){return s.jsx(y,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),s.jsx(v,{displayMonth:e.displayMonth})]})}function B4e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var U4e=B4e()?x.useLayoutEffect:x.useEffect,JE=!1,q4e=0;function u6(){return"react-day-picker-".concat(++q4e)}function V4e(e){var t,n=e??(JE?u6():null),r=x.useState(n),i=r[0],a=r[1];return U4e(function(){i===null&&a(u6())},[]),x.useEffect(function(){JE===!1&&(JE=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function H4e(e){var t,n,r=Tn(),i=r.dir,a=r.classNames,o=r.styles,l=r.components,c=Tb().displayMonths,u=V4e(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],h=o.month,m=e.displayIndex===0,p=e.displayIndex===c.length-1,g=!m&&!p;i==="rtl"&&(t=[m,p],p=t[0],m=t[1]),m&&(f.push(a.caption_start),h=ft(ft({},h),o.caption_start)),p&&(f.push(a.caption_end),h=ft(ft({},h),o.caption_end)),g&&(f.push(a.caption_between),h=ft(ft({},h),o.caption_between));var y=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:QIe;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(z4e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function W4e(e){var t=Tn(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function G4e(e){var t,n,r=e.initialProps,i=Tn(),a=uI(),o=Tb(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=ft(ft({},i.styles.root),i.style),h=Object.keys(r).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var y;return ft(ft({},p),(y={},y[g]=r[g],y))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:W4e;return s.jsx("div",ft({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(p,g){return s.jsx(H4e,{displayIndex:g,displayMonth:p},g)})})}))}function K4e(e){var t=e.children,n=vIe(e,["children"]);return s.jsx(LIe,{initialProps:n,children:s.jsx(GIe,{children:s.jsx(k4e,{initialProps:n,children:s.jsx(r4e,{initialProps:n,children:s.jsx(a4e,{initialProps:n,children:s.jsx(m4e,{children:s.jsx(C4e,{children:t})})})})})})})}function Y4e(e){return s.jsx(K4e,ft({},e,{children:s.jsx(G4e,{initialProps:e})}))}function Pb({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(Y4e,{showOutsideDays:n,className:de("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:de(Ev({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:de(Ev({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>s.jsx(_a,{className:"h-4 w-4"}),IconRight:({...i})=>s.jsx(Oi,{className:"h-4 w-4"})},...r})}Pb.displayName="Calendar";/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Gc(e,t){return typeof e=="function"?e(t):e}function zi(e,t){return n=>{t.setState(r=>({...r,[e]:Gc(n,r[e])}))}}function gS(e){return e instanceof Function}function X4e(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Q4e(e,t){const n=[],r=i=>{i.forEach(a=>{n.push(a);const o=t(a);o!=null&&o.length&&r(o)})};return r(e),n}function ot(e,t,n){let r=[],i;return a=>{let o;n.key&&n.debug&&(o=Date.now());const l=e(a);if(!(l.length!==r.length||l.some((d,f)=>r[f]!==d)))return i;r=l;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...l),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-u)*100)/100,h=f/16,m=(p,g)=>{for(p=String(p);p.length<g;)p=" "+p;return p};console.info(`%c⏱ ${m(f,5)} /${m(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function lt(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function J4e(e,t,n,r){const i=()=>{var o;return(o=a.getValue())!=null?o:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:ot(()=>[e,n,t,a],(o,l,c,u)=>({table:o,column:l,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),lt(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(a,n,t,e)},{}),a}function Z4e(e,t,n,r){var i,a;const l={...e._getDefaultColumnDef(),...t},c=l.accessorKey;let u=(i=(a=l.id)!=null?a:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:c&&(c.includes(".")?d=h=>{let m=h;for(const g of c.split(".")){var p;m=(p=m)==null?void 0:p[g]}return m}:d=h=>h[l.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:ot(()=>[!0],()=>{var h;return[f,...(h=f.columns)==null?void 0:h.flatMap(m=>m.getFlatColumns())]},lt(e.options,"debugColumns")),getLeafColumns:ot(()=>[e._getOrderColumnsFn()],h=>{var m;if((m=f.columns)!=null&&m.length){let p=f.columns.flatMap(g=>g.getLeafColumns());return h(p)}return[f]},lt(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(f,e);return f}const os="debugHeaders";function d6(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(a),o},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(a,e)}),a}const eLe={createTable:e=>{e.getHeaderGroups=ot(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var a,o;const l=(a=r==null?void 0:r.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?a:[],c=(o=i==null?void 0:i.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?o:[],u=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return M0(t,[...l,...u,...c],e)},lt(e.options,os)),e.getCenterHeaderGroups=ot(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(i!=null&&i.includes(a.id))),M0(t,n,e,"center")),lt(e.options,os)),e.getLeftHeaderGroups=ot(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return M0(t,a,e,"left")},lt(e.options,os)),e.getRightHeaderGroups=ot(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return M0(t,a,e,"right")},lt(e.options,os)),e.getFooterGroups=ot(()=>[e.getHeaderGroups()],t=>[...t].reverse(),lt(e.options,os)),e.getLeftFooterGroups=ot(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),lt(e.options,os)),e.getCenterFooterGroups=ot(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),lt(e.options,os)),e.getRightFooterGroups=ot(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),lt(e.options,os)),e.getFlatHeaders=ot(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),lt(e.options,os)),e.getLeftFlatHeaders=ot(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),lt(e.options,os)),e.getCenterFlatHeaders=ot(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),lt(e.options,os)),e.getRightFlatHeaders=ot(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),lt(e.options,os)),e.getCenterLeafHeaders=ot(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),lt(e.options,os)),e.getLeftLeafHeaders=ot(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),lt(e.options,os)),e.getRightLeafHeaders=ot(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),lt(e.options,os)),e.getLeafHeaders=ot(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,a,o,l,c,u;return[...(i=(a=t[0])==null?void 0:a.headers)!=null?i:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},lt(e.options,os))}};function M0(e,t,n,r){var i,a;let o=0;const l=function(h,m){m===void 0&&(m=1),o=Math.max(o,m),h.filter(p=>p.getIsVisible()).forEach(p=>{var g;(g=p.columns)!=null&&g.length&&l(p.columns,m+1)},0)};l(e);let c=[];const u=(h,m)=>{const p={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},g=[];h.forEach(y=>{const v=[...g].reverse()[0],w=y.column.depth===p.depth;let b,j=!1;if(w&&y.column.parent?b=y.column.parent:(b=y.column,j=!0),v&&(v==null?void 0:v.column)===b)v.subHeaders.push(y);else{const _=d6(n,b,{id:[r,m,b.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:j,placeholderId:j?`${g.filter(N=>N.column===b).length}`:void 0,depth:m,index:g.length});_.subHeaders.push(y),g.push(_)}p.headers.push(y),y.headerGroup=p}),c.push(p),m>0&&u(g,m-1)},d=t.map((h,m)=>d6(n,h,{depth:o,index:m}));u(d,o-1),c.reverse();const f=h=>h.filter(p=>p.column.getIsVisible()).map(p=>{let g=0,y=0,v=[0];p.subHeaders&&p.subHeaders.length?(v=[],f(p.subHeaders).forEach(b=>{let{colSpan:j,rowSpan:_}=b;g+=j,v.push(_)})):g=1;const w=Math.min(...v);return y=y+w,p.colSpan=g,p.rowSpan=y,{colSpan:g,rowSpan:y}});return f((i=(a=c[0])==null?void 0:a.headers)!=null?i:[]),c}const fI=(e,t,n,r,i,a,o)=>{let l={id:t,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return l._valuesCache[c]=u.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=u.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=l.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Q4e(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:ot(()=>[e.getAllLeafColumns()],c=>c.map(u=>J4e(e,l,u,u.id)),lt(e.options,"debugRows")),_getAllCellsByColumnId:ot(()=>[l.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),lt(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(l,e)}return l},tLe={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},pte=(e,t,n)=>{var r,i;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(a))};pte.autoRemove=e=>Ja(e);const gte=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};gte.autoRemove=e=>Ja(e);const xte=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};xte.autoRemove=e=>Ja(e);const vte=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};vte.autoRemove=e=>Ja(e);const yte=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});yte.autoRemove=e=>Ja(e)||!(e!=null&&e.length);const bte=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});bte.autoRemove=e=>Ja(e)||!(e!=null&&e.length);const wte=(e,t,n)=>e.getValue(t)===n;wte.autoRemove=e=>Ja(e);const jte=(e,t,n)=>e.getValue(t)==n;jte.autoRemove=e=>Ja(e);const hI=(e,t,n)=>{let[r,i]=n;const a=e.getValue(t);return a>=r&&a<=i};hI.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(a>o){const l=a;a=o,o=l}return[a,o]};hI.autoRemove=e=>Ja(e)||Ja(e[0])&&Ja(e[1]);const al={includesString:pte,includesStringSensitive:gte,equalsString:xte,arrIncludes:vte,arrIncludesAll:yte,arrIncludesSome:bte,equals:wte,weakEquals:jte,inNumberRange:hI};function Ja(e){return e==null||e===""}const nLe={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:zi("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?al.includesString:typeof r=="number"?al.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?al.equals:Array.isArray(r)?al.arrIncludes:al.weakEquals},e.getFilterFn=()=>{var n,r;return gS(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:al[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),a=r==null?void 0:r.find(d=>d.id===e.id),o=Gc(n,a?a.value:void 0);if(f6(i,o,e)){var l;return(l=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?l:[]}const c={id:e.id,value:o};if(a){var u;return(u=r==null?void 0:r.map(d=>d.id===e.id?c:d))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var a;return(a=Gc(t,i))==null?void 0:a.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(f6(c,o.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function f6(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const rLe=(e,t,n)=>n.reduce((r,i)=>{const a=i.getValue(e);return r+(typeof a=="number"?a:0)},0),sLe=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},iLe=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},aLe=(e,t,n)=>{let r,i;return n.forEach(a=>{const o=a.getValue(e);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},oLe=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let a=i.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},lLe=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!X4e(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((a,o)=>a-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},cLe=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),uLe=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,dLe=(e,t)=>t.length,ZE={sum:rLe,min:sLe,max:iLe,extent:aLe,mean:oLe,median:lLe,unique:cLe,uniqueCount:uLe,count:dLe},fLe={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:zi("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return ZE.sum;if(Object.prototype.toString.call(r)==="[object Date]")return ZE.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return gS(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:ZE[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function hLe(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(o=>o.id===a)).filter(Boolean),...r]}const mLe={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:zi("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=ot(n=>[zx(t,n)],n=>n.findIndex(r=>r.id===e.id),lt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=zx(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=zx(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=ot(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let a=[];if(!(t!=null&&t.length))a=i;else{const o=[...t],l=[...i];for(;l.length&&o.length;){const c=o.shift(),u=l.findIndex(d=>d.id===c);u>-1&&a.push(l.splice(u,1)[0])}a=[...a,...l]}return hLe(a,n,r)},lt(e.options,"debugTable"))}},ek=()=>({left:[],right:[]}),pLe={getInitialState:e=>({columnPinning:ek(),...e}),getDefaultOptions:e=>({onColumnPinningChange:zi("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var a,o;if(n==="right"){var l,c;return{left:((l=i==null?void 0:i.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var u,d;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,a,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((a=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:r,right:i}=t.getState().columnPinning,a=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return a?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=ot(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const a=[...r??[],...i??[]];return n.filter(o=>!a.includes(o.column.id))},lt(t.options,"debugRows")),e.getLeftVisibleCells=ot(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),lt(t.options,"debugRows")),e.getRightVisibleCells=ot(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),lt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?ek():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:ek())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,a;return!!((i=r.left)!=null&&i.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=ot(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),lt(e.options,"debugColumns")),e.getRightLeafColumns=ot(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),lt(e.options,"debugColumns")),e.getCenterLeafColumns=ot(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(a=>!i.includes(a.id))},lt(e.options,"debugColumns"))}};function gLe(e){return e||(typeof document<"u"?document:null)}const I0={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},tk=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),xLe={getDefaultColumnDef:()=>I0,getInitialState:e=>({columnSizing:{},columnSizingInfo:tk(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:zi("columnSizing",e),onColumnSizingInfoChange:zi("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:I0.minSize,(r=a??e.columnDef.size)!=null?r:I0.size),(i=e.columnDef.maxSize)!=null?i:I0.maxSize)},e.getStart=ot(n=>[n,zx(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,a)=>i+a.getSize(),0),lt(t.options,"debugColumns")),e.getAfter=ot(n=>[n,zx(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,a)=>i+a.getSize(),0),lt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var a;n+=(a=i.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return a=>{if(!r||!i||(a.persist==null||a.persist(),nk(a)&&a.touches&&a.touches.length>1))return;const o=e.getSize(),l=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],c=nk(a)?Math.round(a.touches[0].clientX):a.clientX,u={},d=(v,w)=>{typeof w=="number"&&(t.setColumnSizingInfo(b=>{var j,_;const N=t.options.columnResizeDirection==="rtl"?-1:1,S=(w-((j=b==null?void 0:b.startOffset)!=null?j:0))*N,C=Math.max(S/((_=b==null?void 0:b.startSize)!=null?_:0),-.999999);return b.columnSizingStart.forEach(k=>{let[A,T]=k;u[A]=Math.round(Math.max(T+T*C,0)*100)/100}),{...b,deltaOffset:S,deltaPercentage:C}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(b=>({...b,...u})))},f=v=>d("move",v),h=v=>{d("end",v),t.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=gLe(n),p={moveHandler:v=>f(v.clientX),upHandler:v=>{m==null||m.removeEventListener("mousemove",p.moveHandler),m==null||m.removeEventListener("mouseup",p.upHandler),h(v.clientX)}},g={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(v.touches[0].clientX),!1),upHandler:v=>{var w;m==null||m.removeEventListener("touchmove",g.moveHandler),m==null||m.removeEventListener("touchend",g.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),h((w=v.touches[0])==null?void 0:w.clientX)}},y=vLe()?{passive:!1}:!1;nk(a)?(m==null||m.addEventListener("touchmove",g.moveHandler,y),m==null||m.addEventListener("touchend",g.upHandler,y)):(m==null||m.addEventListener("mousemove",p.moveHandler,y),m==null||m.addEventListener("mouseup",p.upHandler,y)),t.setColumnSizingInfo(v=>({...v,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?tk():(n=e.initialState.columnSizingInfo)!=null?n:tk())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let L0=null;function vLe(){if(typeof L0=="boolean")return L0;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return L0=e,L0}function nk(e){return e.type==="touchstart"}const yLe={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:zi("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=ot(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),lt(t.options,"debugRows")),e.getVisibleCells=ot(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],lt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>ot(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),lt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,a)=>({...i,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function zx(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const bLe={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},wLe={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:zi("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>al.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return gS(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:al[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},jLe={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:zi("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,a;e.setExpanded(r?{}:(i=(a=e.initialState)==null?void 0:a.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const o=a.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const a=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(i=n)!=null?i:!a,!a&&n)return{...o,[e.id]:!0};if(a&&!n){const{[e.id]:l,...c}=o;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},BT=0,UT=10,rk=()=>({pageIndex:BT,pageSize:UT}),_Le={getInitialState:e=>({...e,pagination:{...rk(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:zi("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=a=>Gc(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?rk():(i=e.initialState.pagination)!=null?i:rk())},e.setPageIndex=r=>{e.setPagination(i=>{let a=Gc(r,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,o)),{...i,pageIndex:a}})},e.resetPageIndex=r=>{var i,a;e.setPageIndex(r?BT:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?i:BT)},e.resetPageSize=r=>{var i,a;e.setPageSize(r?UT:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?i:UT)},e.setPageSize=r=>{e.setPagination(i=>{const a=Math.max(1,Gc(r,i.pageSize)),o=i.pageSize*i.pageIndex,l=Math.floor(o/a);return{...i,pageIndex:l,pageSize:a}})},e.setPageCount=r=>e.setPagination(i=>{var a;let o=Gc(r,(a=e.options.pageCount)!=null?a:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=ot(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((a,o)=>o)),i},lt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},sk=()=>({top:[],bottom:[]}),NLe={getInitialState:e=>({rowPinning:sk(),...e}),getDefaultOptions:e=>({onRowPinningChange:zi("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const a=r?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=i?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],l=new Set([...o,e.id,...a]);t.setRowPinning(c=>{var u,d;if(n==="bottom"){var f,h;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(g=>!(l!=null&&l.has(g))),bottom:[...((h=c==null?void 0:c.bottom)!=null?h:[]).filter(g=>!(l!=null&&l.has(g))),...Array.from(l)]}}if(n==="top"){var m,p;return{top:[...((m=c==null?void 0:c.top)!=null?m:[]).filter(g=>!(l!=null&&l.has(g))),...Array.from(l)],bottom:((p=c==null?void 0:c.bottom)!=null?p:[]).filter(g=>!(l!=null&&l.has(g)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(g=>!(l!=null&&l.has(g))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(g=>!(l!=null&&l.has(g)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,a=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return a?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const a=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?sk():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:sk())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,a;return!!((i=r.top)!=null&&i.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const l=e.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>t.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=ot(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),lt(e.options,"debugRows")),e.getBottomRows=ot(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),lt(e.options,"debugRows")),e.getCenterRows=ot(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(a=>!i.has(a.id))},lt(e.options,"debugRows"))}},SLe={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:zi("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):i.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(a=>{qT(i,a.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=ot(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?ik(e,n):{rows:[],flatRows:[],rowsById:{}},lt(e.options,"debugTable")),e.getFilteredSelectedRowModel=ot(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?ik(e,n):{rows:[],flatRows:[],rowsById:{}},lt(e.options,"debugTable")),e.getGroupedSelectedRowModel=ot(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?ik(e,n):{rows:[],flatRows:[],rowsById:{}},lt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(a=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return a;const l={...a};return qT(l,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return mI(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return VT(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return VT(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},qT=(e,t,n,r,i)=>{var a;const o=i.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=o.subRows)!=null&&a.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>qT(e,l.id,n,r,i))};function ik(e,t){const n=e.getState().rowSelection,r=[],i={},a=function(o,l){return o.map(c=>{var u;const d=mI(c,n);if(d&&(r.push(c),i[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:a(c.subRows)}),d)return c}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:i}}function mI(e,t){var n;return(n=t[e.id])!=null?n:!1}function VT(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,a=!1;return e.subRows.forEach(o=>{if(!(a&&!i)&&(o.getCanSelect()&&(mI(o,t)?a=!0:i=!1),o.subRows&&o.subRows.length)){const l=VT(o,t);l==="all"?a=!0:(l==="some"&&(a=!0),i=!1)}}),i?"all":a?"some":!1}const HT=/([0-9]+)/gm,CLe=(e,t,n)=>_te(_u(e.getValue(n)).toLowerCase(),_u(t.getValue(n)).toLowerCase()),ELe=(e,t,n)=>_te(_u(e.getValue(n)),_u(t.getValue(n))),kLe=(e,t,n)=>pI(_u(e.getValue(n)).toLowerCase(),_u(t.getValue(n)).toLowerCase()),ALe=(e,t,n)=>pI(_u(e.getValue(n)),_u(t.getValue(n))),TLe=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},PLe=(e,t,n)=>pI(e.getValue(n),t.getValue(n));function pI(e,t){return e===t?0:e>t?1:-1}function _u(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function _te(e,t){const n=e.split(HT).filter(Boolean),r=t.split(HT).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),a=r.shift(),o=parseInt(i,10),l=parseInt(a,10),c=[o,l].sort();if(isNaN(c[0])){if(i>a)return 1;if(a>i)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const Ug={alphanumeric:CLe,alphanumericCaseSensitive:ELe,text:kLe,textCaseSensitive:ALe,datetime:TLe,basic:PLe},OLe={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:zi("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const a=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return Ug.datetime;if(typeof a=="string"&&(r=!0,a.split(HT).length>1))return Ug.alphanumeric}return r?Ug.text:Ug.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return gS(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Ug[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(o=>{const l=o==null?void 0:o.find(m=>m.id===e.id),c=o==null?void 0:o.findIndex(m=>m.id===e.id);let u=[],d,f=a?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?l?d="toggle":d="add":o!=null&&o.length&&c!==o.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(a||i||(d="remove")),d==="add"){var h;u=[...o,{id:e.id,desc:f}],u.splice(0,u.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=o.map(m=>m.id===e.id?{...m,desc:f}:m):d==="remove"?u=o.filter(m=>m.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const a=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},RLe=[eLe,yLe,mLe,pLe,tLe,nLe,bLe,wLe,OLe,fLe,jLe,_Le,NLe,SLe,xLe];function DLe(e){var t,n;const r=[...RLe,...(t=e._features)!=null?t:[]];let i={_features:r};const a=i._features.reduce((h,m)=>Object.assign(h,m.getDefaultOptions==null?void 0:m.getDefaultOptions(i)),{}),o=h=>i.options.mergeOptions?i.options.mergeOptions(a,h):{...a,...h};let c={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(h=>{var m;c=(m=h.getInitialState==null?void 0:h.getInitialState(c))!=null?m:c});const u=[];let d=!1;const f={_features:r,options:{...a,...e},initialState:c,_queue:h=>{u.push(h),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{i.setState(i.initialState)},setOptions:h=>{const m=Gc(h,i.options);i.options=o(m)},getState:()=>i.options.state,setState:h=>{i.options.onStateChange==null||i.options.onStateChange(h)},_getRowId:(h,m,p)=>{var g;return(g=i.options.getRowId==null?void 0:i.options.getRowId(h,m,p))!=null?g:`${p?[p.id,m].join("."):m}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(h,m)=>{let p=(m?i.getPrePaginationRowModel():i.getRowModel()).rowsById[h];if(!p&&(p=i.getCoreRowModel().rowsById[h],!p))throw new Error;return p},_getDefaultColumnDef:ot(()=>[i.options.defaultColumn],h=>{var m;return h=(m=h)!=null?m:{},{header:p=>{const g=p.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:p=>{var g,y;return(g=(y=p.renderValue())==null||y.toString==null?void 0:y.toString())!=null?g:null},...i._features.reduce((p,g)=>Object.assign(p,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...h}},lt(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:ot(()=>[i._getColumnDefs()],h=>{const m=function(p,g,y){return y===void 0&&(y=0),p.map(v=>{const w=Z4e(i,v,y,g),b=v;return w.columns=b.columns?m(b.columns,w,y+1):[],w})};return m(h)},lt(e,"debugColumns")),getAllFlatColumns:ot(()=>[i.getAllColumns()],h=>h.flatMap(m=>m.getFlatColumns()),lt(e,"debugColumns")),_getAllFlatColumnsById:ot(()=>[i.getAllFlatColumns()],h=>h.reduce((m,p)=>(m[p.id]=p,m),{}),lt(e,"debugColumns")),getAllLeafColumns:ot(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(h,m)=>{let p=h.flatMap(g=>g.getLeafColumns());return m(p)},lt(e,"debugColumns")),getColumn:h=>i._getAllFlatColumnsById()[h]};Object.assign(i,f);for(let h=0;h<i._features.length;h++){const m=i._features[h];m==null||m.createTable==null||m.createTable(i)}return i}function Nte(){return e=>ot(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,a,o){a===void 0&&(a=0);const l=[];for(let u=0;u<i.length;u++){const d=fI(e,e._getRowId(i[u],u,o),i[u],u,a,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),e.options.getSubRows){var c;d.originalSubRows=e.options.getSubRows(i[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=r(d.originalSubRows,a+1,d))}}return l};return n.rows=r(t),n},lt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function MLe(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function ILe(e,t,n){return n.options.filterFromLeafRows?LLe(e,t,n):$Le(e,t,n)}function LLe(e,t,n){var r;const i=[],a={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let h=0;h<c.length;h++){var f;let m=c[h];const p=fI(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(p.columnFilters=m.columnFilters,(f=m.subRows)!=null&&f.length&&u<o){if(p.subRows=l(m.subRows,u+1),m=p,t(m)&&!p.subRows.length){d.push(m),a[m.id]=m,i.push(m);continue}if(t(m)||p.subRows.length){d.push(m),a[m.id]=m,i.push(m);continue}}else m=p,t(m)&&(d.push(m),a[m.id]=m,i.push(m))}return d};return{rows:l(e),flatRows:i,rowsById:a}}function $Le(e,t,n){var r;const i=[],a={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let h=0;h<c.length;h++){let m=c[h];if(t(m)){var f;if((f=m.subRows)!=null&&f.length&&u<o){const g=fI(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);g.subRows=l(m.subRows,u+1),m=g}d.push(m),i.push(m),a[m.id]=m}}return d};return{rows:l(e),flatRows:i,rowsById:a}}function Ste(){return e=>ot(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const i=[],a=[];(n??[]).forEach(h=>{var m;const p=e.getColumn(h.id);if(!p)return;const g=p.getFilterFn();g&&i.push({id:h.id,filterFn:g,resolvedValue:(m=g.resolveFilterValue==null?void 0:g.resolveFilterValue(h.value))!=null?m:h.value})});const o=(n??[]).map(h=>h.id),l=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(h=>{var m;a.push({id:h.id,filterFn:l,resolvedValue:(m=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?m:r})}));let u,d;for(let h=0;h<t.flatRows.length;h++){const m=t.flatRows[h];if(m.columnFilters={},i.length)for(let p=0;p<i.length;p++){u=i[p];const g=u.id;m.columnFilters[g]=u.filterFn(m,g,u.resolvedValue,y=>{m.columnFiltersMeta[g]=y})}if(a.length){for(let p=0;p<a.length;p++){d=a[p];const g=d.id;if(d.filterFn(m,g,d.resolvedValue,y=>{m.columnFiltersMeta[g]=y})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const f=h=>{for(let m=0;m<o.length;m++)if(h.columnFilters[o[m]]===!1)return!1;return!0};return ILe(t.rows,f,e)},lt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Cte(e){return t=>ot(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:a}=n;let{rows:o,flatRows:l,rowsById:c}=r;const u=i*a,d=u+i;o=o.slice(u,d);let f;t.options.paginateExpandedRows?f={rows:o,flatRows:l,rowsById:c}:f=MLe({rows:o,flatRows:l,rowsById:c}),f.flatRows=[];const h=m=>{f.flatRows.push(m),m.subRows.length&&m.subRows.forEach(h)};return f.rows.forEach(h),f},lt(t.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function du(e,t){return e?FLe(e)?x.createElement(e,t):e:null}function FLe(e){return zLe(e)||typeof e=="function"||BLe(e)}function zLe(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function BLe(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Ete(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=x.useState(()=>({current:DLe(t)})),[r,i]=x.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:o=>{i(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const kte=e=>{let{transform:t}=e;return{...t,x:0}},Ate=({links:e,label:t="Sélectionner"})=>s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsxs(H,{variant:"outline",size:"sm",className:"h-8 gap-1 rounded-lg bg-white text-gray-800 hover:bg-gray-100 hover:text-black focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0",children:[t,s.jsx(ya,{className:"h-4 w-4 opacity-50"})]})}),s.jsx(ds,{align:"end",className:"w-40",children:e&&e.length>0?e.map((n,r)=>s.jsx(mr,{asChild:!0,className:"hover:bg-gray-100",children:s.jsxs("a",{href:n.href,target:n.target||"_blank",rel:"noopener noreferrer",className:"flex items-center",children:[s.jsx(Dp,{className:"mr-2 h-4 w-4"}),n.label]})},r)):s.jsx(mr,{disabled:!0,children:"Aucun lien disponible"})})]});function ULe({row:e,className:t,onRowClick:n}){const{transform:r,transition:i,setNodeRef:a,isDragging:o,attributes:l,listeners:c}=Cb({id:e.original.id}),[u,d]=x.useState(window.innerWidth<=768),[f,h]=x.useState(null),[m,p]=x.useState(!1);x.useEffect(()=>{const b=()=>d(window.innerWidth<=768);return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const g=b=>{u&&(h({x:b.touches[0].clientX,y:b.touches[0].clientY}),p(!1))},y=b=>{if(u&&f){const j=Math.abs(b.touches[0].clientX-f.x),_=Math.abs(b.touches[0].clientY-f.y);(j>10||_>10)&&p(!0)}},v=()=>{u&&h(null)},w=()=>{u&&n&&!m&&n(e.original)};return s.jsx(st,{"data-state":e.getIsSelected()&&"selected","data-dragging":o,ref:a,className:`group relative z-0 hover:bg-[#F5F5F5] data-[state=selected]:bg-[#F5F5F5] data-[dragging=true]:z-10 data-[dragging=true]:opacity-80 transition-colors duration-200 ${u?"cursor-pointer":""} ${t||""}`,style:{transform:Uo.Transform.toString(r),transition:i},onMouseEnter:b=>{b.currentTarget.querySelectorAll('td[style*="position: sticky"]').forEach(_=>{_.style.backgroundColor="#F5F5F5"})},onMouseLeave:b=>{const j=b.currentTarget.querySelectorAll('td[style*="position: sticky"]'),_=e.getIsSelected()?"#F5F5F5":"white";j.forEach(N=>{N.style.backgroundColor=_})},onTouchStart:g,onTouchMove:y,onTouchEnd:v,onClick:b=>{u&&!o&&w()},children:e.getVisibleCells().map(b=>{const j=b.column.columnDef.accessorKey==="col1",_=b.column.id==="drag",N=b.column.id==="select",S=!u&&(N||j);return _?s.jsx(Me,{className:"py-2 px-4 transition-colors duration-200",children:s.jsx(Tte,{id:e.original.id,attributes:l,listeners:c})},b.id):s.jsx(Me,{className:`py-2 px-4 ${S?`sticky z-10 transition-colors duration-200 ${j?"relative after:absolute after:top-0 after:right-0 after:h-full after:w-[1px] after:bg-gradient-to-b after:from-gray-200 after:to-gray-300 after:shadow-[1px_0_3px_0px_rgba(0,0,0,0.1)] after:z-10":""}`:"transition-colors duration-200"}`,style:S?{position:"sticky",left:N?"0px":"40px",backgroundColor:e.getIsSelected()?"#F5F5F5":"white",minWidth:N?"40px":void 0,maxWidth:N?"40px":void 0}:{},onMouseEnter:C=>{if(S){C.currentTarget.style.backgroundColor="#F5F5F5";const k=C.currentTarget.closest("tr");k&&(k.style.backgroundColor="#F5F5F5",k.querySelectorAll('td[style*="position: sticky"]').forEach(T=>{T.style.backgroundColor="#F5F5F5"}))}},onMouseLeave:C=>{if(S){const k=e.getIsSelected()?"#F5F5F5":"white";C.currentTarget.style.backgroundColor=k;const A=C.currentTarget.closest("tr");A&&!e.getIsSelected()&&(A.style.backgroundColor="",A.querySelectorAll('td[style*="position: sticky"]').forEach(E=>{E.style.backgroundColor=k}))}},children:du(b.column.columnDef.cell,b.getContext())},b.id)})})}function Tte({id:e,attributes:t,listeners:n}){return s.jsxs(H,{...t,...n,variant:"ghost",size:"icon",className:"text-muted-foreground size-7 hover:bg-transparent",children:[s.jsx(_7,{className:"text-muted-foreground size-3"}),s.jsx("span",{className:"sr-only",children:"Drag to reorder"})]})}const qLe=(e,t,n=!1)=>{const r=[{id:"drag",header:()=>n?s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Dj,{className:"h-4 w-4"})}):null,cell:({row:i})=>{if(n)return s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(H,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-gray-300 hover:border-[#F86E19] bg-transparent",onClick:l=>{l.stopPropagation(),t(i.original)},children:s.jsx(Dj,{className:"h-4 w-4"})})});const{attributes:a,listeners:o}=Cb({id:i.original.id});return s.jsx("div",{className:"flex items-center justify-center -mr-1",children:s.jsx(Tte,{id:i.original.id,attributes:a,listeners:o})})},size:1},{id:"select",header:({table:i})=>s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Br,{checked:i.getIsAllPageRowsSelected(),onCheckedChange:a=>i.toggleAllPageRowsSelected(!!a),"aria-label":"Select all"})}),cell:({row:i})=>s.jsx("div",{className:"flex items-center justify-center",onClick:a=>a.stopPropagation(),children:s.jsx(Br,{checked:i.getIsSelected(),onCheckedChange:a=>i.toggleSelected(!!a),"aria-label":"Select row"})}),enableSorting:!1,enableHiding:!1,size:40}];for(let i=1;i<=e;i++)r.push({accessorKey:`col${i}`,header:()=>i===3?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"h-4 w-4"}),"Email"]}):i===4?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-4 w-4"}),"Téléphone"]}):`Colonne ${i}`,cell:({row:a})=>{if(i===1)return s.jsxs("div",{className:"flex items-center justify-between min-w-[180px] gap-2 bg-transparent",children:[s.jsx("div",{className:"text-sm whitespace-nowrap flex-grow",children:a.original[`col${i}`]}),!n&&s.jsx(H,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity border-gray-300 hover:border-[#F86E19] flex-shrink-0 bg-transparent",onClick:o=>{o.stopPropagation(),t(a.original)},children:"Ouvrir"})]});if(i===3){const o=a.original[`col${i}`];return s.jsxs("a",{href:`mailto:${o}`,className:"flex items-center gap-2 text-sm text-gray-900 hover:text-gray-700 cursor-pointer",onClick:l=>l.stopPropagation(),children:[s.jsx(Ft,{className:"h-4 w-4 text-gray-400"}),o]})}if(i===4){const o=a.original[`col${i}`];return s.jsxs("a",{href:`tel:${o}`,className:"flex items-center gap-2 text-sm text-gray-900 hover:text-gray-700 cursor-pointer",onClick:l=>l.stopPropagation(),children:[s.jsx(ha,{className:"h-4 w-4 text-gray-400"}),o]})}return s.jsx("div",{className:"text-sm whitespace-nowrap",children:a.original[`col${i}`]})},size:i===1?500:void 0,minSize:i===1?400:void 0,meta:i===1&&!n?{sticky:"left"}:void 0});return r.push({accessorKey:"url",header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pr,{className:"h-4 w-4"}),"URL"]}),cell:({row:i})=>{const a=i.original.url;return a?s.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-gray-900 hover:text-gray-700 cursor-pointer max-w-[150px] truncate",onClick:o=>o.stopPropagation(),title:a,children:[s.jsx(Pr,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:a})]}):s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Pr,{className:"h-4 w-4 text-gray-400"}),"-"]})},size:150}),r.push({accessorKey:"dateCreated",header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4"}),"Date"]}),cell:({row:i})=>{const[a,o]=x.useState(i.original.dateCreated),[l,c]=x.useState(!1);return s.jsxs(oa,{open:l,onOpenChange:c,children:[s.jsx(la,{asChild:!0,children:s.jsx(H,{variant:"ghost",className:"text-sm text-gray-900 hover:text-gray-700 hover:bg-[#F3F4F6] h-auto p-1 font-normal",onClick:u=>u.stopPropagation(),children:a?a.toLocaleDateString("fr-FR"):"Sélectionner"})}),s.jsx(Ai,{className:"w-auto p-0",align:"start",children:s.jsx(Pb,{mode:"single",selected:a,onSelect:u=>{o(u),c(!1)},initialFocus:!0})})]})},size:120}),r.push({accessorKey:"labels",header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vl,{className:"h-4 w-4"}),"Etiquettes"]}),filterFn:(i,a,o)=>o.includes(i.getValue(a)),cell:({row:i})=>{const[a,o]=x.useState(i.original.labels||"Actif"),[l,c]=x.useState(!1),u=["Actif","En attente","Inactif"],d=p=>{let g,y="",v="";switch(p){case"Actif":g=s.jsx(Vr,{className:"h-2 w-2"}),y="bg-green-500",v="text-white";break;case"En attente":g=s.jsx(uf,{className:"h-3 w-3"}),y="bg-transparent",v="text-gray-500";break;case"Inactif":g=s.jsx(tn,{className:"h-2 w-2"}),y="bg-red-500",v="text-white";break;default:g=null,y="bg-gray-200",v="text-gray-700"}return{iconComponent:g,iconBgColor:y,iconColor:v}},{iconComponent:f,iconBgColor:h,iconColor:m}=d(a);return s.jsx("div",{onClick:p=>p.stopPropagation(),children:s.jsxs(oa,{open:l,onOpenChange:c,children:[s.jsx(la,{asChild:!0,children:s.jsx("div",{className:"cursor-pointer",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-lg text-xs font-medium bg-white border border-[#E5E5E5] text-[#747474] whitespace-nowrap hover:border-[#F86E19] transition-colors",children:[f&&s.jsx("span",{className:`flex items-center justify-center mr-1 ${a==="En attente"?"":`rounded-lg ${h}`} ${m} h-3 w-3`,children:f}),a]})})}),s.jsx(Ai,{className:"w-48 p-0",align:"start",children:s.jsx(qc,{children:s.jsx(Vc,{children:s.jsx(Hc,{children:u.map(p=>{const{iconComponent:g,iconBgColor:y,iconColor:v}=d(p);return s.jsx(Wc,{onSelect:()=>{o(p),c(!1),Ne.success(`Étiquette changée vers "${p}" pour ${i.original.col1}`)},className:"justify-start hover:!bg-[#F3F4F6] hover:!text-black data-[highlighted]:!bg-[#F3F4F6] data-[highlighted]:!text-black !bg-transparent !text-black",children:s.jsxs("div",{className:"flex items-center gap-2",children:[g&&s.jsx("span",{className:`flex items-center justify-center ${p==="En attente"?"":`rounded-lg ${y}`} ${v} h-3 w-3`,children:g}),s.jsx("span",{className:"text-black",children:p})]})},p)})})})})})]})})},size:120}),r.push({accessorKey:"progressValue",header:"Progression",cell:({row:i})=>{const a=i.original.progressValue;return typeof a=="number"?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2 w-28 shadow-inner",children:s.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-[#F86E19] to-[#E55A0F] transition-all duration-500 ease-out shadow-sm",style:{width:`${a}%`}})}),s.jsxs("span",{className:"text-xs font-medium text-gray-600 min-w-[2.5rem] text-right",children:[a,"%"]})]}):s.jsx("div",{className:"text-sm text-gray-500",children:"N/A"})},size:180}),r.push({accessorKey:"relatedLinks",header:"Liens Associés",cell:({row:i})=>{const a=i.original.relatedLinks;return s.jsx("div",{onClick:o=>o.stopPropagation(),children:s.jsx(Ate,{links:a||[],label:a&&a.length>0?"Voir les liens":"Sélectionner"})})},size:150}),r.push({accessorKey:"isLuthaneActive",header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ij,{className:"h-4 w-4"}),"Luthane"]}),cell:({row:i})=>{const[a,o]=x.useState(!1),l=i.original.isLuthaneActive??!1,[c,u]=x.useState(l);return x.useEffect(()=>{u(l)},[l]),s.jsx("div",{className:"relative flex items-center justify-center h-full",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:d=>d.stopPropagation(),children:s.jsx(As,{checked:c,onCheckedChange:d=>{u(d),Ne.success(`Luthane pour ${i.original.col1} ${d?"activé":"désactivé"}`)},className:de("data-[state=checked]:bg-[#F86E19] data-[state=unchecked]:bg-[#E0E0E0] transition-colors duration-200",a&&!c?"bg-gray-300":"")})})},size:80}),r.push({accessorKey:"actionButton",header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oj,{className:"h-4 w-4"}),"Bouton"]}),cell:({row:i})=>s.jsx("div",{onClick:a=>a.stopPropagation(),children:s.jsx(H,{variant:"outline",size:"sm",className:"h-7 px-3 text-xs bg-white border-gray-300 hover:bg-[#F3F4F6] hover:border-[#F86E19] hover:text-black transition-colors",onClick:()=>{Ne.success(`Action exécutée pour ${i.original.col1}`)},children:"Action"})}),size:100}),r.push({accessorKey:"rating",header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"h-4 w-4"}),"Rating"]}),cell:({row:i})=>{const[a,o]=x.useState(i.original.rating||0),[l,c]=x.useState(0);return s.jsx("div",{className:"flex gap-1",onClick:u=>u.stopPropagation(),children:[1,2,3,4,5].map(u=>s.jsx(Zt,{className:`h-4 w-4 cursor-pointer transition-colors ${u<=(l||a)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`,onMouseEnter:()=>c(u),onMouseLeave:()=>c(0),onClick:()=>{o(u),Ne.success(`Note ${u}/5 attribuée à ${i.original.col1}`)}},u))})},size:120}),r.push({accessorKey:"checkboxOptions",header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vl,{className:"h-4 w-4"}),"Étiquettes"]}),cell:({row:i})=>{const a=["Urgent","Important","Suivi","Archive"],[o,l]=x.useState(i.original.checkboxOptions||[]),[c,u]=x.useState(!1),d=h=>{o.includes(h)?l(o.filter(m=>m!==h)):l([...o,h])},f=h=>{switch(h){case"Urgent":return"bg-red-100 text-red-800";case"Important":return"bg-orange-100 text-orange-800";case"Suivi":return"bg-blue-100 text-blue-800";case"Archive":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}};return s.jsx("div",{onClick:h=>h.stopPropagation(),children:s.jsxs(oa,{open:c,onOpenChange:u,children:[s.jsx(la,{asChild:!0,children:s.jsx("div",{className:"cursor-pointer min-h-[28px] flex items-center w-full",children:o.length>0?s.jsx("div",{className:"flex flex-wrap gap-1 w-full",children:o.map(h=>s.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${f(h)} whitespace-nowrap`,children:h},h))}):s.jsx("div",{className:"w-full h-[28px]"})})}),s.jsx(Ai,{className:"w-60 p-0",align:"start",children:s.jsx(qc,{children:s.jsx(Vc,{children:s.jsx(Hc,{children:a.map(h=>s.jsxs(Wc,{onSelect:()=>d(h),className:"justify-start hover:!bg-[#F3F4F6] hover:!text-black data-[highlighted]:!bg-[#F3F4F6] data-[highlighted]:!text-black !bg-transparent !text-black",children:[s.jsx(Br,{checked:o.includes(h),className:"mr-2"}),s.jsx("span",{className:"text-black",children:h})]},h))})})})})]})})},size:250}),r.push({accessorKey:"amount",header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cf,{className:"h-4 w-4"}),"Montant"]}),cell:({row:i})=>{const a=i.original.amount;return s.jsx("div",{className:"text-sm font-medium",children:a!==void 0?s.jsx("span",{className:"text-black",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(a)}):s.jsx("span",{className:"text-gray-500",children:"-"})})},size:100}),r.push({accessorKey:"location",header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-4 w-4"}),"Localisation"]}),cell:({row:i})=>{const a=i.original.location;if(!(a!=null&&a.address))return s.jsx("div",{className:"text-sm text-gray-500",children:"-"});const o=()=>{const c=`https://maps.google.com/maps?q=${encodeURIComponent(a.address)}`;window.open(c,"_blank")};return s.jsx("div",{onClick:l=>l.stopPropagation(),children:s.jsx(H,{variant:"ghost",size:"sm",className:"h-auto p-1 text-xs hover:bg-[#F3F4F6] hover:text-black",onClick:o,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rs,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"whitespace-nowrap",children:a.address}),s.jsx(kj,{className:"h-3 w-3 flex-shrink-0"})]})})})},size:200}),r.push({id:"actions",cell:()=>s.jsx("div",{className:"flex justify-center",children:s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,onClick:i=>i.stopPropagation(),children:s.jsxs(H,{variant:"ghost",className:"data-[state=open]:bg-muted flex size-8 p-0 hover:bg-gray-100",children:[s.jsx(uD,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"sr-only",children:"Open menu"})]})}),s.jsxs(ds,{align:"end",className:"w-40",children:[s.jsx(mr,{children:"Modifier"}),s.jsxs(mr,{className:"text-red-600",children:[s.jsx(Rr,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})}),size:40}),r};function Pte({data:e}){var ge,se,ce,ve,te,ue;const[t,n]=x.useState(()=>e),[r,i]=x.useState(null),[a,o]=x.useState({}),[l,c]=x.useState({}),[u,d]=x.useState([]),[f,h]=x.useState({pageIndex:0,pageSize:10}),[m,p]=x.useState(!1),[g,y]=x.useState(window.innerWidth<=768),[v,w]=x.useState(!1),[b,j]=x.useState(!1),[_,N]=x.useState(!1),[S,C]=x.useState(!1),[k,A]=x.useState([]),[T,E]=x.useState(""),R=x.useMemo(()=>e.some(ee=>"isLuthaneActive"in ee),[e]),$=x.useId(),O=UM(Gd(KM,{activationConstraint:{distance:8}}),Gd(YM,{activationConstraint:{delay:250,tolerance:5}}),Gd(aS)),F=["details","related","history"],{activeTab:z,isTransitioning:P,contentRef:I,modalRef:M,handleTabChange:U,resetTab:D}=W1({tabs:F,defaultTab:"details"}),L=x.useRef(null);x.useEffect(()=>{if(r)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}},[r]);const V=()=>{i(null),D()};x.useEffect(()=>{n(e)},[e]),x.useEffect(()=>{const ee=()=>y(window.innerWidth<=768);return window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]);const K=x.useMemo(()=>(t==null?void 0:t.map(({id:ee})=>ee))||[],[t]),G=ee=>{i(ee)},X=e.length>0?Object.keys(e[0]).filter(ee=>ee.startsWith("col")).length:0,oe=x.useMemo(()=>qLe(X,G,g),[X,G,g]),Y=Ete({data:t,columns:oe,state:{rowSelection:a,columnVisibility:l,columnFilters:u,pagination:f},getRowId:ee=>ee.id.toString(),enableRowSelection:!0,onRowSelectionChange:o,onColumnVisibilityChange:c,onColumnFiltersChange:d,onPaginationChange:h,getCoreRowModel:Nte(),getFilteredRowModel:Ste(),getPaginationRowModel:Cte()}),ne=x.useCallback(ee=>{const{active:le,over:Ie}=ee;le&&Ie&&le.id!==Ie.id&&n(Pe=>{const Ae=Pe.findIndex(Le=>Le.id===le.id),W=Pe.findIndex(Le=>Le.id===Ie.id);return cS(Pe,Ae,W)})},[t]);return s.jsxs("div",{className:"w-full",children:[s.jsx(me,{className:"mb-4 mx-4 lg:mx-6",children:"Tableau template"}),s.jsxs("div",{className:"hidden md:flex items-center justify-between px-4 lg:px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ke,{placeholder:"Rechercher...",value:((ge=Y.getColumn("col1"))==null?void 0:ge.getFilterValue())??"",onChange:ee=>{var le;return(le=Y.getColumn("col1"))==null?void 0:le.setFilterValue(ee.target.value)},className:"max-w-sm pl-8 h-8"})]}),s.jsxs(oa,{open:v,onOpenChange:w,children:[s.jsx(la,{asChild:!0,children:s.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":v,className:"h-8 justify-start bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0 border-dashed",children:[s.jsx(m0,{className:"h-4 w-4 text-gray-400 mr-2"}),"Etiquettes"]})}),s.jsx(Ai,{className:"w-[200px] p-0 custom-select-content-bg",children:s.jsxs(qc,{children:[s.jsx(px,{placeholder:"Rechercher étiquette...",className:"h-9"}),s.jsxs(Vc,{children:[s.jsx(gx,{children:"Aucune étiquette trouvée."}),s.jsx(Hc,{children:["Actif","En attente","Inactif"].map(ee=>s.jsxs(Wc,{value:ee,onSelect:()=>{var Ie;const le=k.includes(ee)?k.filter(Pe=>Pe!==ee):[...k,ee];A(le),(Ie=Y.getColumn("labels"))==null||Ie.setFilterValue(le.length>0?le:void 0)},className:"justify-start hover:!bg-[#F3F4F6] hover:!text-black data-[highlighted]:!bg-[#F3F4F6] data-[highlighted]:!text-black aria-selected:!bg-[#F3F4F6] aria-selected:!text-black",children:[s.jsx(Br,{checked:k.includes(ee),className:"mr-2"}),ee]},ee))})]})]})})]}),R&&s.jsxs(oa,{open:b,onOpenChange:j,children:[s.jsx(la,{asChild:!0,children:s.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":b,className:"h-8 justify-start bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0 border-dashed",children:[s.jsx(m0,{className:"h-4 w-4 text-gray-400 mr-2"}),"Luthane"]})}),s.jsx(Ai,{className:"w-[200px] p-0 custom-select-content-bg",children:s.jsxs(qc,{children:[s.jsx(px,{placeholder:"Rechercher état...",className:"h-9"}),s.jsxs(Vc,{children:[s.jsx(gx,{children:"Aucun état trouvé."}),s.jsx(Hc,{children:[{value:"true",label:"Activé"},{value:"false",label:"Désactivé"}].map(ee=>s.jsxs(Wc,{value:ee.value,onSelect:le=>{var Pe;const Ie=le===T?"":le;E(Ie),(Pe=Y.getColumn("isLuthaneActive"))==null||Pe.setFilterValue(Ie?Ie==="true":void 0),j(!1)},className:"justify-start hover:!bg-[#F3F4F6] hover:!text-black data-[highlighted]:!bg-[#F3F4F6] data-[highlighted]:!text-black aria-selected:!bg-[#F3F4F6] aria-selected:!text-black",children:[s.jsx(Br,{checked:T===ee.value,className:"mr-2"}),ee.label]},ee.value))})]})]})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Y.getFilteredSelectedRowModel().rows.length>0&&s.jsxs(H,{variant:"destructive",size:"sm",onClick:()=>p(!0),className:"h-8",children:[s.jsx(Rr,{className:"mr-2 h-4 w-4"}),"Supprimer (",Y.getFilteredSelectedRowModel().rows.length,")"]}),s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsx(H,{variant:"outline",size:"icon",className:"bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0",children:s.jsx(ns,{className:"h-4 w-4"})})}),s.jsx(ds,{align:"end",className:"w-56 custom-select-content-bg",children:Y.getAllColumns().filter(ee=>ee.getCanHide()).map(ee=>{if(ee.id==="drag"||ee.id==="select"||ee.id==="actions")return null;const le=()=>{const W=ee.columnDef.accessorKey;if(W==="col3")return{icon:s.jsx(Ft,{className:"h-4 w-4"}),text:"Email"};if(W==="col4")return{icon:s.jsx(ha,{className:"h-4 w-4"}),text:"Téléphone"};if(W==="url")return{icon:s.jsx(Pr,{className:"h-4 w-4"}),text:"URL"};if(W==="dateCreated")return{icon:s.jsx(Wt,{className:"h-4 w-4"}),text:"Date"};if(W==="labels")return{icon:s.jsx(vl,{className:"h-4 w-4"}),text:"Etiquettes"};if(W==="progressValue")return{icon:s.jsx(ac,{className:"h-4 w-4"}),text:"Progression"};if(W==="relatedLinks")return{icon:s.jsx(ac,{className:"h-4 w-4"}),text:"Liens Associés"};if(W==="isLuthaneActive")return{icon:s.jsx(Ij,{className:"h-4 w-4"}),text:"Luthane"};if(W==="actionButton")return{icon:s.jsx(Oj,{className:"h-4 w-4"}),text:"Bouton"};if(W==="rating")return{icon:s.jsx(Zt,{className:"h-4 w-4"}),text:"Rating"};if(W==="checkboxOptions")return{icon:s.jsx(vl,{className:"h-4 w-4"}),text:"Étiquettes"};if(W==="amount")return{icon:s.jsx(cf,{className:"h-4 w-4"}),text:"Montant"};if(W==="location")return{icon:s.jsx(rs,{className:"h-4 w-4"}),text:"Localisation"};if(W!=null&&W.startsWith("col")){const _e=W.replace("col","");return{icon:s.jsx(ac,{className:"h-4 w-4"}),text:`Colonne ${_e}`}}return{icon:s.jsx(ac,{className:"h-4 w-4"}),text:ee.id}},{icon:Ie,text:Pe}=le();return s.jsxs(mr,{className:"capitalize custom-select-item-bg justify-start",onSelect:Ae=>Ae.preventDefault(),onClick:()=>ee.toggleVisibility(!ee.getIsVisible()),children:[s.jsx(Br,{checked:ee.getIsVisible(),className:"mr-2","aria-label":`Toggle column ${ee.id}`}),s.jsxs("div",{className:"flex items-center gap-2",children:[Ie,Pe]})]},ee.id)})})]})]})]}),s.jsxs("div",{className:"md:hidden w-[95%] mx-auto py-4 space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ke,{placeholder:"Rechercher...",value:((se=Y.getColumn("col1"))==null?void 0:se.getFilterValue())??"",onChange:ee=>{var le;return(le=Y.getColumn("col1"))==null?void 0:le.setFilterValue(ee.target.value)},className:"pl-8"})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsxs(oa,{open:_,onOpenChange:N,children:[s.jsx(la,{asChild:!0,children:s.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":_,className:`h-8 justify-start bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0 border-dashed ${R?"flex-1":"w-full"}`,children:[s.jsx(m0,{className:"h-4 w-4 text-gray-400 mr-2"}),"Etiquettes"]})}),s.jsx(Ai,{className:"w-[200px] p-0 custom-select-content-bg",align:"start",side:"bottom",sideOffset:5,children:s.jsxs(qc,{children:[s.jsx(px,{placeholder:"Rechercher étiquette...",className:"h-9"}),s.jsxs(Vc,{children:[s.jsx(gx,{children:"Aucune étiquette trouvée."}),s.jsx(Hc,{children:["Actif","En attente","Inactif"].map(ee=>s.jsxs(Wc,{value:ee,onSelect:()=>{var Ie;const le=k.includes(ee)?k.filter(Pe=>Pe!==ee):[...k,ee];A(le),(Ie=Y.getColumn("labels"))==null||Ie.setFilterValue(le.length>0?le:void 0)},className:"justify-start hover:!bg-[#F3F4F6] hover:!text-black data-[highlighted]:!bg-[#F3F4F6] data-[highlighted]:!text-black aria-selected:!bg-[#F3F4F6] aria-selected:!text-black",children:[s.jsx(Br,{checked:k.includes(ee),className:"mr-2"}),ee]},ee))})]})]})})]}),R&&s.jsxs(oa,{open:S,onOpenChange:C,children:[s.jsx(la,{asChild:!0,children:s.jsxs(H,{variant:"outline",role:"combobox","aria-expanded":S,className:"h-8 justify-start bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0 border-dashed flex-1",children:[s.jsx(m0,{className:"h-4 w-4 text-gray-400 mr-2"}),"Luthane"]})}),s.jsx(Ai,{className:"w-[200px] p-0 custom-select-content-bg",align:"end",side:"bottom",sideOffset:5,children:s.jsxs(qc,{children:[s.jsx(px,{placeholder:"Rechercher état...",className:"h-9"}),s.jsxs(Vc,{children:[s.jsx(gx,{children:"Aucun état trouvé."}),s.jsx(Hc,{children:[{value:"true",label:"Activé"},{value:"false",label:"Désactivé"}].map(ee=>s.jsxs(Wc,{value:ee.value,onSelect:le=>{var Pe;const Ie=le===T?"":le;E(Ie),(Pe=Y.getColumn("isLuthaneActive"))==null||Pe.setFilterValue(Ie?Ie==="true":void 0),C(!1)},className:"justify-start hover:!bg-[#F3F4F6] hover:!text-black data-[highlighted]:!bg-[#F3F4F6] data-[highlighted]:!text-black aria-selected:!bg-[#F3F4F6] aria-selected:!text-black",children:[s.jsx(Br,{checked:T===ee.value,className:"mr-2"}),ee.label]},ee.value))})]})]})})]})]}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:"w-full h-8 justify-center bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0 border-dashed",children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"Vue des colonnes"]})}),s.jsx(ds,{align:"start",className:"w-56 custom-select-content-bg",children:Y.getAllColumns().filter(ee=>ee.getCanHide()).map(ee=>{if(ee.id==="drag"||ee.id==="select"||ee.id==="actions")return null;const le=()=>{const W=ee.columnDef.accessorKey;if(W==="col3")return{icon:s.jsx(Ft,{className:"h-4 w-4"}),text:"Email"};if(W==="col4")return{icon:s.jsx(ha,{className:"h-4 w-4"}),text:"Téléphone"};if(W==="url")return{icon:s.jsx(Pr,{className:"h-4 w-4"}),text:"URL"};if(W==="dateCreated")return{icon:s.jsx(Wt,{className:"h-4 w-4"}),text:"Date"};if(W==="labels")return{icon:s.jsx(vl,{className:"h-4 w-4"}),text:"Etiquettes"};if(W==="progressValue")return{icon:s.jsx(ac,{className:"h-4 w-4"}),text:"Progression"};if(W==="relatedLinks")return{icon:s.jsx(ac,{className:"h-4 w-4"}),text:"Liens Associés"};if(W==="isLuthaneActive")return{icon:s.jsx(Ij,{className:"h-4 w-4"}),text:"Luthane"};if(W==="actionButton")return{icon:s.jsx(Oj,{className:"h-4 w-4"}),text:"Bouton"};if(W==="rating")return{icon:s.jsx(Zt,{className:"h-4 w-4"}),text:"Rating"};if(W==="checkboxOptions")return{icon:s.jsx(vl,{className:"h-4 w-4"}),text:"Étiquettes"};if(W==="amount")return{icon:s.jsx(cf,{className:"h-4 w-4"}),text:"Montant"};if(W==="location")return{icon:s.jsx(rs,{className:"h-4 w-4"}),text:"Localisation"};if(W!=null&&W.startsWith("col")){const _e=W.replace("col","");return{icon:s.jsx(ac,{className:"h-4 w-4"}),text:`Colonne ${_e}`}}return{icon:s.jsx(ac,{className:"h-4 w-4"}),text:ee.id}},{icon:Ie,text:Pe}=le();return s.jsxs(mr,{className:"capitalize custom-select-item-bg justify-start",onSelect:Ae=>Ae.preventDefault(),onClick:()=>ee.toggleVisibility(!ee.getIsVisible()),children:[s.jsx(Br,{checked:ee.getIsVisible(),className:"mr-2","aria-label":`Toggle column ${ee.id}`}),s.jsxs("div",{className:"flex items-center gap-2",children:[Ie,Pe]})]},ee.id)})})]})}),Y.getFilteredSelectedRowModel().rows.length>0&&s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs(H,{variant:"destructive",size:"sm",onClick:()=>p(!0),className:"w-full h-8",children:[s.jsx(Rr,{className:"mr-2 h-4 w-4"}),"Supprimer (",Y.getFilteredSelectedRowModel().rows.length,")"]})})]}),s.jsx("div",{className:`rounded-lg border overflow-x-auto ${g?"w-[95%] mx-auto":"mx-4 lg:mx-6"}`,children:g?s.jsxs(Zs,{className:"min-w-full",children:[s.jsx(so,{className:"bg-[#F5F5F5] text-black sticky top-0 z-10",children:Y.getHeaderGroups().map(ee=>s.jsx(st,{children:ee.headers.map(le=>(le.column.columnDef.accessorKey,le.column.id,le.column.id,s.jsx(xn,{colSpan:le.colSpan,className:"text-black font-medium whitespace-nowrap",children:le.isPlaceholder?null:du(le.column.columnDef.header,le.getContext())},le.id)))},ee.id))}),s.jsx(ei,{children:(ce=Y.getRowModel().rows)!=null&&ce.length?Y.getRowModel().rows.map(ee=>s.jsx(st,{"data-state":ee.getIsSelected()&&"selected",className:"group relative z-0 hover:bg-[#F5F5F5] data-[state=selected]:bg-[#F5F5F5] transition-colors duration-200 cursor-pointer h-8",onClick:()=>G(ee.original),children:ee.getVisibleCells().map(le=>s.jsx(Me,{className:"text-sm",children:du(le.column.columnDef.cell,le.getContext())},le.id))},ee.id)):s.jsx(st,{className:"h-8",children:s.jsx(Me,{colSpan:oe.length,className:"h-24 text-center",children:"Aucun résultat."})})})]}):s.jsx(QM,{collisionDetection:qM,modifiers:[kte],onDragEnd:ne,sensors:O,id:$,children:s.jsxs(Zs,{className:"min-w-full",children:[s.jsx(so,{className:"bg-[#F5F5F5] text-black sticky top-0 z-10",children:Y.getHeaderGroups().map(ee=>s.jsx(st,{children:ee.headers.map(le=>{const Ie=le.column.columnDef.accessorKey==="col1";le.column.id;const Pe=le.column.id==="select",Ae=!g&&(Pe||Ie);return s.jsx(xn,{colSpan:le.colSpan,className:`text-black font-medium whitespace-nowrap ${Ae?`sticky z-20 bg-[#F5F5F5] ${Ie?"relative after:absolute after:top-0 after:right-0 after:h-full after:w-[1px] after:bg-gradient-to-b after:from-gray-200 after:to-gray-300 after:shadow-[1px_0_3px_0px_rgba(0,0,0,0.1)] after:z-10":""}`:""}`,style:Ae?{position:"sticky",left:Pe?"0px":"40px",backgroundColor:"#F5F5F5",minWidth:Pe?"40px":void 0,maxWidth:Pe?"40px":void 0}:{},children:le.isPlaceholder?null:du(le.column.columnDef.header,le.getContext())},le.id)})},ee.id))}),s.jsx(ei,{children:(ve=Y.getRowModel().rows)!=null&&ve.length?s.jsx(dS,{items:K,strategy:uS,children:Y.getRowModel().rows.map(ee=>s.jsx(ULe,{row:ee,className:"h-8",onRowClick:G},ee.id))},K.map(ee=>ee.toString()).join("-")):s.jsx(st,{className:"h-8",children:s.jsx(Me,{colSpan:oe.length,className:"h-24 text-center",children:"Aucun résultat."})})})]})})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between px-4 lg:px-6 py-4",children:[s.jsxs("div",{className:"hidden md:block text-muted-foreground flex-1 text-sm",children:[Y.getFilteredSelectedRowModel().rows.length," sur"," ",Y.getFilteredRowModel().rows.length," ligne(s) sélectionnée(s)."]}),s.jsxs("div",{className:"flex w-full items-center justify-between md:w-auto md:justify-end md:space-x-6 lg:space-x-8",children:[s.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),s.jsxs(vt,{value:`${Y.getState().pagination.pageSize}`,onValueChange:ee=>{Y.setPageSize(Number(ee))},children:[s.jsx(yt,{className:"h-8 w-[70px] bg-[#F9F9F8] focus:ring-0 focus:ring-offset-0",children:s.jsx(_t,{placeholder:Y.getState().pagination.pageSize})}),s.jsx(bt,{side:"top",children:[10,20,30,40,50].map(ee=>s.jsx(fe,{value:`${ee}`,className:"hover:bg-[#F3F4F6] data-[highlighted]:bg-[#F3F4F6]",children:ee},ee))})]})]}),s.jsxs("div",{className:"flex w-full items-center justify-between md:w-auto md:justify-center md:gap-8",children:[s.jsxs("div",{className:"text-sm font-medium",children:["Page ",Y.getState().pagination.pageIndex+1," sur"," ",Y.getPageCount()]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(H,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>Y.setPageIndex(0),disabled:!Y.getCanPreviousPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to first page"}),s.jsx(y7,{className:"h-4 w-4"})]}),s.jsxs(H,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>Y.previousPage(),disabled:!Y.getCanPreviousPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to previous page"}),s.jsx(_a,{className:"h-4 w-4"})]}),s.jsxs(H,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>Y.nextPage(),disabled:!Y.getCanNextPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to next page"}),s.jsx(Oi,{className:"h-4 w-4"})]}),s.jsxs(H,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>Y.setPageIndex(Y.getPageCount()-1),disabled:!Y.getCanNextPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to last page"}),s.jsx(b7,{className:"h-4 w-4"})]})]})]})]})]}),r&&s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50",onClick:V,children:[s.jsxs("div",{ref:M,className:"absolute bg-white text-black rounded-xl shadow-2xl transform scale-95 opacity-0 overflow-hidden flex flex-col",onClick:ee=>ee.stopPropagation(),style:{animation:"scaleIn 0.3s ease-out forwards",height:"80vh",width:window.innerWidth<=768?"90vw":"70vw",transition:"transform 0.3s ease-out",left:"50%",top:"50%",transformOrigin:"center",transform:"translate(-50%, -50%) scale(0.95)"},children:[s.jsxs("div",{className:"flex items-center space-x-4 p-6 pb-4",children:[s.jsxs("div",{className:"flex w-12 md:w-16 h-12 md:h-16 bg-aurentia-pink rounded-full items-center justify-center text-white font-bold text-lg md:text-2xl",children:[((te=r.col1)==null?void 0:te[0])||"",((ue=r.col2)==null?void 0:ue[0])||""]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold",children:r.col1}),s.jsx("p",{className:"text-gray-600",children:r.col2})]})]}),s.jsxs("div",{className:"flex border-b border-gray-100 bg-transparent overflow-x-auto",children:[s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0 ${z==="details"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>U("details"),children:"Détails"}),s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0 ${z==="related"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>U("related"),children:"Lié"}),s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0 ${z==="history"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>U("history"),children:"Historique"})]}),s.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-white/60 via-white/40 via-white/20 to-transparent pointer-events-none z-20"}),s.jsx("div",{ref:L,className:"h-full overflow-y-auto p-6 pt-4 pb-4",children:s.jsx("div",{ref:I,className:`${P?"opacity-0 blur-sm transform translate-y-2":"opacity-100 blur-0 transform translate-y-0"}`,style:{transition:P?"none":"opacity 0.4s ease, filter 0.4s ease, transform 0.4s ease"},children:(()=>{switch(z){case"details":return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Informations générales"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Colonne 1"}),s.jsx("p",{className:"text-[#4B5563]",children:r.col1})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Colonne 2"}),s.jsx("p",{className:"text-[#4B5563]",children:r.col2})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ft,{className:"w-5 h-5 text-gray-500"}),s.jsx("span",{children:r.col3||"Non renseigné"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ha,{className:"w-5 h-5 text-gray-500"}),s.jsx("span",{children:r.col4||"Non renseigné"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Statistiques"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Colonne 5"}),s.jsx("p",{className:"text-2xl font-bold text-[#F86E19]",children:r.col5})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Autre donnée"}),s.jsx("p",{className:"text-[#4B5563]",children:"Exemple de donnée supplémentaire"})]})]})]});case"related":return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Éléments liés"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:[s.jsx(sn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun élément lié"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Ce modèle n'a pas d'éléments liés par défaut."})]})]});case"history":return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Historique"}),s.jsx("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(vu,{className:"w-5 h-5 text-gray-500 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Activités"}),s.jsx("p",{className:"text-sm text-[#4B5563]",children:"Aucun historique d'activité disponible."})]})]})})]});default:return null}})()})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-white/95 via-white/80 via-white/60 via-white/30 via-white/10 to-transparent pointer-events-none z-20"})]})]}),s.jsx("style",{children:`
              @keyframes scaleIn {
                from {
                  opacity: 0;
                  transform: translate(-50%, -50%) scale(0.95);
                }
                to {
                  opacity: 1;
                  transform: translate(-50%, -50%) scale(1);
                }
              }
            `})]}),s.jsx(pt,{open:m,onOpenChange:p,children:s.jsxs(gt,{className:"sm:max-w-[425px] w-[350px] rounded-xl md:rounded-lg",children:[s.jsxs(jt,{className:"pb-3",children:[s.jsx(xt,{className:"text-lg",children:"Confirmer la suppression"}),s.jsxs(Mt,{className:"text-sm",children:["Êtes-vous sûr de vouloir supprimer ",Y.getFilteredSelectedRowModel().rows.length," ligne(s) sélectionnée(s) ? Cette action est irréversible."]})]}),s.jsxs(Kt,{className:"pt-0 flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>p(!1),className:"w-full sm:w-auto order-2 sm:order-1",children:"Annuler"}),s.jsx(H,{variant:"destructive",size:"sm",onClick:()=>{const ee=Y.getFilteredSelectedRowModel().rows.map(le=>le.original.id);n(le=>le.filter(Ie=>!ee.includes(Ie.id))),o({}),p(!1),Ne.success(`${ee.length} ligne(s) supprimée(s) avec succès.`)},className:"w-full sm:w-auto order-1 sm:order-2",children:"Supprimer"})]})]})})]})}const VLe=()=>{const e=[{id:"1",col1:"Donnée A1",col2:"Valeur 1",col3:"email1@example.com",col4:"0123456789",col5:"10",url:"https://app.aurentia.fr",dateCreated:new Date("2024-01-15"),labels:"Actif",progressValue:75,relatedLinks:[{label:"Lien Google",href:"https://www.google.com"},{label:"Lien Aurentia",href:"https://www.aurentia.fr"}],rating:4,checkboxOptions:["Urgent","Suivi"],amount:1250.5,location:{address:"75001 Paris, France",lat:48.8566,lng:2.3522}},{id:"2",col1:"Donnée A2",col2:"Valeur 2",col3:"email2@example.com",col4:"9876543210",col5:"20",url:"https://app.aurentia.fr/dashboard",dateCreated:new Date("2024-02-20"),labels:"En attente",progressValue:25,relatedLinks:[{label:"Lien LinkedIn",href:"https://www.linkedin.com"}],rating:2,checkboxOptions:["Important"],amount:890.75,location:{address:"69001 Lyon, France"}},{id:"3",col1:"Donnée A3",col2:"Valeur 3",col3:"email3@example.com",col4:"1122334455",col5:"30",url:"https://app.aurentia.fr/projects",dateCreated:new Date("2024-03-10"),labels:"Inactif",progressValue:90,relatedLinks:[],rating:5,checkboxOptions:[],amount:2150,location:{address:"13001 Marseille, France"}},{id:"4",col1:"Donnée A4",col2:"Valeur 1",col3:"email4@example.com",col4:"6677889900",col5:"40",url:"https://app.aurentia.fr/analytics",dateCreated:new Date("2024-04-05"),labels:"Actif",progressValue:50,relatedLinks:[{label:"Lien Github",href:"https://www.github.com"},{label:"Lien StackOverflow",href:"https://stackoverflow.com"},{label:"Lien Medium",href:"https://medium.com"}],rating:3,checkboxOptions:["Urgent","Important","Suivi"],amount:567.25,location:{address:"33000 Bordeaux, France"}},{id:"5",col1:"Donnée A5",col2:"Valeur 5",col3:"email5@example.com",col4:"1234567890",col5:"15",url:"https://app.aurentia.fr/profile",dateCreated:new Date("2024-05-12"),labels:"En attente",progressValue:35,relatedLinks:[{label:"Lien Twitter",href:"https://www.twitter.com"}],isLuthaneActive:!0,rating:1,checkboxOptions:["Archive"],amount:1890.99,location:{address:"59000 Lille, France"}},{id:"6",col1:"Donnée A6",col2:"Valeur 6",col3:"email6@example.com",col4:"9876543210",col5:"25",url:"https://app.aurentia.fr/settings",dateCreated:new Date("2024-06-18"),labels:"Actif",progressValue:80,relatedLinks:[{label:"Lien Facebook",href:"https://www.facebook.com"},{label:"Lien Instagram",href:"https://www.instagram.com"}],isLuthaneActive:!1},{id:"7",col1:"Donnée A7",col2:"Valeur 7",col3:"email7@example.com",col4:"5555666677",col5:"35",url:"https://app.aurentia.fr/reports",dateCreated:new Date("2024-07-25"),labels:"Inactif",progressValue:10,relatedLinks:[],isLuthaneActive:!0},{id:"8",col1:"Donnée A8",col2:"Valeur 8",col3:"email8@example.com",col4:"4444333322",col5:"45",url:"https://app.aurentia.fr/team",labels:"Actif",progressValue:95,relatedLinks:[{label:"Lien YouTube",href:"https://www.youtube.com"}],isLuthaneActive:!0},{id:"9",col1:"Donnée A9",col2:"Valeur 9",col3:"email9@example.com",col4:"7777888899",col5:"55",url:"https://app.aurentia.fr/billing",labels:"En attente",progressValue:60,relatedLinks:[{label:"Lien Pinterest",href:"https://www.pinterest.com"},{label:"Lien Behance",href:"https://www.behance.net"}],isLuthaneActive:!1},{id:"10",col1:"Donnée A10",col2:"Valeur 10",col3:"email10@example.com",col4:"3333222211",col5:"65",url:"https://app.aurentia.fr/support",labels:"Actif",progressValue:85,relatedLinks:[{label:"Lien Dribbble",href:"https://www.dribbble.com"}],isLuthaneActive:!0},{id:"11",col1:"Donnée A11",col2:"Valeur 11",col3:"email11@example.com",col4:"8888999900",col5:"75",url:"https://app.aurentia.fr/admin",labels:"Inactif",progressValue:20,relatedLinks:[],isLuthaneActive:!1},{id:"12",col1:"Donnée A12",col2:"Valeur 12",col3:"email12@example.com",col4:"2222111100",col5:"85",url:"https://app.aurentia.fr/integrations",labels:"En attente",progressValue:45,relatedLinks:[{label:"Lien Slack",href:"https://www.slack.com"},{label:"Lien Discord",href:"https://www.discord.com"},{label:"Lien Notion",href:"https://www.notion.so"}],isLuthaneActive:!0},{id:"13",col1:"Donnée A13",col2:"Valeur 13",col3:"email13@example.com",col4:"6666555544",col5:"95",url:"https://app.aurentia.fr/templates",labels:"Actif",progressValue:70,relatedLinks:[{label:"Lien Figma",href:"https://www.figma.com"}],isLuthaneActive:!1},{id:"14",col1:"Donnée A14",col2:"Valeur 14",col3:"email14@example.com",col4:"9999000011",col5:"105",url:"https://app.aurentia.fr/workflows",labels:"Inactif",progressValue:5,relatedLinks:[{label:"Lien Spotify",href:"https://www.spotify.com"},{label:"Lien Apple Music",href:"https://music.apple.com"}],isLuthaneActive:!0},{id:"15",col1:"Donnée A15",col2:"Valeur 15",col3:"email15@example.com",col4:"1111000099",col5:"115",url:"https://app.aurentia.fr/automation",labels:"En attente",progressValue:55,relatedLinks:[{label:"Lien Netflix",href:"https://www.netflix.com"}],isLuthaneActive:!1},{id:"16",col1:"Donnée A16",col2:"Valeur 16",col3:"email16@example.com",col4:"4444000077",col5:"125",url:"https://app.aurentia.fr/marketplace",labels:"Actif",progressValue:88,relatedLinks:[{label:"Lien Amazon",href:"https://www.amazon.com"},{label:"Lien eBay",href:"https://www.ebay.com"},{label:"Lien Etsy",href:"https://www.etsy.com"}],isLuthaneActive:!0},{id:"17",col1:"Donnée A17",col2:"Valeur 17",col3:"email17@example.com",col4:"7777000044",col5:"135",url:"https://app.aurentia.fr/api",labels:"Inactif",progressValue:15,relatedLinks:[],isLuthaneActive:!1},{id:"18",col1:"Donnée A18",col2:"Valeur 18",col3:"email18@example.com",col4:"2222000055",col5:"145",url:"https://app.aurentia.fr/webhooks",labels:"En attente",progressValue:40,relatedLinks:[{label:"Lien Zoom",href:"https://www.zoom.us"},{label:"Lien Teams",href:"https://teams.microsoft.com"}],isLuthaneActive:!0},{id:"19",col1:"Donnée A19",col2:"Valeur 19",col3:"email19@example.com",col4:"8888000066",col5:"155",url:"https://app.aurentia.fr/monitoring",labels:"Actif",progressValue:92,relatedLinks:[{label:"Lien WhatsApp",href:"https://www.whatsapp.com"}],isLuthaneActive:!1}];return s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Components Template"}),s.jsx(re,{children:s.jsx(ie,{className:"p-6",children:s.jsx(Pte,{data:e})})})]})},HLe=()=>{const e=It(),{currentProjectId:t,userProjectsLoading:n}=yr();cr();const{toast:r}=ja(),[i,a]=x.useState(!1),[o,l]=x.useState([]),[c,u]=x.useState(!0),{collaborators:d,projects:f,loading:h,error:m,stats:p,inviteCollaborator:g,updateCollaborator:y,removeCollaborator:v,changeCollaboratorStatus:w,clearError:b}=BMe();x.useEffect(()=>{j()},[t]);const j=async()=>{if(t){u(!0);try{const{data:k,error:A}=await q.from("project_invitations").select(`
          id,
          email,
          status,
          role,
          invited_at,
          expires_at,
          project_id
        `).eq("project_id",t).order("invited_at",{ascending:!1});if(A)throw A;const{data:T}=await q.from("project_summary").select("nom_projet").eq("project_id",t).single(),E=(k==null?void 0:k.map(R=>({id:R.id,col1:R.email,col2:(T==null?void 0:T.nom_projet)||"Projet inconnu",col3:R.role==="admin"?"Administrateur":R.role==="editor"?"Éditeur":"Lecteur",col4:R.status==="pending"?"En attente":R.status==="accepted"?"Acceptée":"Expirée",col5:new Date(R.invited_at).toLocaleDateString("fr-FR"),dateCreated:new Date(R.invited_at),email:R.email,status:R.status,role:R.role,expiresAt:R.expires_at,projectName:T==null?void 0:T.nom_projet})))||[];l(E)}catch(k){console.error("Erreur lors du chargement des invitations:",k)}finally{u(!1)}}},_=async k=>{const A=await g(k);return A.success?(r({title:"Invitation envoyée",description:`L'invitation a été envoyée à ${k.email}`}),a(!1),j()):r({title:"Erreur",description:A.error||"Impossible d'envoyer l'invitation",variant:"destructive"}),A},N=async(k,A)=>{const T=await y(k,A);return T.success?r({title:"Collaborateur mis à jour",description:"Les modifications ont été sauvegardées"}):r({title:"Erreur",description:T.error||"Impossible de mettre à jour le collaborateur",variant:"destructive"}),T},S=async k=>{const A=await v(k);return A.success?r({title:"Collaborateur supprimé",description:"Le collaborateur a été retiré de vos projets"}):r({title:"Erreur",description:A.error||"Impossible de supprimer le collaborateur",variant:"destructive"}),A},C=async(k,A)=>{const T=await w(k,A);return T.success?r({title:"Statut modifié",description:`Le collaborateur a été ${{active:"activé",suspended:"suspendu",pending:"mis en attente"}[A]}`}):r({title:"Erreur",description:T.error||"Impossible de modifier le statut",variant:"destructive"}),T};return B.useEffect(()=>{m&&b()},[]),n?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):t?s.jsx(Ff,{children:s.jsx("div",{className:"container mx-auto py-8 min-h-screen animate-fade-in",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:flex-wrap justify-between items-start lg:items-center gap-4 mb-8",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx(et,{className:"text-blue-600",size:32}),"Gestion des Collaborateurs"]}),s.jsx("p",{className:"text-gray-600",children:"Invitez et gérez les collaborateurs de vos projets entrepreneuriaux"})]}),s.jsxs(H,{onClick:()=>a(!0),className:"bg-gradient-primary text-white flex items-center gap-2 w-full lg:w-auto mt-4 lg:mt-0",children:[s.jsx(mf,{size:16}),"Inviter un collaborateur"]})]}),s.jsx($Me,{stats:p,loading:h}),s.jsxs(re,{className:"animate-slide-up",style:{animationDelay:"0.2s"},children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(et,{size:20}),"Liste des Collaborateurs"]})}),s.jsx(ie,{className:"overflow-x-auto",children:s.jsx(FMe,{collaborators:d,projects:f,onUpdateCollaborator:N,onRemoveCollaborator:S,onChangeStatus:C,loading:h})})]}),s.jsxs(re,{className:"mt-8 animate-slide-up",style:{animationDelay:"0.3s"},children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Ft,{size:20}),"Suivi des Invitations"]})}),s.jsx(ie,{children:c?s.jsx(Ln,{message:"Chargement des invitations..."}):o.length>0?s.jsx(Pte,{data:o}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ft,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucune invitation envoyée"}),s.jsx("p",{className:"text-gray-500",children:"Les invitations que vous envoyez apparaîtront ici avec leur statut."})]})})]}),s.jsx(zMe,{isOpen:i,onClose:()=>a(!1),onInvite:_,projects:f,loading:h,error:m}),!h&&d.length===0&&s.jsx(re,{className:"mt-8 animate-slide-up",style:{animationDelay:"0.3s"},children:s.jsxs(ie,{className:"text-center py-12",children:[s.jsx(et,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucun collaborateur pour le moment"}),s.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"Commencez à collaborer en invitant des personnes à rejoindre vos projets. Elles pourront consulter, modifier ou administrer vos projets selon leurs permissions."}),s.jsxs(H,{onClick:()=>a(!0),className:"bg-gradient-primary text-white",children:[s.jsx(mf,{size:16,className:"mr-2"}),"Inviter votre premier collaborateur"]})]})})]})})}):s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)] animate-popup-appear",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 text-center bg-white p-8 rounded-lg shadow-lg max-w-lg w-[90vw]",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Que l'aventure commence !"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Créez un nouveau projet pour découvrir tout le potentiel de votre idée."}),s.jsx(H,{onClick:()=>e("/individual/warning"),className:"mt-4 px-4 py-2 rounded-lg bg-gradient-primary hover:from-blue-600 hover:to-purple-700 text-white text-lg font-semibold shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105",children:"Créer un nouveau projet"})]})})},WLe=()=>{const e=It(),[t,n]=x.useState(!0),[r,i]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState("all"),[f,h]=x.useState(""),[m,p]=x.useState([]),[g,y]=x.useState({type:"",title:"",description:""}),v=[{title:"Total d'automatisations",value:"24",icon:s.jsx(Hr,{className:"h-5 w-5"})},{title:"Nombre de partenaires",value:"8",icon:s.jsx(et,{className:"h-5 w-5"})},{title:"Ressources disponibles",value:"42",icon:s.jsx(sn,{className:"h-5 w-5"})},{title:"Outils actifs",value:"16",icon:s.jsx(mi,{className:"h-5 w-5"})}],w=Array.from({length:8},(S,C)=>({id:C+1,title:`Contenu ${C+1}`,description:"Description détaillée du contenu avec toutes les informations pertinentes.",tags:["Tag 1","Tag 2","Tag 3"],credits:5,isFavorite:C%3===0,image:"/placeholder.svg"})),b=()=>{console.log("Demande soumise:",g),o(!1),y({type:"",title:"",description:""})},j=S=>{e("/individual/template/tool-template")},_=S=>{p(C=>C.includes(S)?C.filter(k=>k!==S):[...C,S])},N=w.filter(S=>{const C=S.title.toLowerCase().includes(l.toLowerCase())||S.description.toLowerCase().includes(l.toLowerCase()),k=u==="all"||S.tags.some(T=>T.toLowerCase()===u.toLowerCase()),A=!r||m.includes(S.id);return C&&k&&A});return s.jsx("div",{className:"mx-auto py-8 min-h-screen animate-fade-in",children:s.jsxs("div",{className:"w-[80vw] md:w-11/12 mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Page Template"}),s.jsxs("p",{className:"text-gray-600 text-base",children:[" ","Ceci est une page template pour démontrer la structure de base."]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(H,{variant:"secondary",className:"bg-white border border-gray-200 hover:bg-gray-50",children:"En savoir +"}),s.jsxs(pt,{open:a,onOpenChange:o,children:[s.jsx(Ll,{asChild:!0,children:s.jsx(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:"Ajouter +"})}),s.jsxs(gt,{className:"sm:max-w-md",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Nouvelle demande de fonctionnalité"}),s.jsx(Mt,{children:"En fait, on part de votre demande. Nous nous efforçons d'ajouter les nouvelles fonctionnalités dans les plus brefs délais suite aux demandes de nos utilisateurs."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type de fonctionnalité"}),s.jsxs(vt,{value:g.type,onValueChange:S=>y({...g,type:S}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Sélectionnez le type"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"outil",children:"Nouvel outil"}),s.jsx(fe,{value:"ressource",children:"Nouvelle ressource"}),s.jsx(fe,{value:"automation",children:"Nouvelle automatisation"}),s.jsx(fe,{value:"partenaire",children:"Nouveau partenaire"}),s.jsx(fe,{value:"autre",children:"Autre"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Titre de la demande"}),s.jsx(ke,{value:g.title,onChange:S=>y({...g,title:S.target.value}),placeholder:"Ex: Outil de génération de contenu social media"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description détaillée"}),s.jsx(at,{value:g.description,onChange:S=>y({...g,description:S.target.value}),placeholder:"Décrivez en détail votre demande...",rows:4})]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>o(!1),children:"Annuler"}),s.jsx(H,{onClick:b,style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:"Soumettre la demande"})]})]})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:v.map((S,C)=>s.jsx(re,{className:"border",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:S.title}),s.jsx("p",{className:"text-2xl font-bold",children:S.value})]}),s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#fef2ed",color:"#ff5932"},children:S.icon})]})})},C))}),s.jsxs(re,{className:"mb-8 border",children:[s.jsx(pe,{className:"pb-4",children:s.jsxs("div",{className:"cursor-pointer flex items-center justify-between",onClick:()=>n(!t),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mD,{className:"h-5 w-5 text-gray-600"}),s.jsx(me,{className:"text-lg",children:"Filtres et Recherche"})]}),s.jsx(ya,{className:`h-5 w-5 text-gray-600 transition-transform duration-300 ${t?"rotate-180":""}`})]})}),s.jsx("div",{className:de("transition-all duration-300 overflow-hidden",t?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:s.jsx(ie,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1 w-full",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(ke,{placeholder:"Rechercher...",className:"pl-10 w-full focus:ring-0 focus:border-gray-300",value:l,onChange:S=>c(S.target.value)})]}),s.jsxs(vt,{value:f,onValueChange:h,children:[s.jsx(yt,{className:"w-full md:w-[180px] focus:ring-0 focus:border-gray-300",children:s.jsx(_t,{placeholder:"Trier par"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"price-asc",children:"Prix croissant"}),s.jsx(fe,{value:"price-desc",children:"Prix décroissant"}),s.jsx(fe,{value:"date",children:"Date d'ajout"}),s.jsx(fe,{value:"popularity",children:"Popularité"})]})]}),s.jsxs(vt,{value:u,onValueChange:d,children:[s.jsx(yt,{className:"w-full md:w-[180px] focus:ring-0 focus:border-gray-300",children:s.jsx(_t,{placeholder:"Catégorie"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Toutes les catégories"}),s.jsx(fe,{value:"tag 1",children:"Tag 1"}),s.jsx(fe,{value:"tag 2",children:"Tag 2"}),s.jsx(fe,{value:"tag 3",children:"Tag 3"})]})]}),s.jsxs(H,{variant:r?"default":"outline",size:"sm",onClick:()=>i(!r),className:"flex items-center gap-2",children:[s.jsx(Zt,{className:de("h-4 w-4",r&&"fill-current")}),"Favoris"]})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(S=>s.jsx(re,{className:"group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1 overflow-hidden border",onClick:()=>j(S.id),children:s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:S.image,alt:S.title,className:"w-20 h-20 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(me,{className:"text-lg font-semibold mb-2",children:S.title}),s.jsx(Xe,{className:"text-sm text-gray-600 line-clamp-2",children:S.description})]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:S.tags.map((C,k)=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-md font-normal",children:C},k))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédits",className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:S.credits})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{variant:"ghost",size:"sm",className:"p-1.5 h-8 w-8 transition-opacity rounded-full hover:bg-gray-100",onClick:C=>{C.stopPropagation(),_(S.id)},children:s.jsx(Zt,{className:de("h-4 w-4",m.includes(S.id)&&"fill-yellow-400 text-yellow-400")})}),s.jsx(H,{size:"sm",className:"text-xs px-3 py-1.5 h-auto text-white",style:{backgroundColor:"#ff5932"},onClick:C=>{C.stopPropagation()},children:"Utiliser"})]})]})]})},S.id))})]})})},GLe=()=>{const e=It(),[t,n]=x.useState(!1),[r,i]=x.useState("description"),[a,o]=x.useState(!1),[l,c]=x.useState(!1),u={title:"Outil Template",description:"Description complète de cet outil template qui permet de démontrer la structure d'une page de détail d'outil. Cette description peut être plus longue et détaillée.",price:5,tags:["Marketing","Automatisation","Génération","Template"],features:["Génération automatique de contenu","Personnalisation avancée","Export multi-formats","Intégration API"],whatYouGet:["Document PDF personnalisé","Template Word modifiable","Guide d'utilisation"]},d=()=>{e("/individual/template/tool-template")},f=()=>{n(!t)},h=()=>{console.log("Utilisation de l'outil:",u.title)},m=[{id:1,date:"2024-01-15",title:"Projet Marketing Q1",status:"Terminé"},{id:2,date:"2024-01-10",title:"Campagne Social Media",status:"En cours"},{id:3,date:"2024-01-05",title:"Analyse concurrentielle",status:"Terminé"}];return s.jsx("div",{className:"container mx-auto px-4 py-8 min-h-screen animate-fade-in",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(H,{variant:"ghost",onClick:d,className:"mb-6 p-2 hover:bg-gray-100",children:[s.jsx(x7,{className:"h-4 w-4 mr-2"}),"Retour aux outils"]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex gap-4 border-b",children:[s.jsx(H,{variant:r==="description"?"default":"ghost",onClick:()=>i("description"),className:r==="description"?"border-b-2 border-orange-500 rounded-none":"rounded-none",children:"Description"}),s.jsx(H,{variant:r==="utilisation"?"default":"ghost",onClick:()=>i("utilisation"),className:r==="utilisation"?"border-b-2 border-orange-500 rounded-none":"rounded-none",children:"Utilisation"})]})}),r==="description"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"lg:w-1/3",children:s.jsx("div",{className:"bg-white rounded-xl w-full h-64 shadow-sm border flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("div",{className:"text-4xl mb-2",children:"🔧"}),s.jsx("p",{children:"Image de l'outil"})]})})}),s.jsx("div",{className:"lg:w-2/3",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:u.title}),s.jsx("p",{className:"text-gray-600 text-lg mb-4",children:u.description}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hr,{className:"h-5 w-5 text-yellow-500"}),s.jsx("span",{className:"text-xl font-bold",children:u.price}),s.jsx("span",{className:"text-gray-600",children:"crédits"})]})]}),s.jsx(H,{variant:"ghost",size:"sm",onClick:f,className:"p-2",children:s.jsx(Zt,{className:`h-5 w-5 ${t?"fill-yellow-400 text-yellow-400":"text-gray-400"}`})})]})})]}),s.jsx("div",{className:"mt-8 mb-8",children:s.jsx(re,{className:"border",children:s.jsx(ie,{className:"p-6",children:s.jsx("div",{className:"relative bg-gray-100 rounded-xl overflow-hidden",style:{paddingTop:"56.25%"},children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(u1,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Vidéo de démonstration"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Cliquez pour voir comment utiliser cet outil"})]})})})})})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.tags.map((p,g)=>s.jsx("span",{className:"text-sm px-3 py-1 bg-gray-100 text-gray-600 rounded-full",children:p},g))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(re,{className:"border",children:[s.jsx(pe,{children:s.jsx(me,{children:"Fonctionnalités"})}),s.jsx(ie,{children:s.jsx("ul",{className:"space-y-3",children:u.features.map((p,g)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:"#ff5932"}}),s.jsx("span",{className:"text-gray-700",children:p})]},g))})})]}),s.jsxs(re,{className:"border",children:[s.jsx(pe,{children:s.jsx(me,{children:"Ce que vous obtenez"})}),s.jsx(ie,{children:s.jsx("ul",{className:"space-y-3",children:u.whatYouGet.map((p,g)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(Fo,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:p})]},g))})})]})]})]}),r==="utilisation"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs(re,{className:"border",children:[s.jsx(pe,{className:"pb-4",children:s.jsxs("div",{className:"cursor-pointer flex items-center justify-between",onClick:()=>o(!a),children:[s.jsx(me,{children:"Comment utiliser cet outil ?"}),s.jsx(ya,{className:de("h-5 w-5 text-gray-600 transition-transform duration-300",a&&"rotate-180")})]})}),s.jsx("div",{className:de("transition-all duration-300 overflow-hidden",a?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:s.jsx(ie,{className:"pt-0",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full text-white flex items-center justify-center font-semibold text-sm",style:{backgroundColor:"#ff5932"},children:"1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:'Cliquez sur "Utiliser maintenant"'}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Démarrez le processus en cliquant sur le bouton orange ci-dessus."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full text-white flex items-center justify-center font-semibold text-sm",style:{backgroundColor:"#ff5932"},children:"2"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Remplissez les informations demandées"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Suivez les étapes et renseignez les champs nécessaires."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full text-white flex items-center justify-center font-semibold text-sm",style:{backgroundColor:"#ff5932"},children:"3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-1",children:"Téléchargez votre résultat"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Une fois le traitement terminé, téléchargez vos fichiers générés."})]})]})]})})})]}),s.jsxs(re,{className:"border",children:[s.jsx(pe,{className:"pb-4",children:s.jsxs("div",{className:"cursor-pointer flex items-center justify-between",onClick:()=>c(!l),children:[s.jsx(me,{children:"Historique"}),s.jsx(ya,{className:de("h-5 w-5 text-gray-600 transition-transform duration-300",l&&"rotate-180")})]})}),s.jsx("div",{className:de("transition-all duration-300 overflow-hidden",l?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:s.jsx(ie,{className:"pt-0",children:s.jsx("div",{className:"space-y-3",children:m.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:p.title}),s.jsx("p",{className:"text-xs text-gray-500",children:p.date})]}),s.jsx(Ce,{variant:p.status==="Terminé"?"default":"secondary",className:p.status==="Terminé"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700",children:p.status})]},p.id))})})})]}),s.jsxs(re,{className:"border",children:[s.jsxs(pe,{children:[s.jsx(me,{children:"Utilisation de l'outil"}),s.jsx(Xe,{children:"Remplissez les informations ci-dessous pour utiliser l'outil"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nom du projet"}),s.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Saisissez le nom de votre projet"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description"}),s.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",rows:4,placeholder:"Décrivez votre projet..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Catégorie"}),s.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[s.jsx("option",{children:"Sélectionnez une catégorie"}),s.jsx("option",{children:"Marketing"}),s.jsx("option",{children:"Juridique"}),s.jsx("option",{children:"Finance"})]})]}),s.jsx(H,{className:"w-full text-white",style:{backgroundColor:"#ff5932"},onClick:h,children:"Générer le résultat"})]})})]})]})]})})};class KLe{constructor(){wC(this,"conversations",new Map);wC(this,"currentConversationId",null);this.loadConversationsFromStorage()}generateId(){return Math.random().toString(36).substr(2,9)+Date.now().toString(36)}async createConversationInDB(t,n,r){try{console.log("Attempting to create conversation in DB with:",{userId:t,projectId:n,title:r});const{data:i,error:a}=await q.from("conversation").insert({user_id:t,project_id:n,title:r||"Nouvelle conversation"}).select("id").single();return a?(console.error("Erreur création conversation DB:",a.message,a.details,a.hint),null):(console.log("Conversation created in DB:",i.id),i.id)}catch(i){return console.error("Erreur création conversation DB (catch):",i.message),null}}async loadConversationFromDB(t){try{const{data:n,error:r}=await q.from("conversation").select("*").eq("id",t).single();if(r||!n)return console.error("Conversation non trouvée:",r),null;const{data:i,error:a}=await q.from("messages").select("*").eq("conversation_id",t).order("created_at",{ascending:!0});return a?(console.error("Erreur chargement messages:",a),null):{id:n.id,title:n.title,userId:n.user_id,projectId:n.project_id,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at),messages:(i||[]).map(l=>({id:l.id,sender:l.sender,text:l.content,timestamp:new Date(l.created_at)}))}}catch(n){return console.error("Erreur chargement conversation DB:",n),null}}async saveMessageToDB(t,n,r){try{const{data:i,error:a}=await q.from("messages").insert({conversation_id:t,sender:n,content:r}).select("id").single();return a?(console.error("Erreur sauvegarde message DB:",a),null):(await q.from("conversation").update({updated_at:new Date().toISOString()}).eq("id",t),i.id)}catch(i){return console.error("Erreur sauvegarde message DB:",i),null}}async getUserConversationsFromDB(t,n){try{let r=q.from("conversation").select("*").eq("user_id",t).eq("project_id",n);const{data:i,error:a}=await r.order("updated_at",{ascending:!1});return a?(console.error("Erreur chargement conversations DB:",a),[]):(i||[]).map(o=>({id:o.id,title:o.title,userId:o.user_id,projectId:o.project_id,createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at),messages:[]}))}catch(r){return console.error("Erreur chargement conversations DB:",r),[]}}async updateConversationTitleInDB(t,n){try{const{error:r}=await q.from("conversation").update({title:n,updated_at:new Date().toISOString()}).eq("id",t);return r?(console.error("Erreur mise à jour titre DB:",r),!1):!0}catch(r){return console.error("Erreur mise à jour titre DB:",r),!1}}async deleteConversationFromDB(t){try{const{error:n}=await q.from("conversation").delete().eq("id",t);return n?(console.error("Erreur suppression conversation DB:",n),!1):!0}catch(n){return console.error("Erreur suppression conversation DB:",n),!1}}async updateMessageInDB(t,n){try{const{error:r}=await q.from("messages").update({content:n}).eq("id",t);return r?(console.error("Erreur mise à jour message DB:",r),!1):!0}catch(r){return console.error("Erreur mise à jour message DB:",r),!1}}loadConversationsFromStorage(){try{const t=localStorage.getItem("aurentia_conversations");t&&JSON.parse(t).forEach(r=>{const i={...r,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt),messages:r.messages.map(a=>({...a,timestamp:new Date(a.timestamp)}))};this.conversations.set(i.id,i)})}catch(t){console.error("Error loading conversations from storage:",t)}}saveConversationsToStorage(){try{const t=Array.from(this.conversations.values());localStorage.setItem("aurentia_conversations",JSON.stringify(t))}catch(t){console.error("Error saving conversations to storage:",t)}}createConversation(t,n){const r={id:this.generateId(),title:"Nouvelle conversation",userId:t,projectId:n,createdAt:new Date,updatedAt:new Date,messages:[]};return this.conversations.set(r.id,r),this.currentConversationId=r.id,this.saveConversationsToStorage(),r}async createNewConversation(t,n){try{const r=await this.createConversationInDB(t,n);if(!r)return console.error("Échec création conversation en DB"),null;const i={id:r,title:"Nouvelle conversation",userId:t,projectId:n,createdAt:new Date,updatedAt:new Date,messages:[]};return this.conversations.set(i.id,i),this.currentConversationId=i.id,console.log("✅ Conversation créée avec succès:",r),i}catch(r){return console.error("❌ Erreur création conversation:",r),null}}getConversation(t){return this.conversations.get(t)||null}getUserConversations(t){return Array.from(this.conversations.values()).filter(n=>n.userId===t).sort((n,r)=>r.updatedAt.getTime()-n.updatedAt.getTime())}addMessage(t,n,r){const i=this.conversations.get(t);if(!i)return null;const a={id:this.generateId(),sender:n,text:r,timestamp:new Date},o=i.messages.findIndex(l=>l.id===a.id);if(o===-1)i.messages.push(a),i.updatedAt=new Date,n==="user"&&i.messages.filter(l=>l.sender==="user").length===1&&(i.title=this.generateConversationTitle(r));else return console.warn("⚠️ Message avec ID existant ignoré:",a.id),i.messages[o];return this.saveConversationsToStorage(),a}async addMessageWithDB(t,n,r){try{const i=await this.saveMessageToDB(t,n,r);if(!i)return console.error("Échec sauvegarde message en DB"),null;const a=this.conversations.get(t);if(!a)return console.error("Conversation non trouvée localement:",t),null;const o={id:i,sender:n,text:r,timestamp:new Date},l=a.messages.findIndex(c=>c.id===o.id);if(l===-1)a.messages.push(o),a.updatedAt=new Date;else return console.warn("⚠️ Message avec ID existant ignoré:",o.id),a.messages[l];if(n==="user"&&a.messages.filter(c=>c.sender==="user").length===1){const c=this.generateConversationTitle(r);a.title=c,await this.updateConversationTitleInDB(t,c),typeof window<"u"&&window.dispatchEvent(new CustomEvent("conversationTitleChanged",{detail:{conversationId:t,newTitle:c}}))}return console.log("✅ Message ajouté avec succès:",{conversationId:t,sender:n,messageId:i}),o}catch(i){return console.error("❌ Erreur ajout message:",i),null}}updateMessage(t,n,r){const i=this.conversations.get(t);if(!i)return null;const a=i.messages.findIndex(o=>o.id===n);return a===-1?null:(i.messages[a]={...i.messages[a],text:r,timestamp:new Date},i.updatedAt=new Date,this.saveConversationsToStorage(),i.messages[a])}async updateMessageWithDB(t,n,r){try{if(!await this.updateMessageInDB(n,r))return console.error("Échec mise à jour message en DB"),null;const a=this.conversations.get(t);if(!a)return console.error("Conversation non trouvée localement:",t),null;const o=a.messages.findIndex(l=>l.id===n);return o===-1?(console.error("Message non trouvé localement:",n),null):(a.messages[o]={...a.messages[o],text:r,timestamp:new Date},a.updatedAt=new Date,this.saveConversationsToStorage(),console.log("✅ Message mis à jour avec succès:",{conversationId:t,messageId:n}),a.messages[o])}catch(i){return console.error("❌ Erreur mise à jour message:",i),null}}generateConversationTitle(t){return t.split(" ").slice(0,6).join(" ")+(t.split(" ").length>6?"...":"")}updateConversationTitle(t,n){const r=this.conversations.get(t);return r?(r.title=n,r.updatedAt=new Date,this.saveConversationsToStorage(),!0):!1}deleteConversation(t){const n=this.conversations.delete(t);return n&&(this.saveConversationsToStorage(),this.currentConversationId===t&&(this.currentConversationId=null)),n}async generateBotResponse(t,n,r){const i=this.conversations.get(t);if(!i)return"Je ne trouve pas cette conversation.";let a="";r&&(a=await this.getProjectContext(r));const o=this.analyzeUserIntent(n);return this.generateContextualResponse(n,o,a,i.messages)}analyzeUserIntent(t){if(!t||typeof t!="string")return"general";const n=t.toLowerCase();return n.includes("concurrence")||n.includes("concurrent")?"competition_analysis":n.includes("marché")||n.includes("market")?"market_analysis":n.includes("proposition")||n.includes("valeur")?"value_proposition":n.includes("risque")||n.includes("risk")?"risk_analysis":n.includes("business model")||n.includes("modèle")?"business_model":n.includes("persona")||n.includes("client")?"customer_analysis":n.includes("aide")||n.includes("help")?"help":"general"}generateContextualResponse(t,n,r,i){const a={competition_analysis:[`Excellente question sur l'analyse concurrentielle ! ${r?"En me basant sur votre projet, ":""}je peux vous aider à :

• Identifier vos concurrents directs et indirects
• Analyser leurs forces et faiblesses
• Définir votre avantage concurrentiel
• Élaborer une stratégie de différenciation

${r?`Voici ce que je sais de votre projet :
${r}

`:""}Quelle est votre principale préoccupation concernant la concurrence ?`,`L'analyse de la concurrence est cruciale pour votre succès ! Voici comment procéder :

1. **Concurrence directe** : Qui propose exactement la même solution ?
2. **Concurrence indirecte** : Qui résout le même problème différemment ?
3. **Concurrence potentielle** : Qui pourrait entrer sur votre marché ?

${r?`Pour votre projet :
${r}

`:""}Souhaitez-vous que nous analysions un concurrent spécifique ?`],market_analysis:[`Parfait ! L'analyse de marché est fondamentale. ${r?"Avec votre projet, ":""}nous pouvons explorer :

• La taille et la croissance du marché
• Les tendances et opportunités
• La segmentation client
• Les barrières à l'entrée

${r?`Contexte de votre projet :
${r}

`:""}Quel aspect du marché vous intéresse le plus ?`,`Excellente initiative d'analyser votre marché ! Voici les étapes clés :

1. **Taille du marché** : TAM, SAM, SOM
2. **Dynamiques** : Croissance, maturité, disruption
3. **Segments** : Qui sont vos clients idéaux ?
4. **Opportunités** : Niches inexploitées

${r?`Pour votre contexte :
${r}

`:""}Sur quel segment souhaitez-vous vous concentrer ?`],value_proposition:[`La proposition de valeur est le cœur de votre projet ! ${r?"Avec votre solution, ":""}définissons :

• Le problème que vous résolvez
• Votre solution unique
• Les bénéfices pour vos clients
• Votre différenciation

${r?`Votre projet :
${r}

`:""}Quel est le principal problème que vous résolvez ?`,`Créons ensemble une proposition de valeur percutante ! Structure recommandée :

"Pour [client cible] qui [problème/besoin], notre [solution] offre [bénéfice clé] contrairement à [alternative]"

${r?`Contexte :
${r}

`:""}Commençons par identifier votre client cible idéal ?`],risk_analysis:[`L'analyse des risques est essentielle ! ${r?"Pour votre projet, ":""}identifions :

• Risques techniques et opérationnels
• Risques de marché et concurrentiels  
• Risques financiers et réglementaires
• Plans de mitigation

${r?`Votre contexte :
${r}

`:""}Quel type de risque vous préoccupe le plus ?`,`Anticipons les défis ensemble ! Catégories de risques à évaluer :

1. **Techniques** : Faisabilité, complexité
2. **Marché** : Adoption, concurrence
3. **Financiers** : Financement, rentabilité
4. **Opérationnels** : Équipe, ressources

${r?`Pour votre situation :
${r}

`:""}Voulez-vous approfondir une catégorie spécifique ?`],help:[`Je suis Aurentia, votre assistant IA spécialisé dans l'analyse de projets entrepreneuriaux ! Je peux vous aider avec :

🎯 **Analyse stratégique**
• Étude de marché et concurrence
• Proposition de valeur
• Business model

📊 **Analyse opérationnelle**  
• Personas clients
• Analyse des risques
• Ressources nécessaires

💡 **Conseils personnalisés**
• Recommandations adaptées
• Stratégies de développement

${r?`Je connais déjà votre projet :
${r}

`:""}Que souhaitez-vous explorer en premier ?`,`Ravi de vous accompagner ! Voici mes domaines d'expertise :

• **Stratégie** : Positionnement, différenciation
• **Marché** : Opportunités, segments, tendances  
• **Clients** : Personas, besoins, comportements
• **Concurrence** : Forces, faiblesses, stratégies
• **Risques** : Identification, évaluation, mitigation

${r?`Votre projet :
${r}

`:""}Par quoi commençons-nous ?`],general:[`Merci pour votre question ! ${r?"En considérant votre projet, ":""}je peux vous aider à :

• Analyser votre marché et la concurrence
• Développer votre proposition de valeur
• Identifier vos clients cibles
• Évaluer les risques et opportunités

${r?`Contexte de votre projet :
${r}

`:""}Pouvez-vous préciser ce qui vous intéresse le plus ?`,`Excellente question ! En tant qu'expert en analyse entrepreneuriale, je peux vous accompagner sur :

📈 Stratégie et positionnement
🎯 Analyse client et personas
⚖️ Évaluation risques/opportunités
💼 Modèles économiques

${r?`Pour votre projet :
${r}

`:""}Quel aspect souhaitez-vous approfondir ?`]},o=a[n]||a.general;return o[Math.floor(Math.random()*o.length)]}async getProjectContext(t){try{return`Projet ID: ${t}`}catch(n){return console.error("Error fetching project context:",n),""}}setCurrentConversation(t){this.currentConversationId=t}getCurrentConversation(){return this.currentConversationId?this.getConversation(this.currentConversationId):null}}const wr=new KLe,Ote=(e,t,n)=>{const[r,i]=x.useState(null),[a,o]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState([]),[f,h]=x.useState(!1),[m,p]=x.useState(!1),[g,y]=x.useState(!1),[v,w]=x.useState(null),[b,j]=x.useState(""),_=x.useRef(""),N=x.useRef(0),S=x.useRef(0),C=2e3,k=x.useRef({});x.useEffect(()=>{const P=async()=>{if(e){h(!0);try{const{data:{session:I}}=await q.auth.getSession();if(!(I!=null&&I.user)){console.error("❌ Utilisateur non connecté"),Ne.error("Vous devez être connecté pour utiliser le chatbot");return}const M=I.user.id,U=await wr.getUserConversationsFromDB(M,e);d(U),console.log(`ℹ️ ${U.length} conversation(s) trouvée(s) pour le projet ${e}`),U.length>0?await A(U[0].id):(i(null),o(null)),k.current={projectId:e}}catch(I){console.error("❌ Erreur chargement historique:",I),Ne.error("Erreur lors du chargement de l'historique")}finally{h(!1)}}};e&&k.current.projectId!==e&&P()},[e]),x.useEffect(()=>{const P=async I=>{const{conversationId:M,newTitle:U}=I.detail;if(console.log("🎯 Titre de conversation changé:",{conversationId:M,newTitle:U}),!!e){try{const{data:{session:D}}=await q.auth.getSession();if(!(D!=null&&D.user))return;const L=await wr.getUserConversationsFromDB(D.user.id,e);d(L)}catch(D){console.error("❌ Erreur rafraîchissement historique après changement titre:",D)}r&&r.id===M&&i(D=>D?{...D,title:U}:null)}};return window.addEventListener("conversationTitleChanged",P),()=>{window.removeEventListener("conversationTitleChanged",P)}},[r,e]);const A=async P=>{try{c(!0);const I=await wr.loadConversationFromDB(P);I?(i(I),o(I.id),console.log("✅ Conversation chargée:",I.id)):Ne.error("Impossible de charger cette conversation")}catch(I){console.error("❌ Erreur chargement conversation:",I),Ne.error("Erreur lors du chargement")}finally{c(!1)}},T=async()=>{if(e)try{const{data:{session:P}}=await q.auth.getSession();if(!(P!=null&&P.user))return;const I=await wr.getUserConversationsFromDB(P.user.id,e);d(I)}catch(P){console.error("❌ Erreur rafraîchissement historique:",P)}},E=async(P,I)=>{w(I),j("");const M=P.split(" ");let U="";for(let D=0;D<M.length;D++){U+=(D===0?"":" ")+M[D],j(U);const L=M[D].length>8?40:25;await new Promise(V=>setTimeout(V,L))}setTimeout(()=>{w(null),j("")},100)};return{currentConversation:r,conversationHistory:u,isHistoryLoading:f,isConversationLoading:l,isLoading:m,isSubmitting:g,streamingMessageId:v,streamingText:b,loadConversation:A,sendMessage:async(P,I,M,U)=>{const D=Date.now();if(S.current&&D-S.current<C)return console.log("⏱️ Error cooldown active, waiting..."),Ne.error("Veuillez patienter avant de renvoyer un message"),!1;if(N.current&&D-N.current<1e3)return console.log("🛑 Duplicate submission prevented - too fast:",P),!1;if(_.current===P&&D-N.current<5e3)return console.log("🛑 Duplicate message prevented - same content:",P),!1;p(!0),y(!0),_.current=P,N.current=D;try{const{data:{session:L}}=await q.auth.getSession();if(!(L!=null&&L.user))return Ne.error("Vous devez être connecté pour envoyer un message"),!1;let V=r;if(!V){if(!(L!=null&&L.user)||!e)return Ne.error("Impossible de créer une nouvelle conversation: utilisateur ou projet manquant"),!1;const ce=await wr.createNewConversation(L.user.id,e);if(!ce)return Ne.error("Échec de création de la conversation"),!1;V=ce,i(ce),o(ce.id),await T()}if(await wr.addMessageWithDB(V.id,"user",P)){const ce=wr.getConversation(V.id);ce&&i({...ce})}else return console.error("❌ Échec ajout message utilisateur"),Ne.error("Impossible de sauvegarder votre message"),!1;const G=wr.getConversation(V.id),X=G?G.messages.filter(ce=>ce.sender==="user").length===1:!0,Y=await fetch("https://n8n.srv906204.hstgr.cloud/webhook/chatbot-global",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:P,projectId:e,communicationStyle:I,deepThinking:M.includes("deep_thinking"),projectSearchMode:M.includes("project_rag"),selectedDeliverables:U,isFirstMessage:X,convId:V.id,entityId:t,entityType:n})});if(!Y.ok)throw new Error(`HTTP error! status: ${Y.status}`);if(!Y.ok)throw new Error(`HTTP error! status: ${Y.status}`);let ne;const ge=await Y.text();console.log("Réponse brute du chatbot (avant parsing):",ge);try{const ce=JSON.parse(ge);if(console.log("Réponse JSON du chatbot:",ce),ce&&typeof ce=="object"&&"credits"in ce&&(ce.credits===!1||ce.credits==="false")){console.warn("Crédits insuffisants détectés dans la réponse du chatbot.");const ve=ce.credits_needed?String(ce.credits_needed):void 0;return console.log("Credits needed (processed):",ve),window.triggerCreditsInsufficientDialog&&window.triggerCreditsInsufficientDialog(ve),p(!1),y(!1),!1}ne=ge}catch(ce){console.log("La réponse du chatbot n'est pas un JSON valide, traitement comme texte.",ce),ne=ge}const se=await wr.addMessageWithDB(V.id,"bot","");if(se){let ce=wr.getConversation(V.id);ce&&i({...ce}),await E(ne,se.id),await wr.updateMessageWithDB(V.id,se.id,ne)&&(ce=wr.getConversation(V.id),ce&&i({...ce}))}return!0}catch(L){console.error("❌ Error generating response:",L),S.current=Date.now();let V="Désolé, j'ai rencontré une erreur. Pouvez-vous reformuler votre question ?";return(L==null?void 0:L.status)===401?V="Erreur d'authentification. Veuillez vous reconnecter.":(L==null?void 0:L.status)===406?V="Erreur de format de requête. Veuillez réessayer.":(L==null?void 0:L.status)>=500&&(V="Erreur serveur. Veuillez réessayer dans quelques instants."),Ne.error(V),!1}finally{p(!1),y(!1)}},regenerateResponse:async(P,I,M,U)=>{if(!r||m)return;const D=Date.now();if(S.current&&D-S.current<C){Ne.error("Veuillez patienter avant de régénérer");return}const L=r.messages.findIndex(K=>K.id===P);if(L===-1)return;const V=r.messages.slice(0,L).reverse().find(K=>K.sender==="user");if(V){p(!0);try{const{data:{session:K}}=await q.auth.getSession();if(!(K!=null&&K.user)){Ne.error("Vous devez être connecté pour régénérer une réponse");return}const X=await fetch("https://n8n.srv906204.hstgr.cloud/webhook/chatbot-global",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:V.text,projectId:e,communicationStyle:I,deepThinking:M.includes("deep_thinking"),projectSearchMode:M.includes("project_rag"),selectedDeliverables:U,isFirstMessage:!1,convId:r.id,entityId:t,entityType:n})});if(!X.ok)throw new Error(`HTTP error! status: ${X.status}`);let oe;const Y=await X.text();console.log("Réponse brute du chatbot (régénération, avant parsing):",Y);try{const ce=JSON.parse(Y);if(console.log("Réponse JSON du chatbot (régénération):",ce),ce&&typeof ce=="object"&&"credits"in ce&&(ce.credits===!1||ce.credits==="false")){console.warn("Crédits insuffisants détectés dans la réponse du chatbot (régénération).");const ve=ce.credits_needed?String(ce.credits_needed):void 0;console.log("Credits needed (regeneration processed):",ve),window.triggerCreditsInsufficientDialog&&window.triggerCreditsInsufficientDialog(ve),p(!1);return}oe=Y}catch(ce){console.log("La réponse du chatbot (régénération) n'est pas un JSON valide, traitement comme texte.",ce),oe=Y}const ne=r.messages[L];if(await wr.updateMessageWithDB(r.id,ne.id,"")){let ce=wr.getConversation(r.id);ce&&i({...ce})}if(await E(oe,ne.id),await wr.updateMessageWithDB(r.id,ne.id,oe)){const ce=wr.getConversation(r.id);ce&&i({...ce})}}catch(K){console.error("❌ Error regenerating response:",K),S.current=Date.now(),Ne.error("Erreur lors de la régénération")}finally{p(!1)}}},updateConversationTitle:async P=>r&&P.trim()?await wr.updateConversationTitleInDB(r.id,P.trim())?(i(M=>M?{...M,title:P.trim()}:null),await T(),Ne.success("Conversation renommée"),!0):(Ne.error("Erreur lors du renommage"),!1):!1,deleteConversation:async()=>{if(r)if(await wr.deleteConversationFromDB(r.id)){i(null),o(null),await T();const I=await(async()=>{if(!e)return[];try{const{data:{session:M}}=await q.auth.getSession();return M!=null&&M.user?await wr.getUserConversationsFromDB(M.user.id,e):[]}catch{return[]}})();return I.length>0&&await A(I[0].id),Ne.success("Conversation supprimée"),!0}else return Ne.error("Erreur lors de la suppression"),!1;return!1},newChat:()=>{i(null),o(null),w(null),j(""),Ne.success("Prêt pour une nouvelle conversation")}}},Rte=({currentConversation:e,conversationHistory:t,isConversationLoading:n,isHistoryLoading:r,onLoadConversation:i,onNewChat:a,onRenameConversation:o,onDeleteConversation:l,onToggleHistoryMobile:c})=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-200 shadow-[0_4px_6px_-1px_rgba(0,0,0,0.1),0_2px_4px_-1px_rgba(0,0,0,0.06)] hover:shadow-[0_6px_8px_-2px_rgba(0,0,0,0.15)] sticky top-0 z-10 mx-4",children:[" ",s.jsx("div",{className:"mx-auto px-3 sm:px-4 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center gap-3 w-full",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0",children:s.jsx(ff,{className:"w-4 h-4 text-white"})}),s.jsx("div",{className:"flex-1 min-w-0 hidden sm:block",children:r?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Chargement des conversations..."})]}):t.length===0?s.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:"Nouvelle conversation"}):s.jsxs(vt,{value:(e==null?void 0:e.id)||"",onValueChange:i,children:[s.jsx(yt,{className:"w-full max-w-xs sm:max-w-sm h-9 border-0 focus:ring-0 focus:ring-offset-0 focus:outline-none",children:s.jsx(_t,{children:s.jsx("span",{className:"truncate",children:e?e.title:"Sélectionner une conversation"})})}),s.jsx(bt,{className:"min-w-[400px]",children:t.map(u=>s.jsx(fe,{value:u.id,className:"hover:bg-[#F3F4F6]",children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("span",{className:"truncate flex-1 min-w-0",children:u.title}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-auto pl-4",children:new Date(u.updatedAt).toLocaleDateString("fr-FR")})]})},u.id))})]})}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0 ml-auto",children:[" ",t.length>0&&s.jsx(H,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-500 hover:text-white p-2 sm:hidden",children:s.jsx(v2,{size:16})}),s.jsxs(H,{variant:"ghost",size:"sm",onClick:a,className:"text-gray-500 hover:text-white px-2 sm:px-3",children:[s.jsx(In,{size:16,className:"mr-0 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline text-sm",children:"Nouveau"})]}),e&&s.jsxs(s.Fragment,{children:[s.jsx(H,{variant:"ghost",size:"sm",onClick:o,className:"text-gray-500 hover:text-white p-2",children:s.jsx(ome,{size:14})}),s.jsx(H,{variant:"ghost",size:"sm",onClick:l,className:"text-gray-500 hover:text-white p-2",children:s.jsx(Rr,{size:14})})]})]})]})})]}),h6=function(e,t,n){const r=xb(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},qf=function(e){if(e==null)return QLe;if(typeof e=="string")return XLe(e);if(typeof e=="object")return YLe(e);if(typeof e=="function")return gI(e);throw new Error("Expected function, string, or array as `test`")};function YLe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=qf(e[n]);return gI(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function XLe(e){return gI(t);function t(n){return n.tagName===e}}function gI(e){return t;function t(n,r,i){return!!(JLe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function QLe(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function JLe(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const m6=/\n/g,p6=/[\t ]+/g,WT=qf("br"),g6=qf(a$e),ZLe=qf("p"),x6=qf("tr"),e$e=qf(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",i$e,o$e]),Dte=qf(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function t$e(e,t){const n=t||{},r="children"in e?e.children:[],i=Dte(e),a=Lte(e,{whitespace:n.whitespace||"normal"}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...Ite(e,{breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<r.length;)o.push(...Mte(r[l],e,{whitespace:a,breakBefore:l?void 0:i,breakAfter:l<r.length-1?WT(r[l+1]):i}));const c=[];let u;for(l=-1;++l<o.length;){const d=o[l];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&c.push(`
`.repeat(u)||" "),u=-1,c.push(d))}return c.join("")}function Mte(e,t,n){return e.type==="element"?n$e(e,t,n):e.type==="text"?n.whitespace==="normal"?Ite(e,n):r$e(e):[]}function n$e(e,t,n){const r=Lte(e,n),i=e.children||[];let a=-1,o=[];if(e$e(e))return o;let l,c;for(WT(e)||x6(e)&&h6(t,e,x6)?c=`
`:ZLe(e)?(l=2,c=2):Dte(e)&&(l=1,c=1);++a<i.length;)o=o.concat(Mte(i[a],e,{whitespace:r,breakBefore:a?void 0:l,breakAfter:a<i.length-1?WT(i[a+1]):c}));return g6(e)&&h6(t,e,g6)&&o.push("	"),l&&o.unshift(l),c&&o.push(c),o}function Ite(e,t){const n=String(e.value),r=[],i=[];let a=0;for(;a<=n.length;){m6.lastIndex=a;const c=m6.exec(n),u=c&&"index"in c?c.index:n.length;r.push(s$e(n.slice(a,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),a=u+1}let o=-1,l;for(;++o<r.length;)r[o].charCodeAt(r[o].length-1)===8203||o<r.length-1&&r[o+1].charCodeAt(0)===8203?(i.push(r[o]),l=void 0):r[o]?(typeof l=="number"&&i.push(l),i.push(r[o]),l=0):(o===0||o===r.length-1)&&i.push(0);return i}function r$e(e){return[String(e.value)]}function s$e(e,t,n){const r=[];let i=0,a;for(;i<e.length;){p6.lastIndex=i;const o=p6.exec(e);a=o?o.index:e.length,!i&&!a&&o&&!t&&r.push(""),i!==a&&r.push(e.slice(i,a)),i=o?a+o[0].length:a}return i!==a&&!n&&r.push(""),r.join(" ")}function Lte(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function i$e(e){return!!(e.properties||{}).hidden}function a$e(e){return e.tagName==="td"||e.tagName==="th"}function o$e(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function l$e(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},m=t.optional(i)+e.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],v=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],j={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},_={className:"function.dispatch",relevance:0,keywords:{_hint:v},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},N=[_,f,l,n,e.C_BLOCK_COMMENT_MODE,d,u],S={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:j,contains:N.concat([{begin:/\(/,end:/\)/,keywords:j,contains:N.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+o+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:j,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:j,relevance:0},{begin:m,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:j,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(S,C,_,N,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:j,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:j},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function c$e(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=l$e(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function u$e(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},a=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(l);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},f={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},h=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],m=e.SHEBANG({binary:`(${h.join("|")})`,relevance:10}),p={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],y=["true","false"],v={match:/(\/[a-z._-]+)+/},w=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],j=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],_=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:y,built_in:[...w,...b,"set","shopt",...j,..._]},contains:[m,e.SHEBANG(),p,f,a,o,v,l,c,u,d,n]}}function d$e(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},m=t.optional(i)+e.IDENT_RE+"\\s*\\(",y={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},v=[f,l,n,e.C_BLOCK_COMMENT_MODE,d,u],w={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:v.concat([{begin:/\(/,end:/\)/,keywords:y,contains:v.concat(["self"]),relevance:0}]),relevance:0},b={begin:"("+o+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:y,relevance:0},{begin:m,returnBegin:!0,contains:[e.inherit(h,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,f]};return{name:"C",aliases:["h"],keywords:y,disableAutodetect:!0,illegal:"</",contains:[].concat(w,b,v,[f,{begin:e.IDENT_RE+"::",keywords:y},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:f,strings:u,keywords:y}}}function f$e(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},m=t.optional(i)+e.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],v=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],j={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},_={className:"function.dispatch",relevance:0,keywords:{_hint:v},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},N=[_,f,l,n,e.C_BLOCK_COMMENT_MODE,d,u],S={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:j,contains:N.concat([{begin:/\(/,end:/\)/,keywords:j,contains:N.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+o+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:j,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:j,relevance:0},{begin:m,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:j,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:j,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(S,C,_,N,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:j,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:j},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function h$e(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],a=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(a),built_in:t,literal:r},l=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},f=e.inherit(d,{illegal:/\n/}),h={className:"subst",begin:/\{/,end:/\}/,keywords:o},m=e.inherit(h,{illegal:/\n/}),p={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,m]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]},y=e.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]});h.contains=[g,p,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.C_BLOCK_COMMENT_MODE],m.contains=[y,p,f,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const v={variants:[u,g,p,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},w={begin:"<",end:">",contains:[{beginKeywords:"in out"},l]},b=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",j={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},v,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},l,w,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,w,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+b+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,w],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[v,c,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},j]}}const m$e=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),p$e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],g$e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],x$e=[...p$e,...g$e],v$e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),y$e=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),b$e=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),w$e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function j$e(e){const t=e.regex,n=m$e(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",a=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+y$e.join("|")+")"},{begin:":(:)?("+b$e.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+w$e.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:a},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:v$e.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+x$e.join("|")+")\\b"}]}}function _$e(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function N$e(e){const a={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:a,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:a,illegal:/["']/}]}]}}function S$e(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function C$e(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},a={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},l={begin:/\[/,end:/\]/,contains:[r,a,i,o,n,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,f=t.either(c,u,d),h=t.concat(f,"(\\s*\\.\\s*",f,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:h,className:"attr",starts:{end:/$/,contains:[r,l,a,i,o,n]}}]}}var Sh="[0-9](_*[0-9])*",$0=`\\.(${Sh})`,F0="[0-9a-fA-F](_*[0-9a-fA-F])*",v6={className:"number",variants:[{begin:`(\\b(${Sh})((${$0})|\\.)?|(${$0}))[eE][+-]?(${Sh})[fFdD]?\\b`},{begin:`\\b(${Sh})((${$0})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${$0})[fFdD]?\\b`},{begin:`\\b(${Sh})[fFdD]\\b`},{begin:`\\b0[xX]((${F0})\\.?|(${F0})?\\.(${F0}))[pP][+-]?(${Sh})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${F0})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function $te(e,t,n){return n===-1?"":e.replace(t,r=>$te(e,t,n-1))}function E$e(e){const t=e.regex,n="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",r=n+$te("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v6,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},v6,u]}}const y6="[A-Za-z$_][0-9A-Za-z$_]*",k$e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],A$e=["true","false","null","undefined","NaN","Infinity"],Fte=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],zte=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Bte=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],T$e=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],P$e=[].concat(Bte,Fte,zte);function O$e(e){const t=e.regex,n=(P,{after:I})=>{const M="</"+P[0].slice(1);return P.input.indexOf(M,I)!==-1},r=y6,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,I)=>{const M=P[0].length+P.index,U=P.input[M];if(U==="<"||U===","){I.ignoreMatch();return}U===">"&&(n(P,{after:M})||I.ignoreMatch());let D;const L=P.input.substring(M);if(D=L.match(/^\s*=/)){I.ignoreMatch();return}if((D=L.match(/^\s+extends\s+/))&&D.index===0){I.ignoreMatch();return}}},l={$pattern:y6,keyword:k$e,literal:A$e,built_in:P$e,"variable.language":T$e},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,h]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,g,y,{match:/\$\d+/},f];h.contains=b.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(b)});const j=[].concat(w,h.contains),_=j.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(j)}]),N={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_},S={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Fte,...zte]}},k={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},A={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[N],illegal:/%/},T={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function E(P){return t.concat("(?!",P.join("|"),")")}const R={match:t.concat(/\b/,E([...Bte,"super","import"].map(P=>`${P}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},$={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},N]},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",z={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[N]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),k,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,g,y,w,{match:/\$\d+/},f,C,{scope:"attr",match:r+t.lookahead(":"),relevance:0},z,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[N,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},$,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[N]},R,T,S,O,{match:/\$[(.]/}]}}function R$e(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Ch="[0-9](_*[0-9])*",z0=`\\.(${Ch})`,B0="[0-9a-fA-F](_*[0-9a-fA-F])*",D$e={className:"number",variants:[{begin:`(\\b(${Ch})((${z0})|\\.)?|(${z0}))[eE][+-]?(${Ch})[fFdD]?\\b`},{begin:`\\b(${Ch})((${z0})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${z0})[fFdD]?\\b`},{begin:`\\b(${Ch})[fFdD]\\b`},{begin:`\\b0[xX]((${B0})\\.?|(${B0})?\\.(${B0}))[pP][+-]?(${Ch})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${B0})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function M$e(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},a={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[a,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,a,i]}]};i.contains.push(o);const l={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},u=D$e,d=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),f={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},h=f;return h.variants[1].contains=[f],f.variants[1].contains=[h],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,d,n,r,l,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[f,e.C_LINE_COMMENT_MODE,d],relevance:0},e.C_LINE_COMMENT_MODE,d,l,c,o,e.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},l,c]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const I$e=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),L$e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],$$e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],F$e=[...L$e,...$$e],z$e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Ute=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),qte=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),B$e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),U$e=Ute.concat(qte).sort().reverse();function q$e(e){const t=I$e(e),n=U$e,r="and or not only",i="[\\w-]+",a="("+i+"|@\\{"+i+"\\})",o=[],l=[],c=function(b){return{className:"string",begin:"~?"+b+".*?"+b}},u=function(b,j,_){return{className:b,begin:j,relevance:_}},d={$pattern:/[a-z-]+/,keyword:r,attribute:z$e.join(" ")},f={begin:"\\(",end:"\\)",contains:l,keywords:d,relevance:0};l.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c("'"),c('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,f,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const h=l.concat({begin:/\{/,end:/\}/,contains:o}),m={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(l)},p={begin:a+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+B$e.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:l}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:l,relevance:0}},y={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:h}},v={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,m,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+F$e.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",a,0),u("selector-id","#"+a),u("selector-class","\\."+a,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Ute.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+qte.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:h},{begin:"!important"},t.FUNCTION_DISPATCH]},w={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[v]};return o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,y,w,p,v,m,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function V$e(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function H$e(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},a={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,a,o]}}function W$e(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},a={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},f=e.inherit(u,{contains:[]}),h=e.inherit(d,{contains:[]});u.contains.push(h),d.contains.push(f);let m=[n,c];return[u,d,f,h].forEach(v=>{v.contains=v.contains.concat(m)}),m=m.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:m},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:m}]}]},n,a,u,d,{className:"quote",begin:"^>\\s+",contains:m,end:"$"},i,r,c,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function G$e(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,l={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:l,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function K$e(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},a={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},l={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[l]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,a,c],f=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],h=(g,y,v="\\1")=>{const w=v==="\\1"?v:t.concat(v,y);return t.concat(t.concat("(?:",g,")"),y,/(?:\\.|[^\\\/])*?/,w,/(?:\\.|[^\\\/])*?/,v,r)},m=(g,y,v)=>t.concat(t.concat("(?:",g,")"),y,/(?:\\.|[^\\\/])*?/,v,r),p=[c,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:h("s|tr|y",t.either(...f,{capture:!0}))},{begin:h("s|tr|y","\\(","\\)")},{begin:h("s|tr|y","\\[","\\]")},{begin:h("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:m("(?:m|qr)?",/\//,/\//)},{begin:m("m|qr",t.either(...f,{capture:!0}),/\1/)},{begin:m("m|qr",/\(/,/\)/)},{begin:m("m|qr",/\[/,/\]/)},{begin:m("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return a.contains=p,o.contains=p,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:p}}function Y$e(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),a=t.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},l={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),d=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(c)}),f={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(c),"on:begin":($,O)=>{O.data._beginMatch=$[1]||$[2]},"on:end":($,O)=>{O.data._beginMatch!==$[1]&&O.ignoreMatch()}},h=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),m=`[ 	
]`,p={scope:"string",variants:[d,u,f,h]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},y=["false","null","true"],v=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],w=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],j={keyword:v,literal:($=>{const O=[];return $.forEach(F=>{O.push(F),F.toLowerCase()===F?O.push(F.toUpperCase()):O.push(F.toLowerCase())}),O})(y),built_in:w},_=$=>$.map(O=>O.replace(/\|\d+$/,"")),N={variants:[{match:[/new/,t.concat(m,"+"),t.concat("(?!",_(w).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},S=t.concat(r,"\\b(?!\\()"),C={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),S],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),S],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},k={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},A={relevance:0,begin:/\(/,end:/\)/,keywords:j,contains:[k,o,C,e.C_BLOCK_COMMENT_MODE,p,g,N]},T={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",_(v).join("\\b|"),"|",_(w).join("\\b|"),"\\b)"),r,t.concat(m,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[A]};A.contains.push(T);const E=[k,C,e.C_BLOCK_COMMENT_MODE,p,g,N],R={begin:t.concat(/#\[\s*\\?/,t.either(i,a)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:y,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:y,keyword:["new","array"]},contains:["self",...E]},...E,{scope:"meta",variants:[{match:i},{match:a}]}]};return{case_insensitive:!1,keywords:j,contains:[R,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},l,{scope:"variable.language",match:/\$this\b/},o,T,C,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},N,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:j,contains:["self",R,o,C,e.C_BLOCK_COMMENT_MODE,p,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},p,g]}}function X$e(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function Q$e(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function J$e(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},d={begin:/\{\{/,relevance:0},f={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},h="[0-9](_?[0-9])*",m=`(\\b(${h}))?\\.(${h})|\\b(${h})\\.`,p=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${h})|(${m}))[eE][+-]?(${h})[jJ]?(?=${p})`},{begin:`(${m})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${p})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${p})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${p})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${p})`},{begin:`\\b(${h})[jJ](?=${p})`}]},y={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},v={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,g,f,e.HASH_COMMENT_MODE]}]};return u.contains=[f,g,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[c,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},f,y,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[v]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,v,f]}]}}function Z$e(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function eFe(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,a=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[a,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:a},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function tFe(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},l={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[l]}),e.COMMENT("^=begin","^=end",{contains:[l],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:o},f={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},h="[1-9](_?[0-9])*|0",m="[0-9](_?[0-9])*",p={className:"number",relevance:0,variants:[{begin:`\\b(${h})(\\.(${m}))?([eE][+-]?(${m})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},N=[f,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[f,{begin:n}],relevance:0},p,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=N,g.contains=N;const A=[{begin:/^\s*=>/,starts:{end:"$",contains:N}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:N}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(A).concat(u).concat(N)}}function nFe(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),a={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",l=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:l,literal:c,built_in:u},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},a]}}const rFe=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),sFe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],iFe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],aFe=[...sFe,...iFe],oFe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),lFe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),cFe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),uFe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function dFe(e){const t=rFe(e),n=cFe,r=lFe,i="@[a-z-]+",a="and or not only",l={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+aFe.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+uFe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,l,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:oFe.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function fFe(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function hFe(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},a=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],f=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],h=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],m=d,p=[...u,...c].filter(_=>!d.includes(_)),g={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},y={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},v={match:t.concat(/\b/,t.either(...m),/\s*\(/),relevance:0,keywords:{built_in:m}};function w(_){return t.concat(/\b/,t.either(..._.map(N=>N.replace(/\s+/,"\\s+"))),/\b/)}const b={scope:"keyword",match:w(h),relevance:0};function j(_,{exceptions:N,when:S}={}){const C=S;return N=N||[],_.map(k=>k.match(/\|\d+$/)||N.includes(k)?k:C(k)?`${k}|0`:k)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:j(p,{when:_=>_.length<3}),literal:a,type:l,built_in:f},contains:[{scope:"type",match:w(o)},b,v,g,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,y]}}function Vte(e){return e?typeof e=="string"?e:e.source:null}function qg(e){return pn("(?=",e,")")}function pn(...e){return e.map(n=>Vte(n)).join("")}function mFe(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Ss(...e){return"("+(mFe(e).capture?"":"?:")+e.map(r=>Vte(r)).join("|")+")"}const xI=e=>pn(/\b/,e,/\w$/.test(e)?/\b/:/\B/),pFe=["Protocol","Type"].map(xI),b6=["init","self"].map(xI),gFe=["Any","Self"],ak=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],w6=["false","nil","true"],xFe=["assignment","associativity","higherThan","left","lowerThan","none","right"],vFe=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],j6=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Hte=Ss(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Wte=Ss(Hte,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),ok=pn(Hte,Wte,"*"),Gte=Ss(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),h_=Ss(Gte,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),po=pn(Gte,h_,"*"),U0=pn(/[A-Z]/,h_,"*"),yFe=["attached","autoclosure",pn(/convention\(/,Ss("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",pn(/objc\(/,po,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],bFe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function wFe(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,Ss(...pFe,...b6)],className:{2:"keyword"}},a={match:pn(/\./,Ss(...ak)),relevance:0},o=ak.filter(ue=>typeof ue=="string").concat(["_|0"]),l=ak.filter(ue=>typeof ue!="string").concat(gFe).map(xI),c={variants:[{className:"keyword",match:Ss(...l,...b6)}]},u={$pattern:Ss(/\b\w+/,/#\w+/),keyword:o.concat(vFe),literal:w6},d=[i,a,c],f={match:pn(/\./,Ss(...j6)),relevance:0},h={className:"built_in",match:pn(/\b/,Ss(...j6),/(?=\()/)},m=[f,h],p={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:ok},{match:`\\.(\\.|${Wte})+`}]},y=[p,g],v="([0-9]_*)+",w="([0-9a-fA-F]_*)+",b={className:"number",relevance:0,variants:[{match:`\\b(${v})(\\.(${v}))?([eE][+-]?(${v}))?\\b`},{match:`\\b0x(${w})(\\.(${w}))?([pP][+-]?(${v}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},j=(ue="")=>({className:"subst",variants:[{match:pn(/\\/,ue,/[0\\tnr"']/)},{match:pn(/\\/,ue,/u\{[0-9a-fA-F]{1,8}\}/)}]}),_=(ue="")=>({className:"subst",match:pn(/\\/,ue,/[\t ]*(?:[\r\n]|\r\n)/)}),N=(ue="")=>({className:"subst",label:"interpol",begin:pn(/\\/,ue,/\(/),end:/\)/}),S=(ue="")=>({begin:pn(ue,/"""/),end:pn(/"""/,ue),contains:[j(ue),_(ue),N(ue)]}),C=(ue="")=>({begin:pn(ue,/"/),end:pn(/"/,ue),contains:[j(ue),N(ue)]}),k={className:"string",variants:[S(),S("#"),S("##"),S("###"),C(),C("#"),C("##"),C("###")]},A=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],T={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:A},E=ue=>{const ee=pn(ue,/\//),le=pn(/\//,ue);return{begin:ee,end:le,contains:[...A,{scope:"comment",begin:`#(?!.*${le})`,end:/$/}]}},R={scope:"regexp",variants:[E("###"),E("##"),E("#"),T]},$={match:pn(/`/,po,/`/)},O={className:"variable",match:/\$\d+/},F={className:"variable",match:`\\$${h_}+`},z=[$,O,F],P={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:bFe,contains:[...y,b,k]}]}},I={scope:"keyword",match:pn(/@/,Ss(...yFe),qg(Ss(/\(/,/\s+/)))},M={scope:"meta",match:pn(/@/,po)},U=[P,I,M],D={match:qg(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:pn(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,h_,"+")},{className:"type",match:U0,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:pn(/\s+&\s+/,qg(U0)),relevance:0}]},L={begin:/</,end:/>/,keywords:u,contains:[...r,...d,...U,p,D]};D.contains.push(L);const V={match:pn(po,/\s*:/),keywords:"_|0",relevance:0},K={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",V,...r,R,...d,...m,...y,b,k,...z,...U,D]},G={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,D]},X={begin:Ss(qg(pn(po,/\s*:/)),qg(pn(po,/\s+/,po,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:po}]},oe={begin:/\(/,end:/\)/,keywords:u,contains:[X,...r,...d,...y,b,k,...U,D,K],endsParent:!0,illegal:/["']/},Y={match:[/(func|macro)/,/\s+/,Ss($.match,po,ok)],className:{1:"keyword",3:"title.function"},contains:[G,oe,t],illegal:[/\[/,/%/]},ne={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[G,oe,t],illegal:/\[|%/},ge={match:[/operator/,/\s+/,ok],className:{1:"keyword",3:"title"}},se={begin:[/precedencegroup/,/\s+/,U0],className:{1:"keyword",3:"title"},contains:[D],keywords:[...xFe,...w6],end:/}/},ce={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},ve={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},te={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,po,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[G,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:U0},...d],relevance:0}]};for(const ue of k.variants){const ee=ue.contains.find(Ie=>Ie.label==="interpol");ee.keywords=u;const le=[...d,...m,...y,b,k,...z];ee.contains=[...le,{begin:/\(/,end:/\)/,contains:["self",...le]}]}return{name:"Swift",keywords:u,contains:[...r,Y,ne,ce,ve,te,ge,se,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},R,...d,...m,...y,b,k,...z,...U,D,K]}}const m_="[A-Za-z$_][0-9A-Za-z$_]*",Kte=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Yte=["true","false","null","undefined","NaN","Infinity"],Xte=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Qte=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Jte=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Zte=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ene=[].concat(Jte,Xte,Qte);function jFe(e){const t=e.regex,n=(P,{after:I})=>{const M="</"+P[0].slice(1);return P.input.indexOf(M,I)!==-1},r=m_,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,I)=>{const M=P[0].length+P.index,U=P.input[M];if(U==="<"||U===","){I.ignoreMatch();return}U===">"&&(n(P,{after:M})||I.ignoreMatch());let D;const L=P.input.substring(M);if(D=L.match(/^\s*=/)){I.ignoreMatch();return}if((D=L.match(/^\s+extends\s+/))&&D.index===0){I.ignoreMatch();return}}},l={$pattern:m_,keyword:Kte,literal:Yte,built_in:ene,"variable.language":Zte},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,h]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,g,y,{match:/\$\d+/},f];h.contains=b.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(b)});const j=[].concat(w,h.contains),_=j.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(j)}]),N={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_},S={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Xte,...Qte]}},k={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},A={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[N],illegal:/%/},T={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function E(P){return t.concat("(?!",P.join("|"),")")}const R={match:t.concat(/\b/,E([...Jte,"super","import"].map(P=>`${P}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},$={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},N]},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",z={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[N]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),k,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,p,g,y,w,{match:/\$\d+/},f,C,{scope:"attr",match:r+t.lookahead(":"),relevance:0},z,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[N,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},$,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[N]},R,T,S,O,{match:/\$[(.]/}]}}function _Fe(e){const t=e.regex,n=jFe(e),r=m_,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:m_,keyword:Kte.concat(c),literal:Yte,built_in:ene.concat(i),"variable.language":Zte},d={className:"meta",begin:"@"+r},f=(g,y,v)=>{const w=g.contains.findIndex(b=>b.label===y);if(w===-1)throw new Error("can not find mode to replace");g.contains.splice(w,1,v)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const h=n.contains.find(g=>g.scope==="attr"),m=Object.assign({},h,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,h,m]),n.contains=n.contains.concat([d,a,o,m]),f(n,"shebang",e.SHEBANG()),f(n,"use_strict",l);const p=n.contains.find(g=>g.label==="func.def");return p.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function NFe(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,a=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,l=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:t.concat(/# */,t.either(a,i),/ *#/)},{begin:t.concat(/# */,l,/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,t.either(a,i),/ +/,t.either(o,l),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},f=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),h=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,c,u,d,f,h,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[h]}]}}function SFe(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},a={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},l={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},a,o,i,e.QUOTE_STRING_MODE,c,u,l]}}function CFe(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(a,{begin:/\(/,end:/\)/}),l=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,c,l,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,o,c,l]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function EFe(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},a={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},l=e.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),h={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},m={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},p={begin:/\{/,end:/\}/,contains:[m],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[m],illegal:"\\n",relevance:0},y=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},h,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},p,g,a,o],v=[...y];return v.pop(),v.push(l),m.contains=v,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:y}}const kFe={arduino:c$e,bash:u$e,c:d$e,cpp:f$e,csharp:h$e,css:j$e,diff:_$e,go:N$e,graphql:S$e,ini:C$e,java:E$e,javascript:O$e,json:R$e,kotlin:M$e,less:q$e,lua:V$e,makefile:H$e,markdown:W$e,objectivec:G$e,perl:K$e,php:Y$e,"php-template":X$e,plaintext:Q$e,python:J$e,"python-repl":Z$e,r:eFe,ruby:tFe,rust:nFe,scss:dFe,shell:fFe,sql:hFe,swift:wFe,typescript:_Fe,vbnet:NFe,wasm:SFe,xml:CFe,yaml:EFe};function tne(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&tne(n)}),e}let _6=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function nne(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Kc(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const AFe="</span>",N6=e=>!!e.scope,TFe=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class PFe{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=nne(t)}openNode(t){if(!N6(t))return;const n=TFe(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){N6(t)&&(this.buffer+=AFe)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const S6=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class vI{constructor(){this.rootNode=S6(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=S6({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{vI._collapse(n)}))}}class OFe extends vI{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new PFe(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function $v(e){return e?typeof e=="string"?e:e.source:null}function rne(e){return Vf("(?=",e,")")}function RFe(e){return Vf("(?:",e,")*")}function DFe(e){return Vf("(?:",e,")?")}function Vf(...e){return e.map(n=>$v(n)).join("")}function MFe(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function yI(...e){return"("+(MFe(e).capture?"":"?:")+e.map(r=>$v(r)).join("|")+")"}function sne(e){return new RegExp(e.toString()+"|").exec("").length-1}function IFe(e,t){const n=e&&e.exec(t);return n&&n.index===0}const LFe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function bI(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const i=n;let a=$v(r),o="";for(;a.length>0;){const l=LFe.exec(a);if(!l){o+=a;break}o+=a.substring(0,l.index),a=a.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?o+="\\"+String(Number(l[1])+i):(o+=l[0],l[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(t)}const $Fe=/\b\B/,ine="[a-zA-Z]\\w*",wI="[a-zA-Z_]\\w*",ane="\\b\\d+(\\.\\d+)?",one="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",lne="\\b(0b[01]+)",FFe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",zFe=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Vf(t,/.*\b/,e.binary,/\b.*/)),Kc({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},Fv={begin:"\\\\[\\s\\S]",relevance:0},BFe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Fv]},UFe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Fv]},qFe={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},xS=function(e,t,n={}){const r=Kc({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=yI("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Vf(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},VFe=xS("//","$"),HFe=xS("/\\*","\\*/"),WFe=xS("#","$"),GFe={scope:"number",begin:ane,relevance:0},KFe={scope:"number",begin:one,relevance:0},YFe={scope:"number",begin:lne,relevance:0},XFe={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Fv,{begin:/\[/,end:/\]/,relevance:0,contains:[Fv]}]},QFe={scope:"title",begin:ine,relevance:0},JFe={scope:"title",begin:wI,relevance:0},ZFe={begin:"\\.\\s*"+wI,relevance:0},e5e=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var q0=Object.freeze({__proto__:null,APOS_STRING_MODE:BFe,BACKSLASH_ESCAPE:Fv,BINARY_NUMBER_MODE:YFe,BINARY_NUMBER_RE:lne,COMMENT:xS,C_BLOCK_COMMENT_MODE:HFe,C_LINE_COMMENT_MODE:VFe,C_NUMBER_MODE:KFe,C_NUMBER_RE:one,END_SAME_AS_BEGIN:e5e,HASH_COMMENT_MODE:WFe,IDENT_RE:ine,MATCH_NOTHING_RE:$Fe,METHOD_GUARD:ZFe,NUMBER_MODE:GFe,NUMBER_RE:ane,PHRASAL_WORDS_MODE:qFe,QUOTE_STRING_MODE:UFe,REGEXP_MODE:XFe,RE_STARTERS_RE:FFe,SHEBANG:zFe,TITLE_MODE:QFe,UNDERSCORE_IDENT_RE:wI,UNDERSCORE_TITLE_MODE:JFe});function t5e(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function n5e(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function r5e(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=t5e,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function s5e(e,t){Array.isArray(e.illegal)&&(e.illegal=yI(...e.illegal))}function i5e(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function a5e(e,t){e.relevance===void 0&&(e.relevance=1)}const o5e=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Vf(n.beforeMatch,rne(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},l5e=["of","and","for","in","not","or","if","then","parent","list","value"],c5e="keyword";function cne(e,t,n=c5e){const r=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(a){Object.assign(r,cne(e[a],t,a))}),r;function i(a,o){t&&(o=o.map(l=>l.toLowerCase())),o.forEach(function(l){const c=l.split("|");r[c[0]]=[a,u5e(c[0],c[1])]})}}function u5e(e,t){return t?Number(t):d5e(e)?0:1}function d5e(e){return l5e.includes(e.toLowerCase())}const C6={},Kd=e=>{console.error(e)},E6=(e,...t)=>{console.log(`WARN: ${e}`,...t)},mh=(e,t)=>{C6[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),C6[`${e}/${t}`]=!0)},p_=new Error;function une(e,t,{key:n}){let r=0;const i=e[n],a={},o={};for(let l=1;l<=t.length;l++)o[l+r]=i[l],a[l+r]=!0,r+=sne(t[l-1]);e[n]=o,e[n]._emit=a,e[n]._multi=!0}function f5e(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Kd("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),p_;if(typeof e.beginScope!="object"||e.beginScope===null)throw Kd("beginScope must be object"),p_;une(e,e.begin,{key:"beginScope"}),e.begin=bI(e.begin,{joinWith:""})}}function h5e(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Kd("skip, excludeEnd, returnEnd not compatible with endScope: {}"),p_;if(typeof e.endScope!="object"||e.endScope===null)throw Kd("endScope must be object"),p_;une(e,e.end,{key:"endScope"}),e.end=bI(e.end,{joinWith:""})}}function m5e(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function p5e(e){m5e(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),f5e(e),h5e(e)}function g5e(e){function t(o,l){return new RegExp($v(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(l?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,l]),this.matchAt+=sne(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(c=>c[1]);this.matcherRe=t(bI(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(l);if(!c)return null;const u=c.findIndex((f,h)=>h>0&&f!==void 0),d=this.matchIndexes[u];return c.splice(0,u),Object.assign(c,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const c=new n;return this.rules.slice(l).forEach(([u,d])=>c.addRule(u,d)),c.compile(),this.multiRegexes[l]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,c){this.rules.push([l,c]),c.type==="begin"&&this.count++}exec(l){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let u=c.exec(l);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,u=d.exec(l)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(o){const l=new r;return o.contains.forEach(c=>l.addRule(c.begin,{rule:c,type:"begin"})),o.terminatorEnd&&l.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&l.addRule(o.illegal,{type:"illegal"}),l}function a(o,l){const c=o;if(o.isCompiled)return c;[n5e,i5e,p5e,o5e].forEach(d=>d(o,l)),e.compilerExtensions.forEach(d=>d(o,l)),o.__beforeBegin=null,[r5e,s5e,a5e].forEach(d=>d(o,l)),o.isCompiled=!0;let u=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=cne(o.keywords,e.case_insensitive)),c.keywordPatternRe=t(u,!0),l&&(o.begin||(o.begin=/\B|\b/),c.beginRe=t(c.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(c.endRe=t(c.end)),c.terminatorEnd=$v(c.end)||"",o.endsWithParent&&l.terminatorEnd&&(c.terminatorEnd+=(o.end?"|":"")+l.terminatorEnd)),o.illegal&&(c.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(d){return x5e(d==="self"?o:d)})),o.contains.forEach(function(d){a(d,c)}),o.starts&&a(o.starts,l),c.matcher=i(c),c}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Kc(e.classNameAliases||{}),a(e)}function dne(e){return e?e.endsWithParent||dne(e.starts):!1}function x5e(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Kc(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:dne(e)?Kc(e,{starts:e.starts?Kc(e.starts):null}):Object.isFrozen(e)?Kc(e):e}var v5e="11.11.1";class y5e extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const lk=nne,k6=Kc,A6=Symbol("nomatch"),b5e=7,fne=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:OFe};function c(F){return l.noHighlightRe.test(F)}function u(F){let z=F.className+" ";z+=F.parentNode?F.parentNode.className:"";const P=l.languageDetectRe.exec(z);if(P){const I=C(P[1]);return I||(E6(a.replace("{}",P[1])),E6("Falling back to no-highlight mode for this block.",F)),I?P[1]:"no-highlight"}return z.split(/\s+/).find(I=>c(I)||C(I))}function d(F,z,P){let I="",M="";typeof z=="object"?(I=F,P=z.ignoreIllegals,M=z.language):(mh("10.7.0","highlight(lang, code, ...args) has been deprecated."),mh("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),M=F,I=z),P===void 0&&(P=!0);const U={code:I,language:M};$("before:highlight",U);const D=U.result?U.result:f(U.language,U.code,P);return D.code=U.code,$("after:highlight",D),D}function f(F,z,P,I){const M=Object.create(null);function U(Q,ae){return Q.keywords[ae]}function D(){if(!le.keywords){Pe.addText(Ae);return}let Q=0;le.keywordPatternRe.lastIndex=0;let ae=le.keywordPatternRe.exec(Ae),Se="";for(;ae;){Se+=Ae.substring(Q,ae.index);const ye=te.case_insensitive?ae[0].toLowerCase():ae[0],ze=U(le,ye);if(ze){const[je,We]=ze;if(Pe.addText(Se),Se="",M[ye]=(M[ye]||0)+1,M[ye]<=b5e&&(W+=We),je.startsWith("_"))Se+=ae[0];else{const Ge=te.classNameAliases[je]||je;K(ae[0],Ge)}}else Se+=ae[0];Q=le.keywordPatternRe.lastIndex,ae=le.keywordPatternRe.exec(Ae)}Se+=Ae.substring(Q),Pe.addText(Se)}function L(){if(Ae==="")return;let Q=null;if(typeof le.subLanguage=="string"){if(!t[le.subLanguage]){Pe.addText(Ae);return}Q=f(le.subLanguage,Ae,!0,Ie[le.subLanguage]),Ie[le.subLanguage]=Q._top}else Q=m(Ae,le.subLanguage.length?le.subLanguage:null);le.relevance>0&&(W+=Q.relevance),Pe.__addSublanguage(Q._emitter,Q.language)}function V(){le.subLanguage!=null?L():D(),Ae=""}function K(Q,ae){Q!==""&&(Pe.startScope(ae),Pe.addText(Q),Pe.endScope())}function G(Q,ae){let Se=1;const ye=ae.length-1;for(;Se<=ye;){if(!Q._emit[Se]){Se++;continue}const ze=te.classNameAliases[Q[Se]]||Q[Se],je=ae[Se];ze?K(je,ze):(Ae=je,D(),Ae=""),Se++}}function X(Q,ae){return Q.scope&&typeof Q.scope=="string"&&Pe.openNode(te.classNameAliases[Q.scope]||Q.scope),Q.beginScope&&(Q.beginScope._wrap?(K(Ae,te.classNameAliases[Q.beginScope._wrap]||Q.beginScope._wrap),Ae=""):Q.beginScope._multi&&(G(Q.beginScope,ae),Ae="")),le=Object.create(Q,{parent:{value:le}}),le}function oe(Q,ae,Se){let ye=IFe(Q.endRe,Se);if(ye){if(Q["on:end"]){const ze=new _6(Q);Q["on:end"](ae,ze),ze.isMatchIgnored&&(ye=!1)}if(ye){for(;Q.endsParent&&Q.parent;)Q=Q.parent;return Q}}if(Q.endsWithParent)return oe(Q.parent,ae,Se)}function Y(Q){return le.matcher.regexIndex===0?(Ae+=Q[0],1):(Qe=!0,0)}function ne(Q){const ae=Q[0],Se=Q.rule,ye=new _6(Se),ze=[Se.__beforeBegin,Se["on:begin"]];for(const je of ze)if(je&&(je(Q,ye),ye.isMatchIgnored))return Y(ae);return Se.skip?Ae+=ae:(Se.excludeBegin&&(Ae+=ae),V(),!Se.returnBegin&&!Se.excludeBegin&&(Ae=ae)),X(Se,Q),Se.returnBegin?0:ae.length}function ge(Q){const ae=Q[0],Se=z.substring(Q.index),ye=oe(le,Q,Se);if(!ye)return A6;const ze=le;le.endScope&&le.endScope._wrap?(V(),K(ae,le.endScope._wrap)):le.endScope&&le.endScope._multi?(V(),G(le.endScope,Q)):ze.skip?Ae+=ae:(ze.returnEnd||ze.excludeEnd||(Ae+=ae),V(),ze.excludeEnd&&(Ae=ae));do le.scope&&Pe.closeNode(),!le.skip&&!le.subLanguage&&(W+=le.relevance),le=le.parent;while(le!==ye.parent);return ye.starts&&X(ye.starts,Q),ze.returnEnd?0:ae.length}function se(){const Q=[];for(let ae=le;ae!==te;ae=ae.parent)ae.scope&&Q.unshift(ae.scope);Q.forEach(ae=>Pe.openNode(ae))}let ce={};function ve(Q,ae){const Se=ae&&ae[0];if(Ae+=Q,Se==null)return V(),0;if(ce.type==="begin"&&ae.type==="end"&&ce.index===ae.index&&Se===""){if(Ae+=z.slice(ae.index,ae.index+1),!i){const ye=new Error(`0 width match regex (${F})`);throw ye.languageName=F,ye.badRule=ce.rule,ye}return 1}if(ce=ae,ae.type==="begin")return ne(ae);if(ae.type==="illegal"&&!P){const ye=new Error('Illegal lexeme "'+Se+'" for mode "'+(le.scope||"<unnamed>")+'"');throw ye.mode=le,ye}else if(ae.type==="end"){const ye=ge(ae);if(ye!==A6)return ye}if(ae.type==="illegal"&&Se==="")return Ae+=`
`,1;if(Le>1e5&&Le>ae.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Ae+=Se,Se.length}const te=C(F);if(!te)throw Kd(a.replace("{}",F)),new Error('Unknown language: "'+F+'"');const ue=g5e(te);let ee="",le=I||ue;const Ie={},Pe=new l.__emitter(l);se();let Ae="",W=0,_e=0,Le=0,Qe=!1;try{if(te.__emitTokens)te.__emitTokens(z,Pe);else{for(le.matcher.considerAll();;){Le++,Qe?Qe=!1:le.matcher.considerAll(),le.matcher.lastIndex=_e;const Q=le.matcher.exec(z);if(!Q)break;const ae=z.substring(_e,Q.index),Se=ve(ae,Q);_e=Q.index+Se}ve(z.substring(_e))}return Pe.finalize(),ee=Pe.toHTML(),{language:F,value:ee,relevance:W,illegal:!1,_emitter:Pe,_top:le}}catch(Q){if(Q.message&&Q.message.includes("Illegal"))return{language:F,value:lk(z),illegal:!0,relevance:0,_illegalBy:{message:Q.message,index:_e,context:z.slice(_e-100,_e+100),mode:Q.mode,resultSoFar:ee},_emitter:Pe};if(i)return{language:F,value:lk(z),illegal:!1,relevance:0,errorRaised:Q,_emitter:Pe,_top:le};throw Q}}function h(F){const z={value:lk(F),illegal:!1,relevance:0,_top:o,_emitter:new l.__emitter(l)};return z._emitter.addText(F),z}function m(F,z){z=z||l.languages||Object.keys(t);const P=h(F),I=z.filter(C).filter(A).map(V=>f(V,F,!1));I.unshift(P);const M=I.sort((V,K)=>{if(V.relevance!==K.relevance)return K.relevance-V.relevance;if(V.language&&K.language){if(C(V.language).supersetOf===K.language)return 1;if(C(K.language).supersetOf===V.language)return-1}return 0}),[U,D]=M,L=U;return L.secondBest=D,L}function p(F,z,P){const I=z&&n[z]||P;F.classList.add("hljs"),F.classList.add(`language-${I}`)}function g(F){let z=null;const P=u(F);if(c(P))return;if($("before:highlightElement",{el:F,language:P}),F.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",F);return}if(F.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(F)),l.throwUnescapedHTML))throw new y5e("One of your code blocks includes unescaped HTML.",F.innerHTML);z=F;const I=z.textContent,M=P?d(I,{language:P,ignoreIllegals:!0}):m(I);F.innerHTML=M.value,F.dataset.highlighted="yes",p(F,P,M.language),F.result={language:M.language,re:M.relevance,relevance:M.relevance},M.secondBest&&(F.secondBest={language:M.secondBest.language,relevance:M.secondBest.relevance}),$("after:highlightElement",{el:F,result:M,text:I})}function y(F){l=k6(l,F)}const v=()=>{j(),mh("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function w(){j(),mh("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function j(){function F(){j()}if(document.readyState==="loading"){b||window.addEventListener("DOMContentLoaded",F,!1),b=!0;return}document.querySelectorAll(l.cssSelector).forEach(g)}function _(F,z){let P=null;try{P=z(e)}catch(I){if(Kd("Language definition for '{}' could not be registered.".replace("{}",F)),i)Kd(I);else throw I;P=o}P.name||(P.name=F),t[F]=P,P.rawDefinition=z.bind(null,e),P.aliases&&k(P.aliases,{languageName:F})}function N(F){delete t[F];for(const z of Object.keys(n))n[z]===F&&delete n[z]}function S(){return Object.keys(t)}function C(F){return F=(F||"").toLowerCase(),t[F]||t[n[F]]}function k(F,{languageName:z}){typeof F=="string"&&(F=[F]),F.forEach(P=>{n[P.toLowerCase()]=z})}function A(F){const z=C(F);return z&&!z.disableAutodetect}function T(F){F["before:highlightBlock"]&&!F["before:highlightElement"]&&(F["before:highlightElement"]=z=>{F["before:highlightBlock"](Object.assign({block:z.el},z))}),F["after:highlightBlock"]&&!F["after:highlightElement"]&&(F["after:highlightElement"]=z=>{F["after:highlightBlock"](Object.assign({block:z.el},z))})}function E(F){T(F),r.push(F)}function R(F){const z=r.indexOf(F);z!==-1&&r.splice(z,1)}function $(F,z){const P=F;r.forEach(function(I){I[P]&&I[P](z)})}function O(F){return mh("10.7.0","highlightBlock will be removed entirely in v12.0"),mh("10.7.0","Please use highlightElement now."),g(F)}Object.assign(e,{highlight:d,highlightAuto:m,highlightAll:j,highlightElement:g,highlightBlock:O,configure:y,initHighlighting:v,initHighlightingOnLoad:w,registerLanguage:_,unregisterLanguage:N,listLanguages:S,getLanguage:C,registerAliases:k,autoDetection:A,inherit:k6,addPlugin:E,removePlugin:R}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=v5e,e.regex={concat:Vf,lookahead:rne,either:yI,optional:DFe,anyNumberOfTimes:RFe};for(const F in q0)typeof q0[F]=="object"&&tne(q0[F]);return Object.assign(e,q0),e},Xm=fne({});Xm.newInstance=()=>fne({});var w5e=Xm;Xm.HighlightJS=Xm;Xm.default=Xm;const j5e=Vt(w5e),T6={},_5e="hljs-";function N5e(e){const t=j5e.newInstance();return e&&a(e),{highlight:n,highlightAuto:r,listLanguages:i,register:a,registerAlias:o,registered:l};function n(c,u,d){const f=d||T6,h=typeof f.prefix=="string"?f.prefix:_5e;if(!t.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");t.configure({__emitter:S5e,classPrefix:h});const m=t.highlight(u,{ignoreIllegals:!0,language:c});if(m.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:m.errorRaised});const p=m._emitter.root,g=p.data;return g.language=m.language,g.relevance=m.relevance,p}function r(c,u){const f=(u||T6).subset||i();let h=-1,m=0,p;for(;++h<f.length;){const g=f[h];if(!t.getLanguage(g))continue;const y=n(g,c,u);y.data&&y.data.relevance!==void 0&&y.data.relevance>m&&(m=y.data.relevance,p=y)}return p||{type:"root",children:[],data:{language:void 0,relevance:m}}}function i(){return t.listLanguages()}function a(c,u){if(typeof c=="string")t.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&t.registerLanguage(d,c[d])}}function o(c,u){if(typeof c=="string")t.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const f=c[d];t.registerAliases(typeof f=="string"?f:[...f],{languageName:d})}}}function l(c){return!!t.getLanguage(c)}}class S5e{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],i=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(t){const n=this,r=t.split(".").map(function(o,l){return l?o+"_".repeat(l):n.options.classPrefix+o}),i=this.stack[this.stack.length-1],a={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(a),this.stack.push(a)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const C5e={};function E5e(e){const t=e||C5e,n=t.aliases,r=t.detect||!1,i=t.languages||kFe,a=t.plainText,o=t.prefix,l=t.subset;let c="hljs";const u=N5e(i);if(n&&u.registerAlias(n),o){const d=o.indexOf("-");c=d===-1?o:o.slice(0,d)}return function(d,f){J1(d,"element",function(h,m,p){if(h.tagName!=="code"||!p||p.type!=="element"||p.tagName!=="pre")return;const g=k5e(h);if(g===!1||!g&&!r||g&&a&&a.includes(g))return;Array.isArray(h.properties.className)||(h.properties.className=[]),h.properties.className.includes(c)||h.properties.className.unshift(c);const y=t$e(h,{whitespace:"pre"});let v;try{v=g?u.highlight(g,y,{prefix:o}):u.highlightAuto(y,{prefix:o,subset:l})}catch(w){const b=w;if(g&&/Unknown language/.test(b.message)){f.message("Cannot highlight as `"+g+"`, it’s not registered",{ancestors:[p,h],cause:b,place:h.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw b}!g&&v.data&&v.data.language&&h.properties.className.push("language-"+v.data.language),v.children.length>0&&(h.children=v.children)})}}function k5e(e){const t=e.properties.className;let n=-1;if(!Array.isArray(t))return;let r;for(;++n<t.length;){const i=String(t[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!r&&i.slice(0,5)==="lang-"&&(r=i.slice(5)),!r&&i.slice(0,9)==="language-"&&(r=i.slice(9))}return r}const hne=({messages:e,isLoading:t,streamingMessageId:n,streamingText:r,onCopyMessage:i,onRegenerateResponse:a,isStreaming:o=!1})=>{const l=x.useRef(null),c=()=>{var d;(d=l.current)==null||d.scrollIntoView({behavior:"smooth",block:"end"})};x.useEffect(()=>{c()},[e,r]),x.useEffect(()=>{if(r&&n){const d=setTimeout(()=>{c()},100);return()=>clearTimeout(d)}},[r,n]);const u=o?"pb-44":"pb-20";return s.jsxs("div",{className:`mx-auto px-3 sm:px-4 py-4 sm:py-6 ${u} space-y-6 sm:space-y-8 w-full`,children:[e.map(d=>s.jsx("div",{className:`flex ${d.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`${d.sender==="user"?"flex flex-row-reverse items-start space-x-2 sm:space-x-3":"flex-col sm:flex-row items-start space-y-2 sm:space-y-0 sm:space-x-3"}`,children:[s.jsx("div",{className:`flex-shrink-0 w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${d.sender==="user"?"bg-gray-700 ml-2 sm:ml-3":"bg-gradient-primary mb-0.5 sm:mb-0 sm:mr-3"}`,children:d.sender==="user"?s.jsx("span",{className:"text-white text-xs sm:text-sm font-medium",children:"U"}):s.jsx(ff,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),s.jsxs("div",{className:`group relative ${d.sender==="user"?"bg-[#f0efe6] text-gray-900":""} rounded-2xl px-3 py-2 sm:px-4 sm:py-3 markdown-content w-full overflow-hidden ${d.sender==="bot"?"max-w-[90vw] sm:max-w-full":"max-w-full"}`,children:[s.jsxs("div",{className:"prose prose-base sm:prose max-w-none break-words overflow-wrap-anywhere [&>*]:text-[15px] [&>*]:sm:text-[15px]",children:[" ",s.jsx(yl,{remarkPlugins:[PT],rehypePlugins:[E5e],children:n===d.id?r:d.text})]}),n===d.id&&s.jsx("span",{className:"inline-block w-2 h-4 sm:h-5 bg-blue-500 ml-1 animate-pulse"}),d.sender==="bot"&&s.jsx("div",{className:"absolute -bottom-7 sm:-bottom-8 left-0 opacity-0 group-hover:opacity-100 sm:group-hover:opacity-100 opacity-100 sm:opacity-0 transition-opacity duration-200",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>i(d.text),className:"h-5 sm:h-6 px-1 sm:px-2 text-[13px] text-gray-500 hover:text-gray-700 hover:bg-[#F0EFE6]",children:[s.jsx(Xa,{size:10,className:"sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Copier"})]}),s.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>a(d.id),className:"h-5 sm:h-6 px-1 sm:px-2 text-[13px] text-gray-500 hover:text-gray-700 hover:bg-[#F0EFE6]",disabled:t,children:[s.jsx(ni,{size:10,className:"sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Régénérer"})]})]})})]})]})},d.id)),t&&!n&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex-col sm:flex-row items-start space-y-2 sm:space-y-0 sm:space-x-3 max-w-[95%] sm:max-w-[80%]",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gradient-primary flex items-center justify-center mb-0.5 sm:mb-0 sm:mr-3",children:s.jsx(ff,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-3 py-2 sm:px-4 sm:py-3 shadow-sm w-full overflow-hidden max-w-[90vw] sm:max-w-full",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),s.jsx("span",{className:"text-base sm:text-sm text-gray-500",children:"Aurentia réfléchit..."})]})})]})}),s.jsx("div",{ref:l})]})},jI=x.createContext({});function _I(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const NI=typeof window<"u",mne=NI?x.useLayoutEffect:x.useEffect,vS=x.createContext(null);function SI(e,t){e.indexOf(t)===-1&&e.push(t)}function CI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const zl=(e,t,n)=>n>t?t:n<e?e:n;let EI=()=>{};const Bl={},pne=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function gne(e){return typeof e=="object"&&e!==null}const xne=e=>/^0[^.\s]+$/u.test(e);function kI(e){let t;return()=>(t===void 0&&(t=e()),t)}const ga=e=>e,A5e=(e,t)=>n=>t(e(n)),Ob=(...e)=>e.reduce(A5e),zv=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class AI{constructor(){this.subscriptions=[]}add(t){return SI(this.subscriptions,t),()=>CI(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mo=e=>e*1e3,ca=e=>e/1e3;function vne(e,t){return t?e*(1e3/t):0}const yne=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,T5e=1e-7,P5e=12;function O5e(e,t,n,r,i){let a,o,l=0;do o=t+(n-t)/2,a=yne(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>T5e&&++l<P5e);return o}function Rb(e,t,n,r){if(e===t&&n===r)return ga;const i=a=>O5e(a,0,1,e,n);return a=>a===0||a===1?a:yne(i(a),t,r)}const bne=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wne=e=>t=>1-e(1-t),jne=Rb(.33,1.53,.69,.99),TI=wne(jne),_ne=bne(TI),Nne=e=>(e*=2)<1?.5*TI(e):.5*(2-Math.pow(2,-10*(e-1))),PI=e=>1-Math.sin(Math.acos(e)),Sne=wne(PI),Cne=bne(PI),R5e=Rb(.42,0,1,1),D5e=Rb(0,0,.58,1),Ene=Rb(.42,0,.58,1),M5e=e=>Array.isArray(e)&&typeof e[0]!="number",kne=e=>Array.isArray(e)&&typeof e[0]=="number",I5e={linear:ga,easeIn:R5e,easeInOut:Ene,easeOut:D5e,circIn:PI,circInOut:Cne,circOut:Sne,backIn:TI,backInOut:_ne,backOut:jne,anticipate:Nne},L5e=e=>typeof e=="string",P6=e=>{if(kne(e)){EI(e.length===4);const[t,n,r,i]=e;return Rb(t,n,r,i)}else if(L5e(e))return I5e[e];return e},V0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $5e(e,t){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const p=h&&i?n:r;return f&&o.add(d),p.has(d)||p.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,a&&(a=!1,u.process(d))}};return u}const F5e=40;function Ane(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=V0.reduce((b,j)=>(b[j]=$5e(a),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=o,g=()=>{const b=Bl.useManualTiming?i.timestamp:performance.now();n=!1,Bl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,F5e),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},y=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:V0.reduce((b,j)=>{const _=o[j];return b[j]=(N,S=!1,C=!1)=>(n||y(),_.schedule(N,S,C)),b},{}),cancel:b=>{for(let j=0;j<V0.length;j++)o[V0[j]].cancel(b)},state:i,steps:o}}const{schedule:zn,cancel:Nu,state:Xr,steps:ck}=Ane(typeof requestAnimationFrame<"u"?requestAnimationFrame:ga,!0);let Vw;function z5e(){Vw=void 0}const si={now:()=>(Vw===void 0&&si.set(Xr.isProcessing||Bl.useManualTiming?Xr.timestamp:performance.now()),Vw),set:e=>{Vw=e,queueMicrotask(z5e)}},Tne=e=>t=>typeof t=="string"&&t.startsWith(e),OI=Tne("--"),B5e=Tne("var(--"),RI=e=>B5e(e)?U5e.test(e.split("/*")[0].trim()):!1,U5e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ng={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bv={...ng,transform:e=>zl(0,1,e)},H0={...ng,default:1},Bx=e=>Math.round(e*1e5)/1e5,DI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q5e(e){return e==null}const V5e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MI=(e,t)=>n=>!!(typeof n=="string"&&V5e.test(n)&&n.startsWith(e)||t&&!q5e(n)&&Object.prototype.hasOwnProperty.call(n,t)),Pne=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(DI);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},H5e=e=>zl(0,255,e),uk={...ng,transform:e=>Math.round(H5e(e))},Cd={test:MI("rgb","red"),parse:Pne("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+uk.transform(e)+", "+uk.transform(t)+", "+uk.transform(n)+", "+Bx(Bv.transform(r))+")"};function W5e(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const GT={test:MI("#"),parse:W5e,transform:Cd.transform},Db=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vc=Db("deg"),Io=Db("%"),dt=Db("px"),G5e=Db("vh"),K5e=Db("vw"),O6={...Io,parse:e=>Io.parse(e)/100,transform:e=>Io.transform(e*100)},Uh={test:MI("hsl","hue"),parse:Pne("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Io.transform(Bx(t))+", "+Io.transform(Bx(n))+", "+Bx(Bv.transform(r))+")"},hr={test:e=>Cd.test(e)||GT.test(e)||Uh.test(e),parse:e=>Cd.test(e)?Cd.parse(e):Uh.test(e)?Uh.parse(e):GT.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cd.transform(e):Uh.transform(e),getAnimatableNone:e=>{const t=hr.parse(e);return t.alpha=0,hr.transform(t)}},Y5e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X5e(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(DI))==null?void 0:t.length)||0)+(((n=e.match(Y5e))==null?void 0:n.length)||0)>0}const One="number",Rne="color",Q5e="var",J5e="var(",R6="${}",Z5e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Z5e,c=>(hr.test(c)?(r.color.push(a),i.push(Rne),n.push(hr.parse(c))):c.startsWith(J5e)?(r.var.push(a),i.push(Q5e),n.push(c)):(r.number.push(a),i.push(One),n.push(parseFloat(c))),++a,R6)).split(R6);return{values:n,split:l,indexes:r,types:i}}function Dne(e){return Uv(e).values}function Mne(e){const{split:t,types:n}=Uv(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const l=n[o];l===One?a+=Bx(i[o]):l===Rne?a+=hr.transform(i[o]):a+=i[o]}return a}}const e3e=e=>typeof e=="number"?0:hr.test(e)?hr.getAnimatableNone(e):e;function t3e(e){const t=Dne(e);return Mne(e)(t.map(e3e))}const Su={test:X5e,parse:Dne,createTransformer:Mne,getAnimatableNone:t3e};function dk(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n3e({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=dk(c,l,e+1/3),a=dk(c,l,e),o=dk(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function g_(e,t){return n=>n>0?t:e}const Wn=(e,t,n)=>e+(t-e)*n,fk=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},r3e=[GT,Cd,Uh],s3e=e=>r3e.find(t=>t.test(e));function D6(e){const t=s3e(e);if(!t)return!1;let n=t.parse(e);return t===Uh&&(n=n3e(n)),n}const M6=(e,t)=>{const n=D6(e),r=D6(t);if(!n||!r)return g_(e,t);const i={...n};return a=>(i.red=fk(n.red,r.red,a),i.green=fk(n.green,r.green,a),i.blue=fk(n.blue,r.blue,a),i.alpha=Wn(n.alpha,r.alpha,a),Cd.transform(i))},KT=new Set(["none","hidden"]);function i3e(e,t){return KT.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function a3e(e,t){return n=>Wn(e,t,n)}function II(e){return typeof e=="number"?a3e:typeof e=="string"?RI(e)?g_:hr.test(e)?M6:c3e:Array.isArray(e)?Ine:typeof e=="object"?hr.test(e)?M6:o3e:g_}function Ine(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>II(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function o3e(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=II(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function l3e(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],l=e.values[o]??0;n[i]=l,r[a]++}return n}const c3e=(e,t)=>{const n=Su.createTransformer(t),r=Uv(e),i=Uv(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?KT.has(e)&&!i.values.length||KT.has(t)&&!r.values.length?i3e(e,t):Ob(Ine(l3e(r,i),i.values),n):g_(e,t)};function Lne(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Wn(e,t,n):II(e)(e,t)}const u3e=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>zn.update(t,n),stop:()=>Nu(t),now:()=>Xr.isProcessing?Xr.timestamp:si.now()}},$ne=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},x_=2e4;function LI(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<x_;)t+=n,r=e.next(t);return t>=x_?1/0:t}function d3e(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(LI(r),x_);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:ca(i)}}const f3e=5;function Fne(e,t,n){const r=Math.max(t-f3e,0);return vne(n-e(r),t-r)}const er={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hk=.001;function h3e({duration:e=er.duration,bounce:t=er.bounce,velocity:n=er.velocity,mass:r=er.mass}){let i,a,o=1-t;o=zl(er.minDamping,er.maxDamping,o),e=zl(er.minDuration,er.maxDuration,ca(e)),o<1?(i=u=>{const d=u*o,f=d*e,h=d-n,m=YT(u,o),p=Math.exp(-f);return hk-h/m*p},a=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,p=Math.exp(-f),g=YT(Math.pow(u,2),o);return(-i(u)+hk>0?-1:1)*((h-m)*p)/g}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-hk+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=p3e(i,a,l);if(e=Mo(e),isNaN(c))return{stiffness:er.stiffness,damping:er.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const m3e=12;function p3e(e,t,n){let r=n;for(let i=1;i<m3e;i++)r=r-e(r)/t(r);return r}function YT(e,t){return e*Math.sqrt(1-t*t)}const g3e=["duration","bounce"],x3e=["stiffness","damping","mass"];function I6(e,t){return t.some(n=>e[n]!==void 0)}function v3e(e){let t={velocity:er.velocity,stiffness:er.stiffness,damping:er.damping,mass:er.mass,isResolvedFromDuration:!1,...e};if(!I6(e,x3e)&&I6(e,g3e))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*zl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:er.mass,stiffness:i,damping:a}}else{const n=h3e(e);t={...t,...n,mass:er.mass},t.isResolvedFromDuration=!0}return t}function v_(e=er.visualDuration,t=er.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=v3e({...n,velocity:-ca(n.velocity||0)}),p=h||0,g=u/(2*Math.sqrt(c*d)),y=o-a,v=ca(Math.sqrt(c/d)),w=Math.abs(y)<5;r||(r=w?er.restSpeed.granular:er.restSpeed.default),i||(i=w?er.restDelta.granular:er.restDelta.default);let b;if(g<1){const _=YT(v,g);b=N=>{const S=Math.exp(-g*v*N);return o-S*((p+g*v*y)/_*Math.sin(_*N)+y*Math.cos(_*N))}}else if(g===1)b=_=>o-Math.exp(-v*_)*(y+(p+v*y)*_);else{const _=v*Math.sqrt(g*g-1);b=N=>{const S=Math.exp(-g*v*N),C=Math.min(_*N,300);return o-S*((p+g*v*y)*Math.sinh(C)+_*y*Math.cosh(C))/_}}const j={calculatedDuration:m&&f||null,next:_=>{const N=b(_);if(m)l.done=_>=f;else{let S=_===0?p:0;g<1&&(S=_===0?Mo(p):Fne(b,_,N));const C=Math.abs(S)<=r,k=Math.abs(o-N)<=i;l.done=C&&k}return l.value=l.done?o:N,l},toString:()=>{const _=Math.min(LI(j),x_),N=$ne(S=>j.next(_*S).value,_,30);return _+"ms "+N},toTransition:()=>{}};return j}v_.applyToOptions=e=>{const t=d3e(e,100,v_);return e.ease=t.ease,e.duration=Mo(t.duration),e.type="keyframes",e};function XT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=C=>l!==void 0&&C<l||c!==void 0&&C>c,p=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let g=n*t;const y=f+g,v=o===void 0?y:o(y);v!==y&&(g=v-f);const w=C=>-g*Math.exp(-C/r),b=C=>v+w(C),j=C=>{const k=w(C),A=b(C);h.done=Math.abs(k)<=u,h.value=h.done?v:A};let _,N;const S=C=>{m(h.value)&&(_=C,N=v_({keyframes:[h.value,p(h.value)],velocity:Fne(b,C,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:C=>{let k=!1;return!N&&_===void 0&&(k=!0,j(C),S(C)),_!==void 0&&C>=_?N.next(C-_):(!k&&j(C),h)}}}function y3e(e,t,n){const r=[],i=n||Bl.mix||Lne,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ga:t;l=Ob(c,l)}r.push(l)}return r}function b3e(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(EI(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=y3e(t,r,i),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=zv(e[f],e[f+1],d);return l[f](h)};return n?d=>u(zl(e[0],e[a-1],d)):u}function w3e(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=zv(0,t,r);e.push(Wn(n,1,i))}}function j3e(e){const t=[0];return w3e(t,e.length-1),t}function _3e(e,t){return e.map(n=>n*t)}function N3e(e,t){return e.map(()=>t||Ene).splice(0,e.length-1)}function Ux({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=M5e(r)?r.map(P6):P6(r),a={done:!1,value:t[0]},o=_3e(n&&n.length===t.length?n:j3e(t),e),l=b3e(o,t,{ease:Array.isArray(i)?i:N3e(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const S3e=e=>e!==null;function $I(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(S3e),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const C3e={decay:XT,inertia:XT,tween:Ux,keyframes:Ux,spring:v_};function zne(e){typeof e.type=="string"&&(e.type=C3e[e.type])}class FI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const E3e=e=>e/100;class zI extends FI{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==si.now()&&this.tick(si.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;zne(t);const{type:n=Ux,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Ux;c!==Ux&&typeof l[0]!="number"&&(this.mixKeyframes=Ob(E3e,Lne(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=LI(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,j=r;if(f){const C=Math.min(this.currentTime,i)/l;let k=Math.floor(C),A=C%1;!A&&C>=1&&(A=1),A===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(h==="reverse"?(A=1-A,m&&(A-=m/l)):h==="mirror"&&(j=o)),b=zl(0,1,A)*l}const _=w?{done:!1,value:d[0]}:j.next(b);a&&(_.value=a(_.value));let{done:N}=_;!w&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return S&&p!==XT&&(_.value=$I(d,this.options,y,this.speed)),g&&g(_.value),S&&this.finish(),_}then(t,n){return this.finished.then(t,n)}get duration(){return ca(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ca(t)}get time(){return ca(this.currentTime)}set time(t){var n;t=Mo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(si.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ca(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=u3e,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(si.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function k3e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ed=e=>e*180/Math.PI,QT=e=>{const t=Ed(Math.atan2(e[1],e[0]));return JT(t)},A3e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:QT,rotateZ:QT,skewX:e=>Ed(Math.atan(e[1])),skewY:e=>Ed(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},JT=e=>(e=e%360,e<0&&(e+=360),e),L6=QT,$6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),F6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),T3e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$6,scaleY:F6,scale:e=>($6(e)+F6(e))/2,rotateX:e=>JT(Ed(Math.atan2(e[6],e[5]))),rotateY:e=>JT(Ed(Math.atan2(-e[2],e[0]))),rotateZ:L6,rotate:L6,skewX:e=>Ed(Math.atan(e[4])),skewY:e=>Ed(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ZT(e){return e.includes("scale")?1:0}function eP(e,t){if(!e||e==="none")return ZT(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=T3e,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=A3e,i=l}if(!i)return ZT(t);const a=r[t],o=i[1].split(",").map(O3e);return typeof a=="function"?a(o):o[a]}const P3e=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return eP(n,t)};function O3e(e){return parseFloat(e.trim())}const rg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sg=new Set(rg),z6=e=>e===ng||e===dt,R3e=new Set(["x","y","z"]),D3e=rg.filter(e=>!R3e.has(e));function M3e(e){const t=[];return D3e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Yd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eP(t,"x"),y:(e,{transform:t})=>eP(t,"y")};Yd.translateX=Yd.x;Yd.translateY=Yd.y;const Xd=new Set;let tP=!1,nP=!1,rP=!1;function Bne(){if(nP){const e=Array.from(Xd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=M3e(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}nP=!1,tP=!1,Xd.forEach(e=>e.complete(rP)),Xd.clear()}function Une(){Xd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(nP=!0)})}function I3e(){rP=!0,Une(),Bne(),rP=!1}class BI{constructor(t,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Xd.add(this),tP||(tP=!0,zn.read(Une),zn.resolveKeyframes(Bne))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}k3e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Xd.delete(this)}cancel(){this.state==="scheduled"&&(Xd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const L3e=e=>e.startsWith("--");function $3e(e,t,n){L3e(t)?e.style.setProperty(t,n):e.style[t]=n}const F3e=kI(()=>window.ScrollTimeline!==void 0),z3e={};function B3e(e,t){const n=kI(e);return()=>z3e[t]??n()}const qne=B3e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xx=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,B6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xx([0,.65,.55,1]),circOut:xx([.55,0,1,.45]),backIn:xx([.31,.01,.66,-.59]),backOut:xx([.33,1.53,.69,.99])};function Vne(e,t){if(e)return typeof e=="function"?qne()?$ne(e,t):"ease-out":kne(e)?xx(e):Array.isArray(e)?e.map(n=>Vne(n,t)||B6.easeOut):B6[e]}function U3e(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=Vne(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function Hne(e){return typeof e=="function"&&"applyToOptions"in e}function q3e({type:e,...t}){return Hne(e)&&qne()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class V3e extends FI{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,EI(typeof t.type!="string");const u=q3e(t);this.animation=U3e(n,r,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=$I(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):$3e(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ca(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ca(t)}get time(){return ca(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Mo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&F3e()?(this.animation.timeline=t,ga):n(this)}}const Wne={anticipate:Nne,backInOut:_ne,circInOut:Cne};function H3e(e){return e in Wne}function W3e(e){typeof e.ease=="string"&&H3e(e.ease)&&(e.ease=Wne[e.ease])}const U6=10;class G3e extends V3e{constructor(t){W3e(t),zne(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new zI({...o,autoplay:!1}),c=Mo(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-U6).value,l.sample(c).value,U6),l.stop()}}const q6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Su.test(e)||e==="0")&&!e.startsWith("url("));function K3e(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Y3e(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=q6(i,t),l=q6(a,t);return!o||!l?!1:K3e(e)||(n==="spring"||Hne(n))&&r}function sP(e){e.duration=0,e.type="keyframes"}const X3e=new Set(["opacity","clipPath","filter","transform"]),Q3e=kI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J3e(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Q3e()&&n&&X3e.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const Z3e=40;class e6e extends FI{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=si.now();const h={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||BI;this.keyframeResolver=new m(l,(g,y,v)=>this.onKeyframesResolved(g,y,h,!v),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=si.now(),Y3e(t,a,o,l)||((Bl.instantAnimations||!c)&&(d==null||d($I(t,r,n))),t[0]=t[t.length-1],sP(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Z3e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&J3e(h)?new G3e({...h,element:h.motionValue.owner.current}):new zI(h);m.finished.then(()=>this.notifyFinished()).catch(ga),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),I3e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const t6e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function n6e(e){const t=t6e.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Gne(e,t,n=1){const[r,i]=n6e(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return pne(o)?parseFloat(o):o}return RI(i)?Gne(i,t,n+1):i}function UI(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Kne=new Set(["width","height","top","left","right","bottom",...rg]),r6e={test:e=>e==="auto",parse:e=>e},Yne=e=>t=>t.test(e),Xne=[ng,dt,Io,vc,K5e,G5e,r6e],V6=e=>Xne.find(Yne(e));function s6e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xne(e):!0}const i6e=new Set(["brightness","contrast","saturate","opacity"]);function a6e(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(DI)||[];if(!r)return e;const i=n.replace(r,"");let a=i6e.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const o6e=/\b([a-z-]*)\(.*?\)/gu,iP={...Su,getAnimatableNone:e=>{const t=e.match(o6e);return t?t.map(a6e).join(" "):e}},H6={...ng,transform:Math.round},l6e={rotate:vc,rotateX:vc,rotateY:vc,rotateZ:vc,scale:H0,scaleX:H0,scaleY:H0,scaleZ:H0,skew:vc,skewX:vc,skewY:vc,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:Bv,originX:O6,originY:O6,originZ:dt},qI={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,top:dt,right:dt,bottom:dt,left:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,backgroundPositionX:dt,backgroundPositionY:dt,...l6e,zIndex:H6,fillOpacity:Bv,strokeOpacity:Bv,numOctaves:H6},c6e={...qI,color:hr,backgroundColor:hr,outlineColor:hr,fill:hr,stroke:hr,borderColor:hr,borderTopColor:hr,borderRightColor:hr,borderBottomColor:hr,borderLeftColor:hr,filter:iP,WebkitFilter:iP},Qne=e=>c6e[e];function Jne(e,t){let n=Qne(e);return n!==iP&&(n=Su),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const u6e=new Set(["auto","none","0"]);function d6e(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!u6e.has(a)&&Uv(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=Jne(n,i)}class f6e extends BI{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),RI(u))){const d=Gne(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Kne.has(r)||t.length!==2)return;const[i,a]=t,o=V6(i),l=V6(a);if(o!==l)if(z6(o)&&z6(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Yd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||s6e(t[i]))&&r.push(i);r.length&&d6e(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Yd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function h6e(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Zne=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ere(e){return gne(e)&&"offsetHeight"in e}const W6=30,m6e=e=>!isNaN(parseFloat(e));class p6e{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=si.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=si.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=m6e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new AI);const r=this.events[t].add(n);return t==="change"?()=>{r(),zn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>W6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,W6);return vne(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qm(e,t){return new p6e(e,t)}const{schedule:VI}=Ane(queueMicrotask,!1),Da={x:!1,y:!1};function tre(){return Da.x||Da.y}function g6e(e){return e==="x"||e==="y"?Da[e]?null:(Da[e]=!0,()=>{Da[e]=!1}):Da.x||Da.y?null:(Da.x=Da.y=!0,()=>{Da.x=Da.y=!1})}function nre(e,t){const n=h6e(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function G6(e){return!(e.pointerType==="touch"||tre())}function x6e(e,t,n={}){const[r,i,a]=nre(e,n),o=l=>{if(!G6(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{G6(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const rre=(e,t)=>t?e===t?!0:rre(e,t.parentElement):!1,HI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,v6e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y6e(e){return v6e.has(e.tagName)||e.tabIndex!==-1}const Hw=new WeakSet;function K6(e){return t=>{t.key==="Enter"&&e(t)}}function mk(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const b6e=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=K6(()=>{if(Hw.has(n))return;mk(n,"down");const i=K6(()=>{mk(n,"up")}),a=()=>mk(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Y6(e){return HI(e)&&!tre()}function w6e(e,t,n={}){const[r,i,a]=nre(e,n),o=l=>{const c=l.currentTarget;if(!Y6(l))return;Hw.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Hw.has(c)&&Hw.delete(c),Y6(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||n.useGlobalTarget||rre(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),ere(l)&&(l.addEventListener("focus",u=>b6e(u,i)),!y6e(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function sre(e){return gne(e)&&"ownerSVGElement"in e}function j6e(e){return sre(e)&&e.tagName==="svg"}const gs=e=>!!(e&&e.getVelocity),_6e=[...Xne,hr,Su],N6e=e=>_6e.find(Yne(e)),WI=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function X6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function S6e(...e){return t=>{let n=!1;const r=e.map(i=>{const a=X6(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():X6(e[i],null)}}}}function C6e(...e){return x.useCallback(S6e(...e),e)}class E6e extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=ere(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function k6e({children:e,isPresent:t,anchorX:n,root:r}){const i=x.useId(),a=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=x.useContext(WI),c=C6e(a,e==null?void 0:e.ref);return x.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:m}=o.current;if(t||!a.current||!u||!d)return;const p=n==="left"?`left: ${h}`:`right: ${m}`;a.current.dataset.motionPopId=i;const g=document.createElement("style");l&&(g.nonce=l);const y=r??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[t]),s.jsx(E6e,{isPresent:t,childRef:a,sizeRef:o,children:x.cloneElement(e,{ref:c})})}const A6e=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const u=_I(T6e),d=x.useId();let f=!0,h=x.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return a&&f&&(h={...h}),x.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[n]),x.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=s.jsx(k6e,{isPresent:n,anchorX:l,root:c,children:e})),s.jsx(vS.Provider,{value:h,children:e})};function T6e(){return new Map}function ire(e=!0){const t=x.useContext(vS);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=x.useId();x.useEffect(()=>{if(e)return i(a)},[e]);const o=x.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const W0=e=>e.key||"";function Q6(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const qv=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=ire(o),f=x.useMemo(()=>Q6(e),[e]),h=o&&!u?[]:f.map(W0),m=x.useRef(!0),p=x.useRef(f),g=_I(()=>new Map),[y,v]=x.useState(f),[w,b]=x.useState(f);mne(()=>{m.current=!1,p.current=f;for(let N=0;N<w.length;N++){const S=W0(w[N]);h.includes(S)?g.delete(S):g.get(S)!==!0&&g.set(S,!1)}},[w,h.length,h.join("-")]);const j=[];if(f!==y){let N=[...f];for(let S=0;S<w.length;S++){const C=w[S],k=W0(C);h.includes(k)||(N.splice(S,0,C),j.push(C))}return a==="wait"&&j.length&&(N=j),b(Q6(N)),v(f),null}const{forceRender:_}=x.useContext(jI);return s.jsx(s.Fragment,{children:w.map(N=>{const S=W0(N),C=o&&!u?!1:f===w||h.includes(S),k=()=>{if(g.has(S))g.set(S,!0);else return;let A=!0;g.forEach(T=>{T||(A=!1)}),A&&(_==null||_(),b(p.current),o&&(d==null||d()),r&&r())};return s.jsx(A6e,{isPresent:C,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:C?void 0:k,anchorX:l,children:N},S)})})},are=x.createContext({strict:!1}),J6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jm={};for(const e in J6)Jm[e]={isEnabled:t=>J6[e].some(n=>!!t[n])};function P6e(e){for(const t in e)Jm[t]={...Jm[t],...e[t]}}const O6e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function y_(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||O6e.has(e)}let ore=e=>!y_(e);function R6e(e){typeof e=="function"&&(ore=t=>t.startsWith("on")?!y_(t):e(t))}try{R6e(require("@emotion/is-prop-valid").default)}catch{}function D6e(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(ore(i)||n===!0&&y_(i)||!t&&!y_(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const yS=x.createContext({});function bS(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vv(e){return typeof e=="string"||Array.isArray(e)}const GI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KI=["initial",...GI];function wS(e){return bS(e.animate)||KI.some(t=>Vv(e[t]))}function lre(e){return!!(wS(e)||e.variants)}function M6e(e,t){if(wS(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Vv(n)?n:void 0,animate:Vv(r)?r:void 0}}return e.inherit!==!1?t:{}}function I6e(e){const{initial:t,animate:n}=M6e(e,x.useContext(yS));return x.useMemo(()=>({initial:t,animate:n}),[Z6(t),Z6(n)])}function Z6(e){return Array.isArray(e)?e.join(" "):e}const Hv={};function L6e(e){for(const t in e)Hv[t]=e[t],OI(t)&&(Hv[t].isCSSVariable=!0)}function cre(e,{layout:t,layoutId:n}){return sg.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hv[e]||e==="opacity")}const $6e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F6e=rg.length;function z6e(e,t,n){let r="",i=!0;for(let a=0;a<F6e;a++){const o=rg[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Zne(l,qI[o]);if(!c){i=!1;const d=$6e[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function YI(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(sg.has(c)){o=!0;continue}else if(OI(c)){i[c]=u;continue}else{const d=Zne(u,qI[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=z6e(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const XI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ure(e,t,n){for(const r in t)!gs(t[r])&&!cre(r,n)&&(e[r]=t[r])}function B6e({transformTemplate:e},t){return x.useMemo(()=>{const n=XI();return YI(n,t,e),Object.assign({},n.vars,n.style)},[t])}function U6e(e,t){const n=e.style||{},r={};return ure(r,n,e),Object.assign(r,B6e(e,t)),r}function q6e(e,t){const n={},r=U6e(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const V6e={offset:"stroke-dashoffset",array:"stroke-dasharray"},H6e={offset:"strokeDashoffset",array:"strokeDasharray"};function W6e(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?V6e:H6e;e[a.offset]=dt.transform(-r);const o=dt.transform(t),l=dt.transform(n);e[a.array]=`${o} ${l}`}function dre(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(YI(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&W6e(f,i,a,o,!1)}const fre=()=>({...XI(),attrs:{}}),hre=e=>typeof e=="string"&&e.toLowerCase()==="svg";function G6e(e,t,n,r){const i=x.useMemo(()=>{const a=fre();return dre(a,t,hre(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};ure(a,e.style,e),i.style={...a,...i.style}}return i}const K6e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QI(e){return typeof e!="string"||e.includes("-")?!1:!!(K6e.indexOf(e)>-1||/[A-Z]/u.test(e))}function Y6e(e,t,n,{latestValues:r},i,a=!1){const l=(QI(e)?G6e:q6e)(t,r,i,e),c=D6e(t,typeof e=="string",a),u=e!==x.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=x.useMemo(()=>gs(d)?d.get():d,[d]);return x.createElement(e,{...u,children:f})}function ez(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function JI(e,t,n,r){if(typeof t=="function"){const[i,a]=ez(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=ez(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function Ww(e){return gs(e)?e.get():e}function X6e({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:Q6e(n,r,i,e),renderState:t()}}function Q6e(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=Ww(a[h]);let{initial:o,animate:l}=e;const c=wS(e),u=lre(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!bS(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=JI(e,h[m]);if(p){const{transitionEnd:g,transition:y,...v}=p;for(const w in v){let b=v[w];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(i[w]=b)}for(const w in g)i[w]=g[w]}}}return i}const mre=e=>(t,n)=>{const r=x.useContext(yS),i=x.useContext(vS),a=()=>X6e(e,t,r,i);return n?a():_I(a)};function ZI(e,t,n){var a;const{style:r}=e,i={};for(const o in r)(gs(r[o])||t.style&&gs(t.style[o])||cre(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const J6e=mre({scrapeMotionValuesFromProps:ZI,createRenderState:XI});function pre(e,t,n){const r=ZI(e,t,n);for(const i in e)if(gs(e[i])||gs(t[i])){const a=rg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const Z6e=mre({scrapeMotionValuesFromProps:pre,createRenderState:fre}),eze=Symbol.for("motionComponentSymbol");function qh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tze(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):qh(n)&&(n.current=r))},[t])}const e4=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nze="framerAppearId",gre="data-"+e4(nze),xre=x.createContext({});function rze(e,t,n,r,i){var g,y;const{visualElement:a}=x.useContext(yS),o=x.useContext(are),l=x.useContext(vS),c=x.useContext(WI).reducedMotion,u=x.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=x.useContext(xre);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&sze(u.current,n,i,f);const h=x.useRef(!1);x.useInsertionEffect(()=>{d&&h.current&&d.update(n,l)});const m=n[gre],p=x.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return mne(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function sze(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:vre(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&qh(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function vre(e){if(e)return e.options.allowProjection!==!1?e.projection:vre(e.parent)}function pk(e,{forwardMotionProps:t=!1}={},n,r){n&&P6e(n);const i=QI(e)?Z6e:J6e;function a(l,c){let u;const d={...x.useContext(WI),...l,layoutId:ize(l)},{isStatic:f}=d,h=I6e(l),m=i(l,f);if(!f&&NI){aze();const p=oze(d);u=p.MeasureLayout,h.visualElement=rze(e,m,d,r,p.ProjectionNode)}return s.jsxs(yS.Provider,{value:h,children:[u&&h.visualElement?s.jsx(u,{visualElement:h.visualElement,...d}):null,Y6e(e,l,tze(m,h.visualElement,c),m,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=x.forwardRef(a);return o[eze]=e,o}function ize({layoutId:e}){const t=x.useContext(jI).id;return t&&e!==void 0?t+"-"+e:e}function aze(e,t){x.useContext(are).strict}function oze(e){const{drag:t,layout:n}=Jm;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function lze(e,t){if(typeof Proxy>"u")return pk;const n=new Map,r=(a,o)=>pk(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,pk(o,void 0,e,t)),n.get(o))})}function yre({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function cze({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uze(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gk(e){return e===void 0||e===1}function aP({scale:e,scaleX:t,scaleY:n}){return!gk(e)||!gk(t)||!gk(n)}function ld(e){return aP(e)||bre(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bre(e){return tz(e.x)||tz(e.y)}function tz(e){return e&&e!=="0%"}function b_(e,t,n){const r=e-n,i=t*r;return n+i}function nz(e,t,n,r,i){return i!==void 0&&(e=b_(e,i,r)),b_(e,n,r)+t}function oP(e,t=0,n=1,r,i){e.min=nz(e.min,t,n,r,i),e.max=nz(e.max,t,n,r,i)}function wre(e,{x:t,y:n}){oP(e.x,t.translate,t.scale,t.originPoint),oP(e.y,n.translate,n.scale,n.originPoint)}const rz=.999999999999,sz=1.0000000000001;function dze(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Hh(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,wre(e,o)),r&&ld(a.latestValues)&&Hh(e,a.latestValues))}t.x<sz&&t.x>rz&&(t.x=1),t.y<sz&&t.y>rz&&(t.y=1)}function Vh(e,t){e.min=e.min+t,e.max=e.max+t}function iz(e,t,n,r,i=.5){const a=Wn(e.min,e.max,i);oP(e,t,n,a,r)}function Hh(e,t){iz(e.x,t.x,t.scaleX,t.scale,t.originX),iz(e.y,t.y,t.scaleY,t.scale,t.originY)}function jre(e,t){return yre(uze(e.getBoundingClientRect(),t))}function fze(e,t,n){const r=jre(e,n),{scroll:i}=t;return i&&(Vh(r.x,i.offset.x),Vh(r.y,i.offset.y)),r}const az=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wh=()=>({x:az(),y:az()}),oz=()=>({min:0,max:0}),ir=()=>({x:oz(),y:oz()}),lP={current:null},_re={current:!1};function hze(){if(_re.current=!0,!!NI)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lP.current=e.matches;e.addEventListener("change",t),t()}else lP.current=!1}const mze=new WeakMap;function pze(e,t,n){for(const r in t){const i=t[r],a=n[r];if(gs(i))e.addValue(r,i);else if(gs(a))e.addValue(r,Qm(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Qm(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const lz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gze{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=BI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=si.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,zn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=wS(n),this.isVariantNode=lre(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&gs(m)&&m.set(c[h])}}mount(t){var n;this.current=t,mze.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),_re.current||hze(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lP.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Nu(this.notifyUpdate),Nu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=sg.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&zn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Jm){const n=Jm[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ir()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lz.length;r++){const i=lz[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=pze(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Qm(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(pne(r)||xne(r))?r=parseFloat(r):!N6e(r)&&Su.test(n)&&(r=Jne(t,n)),this.setBaseTarget(t,gs(r)?r.get():r)),gs(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=JI(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!gs(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new AI),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){VI.render(this.render)}}class Nre extends gze{constructor(){super(...arguments),this.KeyframeResolver=f6e}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Sre(e,{style:t,vars:n},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function xze(e){return window.getComputedStyle(e)}class vze extends Nre{constructor(){super(...arguments),this.type="html",this.renderInstance=Sre}readValueFromInstance(t,n){var r;if(sg.has(n))return(r=this.projection)!=null&&r.isProjecting?ZT(n):P3e(t,n);{const i=xze(t),a=(OI(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return jre(t,n)}build(t,n,r){YI(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ZI(t,n,r)}}const Cre=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yze(e,t,n,r){Sre(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Cre.has(i)?i:e4(i),t.attrs[i])}class bze extends Nre{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ir}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(sg.has(n)){const r=Qne(n);return r&&r.default||0}return n=Cre.has(n)?n:e4(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return pre(t,n,r)}build(t,n,r){dre(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){yze(t,n,r,i)}mount(t){this.isSVGTag=hre(t.tagName),super.mount(t)}}const wze=(e,t)=>QI(e)?new bze(t):new vze(t,{allowProjection:e!==x.Fragment});function pm(e,t,n){const r=e.getProps();return JI(r,t,n!==void 0?n:r.custom,e)}const cP=e=>Array.isArray(e);function jze(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Qm(n))}function _ze(e){return cP(e)?e[e.length-1]||0:e}function Nze(e,t){const n=pm(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const l=_ze(a[o]);jze(e,o,l)}}function Sze(e){return!!(gs(e)&&e.add)}function uP(e,t){const n=e.getValue("willChange");if(Sze(n))return n.add(t);if(!n&&Bl.WillChange){const r=new Bl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Ere(e){return e.props[gre]}const Cze=e=>e!==null;function Eze(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Cze),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const kze={type:"spring",stiffness:500,damping:25,restSpeed:10},Aze=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tze={type:"keyframes",duration:.8},Pze={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Oze=(e,{keyframes:t})=>t.length>2?Tze:sg.has(e)?e.startsWith("scale")?Aze(t[1]):kze:Pze;function Rze({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const t4=(e,t,n,r={},i,a)=>o=>{const l=UI(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Mo(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};Rze(l)||Object.assign(d,Oze(e,d)),d.duration&&(d.duration=Mo(d.duration)),d.repeatDelay&&(d.repeatDelay=Mo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(sP(d),d.delay===0&&(f=!0)),(Bl.instantAnimations||Bl.skipAnimations)&&(f=!0,sP(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=Eze(d.keyframes,l);if(h!==void 0){zn.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new zI(d):new e6e(d)};function Dze({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kre(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&Dze(u,d))continue;const m={delay:n,...UI(a||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=Ere(e);if(v){const w=window.MotionHandoffAnimation(v,d,zn);w!==null&&(m.startTime=w,g=!0)}}uP(e,d),f.start(t4(d,f,h,e.shouldReduceMotion&&Kne.has(d)?{type:!1}:m,e,g));const y=f.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{zn.update(()=>{o&&Nze(e,o)})}),c}function Are(e,t,n,r=0,i=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:l-a*r}function dP(e,t,n={}){var c;const r=pm(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(kre(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return Mze(e,t,u,d,f,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function Mze(e,t,n=0,r=0,i=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(dP(c,t,{...o,delay:n+(typeof r=="function"?0:r)+Are(e.variantChildren,c,r,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Ize(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>dP(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=dP(e,t,n);else{const i=typeof t=="function"?pm(e,t,n.custom):t;r=Promise.all(kre(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Tre(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Lze=KI.length;function Pre(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Pre(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Lze;n++){const r=KI[n],i=e.props[r];(Vv(i)||i===!1)&&(t[r]=i)}return t}const $ze=[...GI].reverse(),Fze=GI.length;function zze(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Ize(e,n,r)))}function Bze(e){let t=zze(e),n=cz(),r=!0;const i=c=>(u,d)=>{var h;const f=pm(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...g}=f;u={...u,...g,...p}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=Pre(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let y=0;y<Fze;y++){const v=$ze[y],w=n[v],b=u[v]!==void 0?u[v]:d[v],j=Vv(b),_=v===c?w.isActive:null;_===!1&&(p=y);let N=b===d[v]&&b!==u[v]&&j;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...m},!w.isActive&&_===null||!b&&!w.prevProp||bS(b)||typeof b=="boolean")continue;const S=Uze(w.prevProp,b);let C=S||v===c&&w.isActive&&!N&&j||y>p&&j,k=!1;const A=Array.isArray(b)?b:[b];let T=A.reduce(i(v),{});_===!1&&(T={});const{prevResolvedValues:E={}}=w,R={...E,...T},$=z=>{C=!0,h.has(z)&&(k=!0,h.delete(z)),w.needsAnimating[z]=!0;const P=e.getValue(z);P&&(P.liveStyle=!1)};for(const z in R){const P=T[z],I=E[z];if(m.hasOwnProperty(z))continue;let M=!1;cP(P)&&cP(I)?M=!Tre(P,I):M=P!==I,M?P!=null?$(z):h.add(z):P!==void 0&&h.has(z)?$(z):w.protectedKeys[z]=!0}w.prevProp=b,w.prevResolvedValues=T,w.isActive&&(m={...m,...T}),r&&e.blockInitialAnimation&&(C=!1);const O=N&&S;C&&(!O||k)&&f.push(...A.map(z=>{const P={type:v};if(typeof z=="string"&&r&&!O&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,M=pm(I,z);if(I.enteringChildren&&M){const{delayChildren:U}=M.transition||{};P.delay=Are(I.enteringChildren,e,U)}}return{animation:z,options:P}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const v=pm(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(y.transition=v.transition)}h.forEach(v=>{const w=e.getBaseTarget(v),b=e.getValue(v);b&&(b.liveStyle=!0),y[v]=w??null}),f.push({animation:y})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=cz(),r=!0}}}function Uze(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Tre(t,e):!1}function Zu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cz(){return{animate:Zu(!0),whileInView:Zu(),whileHover:Zu(),whileTap:Zu(),whileDrag:Zu(),whileFocus:Zu(),exit:Zu()}}class qu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qze extends qu{constructor(t){super(t),t.animationState||(t.animationState=Bze(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bS(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Vze=0;class Hze extends qu{constructor(){super(...arguments),this.id=Vze++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Wze={animation:{Feature:qze},exit:{Feature:Hze}};function Wv(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Mb(e){return{point:{x:e.pageX,y:e.pageY}}}const Gze=e=>t=>HI(t)&&e(t,Mb(t));function qx(e,t,n,r){return Wv(e,t,Gze(n),r)}const Ore=1e-4,Kze=1-Ore,Yze=1+Ore,Rre=.01,Xze=0-Rre,Qze=0+Rre;function Ds(e){return e.max-e.min}function Jze(e,t,n){return Math.abs(e-t)<=n}function uz(e,t,n,r=.5){e.origin=r,e.originPoint=Wn(t.min,t.max,e.origin),e.scale=Ds(n)/Ds(t),e.translate=Wn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Kze&&e.scale<=Yze||isNaN(e.scale))&&(e.scale=1),(e.translate>=Xze&&e.translate<=Qze||isNaN(e.translate))&&(e.translate=0)}function Vx(e,t,n,r){uz(e.x,t.x,n.x,r?r.originX:void 0),uz(e.y,t.y,n.y,r?r.originY:void 0)}function dz(e,t,n){e.min=n.min+t.min,e.max=e.min+Ds(t)}function Zze(e,t,n){dz(e.x,t.x,n.x),dz(e.y,t.y,n.y)}function fz(e,t,n){e.min=t.min-n.min,e.max=e.min+Ds(t)}function Hx(e,t,n){fz(e.x,t.x,n.x),fz(e.y,t.y,n.y)}function Ji(e){return[e("x"),e("y")]}const Dre=({current:e})=>e?e.ownerDocument.defaultView:null,hz=(e,t)=>Math.abs(e-t);function eBe(e,t){const n=hz(e.x,t.x),r=hz(e.y,t.y);return Math.sqrt(n**2+r**2)}class Mre{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=vk(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=eBe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:g}=h,{timestamp:y}=Xr;this.history.push({...g,timestamp:y});const{onStart:v,onMove:w}=this.handlers;m||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=xk(m,this.transformPagePoint),zn.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=vk(h.type==="pointercancel"?this.lastMoveEventInfo:xk(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),g&&g(h,v)},!HI(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=Mb(t),c=xk(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Xr;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,vk(c,this.history)),this.removeListeners=Ob(qx(this.contextWindow,"pointermove",this.handlePointerMove),qx(this.contextWindow,"pointerup",this.handlePointerUp),qx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nu(this.updatePoint)}}function xk(e,t){return t?{point:t(e.point)}:e}function mz(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vk({point:e},t){return{point:e,delta:mz(e,Ire(t)),offset:mz(e,tBe(t)),velocity:nBe(t,.1)}}function tBe(e){return e[0]}function Ire(e){return e[e.length-1]}function nBe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Ire(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Mo(t)));)n--;if(!r)return{x:0,y:0};const a=ca(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rBe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Wn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Wn(n,e,r.max):Math.min(e,n)),e}function pz(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function sBe(e,{top:t,left:n,bottom:r,right:i}){return{x:pz(e.x,n,i),y:pz(e.y,t,r)}}function gz(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function iBe(e,t){return{x:gz(e.x,t.x),y:gz(e.y,t.y)}}function aBe(e,t){let n=.5;const r=Ds(e),i=Ds(t);return i>r?n=zv(t.min,t.max-r,e.min):r>i&&(n=zv(e.min,e.max-i,t.min)),zl(0,1,n)}function oBe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const fP=.35;function lBe(e=fP){return e===!1?e=0:e===!0&&(e=fP),{x:xz(e,"left","right"),y:xz(e,"top","bottom")}}function xz(e,t,n){return{min:vz(e,t),max:vz(e,n)}}function vz(e,t){return typeof e=="number"?e:e[t]||0}const cBe=new WeakMap;class uBe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ir(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mb(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=g6e(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ji(v=>{let w=this.getAxisMotionValue(v).get()||0;if(Io.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[v];j&&(w=Ds(j)*(parseFloat(w)/100))}}this.originPoint[v]=w}),g&&zn.postRender(()=>g(f,h)),uP(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=dBe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ji(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Mre(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Dre(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&zn.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!G0(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=rBe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&qh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=sBe(r.layoutBox,t):this.constraints=!1,this.elastic=lBe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ji(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oBe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!qh(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=fze(r,i.root,this.visualElement.getTransformPagePoint());let o=iBe(i.layout.layoutBox,a);if(n){const l=n(cze(o));this.hasMutatedConstraints=!!l,l&&(o=yre(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ji(d=>{if(!G0(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return uP(this.visualElement,t),r.start(t4(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ji(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ji(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ji(n=>{const{drag:r}=this.getProps();if(!G0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(t[n]-Wn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ji(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=aBe({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ji(o=>{if(!G0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Wn(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;cBe.set(this.visualElement,this);const t=this.visualElement.current,n=qx(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();qh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),zn.read(r);const o=Wv(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ji(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=fP,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function G0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function dBe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class fBe extends qu{constructor(t){super(t),this.removeGroupControls=ga,this.removeListeners=ga,this.controls=new uBe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ga}unmount(){this.removeGroupControls(),this.removeListeners()}}const yz=e=>(t,n)=>{e&&zn.postRender(()=>e(t,n))};class hBe extends qu{constructor(){super(...arguments),this.removePointerDownListener=ga}onPointerDown(t){this.session=new Mre(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dre(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:yz(t),onStart:yz(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&zn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=qx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bz(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(dt.test(e))e=parseFloat(e);else return e;const n=bz(e,t.target.x),r=bz(e,t.target.y);return`${n}% ${r}%`}},mBe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Su.parse(e);if(i.length>5)return r;const a=Su.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=Wn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};let yk=!1;class pBe extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;L6e(gBe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),yk&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Gw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,yk=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||zn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),VI.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;yk=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lre(e){const[t,n]=ire(),r=x.useContext(jI);return s.jsx(pBe,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(xre),isPresent:t,safeToRemove:n})}const gBe={borderRadius:{...Vg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vg,borderTopRightRadius:Vg,borderBottomLeftRadius:Vg,borderBottomRightRadius:Vg,boxShadow:mBe};function xBe(e,t,n){const r=gs(e)?e:Qm(e);return r.start(t4("",r,t,n)),r.animation}const vBe=(e,t)=>e.depth-t.depth;class yBe{constructor(){this.children=[],this.isDirty=!1}add(t){SI(this.children,t),this.isDirty=!0}remove(t){CI(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vBe),this.isDirty=!1,this.children.forEach(t)}}function bBe(e,t){const n=si.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Nu(r),e(a-t))};return zn.setup(r,!0),()=>Nu(r)}const $re=["TopLeft","TopRight","BottomLeft","BottomRight"],wBe=$re.length,wz=e=>typeof e=="string"?parseFloat(e):e,jz=e=>typeof e=="number"||dt.test(e);function jBe(e,t,n,r,i,a){i?(e.opacity=Wn(0,n.opacity??1,_Be(r)),e.opacityExit=Wn(t.opacity??1,0,NBe(r))):a&&(e.opacity=Wn(t.opacity??1,n.opacity??1,r));for(let o=0;o<wBe;o++){const l=`border${$re[o]}Radius`;let c=_z(t,l),u=_z(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jz(c)===jz(u)?(e[l]=Math.max(Wn(wz(c),wz(u),r),0),(Io.test(u)||Io.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Wn(t.rotate||0,n.rotate||0,r))}function _z(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _Be=Fre(0,.5,Sne),NBe=Fre(.5,.95,ga);function Fre(e,t,n){return r=>r<e?0:r>t?1:n(zv(e,t,r))}function Nz(e,t){e.min=t.min,e.max=t.max}function Gi(e,t){Nz(e.x,t.x),Nz(e.y,t.y)}function Sz(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Cz(e,t,n,r,i){return e-=t,e=b_(e,1/n,r),i!==void 0&&(e=b_(e,1/i,r)),e}function SBe(e,t=0,n=1,r=.5,i,a=e,o=e){if(Io.test(t)&&(t=parseFloat(t),t=Wn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Wn(a.min,a.max,r);e===a&&(l-=t),e.min=Cz(e.min,t,n,l,i),e.max=Cz(e.max,t,n,l,i)}function Ez(e,t,[n,r,i],a,o){SBe(e,t[n],t[r],t[i],t.scale,a,o)}const CBe=["x","scaleX","originX"],EBe=["y","scaleY","originY"];function kz(e,t,n,r){Ez(e.x,t,CBe,n?n.x:void 0,r?r.x:void 0),Ez(e.y,t,EBe,n?n.y:void 0,r?r.y:void 0)}function Az(e){return e.translate===0&&e.scale===1}function zre(e){return Az(e.x)&&Az(e.y)}function Tz(e,t){return e.min===t.min&&e.max===t.max}function kBe(e,t){return Tz(e.x,t.x)&&Tz(e.y,t.y)}function Pz(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Bre(e,t){return Pz(e.x,t.x)&&Pz(e.y,t.y)}function Oz(e){return Ds(e.x)/Ds(e.y)}function Rz(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ABe{constructor(){this.members=[]}add(t){SI(this.members,t),t.scheduleRender()}remove(t){if(CI(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TBe(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const bk=["","X","Y","Z"],PBe=1e3;let OBe=0;function wk(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ure(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ere(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",zn,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ure(r)}function qre({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=OBe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MBe),this.nodes.forEach(FBe),this.nodes.forEach(zBe),this.nodes.forEach(IBe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new yBe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new AI),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=sre(o)&&!j6e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;zn.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=bBe(h,250),Gw.hasAnimatedSinceResize&&(Gw.hasAnimatedSinceResize=!1,this.nodes.forEach(Iz)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||HBe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!Bre(this.targetLayout,m),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...UI(p,"layout"),onPlay:g,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,w)}else f||Iz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BBe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ure(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dz);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Mz);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($Be),this.nodes.forEach(RBe),this.nodes.forEach(DBe)):this.nodes.forEach(Mz),this.clearAllSnapshots();const l=si.now();Xr.delta=zl(0,1e3/60,l-Xr.timestamp),Xr.timestamp=l,Xr.isProcessing=!0,ck.update.process(Xr),ck.preRender.process(Xr),ck.render.process(Xr),Xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,VI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LBe),this.sharedNodes.forEach(UBe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ds(this.snapshot.measuredBox.x)&&!Ds(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!zre(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||ld(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),WBe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ir();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(GBe))){const{scroll:d}=this.root;d&&(Vh(l.x,d.offset.x),Vh(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=ir();if(Gi(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Gi(l,o),Vh(l.x,f.offset.x),Vh(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=ir();Gi(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Hh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ld(d.latestValues)&&Hh(c,d.latestValues)}return ld(this.latestValues)&&Hh(c,this.latestValues),c}removeTransform(o){const l=ir();Gi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ld(u.latestValues))continue;aP(u.latestValues)&&u.updateSnapshot();const d=ir(),f=u.measurePageBox();Gi(d,f),kz(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ld(this.latestValues)&&kz(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Xr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),Hx(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ir(),this.targetWithTransforms=ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zze(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gi(this.target,this.layout.layoutBox),wre(this.target,this.targetDelta)):Gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),Hx(this.relativeTargetOrigin,this.target,m.target),Gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||aP(this.parent.latestValues)||bre(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Gi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;dze(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ir());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sz(this.prevProjectionDelta.x,this.projectionDelta.x),Sz(this.prevProjectionDelta.y,this.projectionDelta.y)),Vx(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Rz(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wh(),this.projectionDelta=Wh(),this.projectionDeltaWithTransform=Wh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Wh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ir(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),v=!y||y.members.length<=1,w=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(VBe));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const _=j/1e3;Lz(f.x,o.x,_),Lz(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hx(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qBe(this.relativeTarget,this.relativeTargetOrigin,h,_),b&&kBe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ir()),Gi(b,this.relativeTarget)),g&&(this.animationValues=d,jBe(d,u,this.latestValues,_,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Nu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zn.update(()=>{Gw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qm(0)),this.currentAnimation=xBe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PBe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Vre(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ir();const f=Ds(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Ds(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Gi(l,c),Hh(l,d),Vx(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ABe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&wk("z",o,u,this.animationValues);for(let d=0;d<bk.length;d++)wk(`rotate${bk[d]}`,o,u,this.animationValues),wk(`skew${bk[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ww(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ww(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ld(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=TBe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Hv){if(d[p]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:v}=Hv[p],w=f==="none"?d[p]:g(d[p],u);if(y){const b=y.length;for(let j=0;j<b;j++)o[y[j]]=w}else v?this.options.visualElement.renderState.vars[p]=w:o[p]=w}this.options.layoutId&&(o.pointerEvents=u===this?Ww(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Dz),this.root.sharedNodes.clear()}}}function RBe(e){e.updateLayout()}function DBe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Ji(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=Ds(h);h.min=r[f].min,h.max=h.min+m}):Vre(a,t.layoutBox,r)&&Ji(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=Ds(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Wh();Vx(l,r,t.layoutBox);const c=Wh();o?Vx(c,e.applyTransform(i,!0),t.measuredBox):Vx(c,r,t.layoutBox);const u=!zre(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=ir();Hx(p,t.layoutBox,h.layoutBox);const g=ir();Hx(g,r,m.layoutBox),Bre(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function MBe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function IBe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LBe(e){e.clearSnapshot()}function Dz(e){e.clearMeasurements()}function Mz(e){e.isLayoutDirty=!1}function $Be(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Iz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function FBe(e){e.resolveTargetDelta()}function zBe(e){e.calcProjection()}function BBe(e){e.resetSkewAndRotation()}function UBe(e){e.removeLeadSnapshot()}function Lz(e,t,n){e.translate=Wn(t.translate,0,n),e.scale=Wn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $z(e,t,n,r){e.min=Wn(t.min,n.min,r),e.max=Wn(t.max,n.max,r)}function qBe(e,t,n,r){$z(e.x,t.x,n.x,r),$z(e.y,t.y,n.y,r)}function VBe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const HBe={duration:.45,ease:[.4,0,.1,1]},Fz=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zz=Fz("applewebkit/")&&!Fz("chrome/")?Math.round:ga;function Bz(e){e.min=zz(e.min),e.max=zz(e.max)}function WBe(e){Bz(e.x),Bz(e.y)}function Vre(e,t,n){return e==="position"||e==="preserve-aspect"&&!Jze(Oz(t),Oz(n),.2)}function GBe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const KBe=qre({attachResizeListener:(e,t)=>Wv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jk={current:void 0},Hre=qre({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jk.current){const e=new KBe({});e.mount(window),e.setOptions({layoutScroll:!0}),jk.current=e}return jk.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),YBe={pan:{Feature:hBe},drag:{Feature:fBe,ProjectionNode:Hre,MeasureLayout:Lre}};function Uz(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&zn.postRender(()=>a(t,Mb(t)))}class XBe extends qu{mount(){const{current:t}=this.node;t&&(this.unmount=x6e(t,(n,r)=>(Uz(this.node,r,"Start"),i=>Uz(this.node,i,"End"))))}unmount(){}}class QBe extends qu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ob(Wv(this.node.current,"focus",()=>this.onFocus()),Wv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qz(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&zn.postRender(()=>a(t,Mb(t)))}class JBe extends qu{mount(){const{current:t}=this.node;t&&(this.unmount=w6e(t,(n,r)=>(qz(this.node,r,"Start"),(i,{success:a})=>qz(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hP=new WeakMap,_k=new WeakMap,ZBe=e=>{const t=hP.get(e.target);t&&t(e)},e8e=e=>{e.forEach(ZBe)};function t8e({root:e,...t}){const n=e||document;_k.has(n)||_k.set(n,{});const r=_k.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(e8e,{root:e,...t})),r[i]}function n8e(e,t,n){const r=t8e(t);return hP.set(e,n),r.observe(e),()=>{hP.delete(e),r.unobserve(e)}}const r8e={some:0,all:1};class s8e extends qu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:r8e[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return n8e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(i8e(t,n))&&this.startObserver()}unmount(){}}function i8e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const a8e={inView:{Feature:s8e},tap:{Feature:JBe},focus:{Feature:QBe},hover:{Feature:XBe}},o8e={layout:{ProjectionNode:Hre,MeasureLayout:Lre}},l8e={...Wze,...a8e,...YBe,...o8e},fu=lze(l8e,wze),c8e=({onStyleChange:e,onAddFile:t,onConnectApp:n,selectedStyle:r})=>{var p;const[i,a]=x.useState(!1),[o,l]=x.useState("main"),[c,u]=x.useState(!1),d=x.useRef(null),f=[{id:"réflexion approfondie",label:"Réflexion approfondie",icon:"🤔"},{id:"concis",label:"Concis",icon:"💬"},{id:"normal",label:"Normal",icon:"👤"},{id:"explicatif",label:"Explicatif",icon:"📚"},{id:"détaillé",label:"Détaillé",icon:"📋"}];x.useEffect(()=>{const g=y=>{d.current&&!d.current.contains(y.target)&&(a(!1),setTimeout(()=>l("main"),200))};return i&&document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[i]);const h=g=>{e==null||e(g),a(!1),setTimeout(()=>l("main"),200)},m={enter:g=>({x:g>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:g=>({x:g>0?"-100%":"100%",opacity:0})};return s.jsxs("div",{className:"relative",ref:d,children:[s.jsx("button",{type:"button",onClick:()=>a(!i),className:`w-8 h-8 rounded-xl border border-gray-200 bg-white hover:bg-gray-50
                   flex items-center justify-center transition-all duration-150`,"aria-label":"Options",children:s.jsx(In,{className:`w-[18px] h-[18px] text-gray-600 transition-transform duration-200
                     ${i?"rotate-45":"rotate-0"}`})}),s.jsx(qv,{children:i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{a(!1),setTimeout(()=>l("main"),200)}}),s.jsx(fu.div,{initial:{opacity:0,scale:.96,y:8},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.96,y:8},transition:{duration:.15,ease:[.4,0,.2,1]},className:`absolute bottom-9 left-0 z-50 w-[280px] bg-white
                         rounded-xl border border-gray-200 overflow-hidden`,children:s.jsx("div",{className:"relative overflow-hidden",children:s.jsx(qv,{initial:!1,custom:o==="styles"?1:-1,mode:"wait",children:o==="main"?s.jsxs(fu.div,{custom:-1,variants:m,initial:"enter",animate:"center",exit:"exit",transition:{duration:.25,ease:[.4,0,.2,1]},className:"w-full py-1",children:[s.jsxs("button",{type:"button",onClick:()=>{u(!0),a(!1)},className:`w-full flex items-center gap-2.5 px-3 py-2 hover:bg-gray-50
                                   transition-colors duration-100 text-left`,children:[s.jsx(sn,{className:"w-[18px] h-[18px] text-gray-600"}),s.jsx("span",{className:"flex-1 text-[13px] text-gray-700",children:"Ajouter un fichier"})]}),s.jsxs("button",{type:"button",onClick:()=>l("styles"),className:`w-full flex items-center gap-2.5 px-3 py-2 hover:bg-gray-50
                                   transition-colors duration-100 text-left`,children:[s.jsx("span",{className:"text-[18px] leading-none",children:"💬"}),s.jsx("span",{className:"flex-1 text-[13px] text-gray-700",children:"Style de communication"}),s.jsx("span",{className:"text-[11px] text-gray-500",children:(p=f.find(g=>g.id===r))==null?void 0:p.label})]}),s.jsxs("button",{type:"button",onClick:()=>{u(!0),a(!1)},className:`w-full flex items-center gap-2.5 px-3 py-2 hover:bg-gray-50
                                   transition-colors duration-100 text-left`,children:[s.jsx(Dp,{className:"w-[18px] h-[18px] text-gray-600"}),s.jsx("span",{className:"flex-1 text-[13px] text-gray-700",children:"Connecter une application"})]})]},"main"):s.jsxs(fu.div,{custom:1,variants:m,initial:"enter",animate:"center",exit:"exit",transition:{duration:.25,ease:[.4,0,.2,1]},className:"w-full",children:[s.jsx("div",{className:"py-1",children:f.map(g=>s.jsxs("button",{type:"button",onClick:()=>h(g.id),className:`w-full flex items-center gap-2.5 px-3 py-2 hover:bg-gray-50
                                       transition-colors duration-100 text-left`,children:[s.jsx("span",{className:"text-[16px] leading-none",children:g.icon}),s.jsx("span",{className:"flex-1 text-[13px] text-gray-700",children:g.label}),r===g.id&&s.jsx(Vr,{className:"w-[14px] h-[14px] text-blue-600",strokeWidth:2.5})]},g.id))}),s.jsxs("button",{type:"button",onClick:()=>l("main"),className:`w-full flex items-center gap-2.5 px-3 py-2 hover:bg-gray-50
                                   transition-colors duration-100 text-left border-t border-gray-100`,children:[s.jsx(_a,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-[13px] text-gray-700",children:"Retour"})]})]},"styles")})})})]})}),s.jsx(fb,{isOpen:c,onClose:()=>u(!1),description:"Fonctionnalité bientôt disponible !"})]})},u8e=({onSearchModeChange:e,selectedModes:t})=>{const[n,r]=x.useState(!1),i=x.useRef(null),a=[{id:"web_search",label:"Recherche web",icon:Pr},{id:"deep_thinking",label:"Mode réflexion",icon:Khe}];x.useEffect(()=>{const l=c=>{i.current&&!i.current.contains(c.target)&&r(!1)};return n&&document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[n]);const o=l=>{const c=t.includes(l)?t.filter(u=>u!==l):[...t,l];e==null||e(c)};return s.jsxs("div",{className:"relative",ref:i,children:[s.jsx("button",{type:"button",onClick:()=>r(!n),className:`w-8 h-8 rounded-xl border border-gray-200 bg-white hover:bg-gray-50
                   flex items-center justify-center transition-all duration-150`,"aria-label":"Modes de recherche",children:s.jsx(ume,{className:"w-[18px] h-[18px] text-gray-600"})}),s.jsx(qv,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),s.jsx(fu.div,{initial:{opacity:0,scale:.96,y:8},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.96,y:8},transition:{duration:.15,ease:[.4,0,.2,1]},className:`absolute bottom-9 left-0 z-50 w-[280px] bg-white
                         rounded-xl border border-gray-200 overflow-hidden`,children:s.jsx("div",{className:"py-1",children:a.map(l=>{const c=l.icon;return s.jsxs("button",{onClick:()=>o(l.id),className:`w-full flex items-center gap-1.5 px-2 py-2 hover:bg-gray-50
                                 transition-colors duration-100 text-left`,children:[s.jsx(c,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsx("span",{className:"flex-1 text-[13px] text-gray-700 font-medium",children:l.label}),s.jsx(As,{checked:t.includes(l.id),onCheckedChange:()=>o(l.id),className:"scale-75"})]},l.id)})})})]})})]})},Gh=({inputMessage:e,placeholder:t,isLoading:n,isSubmitting:r,communicationStyle:i,selectedDeliverables:a,selectedSearchModes:o,deliverableOptions:l,searchModeOptions:c,deliverableNames:u,onInputChange:d,onKeyPress:f,onSendMessage:h,onCommunicationStyleChange:m,onSelectedDeliverablesChange:p,onSelectedSearchModesChange:g,onReformQuestion:y,projectId:v,projectStatus:w,isMobileChatOptionsOpen:b=!1,setIsMobileChatOptionsOpen:j})=>{var R,$;const[_,N]=x.useState(!1),[S,C]=x.useState("main"),k=x.useRef(null),A=hb(),T=[{id:"réflexion approfondie",label:"Réflexion approfondie",icon:"🤔"},{id:"concis",label:"Concis",icon:"💬"},{id:"normal",label:"Normal",icon:"👤"},{id:"explicatif",label:"Explicatif",icon:"📚"},{id:"détaillé",label:"Détaillé",icon:"📋"}];x.useEffect(()=>{if(k.current){k.current.style.height="auto";const O=A?Math.max(window.innerHeight-180,300):360;k.current.style.height=Math.min(k.current.scrollHeight,O)+"px"}},[e,A]);const E=e.trim()==="";return s.jsx("div",{className:"w-full pb-safe px-2",children:s.jsxs("div",{className:"w-full mx-auto bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-200 shadow-[0_4px_6px_-1px_rgba(0,0,0,0.1),0_2px_4px_-1px_rgba(0,0,0,0.06)] hover:shadow-[0_6px_8px_-2px_rgba(0,0,0,0.15)]",children:[s.jsx("div",{className:"relative p-2",children:A?s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("div",{className:"flex-shrink-0 self-end mb-1",children:s.jsx("button",{type:"button",onClick:()=>j==null?void 0:j(!b),className:`w-8 h-8 rounded-xl border border-gray-200 bg-white hover:bg-gray-50
                             flex items-center justify-center transition-all duration-150`,"aria-label":"Options",children:s.jsx(In,{className:`w-[18px] h-[18px] text-gray-600 transition-transform duration-200
                               ${b?"rotate-45":"rotate-0"}`})})}),s.jsx("div",{className:"flex-1 flex items-center",children:s.jsx("textarea",{ref:k,placeholder:t,value:e,onChange:d,onKeyDown:f,className:"w-full resize-none border-none bg-transparent focus:outline-none p-0 text-base text-gray-900 placeholder-gray-500",style:{minHeight:"32px",lineHeight:"1.5",transition:"height 0.2s ease-in-out"},rows:1})}),s.jsxs("div",{className:"flex items-end gap-2 flex-shrink-0 self-end mb-1",children:[s.jsxs(H,{onClick:()=>y(e),disabled:E||n||r,variant:"ghost",size:"icon",className:"h-8 w-8 rounded-xl bg-white hover:bg-gray-200",children:[n||r?s.jsx(Pt,{className:"h-5 w-5 animate-spin text-orange-500"}):s.jsx(ff,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{className:"sr-only",children:"Reformuler la question"})]}),s.jsx(H,{onClick:h,disabled:E||n||r,className:"rounded-xl w-8 h-8 p-0 bg-gradient-primary hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(m2,{size:16,className:"text-white"})})]})]}):s.jsx("div",{className:"flex items-end gap-3",children:s.jsx("div",{className:"flex-1",children:s.jsx("textarea",{ref:k,placeholder:t,value:e,onChange:d,onKeyDown:f,className:"w-full resize-none border-none bg-transparent focus:outline-none p-0 pl-2 min-h-[40px] max-h-[360px] text-base text-gray-900 placeholder-gray-500 overflow-y-auto",rows:1})})})}),!A&&s.jsx("div",{className:"px-3 pb-1 pt-1 sm:px-4 sm:pb-2 sm:pt-1",children:s.jsx("div",{className:"grid grid-cols-1 gap-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(c8e,{selectedStyle:i,onStyleChange:m}),s.jsx(u8e,{selectedModes:o,onSearchModeChange:g}),i!=="normal"&&s.jsxs("button",{onClick:()=>m("normal"),className:`h-8 px-2 rounded-xl border-gray-300 bg-gray-50
                                 flex items-center transition-all duration-200
                                 text-xs font-medium text-gray-700 cursor-pointer
                                 hover:bg-gray-100 group relative`,children:[s.jsx(b2,{className:"w-3 h-3 mr-1 flex-shrink-0"}),s.jsx("span",{className:"group-hover:mr-1 transition-all duration-200",children:((R=T.find(O=>O.id===i))==null?void 0:R.label)||i}),s.jsx(tn,{className:`absolute right-1 w-3 h-3 opacity-0 group-hover:opacity-100
                                   transition-all duration-200 group-hover:relative group-hover:right-0 flex-shrink-0`})]}),o.map(O=>O==="deep_thinking"?s.jsxs("button",{onClick:()=>g(o.filter(F=>F!=="deep_thinking")),className:`h-8 px-2 rounded-xl border-[#FFBDA4] bg-[#FEF2ED]
                                     flex items-center transition-all duration-200
                                     text-xs font-medium text-[#FF5932] cursor-pointer
                                     hover:px-3 group relative overflow-hidden`,children:["🧠",s.jsx("span",{className:"transition-all duration-200 group-hover:mr-1 ml-1",children:"Mode réflexion"}),s.jsx(tn,{className:`absolute right-1 w-3 h-3 opacity-0 group-hover:opacity-100
                                       transition-all duration-200 group-hover:relative group-hover:right-0 flex-shrink-0`})]},O):O==="web_search"?s.jsxs("button",{onClick:()=>g(o.filter(F=>F!=="web_search")),className:`h-8 px-2 rounded-xl border-[#FFBDA4] bg-[#FEF2ED]
                                     flex items-center transition-all duration-200
                                     text-xs font-medium text-[#FF5932] cursor-pointer
                                     hover:px-3 group relative overflow-hidden`,children:["🌐",s.jsx("span",{className:"transition-all duration-200 group-hover:mr-1 ml-1",children:"Recherche web"}),s.jsx(tn,{className:`absolute right-1 w-3 h-3 opacity-0 group-hover:opacity-100
                                       transition-all duration-200 group-hover:relative group-hover:right-0 flex-shrink-0`})]},O):null)]}),s.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[s.jsxs(H,{onClick:()=>y(e),disabled:E||n||r,variant:"ghost",size:"icon",className:`w-8 h-8 rounded-xl border border-gray-200 bg-white hover:bg-gray-50
                               flex items-center justify-center transition-all duration-150`,children:[n||r?s.jsx(Pt,{className:"w-[18px] h-[18px] animate-spin text-orange-500"}):s.jsx(ff,{className:"w-[18px] h-[18px] text-orange-500"}),s.jsx("span",{className:"sr-only",children:"Reformuler la question"})]}),s.jsx(H,{onClick:h,disabled:E||n||r,variant:"ghost",size:"icon",className:"w-8 h-8 rounded-xl border border-transparent bg-gradient-primary hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-all duration-150 flex-shrink-0",children:s.jsx(m2,{className:"w-[18px] h-[18px] text-white"})})]})]})})}),s.jsx(fb,{isOpen:_,onClose:()=>N(!1),description:"Fonctionnalité bientôt disponible !"}),A&&s.jsx("div",{className:"relative",children:b&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-39",onClick:O=>{O.stopPropagation(),j==null||j(!1),C("main")}}),s.jsx(fu.div,{initial:{opacity:0,scale:.96,y:8},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.96,y:8},transition:{duration:.15,ease:[.4,0,.2,1]},className:`fixed bottom-[60px] left-[20px] md:left-[calc(50vw-30vw)] z-50 w-[280px] bg-white
                         rounded-xl border border-gray-200 overflow-hidden`,children:s.jsx("div",{className:"relative overflow-hidden",children:s.jsx(qv,{initial:!1,custom:S==="styles"?1:-1,mode:"wait",children:S==="main"?s.jsxs(fu.div,{custom:-1,variants:{enter:O=>({x:O>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:O=>({x:O>0?"-100%":"100%",opacity:0})},initial:"enter",animate:"center",exit:"exit",transition:{duration:.25,ease:[.4,0,.2,1]},className:"w-full py-1",children:[s.jsxs("button",{type:"button",onClick:()=>C("styles"),className:`w-full flex items-center justify-center gap-3 px-2 py-2 hover:bg-gray-50
                                       transition-colors duration-100`,children:[s.jsx("span",{className:`w-6 h-6 flex items-center justify-center text-[20px] leading-none
                                           text-center flex-shrink-0`,children:"💬"}),s.jsx("span",{className:"flex-1 text-[13px] text-gray-700 font-medium text-left",children:"Style de communication"}),s.jsx("span",{className:"text-[11px] text-gray-500 flex-shrink-0",children:($=T.find(O=>O.id===i))==null?void 0:$.label})]}),s.jsxs("div",{className:`flex items-center justify-center gap-3 px-2 py-2 hover:bg-gray-50
                                         transition-colors duration-100`,children:[s.jsx("span",{className:`w-6 h-6 flex items-center justify-center text-[20px] leading-none
                                           text-center flex-shrink-0`,children:"🧠"}),s.jsx("span",{className:"flex-1 text-[13px] text-gray-700 font-medium",children:"Mode réflexion"}),s.jsx(As,{checked:o.includes("deep_thinking"),onCheckedChange:O=>{const F=O?[...o,"deep_thinking"]:o.filter(z=>z!=="deep_thinking");g(F)},className:"scale-75 flex-shrink-0"})]}),s.jsxs("div",{className:`flex items-center justify-center gap-3 px-2 py-2 hover:bg-gray-50
                                         transition-colors duration-100`,children:[s.jsx("span",{className:`w-6 h-6 flex items-center justify-center text-[20px] leading-none
                                           text-center flex-shrink-0`,children:"🌐"}),s.jsx("span",{className:"flex-1 text-[13px] text-gray-700 font-medium",children:"Recherche web"}),s.jsx(As,{checked:o.includes("web_search"),onCheckedChange:O=>{const F=O?[...o,"web_search"]:o.filter(z=>z!=="web_search");g(F)},className:"scale-75 flex-shrink-0"})]})]},"main"):s.jsxs(fu.div,{custom:1,variants:{enter:O=>({x:O>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:O=>({x:O>0?"-100%":"100%",opacity:0})},initial:"enter",animate:"center",exit:"exit",transition:{duration:.25,ease:[.4,0,.2,1]},className:"w-full",children:[s.jsx("div",{className:"py-1",children:T.map(O=>s.jsxs("button",{type:"button",onClick:()=>{m(O.id),C("main")},className:`w-full flex items-center gap-2.5 px-3 py-2 hover:bg-gray-50
                                           transition-colors duration-100 text-left`,children:[s.jsx("span",{className:"text-[16px] leading-none",children:O.icon}),s.jsx("span",{className:"flex-1 text-[13px] text-gray-700",children:O.label}),i===O.id&&s.jsx(Vr,{className:"w-[14px] h-[14px] text-blue-600",strokeWidth:2.5})]},O.id))}),s.jsxs("button",{type:"button",onClick:()=>C("main"),className:`w-full flex items-center gap-2.5 px-3 py-2 hover:bg-gray-50
                                       transition-colors duration-100 text-left border-t border-gray-100`,children:[s.jsx(_a,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-[13px] text-gray-700",children:"Retour"})]})]},"styles")})})})]})})]})})},Wre=({prompts:e,onPromptSelect:t})=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-w-2xl mx-auto mb-6 sm:mb-8 px-3 sm:px-0",children:e.map((n,r)=>s.jsx("button",{onClick:()=>t(n),className:"p-3 sm:p-4 text-left bg-white border border-gray-200 rounded-xl hover:border-gray-300 hover:shadow-md transition-all duration-200 group text-sm sm:text-base",children:s.jsx("span",{className:"text-gray-700 group-hover:text-gray-900",children:n})},r))}),Gre=({isRenameDialogOpen:e,setIsRenameDialogOpen:t,tempConversationName:n,setTempConversationName:r,onSaveRename:i,onCancelRename:a,isDeleteDialogOpen:o,setIsDeleteDialogOpen:l,onConfirmDelete:c,onCancelDelete:u})=>s.jsxs(s.Fragment,{children:[s.jsx(pt,{open:e,onOpenChange:t,children:s.jsxs(gt,{className:"w-[90vw] rounded-xl max-w-[425px]",children:[s.jsx(jt,{children:s.jsx(xt,{children:"Renommer la conversation"})}),s.jsx("div",{className:"grid gap-4 py-4",children:s.jsx(ke,{id:"conversationName",value:n,onChange:d=>r(d.target.value),className:"rounded-lg",placeholder:"Nom de la conversation"})}),s.jsxs(Kt,{className:"flex-row justify-end space-x-2",children:[s.jsx(H,{variant:"outline",onClick:a,className:"rounded-lg",children:"Annuler"}),s.jsx(H,{onClick:i,className:"rounded-lg bg-gradient-primary",children:"Enregistrer"})]})]})}),s.jsx(pt,{open:o,onOpenChange:l,children:s.jsxs(gt,{className:"w-[90vw] rounded-xl max-w-[425px]",children:[s.jsx(jt,{children:s.jsx(xt,{children:"Supprimer la conversation"})}),s.jsx("div",{className:"grid gap-4 py-4",children:s.jsx("p",{className:"text-gray-600",children:"Êtes-vous sûr de vouloir supprimer cette conversation ? Cette action est irréversible."})}),s.jsxs(Kt,{className:"flex-row justify-end space-x-2",children:[s.jsx(H,{variant:"outline",onClick:u,className:"rounded-lg",children:"Annuler"}),s.jsx(H,{onClick:c,variant:"destructive",className:"rounded-lg",children:"Supprimer"})]})]})})]}),Vz=()=>{const{projectId:e}=Nt(),t=It();cr();const[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[p,g]=x.useState(!1),[y,v]=x.useState(!1),[w,b]=x.useState("normal"),[j,_]=x.useState([]),[N,S]=x.useState([]),{deliverableNames:C,deliverablesLoading:k,userProjects:A,currentProjectId:T,userProjectsLoading:E}=yr(),{currentConversation:R,conversationHistory:$,isHistoryLoading:O,isConversationLoading:F,isLoading:z,isSubmitting:P,streamingMessageId:I,streamingText:M,loadConversation:U,sendMessage:D,regenerateResponse:L,updateConversationTitle:V,deleteConversation:K,newChat:G}=Ote(e),X=x.useRef(null),oe=hb(),Y=A.find(ye=>ye.project_id===T),ne=Y?Y.nom_projet:"votre projet",ge=Y?Y.statut_project:"unknown",se=C.map(ye=>({value:ye,label:ye,description:"Livrable disponible pour ce projet"})),ce=[{value:"deep_thinking",label:"Réflexion approfondie",description:"Mode de réflexion approfondie pour des analyses détaillées"},{value:"project_rag",label:"Rechercher dans le projet (RAG)",description:"Recherche dans les données du projet existant"}],ve=ye=>{r(ye.target.value)},te=async()=>{if(n.trim()!==""&&!z&&!P){const ye=n.trim();r(""),X.current&&(X.current.style.height="auto"),await D(ye,w,N,j)||r(ye)}},ue=async ye=>{if(!(ye.trim()===""||d)){f(!0);try{const ze=await fetch("https://n8n.srv906204.hstgr.cloud/webhook/reform-question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:T,message:ye})});if(!ze.ok)throw new Error(`HTTP error! status: ${ze.status}`);const je=await ze.json();console.log("Webhook raw response data:",je);let We="",Ge="Réponse invalide ou vide.";try{if(Array.isArray(je)&&je.length>0){const ut=je[0];if(ut.output&&typeof ut.output=="string"){const nn=ut.output.replace(/^```json\n/,"").replace(/\n```$/,"").trim();console.log("Cleaned JSON string:",nn);const Rt=JSON.parse(nn);Rt&&Rt.output&&typeof Rt.output.response=="string"?(We=Rt.output.response,We=We.replace(/\\n/g,`
`).trim(),We===""&&(Ge="Le champ 'response' du webhook est vide après formatage.")):Ge="Le champ 'output.response' est manquant ou n'est pas une chaîne de caractères dans la réponse interne."}else Ge="Le champ 'output' du premier élément est manquant ou n'est pas une chaîne."}else Ge="La structure de la réponse du webhook est incorrecte (pas un tableau ou tableau vide)."}catch(ut){console.error("Erreur lors du parsing de la chaîne JSON interne:",ut),Ge=`Erreur de parsing JSON interne: ${ut.message}`}console.log("Reformulated text after processing:",We),We!==""?(r(We),Ne.success("Question reformulée avec succès !"),X.current&&X.current.focus()):(console.error("La reformulation de la question a échoué. Détails:",Ge,"Full response:",je),Ne.error(`La reformulation de la question a échoué. ${Ge}`))}catch(ze){console.error("Erreur lors de la reformulation de la question:",ze),Ne.error("Erreur lors de la reformulation de la question. Veuillez vérifier la console pour plus de détails.")}finally{f(!1)}}},ee=ye=>{ye.key==="Enter"&&!ye.shiftKey&&!P&&!z&&!d&&(ye.preventDefault(),ye.stopPropagation(),te())},le=ye=>{navigator.clipboard.writeText(ye),Ne.success("Message copié dans le presse-papiers")},Ie=async ye=>{await L(ye,w,N,j)},Pe=async()=>{await V(o)&&a(!1)},Ae=()=>{a(!1)},W=async()=>{await K()&&u(!1)},_e=()=>{u(!1)},Le=ye=>{var ze;r(ye),(ze=X.current)==null||ze.focus()},Qe=()=>{R&&(a(!0),l(R.title))},Q=()=>{u(!0)},ae=["Comment améliorer ma proposition de valeur ?","Analyse les risques de mon projet"],Se=(R==null?void 0:R.messages)||[];return E?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):T?s.jsx(Ff,{children:s.jsxs("div",{className:"flex flex-col h-screen bg-[#F8F6F1] overflow-hidden overflow-x-hidden",children:[s.jsxs("div",{className:"flex flex-col flex-1 w-full md:w-[60vw] mx-auto h-full overflow-hidden relative pt-4",children:[" ",s.jsx(Rte,{currentConversation:R,conversationHistory:$,isConversationLoading:F,isHistoryLoading:O,onLoadConversation:U,onNewChat:G,onRenameConversation:Qe,onDeleteConversation:Q,onToggleHistoryMobile:()=>{h?(g(!0),setTimeout(()=>{m(!1),g(!1)},300)):(m(!0),g(!1))}}),(h||p)&&$.length>0&&s.jsxs("div",{className:`sm:hidden bg-white border-b border-gray-200 py-2 px-4 mx-4 rounded-xl backdrop-blur-md mt-0.5 absolute top-[60px] left-0 right-0 z-20 shadow-xl ${p?"animate-fade-out":"animate-fade-in"}`,children:[" ",O?s.jsxs("div",{className:"flex items-center gap-2 py-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Chargement des conversations..."})]}):s.jsx("div",{className:"flex flex-col gap-1",children:$.map(ye=>s.jsx("div",{onClick:()=>{U(ye.id),g(!0),setTimeout(()=>{m(!1),g(!1)},300)},className:"py-2 px-3 rounded-md hover:bg-[#F3F4F6] cursor-pointer",children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("span",{className:"truncate flex-1 min-w-0",children:ye.title}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-auto pl-4",children:new Date(ye.updatedAt).toLocaleDateString("fr-FR")})]})},ye.id))})]}),R&&Se.length>0?s.jsxs("div",{className:"w-full flex flex-col flex-1 overflow-hidden px-4",children:[s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide pb-[160px] md:pb-[200px]",children:s.jsx(hne,{messages:Se,isLoading:z,streamingMessageId:I,streamingText:M,onCopyMessage:le,onRegenerateResponse:Ie,isStreaming:!!I})}),s.jsxs("div",{className:"fixed md:absolute bottom-[100px] md:bottom-[40px] inset-x-0 px-2 md:px-0 bg-[#F8F6F1]/80 backdrop-blur-md z-10",children:[" ",s.jsx("div",{className:"w-full mx-auto",children:oe?s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex items-center gap-[7px]",children:s.jsx("div",{className:"flex-1",children:s.jsx(Gh,{inputMessage:n,placeholder:"Répondre à Aurentia...",isLoading:z||d,isSubmitting:P,communicationStyle:w,selectedDeliverables:j,selectedSearchModes:N,deliverableOptions:se,searchModeOptions:ce,deliverableNames:C,onInputChange:ve,onKeyPress:ee,onSendMessage:te,onCommunicationStyleChange:b,onSelectedDeliverablesChange:_,onSelectedSearchModesChange:S,onReformQuestion:ue,projectId:T||"",projectStatus:ge,isMobileChatOptionsOpen:y,setIsMobileChatOptionsOpen:v})})})}):s.jsx(Gh,{inputMessage:n,placeholder:"Répondre à Aurentia...",isLoading:z||d,isSubmitting:P,communicationStyle:w,selectedDeliverables:j,selectedSearchModes:N,deliverableOptions:se,searchModeOptions:ce,deliverableNames:C,onInputChange:ve,onKeyPress:ee,onSendMessage:te,onCommunicationStyleChange:b,onSelectedDeliverablesChange:_,onSelectedSearchModesChange:S,onReformQuestion:ue,projectId:T||"",projectStatus:ge,isMobileChatOptionsOpen:y,setIsMobileChatOptionsOpen:v})})]})]}):s.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide flex flex-col items-center justify-center px-3 sm:px-4 py-1 sm:py-8 pb-[160px] md:pb-[200px]",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0 mb-4",children:s.jsx(ff,{className:"w-12 h-12 text-white"})}),s.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 text-center",children:["Bonjour, une question pour ",ne," ?"]})]}),s.jsx("div",{className:"w-full text-center space-y-6 sm:space-y-8 px-4",children:s.jsx(Wre,{prompts:ae,onPromptSelect:Le})})]}),s.jsx("div",{className:"fixed md:absolute bottom-[100px] md:bottom-[10px] inset-x-0 px-2 md:px-0 bg-[#F8F6F1]/80 backdrop-blur-md z-10",children:s.jsx("div",{className:"w-full mx-auto",children:oe?s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex items-center gap-[7px]",children:s.jsx("div",{className:"flex-1",children:s.jsx(Gh,{inputMessage:n,placeholder:"Répondre à Aurentia...",isLoading:z||d,isSubmitting:P,communicationStyle:w,selectedDeliverables:j,selectedSearchModes:N,deliverableOptions:se,searchModeOptions:ce,deliverableNames:C,onInputChange:ve,onKeyPress:ee,onSendMessage:te,onCommunicationStyleChange:b,onSelectedDeliverablesChange:_,onSelectedSearchModesChange:S,onReformQuestion:ue,projectId:T||"",projectStatus:ge,isMobileChatOptionsOpen:y,setIsMobileChatOptionsOpen:v})})})}):s.jsx(Gh,{inputMessage:n,placeholder:"Répondre à Aurentia...",isLoading:z||d,isSubmitting:P,communicationStyle:w,selectedDeliverables:j,selectedSearchModes:N,deliverableOptions:se,searchModeOptions:ce,deliverableNames:C,onInputChange:ve,onKeyPress:ee,onSendMessage:te,onCommunicationStyleChange:b,onSelectedDeliverablesChange:_,onSelectedSearchModesChange:S,onReformQuestion:ue,projectId:T||"",projectStatus:ge})})})]})]}),s.jsx(Gre,{isRenameDialogOpen:i,setIsRenameDialogOpen:a,tempConversationName:o,setTempConversationName:l,onSaveRename:Pe,onCancelRename:Ae,isDeleteDialogOpen:c,setIsDeleteDialogOpen:u,onConfirmDelete:W,onCancelDelete:_e})]})}):s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)] animate-popup-appear",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 text-center bg-white p-8 rounded-lg shadow-lg max-w-lg w-[90vw]",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Que l'aventure commence !"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Créez un nouveau projet pour découvrir tout le potentiel de votre idée."}),s.jsx(H,{onClick:()=>t("/individual/warning"),className:"mt-4 px-4 py-2 rounded-lg bg-gradient-primary hover:from-blue-600 hover:to-purple-700 text-white text-lg font-semibold shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105",children:"Créer un nouveau projet"})]})})};var n4="Radio",[d8e,Kre]=sr(n4),[f8e,h8e]=d8e(n4),Yre=x.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=x.useState(null),m=it(t,y=>h(y)),p=x.useRef(!1),g=f?u||!!f.closest("form"):!0;return s.jsxs(f8e,{scope:n,checked:i,disabled:o,children:[s.jsx($e.button,{type:"button",role:"radio","aria-checked":i,"data-state":Zre(i),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:Te(e.onClick,y=>{i||c==null||c(),g&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})}),g&&s.jsx(Jre,{control:f,bubbles:!p.current,name:r,value:l,checked:i,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Yre.displayName=n4;var Xre="RadioIndicator",Qre=x.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,a=h8e(Xre,n);return s.jsx(vs,{present:r||a.checked,children:s.jsx($e.span,{"data-state":Zre(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});Qre.displayName=Xre;var m8e="RadioBubbleInput",Jre=x.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=x.useRef(null),l=it(o,a),c=ub(n),u=Gy(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const p=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(p)}},[c,n,r]),s.jsx($e.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Jre.displayName=m8e;function Zre(e){return e?"checked":"unchecked"}var p8e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jS="RadioGroup",[g8e]=sr(jS,[Fu,Kre]),ese=Fu(),tse=Kre(),[x8e,v8e]=g8e(jS),nse=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=ese(n),p=Iu(u),[g,y]=Or({prop:a,defaultProp:i??null,onChange:f,caller:jS});return s.jsx(x8e,{scope:n,name:r,required:o,disabled:l,value:g,onValueChange:y,children:s.jsx($1,{asChild:!0,...m,orientation:c,dir:p,loop:d,children:s.jsx($e.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...h,ref:t})})})});nse.displayName=jS;var rse="RadioGroupItem",sse=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,a=v8e(rse,n),o=a.disabled||r,l=ese(n),c=tse(n),u=x.useRef(null),d=it(t,u),f=a.value===i.value,h=x.useRef(!1);return x.useEffect(()=>{const m=g=>{p8e.includes(g.key)&&(h.current=!0)},p=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",p)}},[]),s.jsx(F1,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(Yre,{disabled:o,required:a.required,checked:f,...c,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:Te(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Te(i.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});sse.displayName=rse;var y8e="RadioGroupIndicator",ise=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=tse(n);return s.jsx(Qre,{...i,...r,ref:t})});ise.displayName=y8e;var ase=nse,ose=sse,b8e=ise;const mP=x.forwardRef(({className:e,...t},n)=>s.jsx(ase,{className:de("grid gap-2",e),...t,ref:n}));mP.displayName=ase.displayName;const cd=x.forwardRef(({className:e,...t},n)=>s.jsx(ose,{ref:n,className:de("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(b8e,{className:"flex items-center justify-center",children:s.jsx(w7,{className:"h-2.5 w-2.5 fill-current text-current"})})}));cd.displayName=ose.displayName;const w8e=({teamMembers:e,onTeamMemberChange:t,onAddTeamMember:n,onRemoveTeamMember:r})=>{const i=(o,l)=>{t(o,"role",[l])},a=o=>o.role&&o.role.length>0?o.role[0]:"";return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-3 bg-gray-50 border-b border-gray-200",children:[s.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-sm font-medium text-gray-700",children:[s.jsx(et,{className:"h-4 w-4 text-blue-500"}),"Nom"]}),s.jsxs("div",{className:"col-span-6 flex items-center gap-2 text-sm font-medium text-gray-700",children:[s.jsx(lD,{className:"h-4 w-4 text-purple-500"}),"Rôle"]}),s.jsxs("div",{className:"col-span-3 flex items-center gap-2 text-sm font-medium text-gray-700",children:[s.jsx(Yt,{className:"h-4 w-4 text-green-500"}),"Disponibilité"]}),s.jsx("div",{className:"col-span-1"})]}),e.map((o,l)=>s.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-4 items-stretch border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"col-span-2 flex items-center",children:s.jsx(at,{value:o.person,onChange:c=>t(l,"person",c.target.value),placeholder:"Nom",className:"w-full border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 min-h-[40px] resize-none",rows:1,style:{height:"auto",minHeight:"40px"},onInput:c=>{const u=c.target;u.style.height="auto",u.style.height=`${u.scrollHeight}px`}})}),s.jsx("div",{className:"col-span-6",children:s.jsx(at,{value:a(o),onChange:c=>i(l,c.target.value),placeholder:"Ex: S'occupe du développement commercial et de la création du site web, la publication sur les réseaux sociaux etc...",className:"w-full border-gray-300 focus:border-purple-500 focus:ring-1 focus:ring-purple-200 min-h-[40px] resize-none",rows:1,style:{height:"auto",minHeight:"40px"},onInput:c=>{const u=c.target;u.style.height="auto",u.style.height=`${u.scrollHeight}px`}})}),s.jsx("div",{className:"col-span-3 flex items-center",children:s.jsx(at,{value:o.timeAvailable,onChange:c=>t(l,"timeAvailable",c.target.value),placeholder:"Ex: 20h/semaine",className:"w-full border-gray-300 focus:border-green-500 focus:ring-1 focus:ring-green-200 min-h-[40px] resize-none",rows:1,style:{height:"auto",minHeight:"40px"},onInput:c=>{const u=c.target;u.style.height="auto",u.style.height=`${u.scrollHeight}px`}})}),s.jsx("div",{className:"col-span-1 flex justify-center items-center",children:e.length>1&&s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>r(l),className:"h-8 w-8 p-0 text-gray-400 hover:text-red-500 hover:bg-red-50",children:s.jsx(tn,{className:"h-4 w-4"})})})]},l)),s.jsx("div",{className:"px-4 py-4 bg-gray-50/50 border-t border-gray-200",children:s.jsxs(H,{onClick:n,variant:"outline",className:"w-full flex items-center justify-center gap-2 py-3 border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 text-gray-600 hover:text-blue-600 transition-all duration-200",children:[s.jsx(In,{className:"h-4 w-4"}),"Ajouter une personne"]})})]})}),s.jsxs("div",{className:"md:hidden space-y-4",children:[e.map((o,l)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:s.jsx(et,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("span",{className:"font-medium text-gray-800",children:["Membre ",l+1]})]}),e.length>1&&s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>r(l),className:"h-8 w-8 p-0 text-gray-400 hover:text-red-500 hover:bg-red-50",children:s.jsx(tn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),s.jsx(at,{value:o.person,onChange:c=>t(l,"person",c.target.value),placeholder:"Nom",className:"w-full border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 min-h-[40px] resize-none",rows:1,style:{height:"auto",minHeight:"40px"},onInput:c=>{const u=c.target;u.style.height="auto",u.style.height=`${u.scrollHeight}px`}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rôle"}),s.jsx(at,{value:a(o),onChange:c=>i(l,c.target.value),placeholder:"Ex: S'occupe de développement commercial et de la création du site web, la publication sur les réseaux sociaux etc...",className:"w-full border-gray-300 focus:border-purple-500 focus:ring-1 focus:ring-purple-200 min-h-[40px] resize-none",rows:1,style:{height:"auto",minHeight:"40px"},onInput:c=>{const u=c.target;u.style.height="auto",u.style.height=`${u.scrollHeight}px`}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilité"}),s.jsx(at,{value:o.timeAvailable,onChange:c=>t(l,"timeAvailable",c.target.value),placeholder:"Ex: 20h/semaine",className:"w-full border-gray-300 focus:border-green-500 focus:ring-1 focus:ring-green-200 min-h-[40px] resize-none",rows:1,style:{height:"auto",minHeight:"40px"},onInput:c=>{const u=c.target;u.style.height="auto",u.style.height=`${u.scrollHeight}px`}})]})]})]},l)),s.jsxs(H,{onClick:n,variant:"outline",className:"w-full flex items-center justify-center gap-2 py-3 border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 text-gray-600 hover:text-blue-600 transition-all duration-200",children:[s.jsx(In,{className:"h-4 w-4"}),"Ajouter une personne"]})]})]})},j8e=e=>{const[t,n]=x.useState({userResponses:null,classificationProjet:null,phases:[],jalons:[],taches:[],livrables:[],hierarchicalData:[]}),[r,i]=x.useState(!1),[a,o]=x.useState(null),l=(u,d,f)=>{const h=[];return u.forEach(m=>{h.push({id:m.id,element_id:m.phase_id,type:"phase",level:0,nom:m.nom_phase,objectif_principal:m.objectif_principal||"",duree:m.duree_mois||"",periode:m.periode||"",statut:m.statut,criticite:null,responsable:null,parent_phase:null,parent_jalon:null,sort_primary:m.ordre_execution,sort_secondary:0,sort_tertiary:0,focus_sectoriel:m.focus_sectoriel,budget_minimum:m.budget_minimum,budget_optimal:m.budget_optimal,livrables_majeurs:m.livrables_majeurs,ressources_cles:m.ressources_cles,risques_phase:m.risques_phase,created_at:m.created_at,updated_at:m.updated_at}),d.filter(p=>p.phase_parent_id===m.phase_id).forEach(p=>{h.push({id:p.id,element_id:p.jalon_id,type:"jalon",level:1,nom:p.jalon_nom,objectif_principal:p.condition_validation||"",duree:p.semaine||"",periode:p.semaine_cible||"",statut:p.statut,criticite:p.criticite,responsable:p.responsable_validation,parent_phase:p.phase_parent_id,parent_jalon:null,sort_primary:m.ordre_execution,sort_secondary:p.jalon_index,sort_tertiary:0,impact_si_echec:p.impact_si_echec,created_at:p.created_at,updated_at:p.updated_at}),f.filter(g=>g.jalon_parent_id===p.jalon_id).forEach(g=>{h.push({id:g.id,element_id:g.tache_id,type:"tache",level:2,nom:g.nom_tache,objectif_principal:g.description_detaillee||"",duree:g.duree_estimee||"",periode:g.priorite||"",statut:g.statut,criticite:g.priorite,responsable:Array.isArray(g.responsables)?g.responsables.join(", "):"",parent_phase:g.phase_parent_id,parent_jalon:g.jalon_parent_id,sort_primary:m.ordre_execution,sort_secondary:p.jalon_index,sort_tertiary:g.ordre_execution,criteres_validation:g.criteres_validation,dependances_taches:g.dependances_taches,outils_necessaires:g.outils_necessaires,recommandations_pratiques:g.recommandations_pratiques,created_at:g.created_at,updated_at:g.updated_at})})})}),f.filter(m=>!m.jalon_parent_id).forEach(m=>{const p=u.find(g=>g.phase_id===m.phase_parent_id);p&&h.push({id:m.id,element_id:m.tache_id,type:"tache",level:1,nom:m.nom_tache,objectif_principal:m.description_detaillee||"",duree:m.duree_estimee||"",periode:m.priorite||"",statut:m.statut,criticite:m.priorite,responsable:Array.isArray(m.responsables)?m.responsables.join(", "):"",parent_phase:m.phase_parent_id,parent_jalon:null,sort_primary:p.ordre_execution,sort_secondary:m.ordre_execution,sort_tertiary:0,criteres_validation:m.criteres_validation,dependances_taches:m.dependances_taches,outils_necessaires:m.outils_necessaires,recommandations_pratiques:m.recommandations_pratiques,created_at:m.created_at,updated_at:m.updated_at})}),h.sort((m,p)=>m.sort_primary!==p.sort_primary?m.sort_primary-p.sort_primary:m.sort_secondary!==p.sort_secondary?m.sort_secondary-p.sort_secondary:m.sort_tertiary-p.sort_tertiary)},c=async()=>{if(e)try{i(!0),o(null),console.log("🔍 Récupération des données via RPC pour le projet:",e);const{data:u,error:d}=await q.rpc("get_action_plan_user_responses",{project_uuid:e});if(d)throw console.error("❌ Erreur user_responses:",d),d;const f=(u==null?void 0:u[0])||null;console.log("✅ User responses récupérées:",!!f);const{data:h,error:m}=await q.rpc("get_action_plan_classification",{project_uuid:e});if(m)throw console.error("❌ Erreur classification:",m),m;const p=(h==null?void 0:h[0])||null;console.log("✅ Classification récupérée:",!!p);const{data:g,error:y}=await q.rpc("get_action_plan_phases",{project_uuid:e});if(y)throw console.error("❌ Erreur phases:",y),y;console.log("✅ Phases récupérées:",(g==null?void 0:g.length)||0);const{data:v,error:w}=await q.rpc("get_action_plan_jalons",{project_uuid:e});if(w)throw console.error("❌ Erreur jalons:",w),w;console.log("✅ Jalons récupérés:",(v==null?void 0:v.length)||0);const{data:b,error:j}=await q.rpc("get_action_plan_taches",{project_uuid:e});if(j)throw console.error("❌ Erreur tâches:",j),j;console.log("✅ Tâches récupérées:",(b==null?void 0:b.length)||0);const{data:_,error:N}=await q.rpc("get_action_plan_livrables",{project_uuid:e});if(N)throw console.error("❌ Erreur livrables:",N),N;console.log("✅ Livrables récupérés:",(_==null?void 0:_.length)||0);const S=(_||[]).map(k=>{const A=g==null?void 0:g.find(E=>E.phase_id===k.phase_parent_id),T=b==null?void 0:b.find(E=>E.tache_id===k.tache_parent_id);return{...k,nom_phase:(A==null?void 0:A.nom_phase)||null,nom_tache:(T==null?void 0:T.nom_tache)||null}}),C=l(g||[],v||[],b||[]);console.log("🎯 Données finales construites via RPC:",{userResponses:!!f,classificationProjet:!!p,phases:(g==null?void 0:g.length)||0,jalons:(v==null?void 0:v.length)||0,taches:(b==null?void 0:b.length)||0,livrables:(S==null?void 0:S.length)||0,hierarchicalData:(C==null?void 0:C.length)||0}),n({userResponses:f,classificationProjet:p,phases:g||[],jalons:v||[],taches:b||[],livrables:S||[],hierarchicalData:C})}catch(u){console.error("💥 Erreur complète:",u),o(`Erreur de chargement: ${u.message||"Erreur inconnue"}`)}finally{i(!1)}};return x.useEffect(()=>{e&&c()},[e]),{data:t,isLoading:r,error:a,refetch:c}},_8e=({userResponses:e,classificationProjet:t})=>{const[n,r]=x.useState("contexte-planning"),[i,a]=x.useState(!1),o=x.useRef(null),l=p=>{p===n||i||(a(!0),setTimeout(()=>{r(p),setTimeout(()=>{a(!1)},60)},100))};if(!e&&!t)return null;const c=p=>{try{return new Date(p).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return p}},u=p=>{try{const g=JSON.parse(p);return Array.isArray(g)?g:[]}catch{return[]}},d=p=>{try{const g=JSON.parse(p);return Array.isArray(g)?g:[]}catch{return[]}},f=p=>{switch(p){case"econome":return"Économe (solutions pas chères)";case"equilibre":return"Équilibré (investir quand utile)";case"ambitieux":return"Ambitieux (investir pour aller plus vite)";default:return p}},h=p=>{switch(p){case"pas_presse":return"Pas pressé";case"rythme_normal":return"Rythme normal";case"assez_urgent":return"Assez urgent";case"tres_urgent":return"Très urgent";default:return p}},m=p=>{switch(p){case"tout_preparer":return"Tout préparer (lancer quand c'est parfait)";case"tester_rapidement":return"Tester rapidement (lancer vite et améliorer)";case"suivre_chiffres":return"Suivre les chiffres (décider avec les données)";default:return p}};return s.jsx("div",{className:"bg-white border-0 shadow-md p-4 rounded-lg",children:s.jsx(di,{type:"single",collapsible:!0,className:"w-full",children:s.jsxs(vn,{value:"classification",className:"border-b-0",children:[s.jsx(yn,{className:"text-lg font-semibold hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-5 w-5"}),"Classification du projet"]})}),s.jsxs(bn,{children:[s.jsxs("div",{className:"flex bg-white border-b border-gray-100 mb-6",children:[s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 ${n==="contexte-planning"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>l("contexte-planning"),children:"Contexte & Planning"}),s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 ${n==="analyse-strategique"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>l("analyse-strategique"),children:"Analyse stratégique"})]}),s.jsxs("div",{ref:o,className:`transition-all duration-300 ${i?"opacity-0 blur-sm transform translate-y-2":"opacity-100 blur-0 transform translate-y-0"}`,children:[n==="contexte-planning"&&s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-2",children:[s.jsxs(re,{className:"border-blue-200",style:{backgroundColor:"#F3F4F6"},children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2 text-blue-800",children:[s.jsx(et,{className:"h-5 w-5"}),"Contexte Projet"]}),s.jsx(Xe,{children:"Équipe et approche budgétaire"})]}),s.jsxs(ie,{className:"space-y-4",children:[(e==null?void 0:e.budget)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(cf,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-sm",children:"Budget disponible"})]}),s.jsx(Ce,{variant:"outline",className:"bg-white/80",children:e.budget})]}),(e==null?void 0:e.type_investissement)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zr,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-sm",children:"Style d'investissement"})]}),s.jsx(Ce,{variant:"outline",className:"bg-white/80",children:f(e.type_investissement)})]}),(e==null?void 0:e.roles)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(et,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-sm",children:"Équipe"})]}),s.jsx("div",{className:"bg-white/80 rounded p-3 text-sm whitespace-pre-line",children:e.roles})]})]})]}),s.jsxs(re,{className:"border-orange-200",style:{backgroundColor:"#F3F4F6"},children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2 text-orange-800",children:[s.jsx(Wt,{className:"h-5 w-5"}),"Planning & Urgence"]}),s.jsx(Xe,{children:"Échéances et contraintes temporelles"})]}),s.jsxs(ie,{className:"space-y-4",children:[(e==null?void 0:e.date_lancement_prevu)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-sm",children:"Date de lancement souhaitée"})]}),s.jsx(Ce,{variant:"outline",className:"bg-white/80",children:c(e.date_lancement_prevu)})]}),(e==null?void 0:e.urgence_lancement)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Hr,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-sm",children:"Niveau d'urgence"})]}),s.jsx(Ce,{variant:"outline",className:"bg-white/80",children:h(e.urgence_lancement)})]}),(e==null?void 0:e.ressources_disponibles)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(zr,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-sm",children:"Ressources disponibles"})]}),s.jsx("div",{className:"bg-white/80 rounded p-3 text-sm",children:e.ressources_disponibles})]})]})]}),s.jsxs(re,{className:"border-purple-200",style:{backgroundColor:"#F3F4F6"},children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2 text-purple-800",children:[s.jsx(mi,{className:"h-5 w-5"}),"Style de Travail"]}),s.jsx(Xe,{children:"Approche et tolérance au risque"})]}),s.jsxs(ie,{className:"space-y-4",children:[(e==null?void 0:e.prise_de_risque)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(mi,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-sm",children:"Prise de risque"})]}),s.jsx(Ce,{variant:"outline",className:"bg-white/80",children:e.prise_de_risque})]}),(e==null?void 0:e.preference_avancement)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(zr,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-sm",children:"Méthode préférée"})]}),s.jsx("div",{className:"bg-white/80 rounded p-3 text-sm",children:m(e.preference_avancement)})]})]})]})]}),n==="analyse-strategique"&&s.jsxs("div",{className:"space-y-6 w-full",children:[(t==null?void 0:t.enjeux_strategiques)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Enjeux stratégiques"}),s.jsx("div",{className:"md:hidden space-y-3",children:u(t.enjeux_strategiques).map((p,g)=>s.jsxs(re,{className:`border shadow-sm ${p.criticite==="Critique"?"border-red-300":p.criticite==="Important"?"border-orange-300":"border-gray-300"}`,children:[s.jsx(pe,{className:"pb-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{variant:"outline",className:`text-xs ${p.criticite==="Critique"?"border-red-300 bg-red-50 text-red-700":p.criticite==="Important"?"border-orange-300 bg-orange-50 text-orange-700":"border-gray-300 bg-gray-50 text-gray-700"}`,children:p.criticite}),s.jsx(me,{className:"text-sm font-bold text-black",children:p.enjeu})]})}),s.jsx(ie,{className:"pt-0",children:s.jsx("p",{className:"text-sm text-gray-600",children:p.impact_plan_action})})]},g))}),s.jsx("div",{className:"hidden md:block bg-white/80 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 border-b",children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Titre"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Description"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Niveau"})]})}),s.jsx("tbody",{children:u(t.enjeux_strategiques).map((p,g)=>s.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:p.enjeu}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:p.impact_plan_action}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Ce,{variant:"outline",className:`text-xs ${p.criticite==="Critique"?"border-red-300 bg-red-50 text-red-700":p.criticite==="Important"?"border-orange-300 bg-orange-50 text-orange-700":"border-gray-300 bg-gray-50 text-gray-700"}`,children:p.criticite})})]},g))})]})})]}),(t==null?void 0:t.opportunites_principales)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Opportunités principales"}),s.jsx("div",{className:"bg-white/80 rounded p-4",children:s.jsx("ul",{className:"space-y-2",children:d(t.opportunites_principales).map((p,g)=>s.jsxs("li",{className:"text-sm flex items-start",children:[s.jsx("span",{className:"text-gray-500 mr-2",children:"•"}),s.jsx("span",{className:"text-gray-700",children:p})]},g))})})]}),(t==null?void 0:t.contraintes_principales)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Contraintes principales"}),s.jsx("div",{className:"bg-white/80 rounded p-4",children:s.jsx("ul",{className:"space-y-2",children:d(t.contraintes_principales).map((p,g)=>s.jsxs("li",{className:"text-sm flex items-start",children:[s.jsx("span",{className:"text-gray-500 mr-2",children:"•"}),s.jsx("span",{className:"text-gray-700",children:p})]},g))})})]})]})]})]})]})})})},N8e=({type:e,value:t,className:n="",elementId:r,onStatusChange:i})=>{const l=e==="status"?(d=>{switch(d==null?void 0:d.toLowerCase()){case"à faire":case"a faire":return{label:"À faire",className:"bg-gray-100 text-gray-800 hover:bg-gray-200 border-gray-200",icon:Yt};case"en cours":return{label:"En cours",className:"bg-blue-100 text-blue-800 hover:bg-blue-200 border-blue-200",icon:u1};case"terminé":case"termine":return{label:"Terminé",className:"bg-green-100 text-green-800 hover:bg-green-200 border-green-200",icon:Gt};default:return{label:d||"Inconnu",className:"bg-gray-100 text-gray-800 hover:bg-gray-200 border-gray-200",icon:ZC}}})(t):(d=>{switch(d==null?void 0:d.toLowerCase()){case"critique":case"bloquante":case"élevée":case"elevee":return{label:d,className:"bg-red-100 text-red-800 hover:bg-red-200 border-red-200",icon:hf};case"important":case"importante":case"moyenne":return{label:d,className:"bg-orange-100 text-orange-800 hover:bg-orange-200 border-orange-200",icon:ts};case"normal":case"normale":case"modérée":case"moderee":case"faible":return{label:d,className:"bg-gray-100 text-gray-800 hover:bg-gray-200 border-gray-200",icon:ZC};default:return{label:d||"Non défini",className:"bg-gray-100 text-gray-800 hover:bg-gray-200 border-gray-200",icon:ZC}}})(t),c=l.icon;if(!t)return null;const u=["À faire","En cours","Terminé"];return e==="status"&&r&&i?s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsxs(Ce,{variant:"outline",className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium transition-colors border ${l.className} ${n} cursor-pointer`,children:[s.jsx(c,{size:12,className:"flex-shrink-0"}),s.jsx("span",{className:"truncate",children:l.label})]})}),s.jsx(ds,{children:u.map(d=>s.jsx(mr,{onClick:f=>{f.stopPropagation(),console.log(`DropdownMenuItem clicked: ${d} for element ${r}`),i==null||i(r,d)},children:d},d))})]}):s.jsxs(Ce,{variant:"outline",className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium transition-colors border ${l.className} ${n}`,children:[s.jsx(c,{size:12,className:"flex-shrink-0"}),s.jsx("span",{className:"truncate",children:l.label})]})},S8e=({livrables:e})=>{if(!e||e.length===0)return s.jsx("div",{className:"bg-white border-0 shadow-md p-4 rounded-lg",children:s.jsx(di,{type:"single",collapsible:!0,className:"w-full",children:s.jsxs(vn,{value:"livrables",className:"border-b-0",children:[s.jsx(yn,{className:"text-lg font-semibold hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dw,{className:"h-5 w-5"}),"Livrables (",0,")"]})}),s.jsx(bn,{children:s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Dw,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Aucun livrable défini pour ce projet"})]})})]})})});const t=r=>{try{return new Date(r).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"})}catch{return r}},n=r=>{if(Array.isArray(r))return r;if(typeof r=="string")try{const i=JSON.parse(r);return Array.isArray(i)?i:[r]}catch{return[r]}return[]};return s.jsx("div",{className:"bg-white border-0 shadow-md p-4 rounded-lg",children:s.jsx(di,{type:"single",collapsible:!0,className:"w-full",children:s.jsxs(vn,{value:"livrables",className:"border-b-0",children:[s.jsx(yn,{className:"text-lg font-semibold hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dw,{className:"h-5 w-5"}),"Livrables (",e.length,")"]})}),s.jsx(bn,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(r=>s.jsxs(re,{className:"border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx(pe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(me,{className:"text-base font-semibold text-gray-900 leading-tight",children:r.livrable_nom}),s.jsx(Xe,{className:"text-xs text-gray-500 mt-1",children:r.livrable_id})]}),s.jsx(N8e,{type:"status",value:r.statut})]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[r.nom_phase&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),s.jsx("span",{className:"text-gray-600 font-medium",children:r.nom_phase})]}),r.nom_tache&&s.jsxs("div",{className:"flex items-center gap-2 text-sm ml-4",children:[s.jsx(xl,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{className:"text-gray-500",children:r.nom_tache})]})]}),r.format_attendu&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(sn,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Format"})]}),s.jsx(Ce,{variant:"outline",className:"text-xs bg-gray-50",children:r.format_attendu})]}),r.criteres_qualite&&n(r.criteres_qualite).length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Mj,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Critères qualité"})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:n(r.criteres_qualite).map((i,a)=>s.jsx(Ce,{variant:"outline",className:"text-xs bg-green-50 border-green-200 text-green-700",children:i},a))})]}),r.validateur&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Mp,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Validateur"})]}),s.jsx(Ce,{variant:"outline",className:"text-xs bg-purple-50 border-purple-200 text-purple-700",children:r.validateur})]}),s.jsx("div",{className:"border-t pt-3 mt-4",children:s.jsx("div",{className:"flex items-center justify-between text-xs text-gray-400",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Wt,{className:"h-3 w-3"}),s.jsxs("span",{children:["Créé le ",t(r.created_at)]})]})})})]})]},r.id))})})]})})})},C8e=`
  .table-column-tache { width: 430px; min-width: 430px; max-width: 430px; }
  .table-column-statut { width: 160px; min-width: 160px; max-width: 160px; }
  .table-column-responsable { width: 210px; min-width: 210px; max-width: 210px; }
  .table-column-duree { width: 80px; min-width: 80px; max-width: 80px; }
`,E8e=({status:e})=>{const t=n=>{switch(n){case"Terminé":return"bg-green-50 text-green-700 border-green-200";case"En cours":return"bg-blue-50 text-blue-700 border-blue-200";case"À faire":return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${t(e)}`,children:e})},Hz=({currentStatus:e,taskId:t,onStatusChange:n})=>{const r=["À faire","En cours","Terminé"];return s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsx("button",{className:"inline-flex cursor-pointer",children:s.jsx(E8e,{status:e})})}),s.jsx(ds,{align:"start",children:r.map(i=>s.jsx(mr,{onClick:()=>n(t,i),className:e===i?"bg-gray-100":"",children:i},i))})]})},Wz=({responsable:e})=>{if(!e)return null;const t=n=>{const r=["bg-blue-50 text-blue-700 border-blue-200","bg-green-50 text-green-700 border-green-200","bg-purple-50 text-purple-700 border-purple-200","bg-orange-50 text-orange-700 border-orange-200","bg-pink-50 text-pink-700 border-pink-200","bg-indigo-50 text-indigo-700 border-indigo-200","bg-teal-50 text-teal-700 border-teal-200","bg-red-50 text-red-700 border-red-200"];let i=0;for(let a=0;a<n.length;a++)i=n.charCodeAt(a)+((i<<5)-i);return r[Math.abs(i)%r.length]};return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border whitespace-nowrap ${t(e)}`,children:e})},k8e=({hierarchicalData:e,onElementClick:t,onEdit:n,onDelete:r})=>{const[i,a]=x.useState(new Set),[o,l]=x.useState(new Set),[c,u]=x.useState(""),[d,f]=x.useState({status:"",type:""}),[h,m]=x.useState({}),p=j=>{const _=new Set(i);if(_.has(j))_.delete(j),e.filter(S=>S.type==="jalon"&&S.parent_phase===j).map(S=>S.element_id).forEach(S=>o.delete(S)),l(new Set(o));else{_.add(j);const N=e.filter(C=>C.type==="jalon"&&C.parent_phase===j).map(C=>C.element_id),S=new Set(o);N.forEach(C=>S.add(C)),l(S)}a(_)},g=j=>{const _=new Set(o);_.has(j)?_.delete(j):_.add(j),l(_)},y=(j,_)=>{if(n){const N=e.find(S=>S.element_id===j);N&&n({...N,statut:_})}else m(N=>({...N,[j]:_}))},v=j=>h[j.element_id]||j.statut,w=x.useMemo(()=>{const j=e.filter(S=>S.type==="phase"),_=e.filter(S=>S.type==="jalon"),N=e.filter(S=>S.type==="tache");return j.map(S=>{const C=S.nom.toLowerCase().includes(c.toLowerCase())||S.objectif_principal&&S.objectif_principal.toLowerCase().includes(c.toLowerCase()),k=!d.status||S.statut===d.status,A=!d.type||d.type==="phase",T=_.filter(z=>z.parent_phase===S.element_id),E=N.filter(z=>z.parent_phase===S.element_id),R=T.filter(z=>{const P=z.nom.toLowerCase().includes(c.toLowerCase())||z.objectif_principal&&z.objectif_principal.toLowerCase().includes(c.toLowerCase()),I=!d.status||z.statut===d.status,M=!d.type||d.type==="jalon";return P&&I&&M}),$=E.filter(z=>{const P=z.nom.toLowerCase().includes(c.toLowerCase())||z.objectif_principal&&z.objectif_principal.toLowerCase().includes(c.toLowerCase()),I=!d.status||z.statut===d.status,M=!d.type||d.type==="tache";return P&&I&&M}),O=C&&k&&A,F=R.length>0||$.length>0;return{phase:S,jalons:R,taches:$,isVisible:O||F,isExpanded:i.has(S.element_id)}}).filter(S=>S.isVisible)},[e,c,d,i]),b={total:e.length,phases:e.filter(j=>j.type==="phase").length,jalons:e.filter(j=>j.type==="jalon").length,taches:e.filter(j=>j.type==="tache").length,aFaire:e.filter(j=>j.type==="tache"&&j.statut==="À faire").length,enCours:e.filter(j=>j.type==="tache"&&j.statut==="En cours").length,termine:e.filter(j=>j.type==="tache"&&j.statut==="Terminé").length};return!e||e.length===0?s.jsxs(re,{className:"w-full",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(JC,{className:"h-5 w-5"}),"Plan d'action hiérarchique"]}),s.jsx(Xe,{children:"Structure détaillée des phases, jalons et tâches"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(JC,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),s.jsx("p",{children:"Aucune donnée hiérarchique disponible"})]})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("style",{children:C8e}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Plan d'action hiérarchique"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gérez vos phases, jalons et tâches"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Rechercher...",value:c,onChange:j=>u(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx(rr,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),s.jsxs("select",{value:d.status,onChange:j=>f(_=>({..._,status:j.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),s.jsx("option",{value:"À faire",children:"À faire"}),s.jsx("option",{value:"En cours",children:"En cours"}),s.jsx("option",{value:"Terminé",children:"Terminé"})]}),s.jsxs("select",{value:d.type,onChange:j=>f(_=>({..._,type:j.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Tous les types"}),s.jsx("option",{value:"phase",children:"Phases"}),s.jsx("option",{value:"jalon",children:"Jalons"}),s.jsx("option",{value:"tache",children:"Tâches"})]})]})]}),s.jsx("div",{className:"border-t border-gray-100 pt-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:b.phases}),s.jsx("div",{className:"text-xs text-gray-500",children:"Phases"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:b.jalons}),s.jsx("div",{className:"text-xs text-gray-500",children:"Jalons"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:b.taches}),s.jsx("div",{className:"text-xs text-gray-500",children:"Tâches"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-blue-600",children:b.aFaire}),s.jsx("div",{className:"text-xs text-gray-500",children:"À faire"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-orange-600",children:b.enCours}),s.jsx("div",{className:"text-xs text-gray-500",children:"En cours"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-green-600",children:b.termine}),s.jsx("div",{className:"text-xs text-gray-500",children:"Terminé"})]})]})})]})}),s.jsxs("div",{className:"space-y-4",children:[w.map(j=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg group",children:s.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>p(j.phase.element_id),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:s.jsx(Oi,{className:`w-4 h-4 text-gray-500 transform transition-transform ${j.isExpanded?"rotate-90":""}`})}),s.jsx(Ci,{className:"h-4 w-4 text-blue-600"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-base font-medium text-gray-900",children:j.phase.nom}),s.jsx("button",{onClick:()=>t==null?void 0:t(j.phase),className:"opacity-0 group-hover:opacity-100 transition-opacity px-2 py-1 text-xs border border-gray-300 bg-white text-black rounded hover:bg-gray-100",children:"Ouvrir"})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:j.phase.duree&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-md text-xs font-medium bg-gray-50 text-gray-700 border border-gray-200",children:[s.jsx(Yt,{className:"h-3 w-3 mr-1"}),j.phase.duree]})})]})})}),j.isExpanded&&s.jsxs("div",{className:"ml-6 space-y-3",children:[j.jalons.map(_=>{const N=j.taches.filter(C=>C.parent_jalon===_.element_id),S=o.has(_.element_id);return s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg group",children:[s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[N.length>0&&s.jsx("button",{onClick:()=>g(_.element_id),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:s.jsx(Oi,{className:`w-3 h-3 text-gray-500 transform transition-transform ${S?"rotate-90":""}`})}),s.jsx(j7,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:_.nom}),s.jsx("button",{onClick:()=>t==null?void 0:t(_),className:"opacity-0 group-hover:opacity-100 transition-opacity px-2 py-1 text-xs border border-gray-300 bg-white text-black rounded hover:bg-gray-100",children:"Ouvrir"})]})]})})}),S&&N.length>0&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-column-tache px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tâche"}),s.jsx("th",{className:"table-column-statut px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"table-column-responsable px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Responsable"}),s.jsx("th",{className:"table-column-duree px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durée"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:N.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group/row",children:[s.jsx("td",{className:"table-column-tache px-3 py-3",children:s.jsxs("div",{className:"flex items-center justify-between min-h-6",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(Fc,{className:"h-3 w-3 text-amber-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-900 truncate pr-2",children:C.nom})]}),s.jsx("button",{onClick:()=>t==null?void 0:t(C),className:"opacity-0 group-hover/row:opacity-100 transition-opacity px-2 py-1 text-xs border border-gray-300 bg-white text-black rounded hover:bg-gray-100 ml-2 flex-shrink-0",children:"Ouvrir"})]})}),s.jsx("td",{className:"table-column-statut px-3 py-3",children:s.jsx(Hz,{currentStatus:v(C),taskId:C.element_id,onStatusChange:y})}),s.jsx("td",{className:"table-column-responsable px-3 py-3",children:s.jsx("div",{className:"flex flex-wrap gap-1 min-h-6 items-center",children:C.responsable&&C.responsable.trim()?C.responsable.split(",").map((k,A)=>s.jsx(Wz,{responsable:k.trim()},A)):s.jsx("span",{className:"text-gray-400 text-xs",children:"Non assigné"})})}),s.jsx("td",{className:"table-column-duree px-3 py-3 text-center",children:C.duree&&s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Yt,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{className:"text-xs text-gray-600",children:C.duree})]})})]},C.id))})]})})]})},_.id)}),j.taches.filter(_=>!_.parent_jalon).length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[s.jsx("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-100",children:s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Tâches directes"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-column-tache px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tâche"}),s.jsx("th",{className:"table-column-statut px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"table-column-responsable px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Responsable"}),s.jsx("th",{className:"table-column-duree px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durée"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:j.taches.filter(_=>!_.parent_jalon).map(_=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group/row",children:[s.jsx("td",{className:"table-column-tache px-3 py-3",children:s.jsxs("div",{className:"flex items-center justify-between min-h-6",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(Fc,{className:"h-3 w-3 text-amber-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-900 truncate pr-2",children:_.nom})]}),s.jsx("button",{onClick:()=>t==null?void 0:t(_),className:"opacity-0 group-hover/row:opacity-100 transition-opacity px-2 py-1 text-xs border border-gray-300 bg-white text-black rounded hover:bg-gray-100 ml-2 flex-shrink-0",children:"Ouvrir"})]})}),s.jsx("td",{className:"table-column-statut px-3 py-3",children:s.jsx(Hz,{currentStatus:v(_),taskId:_.element_id,onStatusChange:y})}),s.jsx("td",{className:"table-column-responsable px-3 py-3",children:s.jsx("div",{className:"flex flex-wrap gap-1 min-h-6 items-center",children:_.responsable&&_.responsable.trim()?_.responsable.split(",").map((N,S)=>s.jsx(Wz,{responsable:N.trim()},S)):s.jsx("span",{className:"text-gray-400 text-xs",children:"Non assigné"})})}),s.jsx("td",{className:"table-column-duree px-3 py-3 text-center",children:_.duree&&s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Yt,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{className:"text-xs text-gray-600",children:_.duree})]})})]},_.id))})]})})]})]})]},j.phase.id)),w.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:[s.jsx(JC,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),s.jsx("p",{children:"Aucun élément ne correspond aux filtres appliqués"})]})]})]})},A8e=({element:e})=>{const t=r=>{try{return new Date(r).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return r}},n=r=>!Array.isArray(r)||r.length===0?[]:r.map(i=>typeof i=="string"?i:String(i));return s.jsxs("div",{className:"space-y-6 w-full mx-auto",children:[e.type==="tache"&&e.objectif_principal&&s.jsxs("div",{className:"mb-6",children:[" ",s.jsx("p",{className:"text-gray-700 text-[16px] whitespace-pre-line",children:e.objectif_principal})]}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Vy,{className:"h-4 w-4"}),"Informations générales"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.duree&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Durée"})]}),s.jsx("div",{className:"font-medium",children:e.duree})]}),e.periode&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx("span",{children:"Période"})]}),s.jsx("div",{className:"font-medium",children:e.periode})]}),e.responsable&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Mp,{className:"h-4 w-4"}),s.jsx("span",{children:"Responsable"})]}),s.jsx("div",{className:"font-medium",children:e.responsable})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx("span",{children:"Créé le"})]}),s.jsx("div",{className:"font-medium text-sm",children:t(e.created_at)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx("span",{children:"Modifié le"})]}),s.jsx("div",{className:"font-medium text-sm",children:t(e.updated_at)})]})]})})]}),e.type==="phase"&&s.jsxs(s.Fragment,{children:[(e.budget_minimum||e.budget_optimal)&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(cf,{className:"h-4 w-4"}),"Budget"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.budget_minimum&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Budget minimum"}),s.jsxs("div",{className:"text-lg font-bold text-green-600",children:[e.budget_minimum.toLocaleString(),"€"]})]}),e.budget_optimal&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Budget optimal"}),s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[e.budget_optimal.toLocaleString(),"€"]})]})]})})]}),e.focus_sectoriel&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(zr,{className:"h-4 w-4"}),"Focus sectoriel"]})}),s.jsx(ie,{children:s.jsx("p",{className:"text-gray-700 break-words",children:e.focus_sectoriel})})]}),e.livrables_majeurs&&n(e.livrables_majeurs).length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Dw,{className:"h-4 w-4"}),"Livrables majeurs"]})}),s.jsx(ie,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:n(e.livrables_majeurs).map((r,i)=>s.jsx(Ce,{variant:"outline",className:"bg-green-50 border-green-200 text-green-700",children:r},i))})})]}),e.ressources_cles&&n(e.ressources_cles).length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(et,{className:"h-4 w-4"}),"Ressources clés"]})}),s.jsx(ie,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:n(e.ressources_cles).map((r,i)=>s.jsx(Ce,{variant:"outline",className:"bg-blue-50 border-blue-200 text-blue-700",children:r},i))})})]}),e.risques_phase&&n(e.risques_phase).length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(hf,{className:"h-4 w-4"}),"Risques identifiés"]})}),s.jsx(ie,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:n(e.risques_phase).map((r,i)=>s.jsx(Ce,{variant:"outline",className:"bg-red-50 border-red-200 text-red-700",children:r},i))})})]})]}),e.type==="jalon"&&e.impact_si_echec&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(hf,{className:"h-4 w-4"}),"Impact en cas d'échec"]})}),s.jsx(ie,{children:s.jsx("p",{className:"text-gray-700 break-words",children:e.impact_si_echec})})]}),e.type==="tache"&&e.criteres_validation&&n(e.criteres_validation).length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Mj,{className:"h-4 w-4"}),"Critères de validation"]})}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-2",children:n(e.criteres_validation).map((r,i)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:r})]},i))})})]}),e.type==="tache"&&e.dependances_taches&&n(e.dependances_taches).length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Dp,{className:"h-4 w-4"}),"Dépendances"]})}),s.jsx(ie,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:n(e.dependances_taches).map((r,i)=>s.jsx(Ce,{variant:"outline",className:"bg-orange-50 border-orange-200 text-orange-700",children:r},i))})})]}),e.type==="tache"&&e.outils_necessaires&&n(e.outils_necessaires).length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(E7,{className:"h-4 w-4"}),"Outils nécessaires"]})}),s.jsx(ie,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:n(e.outils_necessaires).map((r,i)=>s.jsx(Ce,{variant:"outline",className:"bg-purple-50 border-purple-200 text-purple-700",children:r},i))})})]})]})},T8e=({isOpen:e,onClose:t,element:n})=>{if(!n)return null;const r=o=>{try{return new Date(o).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return o}},i=o=>!Array.isArray(o)||o.length===0?[]:o.map(l=>typeof l=="string"?l:String(l)),a=n.type==="tache"?s.jsxs("div",{className:"space-y-6 w-full mx-auto",children:[n.objectif_principal&&s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-gray-700 text-[16px] whitespace-pre-line",children:n.objectif_principal})}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Vy,{className:"h-4 w-4"}),"Informations générales"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.duree&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Durée"})]}),s.jsx("div",{className:"font-medium",children:n.duree})]}),n.periode&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx("span",{children:"Période"})]}),s.jsx("div",{className:"font-medium",children:n.periode})]}),n.responsable&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Mp,{className:"h-4 w-4"}),s.jsx("span",{children:"Responsable"})]}),s.jsx("div",{className:"font-medium",children:n.responsable})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx("span",{children:"Créé le"})]}),s.jsx("div",{className:"font-medium text-sm",children:r(n.created_at)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx("span",{children:"Modifié le"})]}),s.jsx("div",{className:"font-medium text-sm",children:r(n.updated_at)})]})]})})]}),n.criteres_validation&&i(n.criteres_validation).length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Mj,{className:"h-4 w-4"}),"Critères de validation"]})}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-2",children:i(n.criteres_validation).map((o,l)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:o})]},l))})})]}),n.dependances_taches&&i(n.dependances_taches).length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Dp,{className:"h-4 w-4"}),"Dépendances"]})}),s.jsx(ie,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:i(n.dependances_taches).map((o,l)=>s.jsx(Ce,{variant:"outline",className:"bg-orange-50 border-orange-200 text-orange-700",children:o},l))})})]}),n.outils_necessaires&&i(n.outils_necessaires).length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(E7,{className:"h-4 w-4"}),"Outils nécessaires"]})}),s.jsx(ie,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:i(n.outils_necessaires).map((o,l)=>s.jsx(Ce,{variant:"outline",className:"bg-purple-50 border-purple-200 text-purple-700",children:o},l))})})]})]}):null;return s.jsx(Hi,{isOpen:e,onClose:t,title:n.nom,iconComponent:n.type==="phase"?s.jsx(sme,{className:"w-6 h-6"}):n.type==="jalon"?s.jsx(j7,{className:"w-6 h-6"}):n.type==="tache"?s.jsx(Mj,{className:"w-6 h-6"}):null,contentComponent:n.type==="tache"?a:s.jsx(A8e,{element:n}),recommendations:n.type==="tache"&&n.recommandations_pratiques?n.recommandations_pratiques:void 0,modalWidthClass:"max-w-5xl"})},P8e=()=>{const e=It(),{projectId:t}=Nt(),{currentProjectId:n,userProjects:r,userProjectsLoading:i}=yr();cr();const a=n||t||(r.length>0?r[0].project_id:null),[o,l]=x.useState(null),[c,u]=x.useState(!0),[d,f]=x.useState(null),[h,m]=x.useState(!1),[p,g]=x.useState(!1),[y,v]=x.useState(null),[w,b]=x.useState(!1),[j,_]=x.useState({}),{data:N,isLoading:S,error:C}=j8e(o==="Terminé"?a:null),k=N?{...N,hierarchicalData:N.hierarchicalData.map(ce=>({...ce,statut:j[ce.element_id]||ce.statut}))}:null,[A,T]=x.useState(1),[E,R]=x.useState("next"),[$,O]=x.useState(!1),[F,z]=x.useState(A),[P,I]=x.useState({teamMembers:[{person:"",role:[],timeAvailable:""}],budget:0,investmentStyle:"",launchDate:null,urgencyLevel:"",riskTaking:50,preferredMethod:"",resources:""}),M=5,U=(ce,ve,te)=>{const ue=[...P.teamMembers];ue[ce][ve]=te,I({...P,teamMembers:ue})},D=()=>{I({...P,teamMembers:[...P.teamMembers,{person:"",role:[],timeAvailable:""}]})},L=ce=>{const ve=P.teamMembers.filter((te,ue)=>ue!==ce);I({...P,teamMembers:ve})},V=()=>{A<M&&(R("next"),O(!0),z(A),setTimeout(()=>{T(A+1)},50),setTimeout(()=>{O(!1)},350))},K=()=>{A>1&&(R("prev"),O(!0),z(A),setTimeout(()=>{T(A-1)},50),setTimeout(()=>{O(!1)},350))},G=async()=>{if(!a){alert("Aucun projet sélectionné.");return}try{const{error:ce}=await q.from("project_summary").update({status_action_plan:"En cours"}).eq("project_id",a);if(ce)throw ce;const ve={project_id:a,...P,launchDate:P.launchDate?P.launchDate.toISOString():null};(await fetch("https://n8n.srv906204.hstgr.cloud/webhook/action-plan-responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ve)})).ok||console.warn("Webhook failed, but continuing..."),l("En cours"),m(!1),alert(`Plan d'action généré avec succès ! Le statut a été mis à jour en "En cours".`)}catch(ce){console.error("Erreur lors de la mise à jour:",ce),alert("Erreur lors de la génération du plan d'action.")}},X=()=>{g(!0)},oe=()=>{g(!1),m(!0)},Y=ce=>{v(ce),b(!0)},ne=()=>{b(!1),v(null)},ge=async(ce,ve)=>{try{console.log("🔄 Mise à jour optimiste du statut:",{elementId:ce,newStatus:ve}),_(ee=>({...ee,[ce]:ve}));const{data:te,error:ue}=await q.schema("action_plan").from("taches").update({statut:ve,updated_at:new Date().toISOString()}).eq("tache_id",ce);if(ue){console.error("❌ Erreur lors de la mise à jour en base:",ue),_(ee=>{const le={...ee};return delete le[ce],le});return}console.log("✅ Statut mis à jour en base avec succès")}catch(te){console.error("💥 Erreur inattendue:",te),_(ue=>{const ee={...ue};return delete ee[ce],ee})}};x.useEffect(()=>{(async()=>{if(!a){f("Aucun projet sélectionné."),u(!1);return}try{const{data:ve,error:te}=await q.from("project_summary").select("status_action_plan").eq("project_id",a).single();if(te)console.warn("Could not fetch status_action_plan, assuming it's empty or column does not exist:",te.message),l(null);else{const ue=(ve==null?void 0:ve.status_action_plan)||null;l(ue)}}catch(ve){console.error("Erreur lors de la récupération du status_action_plan:",ve.message),f("Erreur lors du chargement du plan d'action.")}finally{u(!1)}})()},[a]);const se=(ce=A)=>{switch(ce){case 1:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Équipe & Disponibilité"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx("span",{className:"text-2xl",children:"👥"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Équipe du projet"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Définissez les membres de votre équipe et leurs rôles"})]})]}),s.jsx(w8e,{teamMembers:P.teamMembers,onTeamMemberChange:U,onAddTeamMember:D,onRemoveTeamMember:L})]})})]});case 2:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Budget & Approche"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border border-green-200",children:[s.jsxs("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-4",children:["💰 Budget total : ",P.budget,"€"]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsx(Av,{min:0,max:2e5,step:1e3,value:[P.budget],onValueChange:ve=>I({...P,budget:ve[0]}),className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[s.jsx("span",{children:"0€"}),s.jsx("span",{children:"200 000€"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-4",children:"🎯 Façon de dépenser"}),s.jsx("div",{className:"bg-white rounded-lg p-4",children:s.jsxs(mP,{value:P.investmentStyle,onValueChange:ve=>I({...P,investmentStyle:ve}),className:"flex flex-col space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cd,{value:"econome",id:"econome"}),s.jsx("label",{htmlFor:"econome",className:"text-base font-normal",children:"💰 Économe (on cherche les solutions pas chères)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cd,{value:"equilibre",id:"equilibre"}),s.jsx("label",{htmlFor:"equilibre",className:"text-base font-normal",children:"⚖️ Équilibré (on investit quand c'est utile)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cd,{value:"ambitieux",id:"ambitieux"}),s.jsx("label",{htmlFor:"ambitieux",className:"text-base font-normal",children:"🚀 Ambitieux (on investit pour aller plus vite)"})]})]})})]})]})]});case 3:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Timing & Urgence"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-4 border border-orange-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-4",children:"📅 Date souhaitée de lancement"}),s.jsxs(oa,{children:[s.jsx(la,{asChild:!0,children:s.jsxs(H,{variant:"outline",className:de("w-full justify-start text-left font-normal bg-white border-gray-300 focus:border-orange-500 hover:bg-gray-50 hover:text-gray-900",!P.launchDate&&"text-muted-foreground"),children:[s.jsx(Wt,{className:"mr-2 h-4 w-4"}),P.launchDate?ps(P.launchDate,"PPP",{locale:Ti}):s.jsx("span",{children:"Sélectionnez une date"})]})}),s.jsx(Ai,{className:"w-auto p-0",children:s.jsx(Pb,{mode:"single",selected:P.launchDate||void 0,onSelect:ve=>I({...P,launchDate:ve||null}),initialFocus:!0,locale:Ti})})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg p-4 border border-yellow-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-4",children:"⚡ Niveau d'urgence"}),s.jsxs(vt,{value:P.urgencyLevel,onValueChange:ve=>I({...P,urgencyLevel:ve}),children:[s.jsx(yt,{className:"w-full bg-white border-gray-300 focus:border-yellow-500",children:s.jsx(_t,{placeholder:"Sélectionnez le niveau d'urgence"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"pas_presse",children:"Pas pressé"}),s.jsx(fe,{value:"rythme_normal",children:"Rythme normal"}),s.jsx(fe,{value:"assez_urgent",children:"Assez urgent"}),s.jsx(fe,{value:"tres_urgent",children:"Très urgent"})]})]})]})]})]});case 4:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Style de travail"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-lg p-4 border border-indigo-200",children:[s.jsxs("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-4",children:["🎲 Prise de risque : ",P.riskTaking,"%"]}),s.jsxs("div",{className:"bg-white rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[s.jsx("span",{children:"Prudent"}),s.jsx("span",{children:"Fonceur"})]}),s.jsx(Av,{min:0,max:100,step:1,value:[P.riskTaking],onValueChange:ve=>I({...P,riskTaking:ve[0]}),className:"w-full"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 border border-rose-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-4",children:"🚀 Comment aimez-vous avancer ?"}),s.jsx("div",{className:"bg-white rounded-lg p-4",children:s.jsxs(mP,{value:P.preferredMethod,onValueChange:ve=>I({...P,preferredMethod:ve}),className:"flex flex-col space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cd,{value:"tout_preparer",id:"tout_preparer"}),s.jsx("label",{htmlFor:"tout_preparer",className:"text-base font-normal",children:"🎯 Tout préparer (on lance quand c'est parfait)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cd,{value:"tester_rapidement",id:"tester_rapidement"}),s.jsx("label",{htmlFor:"tester_rapidement",className:"text-base font-normal",children:"⚡ Tester rapidement (on lance vite et on améliore)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cd,{value:"suivre_chiffres",id:"suivre_chiffres"}),s.jsx("label",{htmlFor:"suivre_chiffres",className:"text-base font-normal",children:"📊 Suivre les chiffres (on décide avec les données)"})]})]})})]})]})]});case 5:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Ressources disponibles"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg p-4 border border-violet-200",children:[s.jsx("label",{className:"block text-base md:text-lg font-semibold text-gray-800 mb-4",children:"📝 Ressources disponibles"}),s.jsx("div",{className:"bg-white rounded-lg p-4",children:s.jsx(at,{className:"w-full p-3 text-base md:text-lg border-2 border-gray-200 rounded-lg focus:border-slate-500 focus:outline-none transition-colors h-48 resize-y",placeholder:"Décrivrez les ressources que vous disposez actuellement (sites internet, chaque graphique, produit fini, prototype, fournisseur, etc.)",value:P.resources,onChange:ve=>I({...P,resources:ve.target.value})})})]})})]});default:return null}};return i?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):a?c?s.jsx("div",{className:"container mx-auto px-4 py-8 min-h-screen animate-fade-in",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("p",{className:"text-gray-500",children:"Chargement du statut du plan d'action..."})})}):d?s.jsx("div",{className:"container mx-auto px-4 py-8 min-h-screen animate-fade-in",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("p",{className:"text-red-500",children:d})})}):s.jsx(Ff,{children:s.jsx("div",{className:"container mx-auto px-4 py-8 min-h-screen animate-fade-in",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Plan d'action"}),s.jsx("p",{className:"text-gray-600 text-base",children:"Découvrez les étapes clés pour concrétiser votre projet."})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(H,{variant:"secondary",className:"bg-white border border-gray-200 hover:bg-gray-50",children:"En savoir +"})})]})}),o===null&&s.jsxs(s.Fragment,{children:[!h&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-50 rounded-lg p-6 text-center shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Générer un plan d'action"}),s.jsx("p",{className:"text-gray-600 text-base mb-6",children:"Votre plan d'action n'a pas encore été généré. Cliquez sur le bouton ci-dessous pour commencer."}),s.jsx(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white px-8 py-4 text-lg",onClick:X,children:"Générer le plan d'action"})]}),h&&s.jsxs("div",{className:"min-h-screen bg-[#F8F6F1] flex flex-col md:justify-center py-10 container mx-auto px-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2 bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent",children:"Questionnaire Plan d'Action"}),s.jsx("p",{className:"text-gray-600 text-base mb-6",children:"Répondez aux questions suivantes pour générer votre plan d'action personnalisé"}),s.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Étape ",A," sur ",M]}),s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[Math.round(A/M*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${A/M*100}%`}})})]}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"relative overflow-hidden min-h-[500px]",children:$?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`absolute inset-0 ${E==="next"?"animate-slide-out-left":"animate-slide-out-right"}`,style:{willChange:"transform"},children:s.jsx("div",{className:"p-4 md:p-6 text-left",children:se(F)})}),s.jsx("div",{className:`absolute inset-0 ${E==="next"?"animate-slide-in-right":"animate-slide-in-left"}`,style:{willChange:"transform"},children:s.jsx("div",{className:"p-4 md:p-6 text-left",children:se()})})]}):s.jsx("div",{className:"p-4 md:p-6 text-left",children:se()})}),s.jsxs("div",{className:"flex justify-between items-center mt-6 px-4 pb-[80px]",children:[s.jsxs("button",{onClick:K,disabled:A===1,className:`flex items-center space-x-2 px-4 py-2 rounded-full font-semibold transition-all duration-300 ${A===1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[s.jsx(_a,{size:18}),s.jsx("span",{children:"Précédent"})]}),A<M?s.jsxs("button",{onClick:V,className:"flex items-center space-x-2 bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-2 rounded-full font-semibold hover:from-orange-600 hover:to-red-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[s.jsx("span",{children:"Suivant"}),s.jsx(Oi,{size:18})]}):s.jsxs("button",{onClick:G,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-2 rounded-full font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[s.jsx("span",{children:"Générer le plan d'action"}),s.jsx(Gt,{size:18})]})]})]})]}),s.jsx("style",{children:`
                    .animate-slide-out-left {
                      animation: slide-out-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                      animation-fill-mode: forwards;
                    }
                    
                    .animate-slide-out-right {
                      animation: slide-out-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                      animation-fill-mode: forwards;
                    }
                    
                    .animate-slide-in-left {
                      animation: slide-in-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                      animation-fill-mode: forwards;
                    }
                    
                    .animate-slide-in-right {
                      animation: slide-in-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                      animation-fill-mode: forwards;
                    }
                    
                    @keyframes slide-out-left {
                      0% {
                        transform: translate3d(0, 0, 0);
                        opacity: 1;
                      }
                      100% {
                        transform: translate3d(-100%, 0, 0);
                        opacity: 0;
                      }
                    }
                    
                    @keyframes slide-out-right {
                      0% {
                        transform: translate3d(0, 0, 0);
                        opacity: 1;
                      }
                      100% {
                        transform: translate3d(100%, 0, 0);
                        opacity: 0;
                      }
                    }
                    
                    @keyframes slide-in-left {
                      0% {
                        transform: translate3d(-100%, 0, 0);
                        opacity: 0;
                      }
                      100% {
                        transform: translate3d(0, 0, 0);
                        opacity: 1;
                      }
                    }
                    
                    @keyframes slide-in-right {
                      0% {
                        transform: translate3d(100%, 0, 0);
                        opacity: 0;
                      }
                      100% {
                        transform: translate3d(0, 0, 0);
                        opacity: 1;
                      }
                    }
                  `})]})]}),s.jsx(pt,{open:p,onOpenChange:g,children:s.jsxs(gt,{className:"max-w-md",children:[s.jsxs(jt,{children:[s.jsx(xt,{className:"text-lg font-semibold text-gray-800",children:"Attention !"}),s.jsx(Mt,{className:"text-gray-600",children:"Écrivez bien, répondez le plus possible aux questions. Au plus vous répondez aux questions, au plus vous écrivez, au plus précis sera le plan d'action et correspondra à vos attentes."})]}),s.jsxs(Kt,{className:"flex justify-end space-x-3",children:[s.jsx(H,{variant:"outline",onClick:()=>g(!1),children:"Annuler"}),s.jsx(H,{onClick:oe,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Continuer"})]})]})}),o==="En cours"&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 bg-white rounded-lg p-6 text-center shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Création de votre plan d'action personnalisé en cours..."}),s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})]}),o==="Terminé"&&s.jsxs("div",{className:"space-y-6",children:[S&&s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Chargement du plan d'action..."})]}),C&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-800",children:["Erreur lors du chargement : ",C]})}),!S&&!C&&k&&s.jsxs(s.Fragment,{children:[s.jsx(_8e,{userResponses:k.userResponses,classificationProjet:k.classificationProjet}),s.jsx(S8e,{livrables:k.livrables}),s.jsx(k8e,{hierarchicalData:k.hierarchicalData,onElementClick:Y,onEdit:ce=>{const ve=k.hierarchicalData.find(te=>te.element_id===ce.element_id);ve&&ce.statut!==ve.statut&&ge(ce.element_id,ce.statut)}}),s.jsx(T8e,{isOpen:w,onClose:ne,element:y})]})]})]})})}):s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)] animate-popup-appear",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 text-center bg-white p-8 rounded-lg shadow-lg max-w-lg w-[90vw]",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Que l'aventure commence !"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Créez un nouveau projet pour découvrir tout le potentiel de votre idée."}),s.jsx(H,{onClick:()=>e("/individual/warning"),className:"mt-4 px-4 py-2 rounded-lg bg-gradient-primary hover:from-blue-600 hover:to-purple-700 text-white text-lg font-semibold shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105",children:"Créer un nouveau projet"})]})})},O8e=x.memo(({isCollapsed:e,userRole:t})=>{const n=It(),{projectId:r}=Nt(),i=qi(),[a,o]=x.useState(!1),{userProjects:l,userProjectsLoading:c,currentProjectId:u,setCurrentProjectId:d,loadUserProjects:f}=yr(),m=r?l.find(j=>j.project_id===r)||null:u?l.find(j=>j.project_id===u)||null:l.length>0?l[0]:null,p=(j,_=18)=>j?j.length<=_?j:j.substring(0,_)+"...":"Projet sans nom";x.useEffect(()=>{r&&r!==u&&d(r)},[r,u,d]);const g=j=>{if(j){let _="";(t==="individual"||i.pathname.startsWith("/individual"))&&(_="/individual"),console.log("ProjectSelector: userRole",t),console.log("ProjectSelector: location.pathname",i.pathname),console.log("ProjectSelector: calculated basePath",_),console.log("ProjectSelector: navigating to",`${_}/project-business/${j.project_id}`),n(`${_}/project-business/${j.project_id}`)}},y=()=>{o(!1);let j="";(t==="individual"||i.pathname.startsWith("/individual"))&&(j="/individual"),n(`${j}/warning`)},v=()=>{o(!a)},w=j=>{o(!1),d(j.project_id),g(j)};if(c)return s.jsxs("button",{className:"w-full py-2 px-3 text-left font-medium text-sm rounded-md flex items-center gap-2 bg-gray-100 animate-pulse",children:[s.jsx(Ow,{size:18}),!e&&s.jsx("span",{children:"Chargement des projets..."})]});if(l.length===0){const j=t==="individual"?"/individual/warning":"/warning";return s.jsxs("button",{onClick:()=>n(j),className:"w-full py-2 px-3 text-left font-medium text-sm rounded-md flex items-center gap-2 bg-gray-100",children:[s.jsx(Ow,{size:18}),!e&&s.jsx("span",{children:"Créer un nouveau projet"})]})}const b=m?m.nom_projet||"Projet sans nom":r?"Chargement du projet...":"Sélection projet";return s.jsxs("div",{className:"relative",children:[s.jsxs(Bj,{children:[s.jsx(Uj,{asChild:!0,children:s.jsxs("button",{onClick:v,className:"w-full py-2 px-3 text-left font-medium text-sm rounded-md flex items-center justify-between gap-2 bg-gray-100 hover:bg-gray-200 transition",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(Ow,{size:18,className:"flex-shrink-0"}),!e&&s.jsx("span",{className:"truncate",children:p(b)})]}),!e&&s.jsx(xl,{size:16,className:`transition-transform duration-200 flex-shrink-0 ${a?"rotate-90":""}`})]})}),s.jsx(jv,{side:"bottom",className:"max-w-xs",children:s.jsx("p",{children:b})})]}),a&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-md shadow-lg z-10 max-h-56 overflow-y-auto",children:s.jsxs("div",{className:"p-1",children:[s.jsxs("button",{onClick:y,className:"w-full text-left px-3 py-2 text-sm rounded-md hover:bg-gray-100 transition flex items-center gap-2 border-b border-gray-100 mb-1",children:[s.jsx(In,{size:16,className:"text-aurentia-pink"}),s.jsx("span",{className:"text-aurentia-pink font-medium",children:"Créer un nouveau projet"})]}),l.map(j=>s.jsxs(Bj,{children:[s.jsx(Uj,{asChild:!0,children:s.jsxs("button",{onClick:()=>w(j),className:`w-full text-left px-3 py-2 text-sm rounded-md hover:bg-gray-100 transition flex items-center justify-between ${j.project_id===r?"bg-blue-50 border-l-2 border-blue-500":""}`,children:[s.jsx("span",{className:"truncate",children:p(j.nom_projet||"Projet sans nom")}),s.jsxs("button",{onClick:_=>{_.stopPropagation(),g(j)},className:"text-aurentia-pink hover:underline text-xs flex items-center gap-1 flex-shrink-0 ml-2",children:["Voir ",s.jsx(xl,{size:12})]})]})}),s.jsx(jv,{side:"right",className:"max-w-xs",children:s.jsx("p",{children:j.nom_projet||"Projet sans nom"})})]},j.project_id))]})})]})}),Hf=()=>{const{userProfile:e,loading:t,refetchProfile:n}=iK();return{userProfile:e,loading:t,refetch:n}},lse=()=>{const{userProfile:e,loading:t}=Hf(),[n,r]=x.useState(null),[i,a]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(!t){if(!(e!=null&&e.id)){r(!1),a(!1);return}try{const{data:l,error:c}=await q.from("user_organizations").select("id, organization_id, status").eq("user_id",e.id).eq("status","active").limit(1).maybeSingle();if(c&&c.code!=="PGRST116"){console.error("Error checking user_organizations:",c),r(!1),a(!1);return}if(l){r(!0),a(!1);return}const{data:u,error:d}=await q.from("organizations").select("id").eq("created_by",e.id).limit(1).maybeSingle();d&&d.code!=="PGRST116"?(console.error("Error checking owned organizations:",d),r(!1)):r(!!u)}catch(l){console.error("Error checking user organization:",l),r(!1)}finally{a(!1)}}})()},[e,t]),{hasOrganization:n,loading:i||t}},r4=()=>{const{id:e}=Nt(),[t,n]=x.useState(null),[r,i]=x.useState(!0),[a,o]=x.useState(null),l=x.useRef(!1),c=x.useCallback(async()=>{if(!e){i(!1);return}if(l.current){console.log("[useOrganisationData] Fetch already in progress, skipping");return}l.current=!0,console.log("[useOrganisationData] Fetching organisation:",e);try{i(!0);const u=await O1(e);if(u){const d={id:u.id,name:u.name,description:u.description||"Aucune description disponible",logo:u.logo||"",website:u.website||"",email:u.email||"",phone:u.phone||"",address:u.address||"",primary_color:u.primary_color,secondary_color:u.secondary_color,settings:u.settings||{branding:{primaryColor:u.primary_color||"#ff5932",secondaryColor:u.secondary_color||"#1a1a1a",whiteLabel:!1},notifications:{emailNotifications:!0,projectUpdates:!0,mentorAssignments:!0,weeklyReports:!1,systemAlerts:!0}},created_at:u.created_at,updated_at:u.updated_at||u.created_at};console.log("[useOrganisationData] Organisation loaded successfully"),n(d),o(null)}else o("Organisation non trouvée")}catch(u){console.error("[useOrganisationData] Error:",u),o(u instanceof Error?u.message:"Erreur lors du chargement")}finally{i(!1),l.current=!1}},[e]);return x.useEffect(()=>{e?c():i(!1)},[e]),{organisation:t,loading:r,error:a,refetch:c}},cse=()=>{const{id:e}=Nt(),[t,n]=x.useState(null),[r,i]=x.useState(!0),a=x.useRef(!1);return x.useEffect(()=>{(async()=>{if(!e){i(!1);return}if(a.current){console.log("[useOrganisationStats] Fetch already in progress, skipping");return}a.current=!0,console.log("[useOrganisationStats] Fetching stats for:",e);try{i(!0);const l=await LK(e);console.log("🔄 Raw stats from optimized service:",l);const c={totalAdherents:l.totalAdherents,activeProjects:l.activeProjects,completedProjects:l.completedProjects,totalMentors:l.totalMentors,activeMentors:l.totalMentors,thisMonthSignups:l.newThisMonth,averageProjectDuration:6.5,successRate:l.conversionRate,totalDeliverables:l.totalDeliverables,completedDeliverables:l.completedDeliverables};console.log("🎯 Final adapted stats:",c),n(c)}catch(l){console.error("Erreur lors du chargement des statistiques:",l)}finally{i(!1),a.current=!1}})()},[e]),{stats:t,loading:r}},use=()=>{const{id:e}=Nt(),[t,n]=x.useState([]),[r,i]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(e)try{i(!0);const o=await BK(e);console.log("🔄 Raw adherents from optimized service:",o.length,o);const l=o.map(c=>{var u;return{id:c.user_id,user_id:c.user_id,organisation_id:e,first_name:c.first_name||((u=c.email)==null?void 0:u.split("@")[0])||"Prénom",last_name:c.last_name||"",email:c.email,phone:c.phone||"",avatar_url:c.avatar_url,linkedin_url:c.linkedin_url,website:c.website,bio:c.bio,location:c.location,company:c.company,job_title:c.job_title,program_type:c.program_type,cohort_year:c.cohort_year,training_budget:c.training_budget,availability_schedule:c.availability_schedule,monthly_credits_remaining:c.monthly_credits_remaining,purchased_credits_remaining:c.purchased_credits_remaining,status:c.activity_status==="active"?"active":"inactive",joined_at:c.joined_at,mentor_id:null,mentor_names:c.mentor_names||[],project_count:c.total_projects||0,completed_deliverables:c.completed_deliverables||0,total_deliverables:c.total_deliverables||0,project_names:c.project_names||[],active_projects:c.active_projects||0,completion_rate:c.completion_rate||0,activity_status:c.activity_status,payment_status:c.payment_status||"no_subscription",subscription_days_overdue:c.subscription_days_overdue||0,last_payment_date:c.last_payment_date,next_payment_date:c.next_payment_date,subscription_amount:c.subscription_amount,last_activity:c.joined_at}});console.log("🎯 Final adapted adherents:",l.length,l),n(l)}catch(o){console.error("Erreur lors du chargement des adhérents:",o)}finally{i(!1)}})()},[e]),{adherents:t,loading:r}},s4=()=>{const{id:e}=Nt(),[t,n]=x.useState([]),[r,i]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(e)try{i(!0);const o=await FK(e);console.log("🔄 Raw projects from optimized service:",o.length,o),n(o)}catch(o){console.error("Erreur lors du chargement des projets:",o)}finally{i(!1)}})()},[e]),{projects:t,loading:r}},dse=()=>{const{id:e}=Nt(),[t,n]=x.useState([]),[r,i]=x.useState(!0);return x.useEffect(()=>{(async()=>{var o;if(e)try{i(!0);const{data:{user:l}}=await q.auth.getUser(),{data:c}=await q.from("organizations").select("created_by").eq("id",e).single(),u=await eY(e);console.log("🔄 Raw mentors from optimized service:",u.length,u);let d=u.map(h=>{var m;return{id:h.id,user_id:h.user_id,organisation_id:e,first_name:h.first_name||((m=h.email)==null?void 0:m.split("@")[0])||"",last_name:h.last_name||"",email:h.email||"",phone:h.phone,avatar_url:h.avatar_url,linkedin_url:h.mentor_linkedin_url||h.profile_linkedin_url,website:h.website,bio:h.mentor_bio||h.profile_bio,location:h.location,company:h.company,job_title:h.job_title,expertise:h.expertise||["Business Development"],mentor_bio:h.mentor_bio,availability:h.availability,max_projects:h.max_projects,max_entrepreneurs:h.max_entrepreneurs,status:h.status,total_entrepreneurs:h.total_entrepreneurs||0,success_rate:h.success_rate||0,rating:h.rating||0,invitation_code:null,joined_at:h.joined_at,user_role:h.user_role||"staff",current_entrepreneurs:h.current_entrepreneurs||0,total_assignments:h.total_assignments||0,completed_assignments:h.completed_assignments||0,recent_assignments:h.recent_assignments||0}});const f=d.find(h=>h.user_id===(c==null?void 0:c.created_by));if(c!=null&&c.created_by&&!f){const{data:h}=await q.from("profiles").select("*").eq("id",c.created_by).single();if(h){const{data:m}=await q.from("mentors").select("*").eq("user_id",c.created_by).eq("organization_id",e).single();d=[{id:(m==null?void 0:m.id)||`owner-${c.created_by}`,user_id:c.created_by,organisation_id:e,first_name:h.first_name||((o=h.email)==null?void 0:o.split("@")[0])||"",last_name:h.last_name||"",email:h.email||"",expertise:(m==null?void 0:m.expertise)||["Direction","Stratégie"],bio:(m==null?void 0:m.bio)||"Fondateur de l'organisation",status:"active",total_entrepreneurs:(m==null?void 0:m.total_entrepreneurs)||0,success_rate:(m==null?void 0:m.success_rate)||0,rating:(m==null?void 0:m.rating)||0,invitation_code:null,joined_at:h.created_at,user_role:"organisation",current_entrepreneurs:(m==null?void 0:m.current_entrepreneurs)||0},...d]}}console.log("🎯 Final adapted mentors:",d.length,d),n(d)}catch(l){console.error("Erreur lors du chargement des mentors:",l),n([])}finally{i(!1)}})()},[e]),{mentors:t,loading:r}},fse=()=>{const{id:e}=Nt(),[t,n]=x.useState([]),[r,i]=x.useState(!0),a=x.useRef(!1),o=x.useCallback(async()=>{if(e){if(a.current){console.log("[useInvitationCodes] Fetch already in progress, skipping");return}a.current=!0;try{i(!0);const u=(await zK(e)).map(d=>({id:d.id,code:d.code,organisation_id:d.organization_id,role:d.assigned_role==="entrepreneur"?"entrepreneur":d.assigned_role==="mentor"?"mentor":d.type==="organisation_member"?"entrepreneur":"mentor",created_by:d.created_by,created_at:d.created_at,expires_at:d.expires_at||null,max_uses:d.max_uses,current_uses:d.current_uses,is_active:d.is_active}));n(u)}catch(c){console.error("Erreur lors du chargement des codes:",c)}finally{i(!1),a.current=!1}}},[e]);x.useEffect(()=>{o()},[e]);const l=x.useCallback(async c=>{if(!e)return null;try{const{data:{user:u}}=await q.auth.getUser();if(!u)return console.error("Utilisateur non connecté"),null;const d=c.role==="entrepreneur"?"organisation_member":"organisation_staff",f=c.role==="entrepreneur"?"entrepreneur":"mentor",h={code:c.code,type:d,organization_id:e,created_by:u.id,expires_at:c.expires_at||void 0,max_uses:c.max_uses,assigned_role:f},m=await UK(h);if(m){const p={id:m.id,code:m.code,organisation_id:m.organization_id,role:m.assigned_role==="entrepreneur"?"entrepreneur":"mentor",created_by:m.created_by,created_at:m.created_at,expires_at:m.expires_at||null,max_uses:m.max_uses,current_uses:m.current_uses,is_active:m.is_active};return n(g=>[...g,p]),p}return null}catch(u){return console.error("Erreur lors de la génération du code:",u),null}},[e]);return{codes:t,loading:r,generateCode:l,refetch:o}},R8e=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),o=x.useCallback(async()=>{try{r(!0);const{data:{user:c}}=await q.auth.getUser();if(!c){a("Utilisateur non connecté");return}const{data:u,error:d}=await q.from("user_organizations").select(`
          id,
          user_id,
          organization_id,
          user_role,
          joined_at,
          is_primary,
          status,
          created_at,
          updated_at,
          organizations (
            id,
            name,
            description,
            logo_url,
            primary_color,
            secondary_color
          )
        `).eq("user_id",c.id).eq("status","active").order("is_primary",{ascending:!1}).order("joined_at",{ascending:!0});if(d)throw d;const f=u.map(h=>({id:h.id,user_id:h.user_id,organization_id:h.organization_id,user_role:h.user_role,joined_at:h.joined_at,is_primary:h.is_primary,status:h.status,created_at:h.created_at,updated_at:h.updated_at,organization:h.organizations?{id:h.organizations.id,name:h.organizations.name,description:h.organizations.description,logo:h.organizations.logo_url,primary_color:h.organizations.primary_color,secondary_color:h.organizations.secondary_color,created_at:"",updated_at:""}:void 0}));t(f),a(null)}catch(c){a(c instanceof Error?c.message:"Erreur lors du chargement des organisations"),console.error("Erreur lors du chargement des organisations utilisateur:",c)}finally{r(!1)}},[]);x.useEffect(()=>{o()},[o]);const l=x.useCallback(async c=>{try{const{data:{user:u}}=await q.auth.getUser();return u?(await q.from("user_organizations").update({is_primary:!1}).eq("user_id",u.id),await q.from("user_organizations").update({is_primary:!0}).eq("user_id",u.id).eq("organization_id",c),await o(),!0):!1}catch(u){return console.error("Erreur lors du changement d'organisation:",u),!1}},[o]);return{userOrganizations:e,loading:n,error:i,refetch:o,switchToOrganization:l}},Gz="AIzaSyDD-eg5dT7TkT9EPjVuaLlJC5NeC9OJduQ",Kz=async e=>{if(!e||!Gz)return console.warn("Missing address or API key for geocoding"),null;try{const n=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=${Gz}`,i=await(await fetch(n)).json();if(i.status==="OK"&&i.results&&i.results.length>0){const a=i.results[0];return{coordinates:{lat:a.geometry.location.lat,lng:a.geometry.location.lng},formattedAddress:a.formatted_address}}else return console.warn("Geocoding failed:",i.status),null}catch(t){return console.error("Error geocoding address:",t),null}},D8e=(e,t)=>{const r=K0(t.lat-e.lat),i=K0(t.lng-e.lng),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(K0(e.lat))*Math.cos(K0(t.lat))*Math.sin(i/2)*Math.sin(i/2),l=6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)));return Math.round(l)},K0=e=>e*(Math.PI/180),M8e=async(e,t,n)=>{const r=await Kz(t);return r?(await Promise.all(e.map(async a=>{if(!a.address)return null;const o=await Kz(a.address);if(!o)return null;const l=D8e(r.coordinates,o.coordinates);return l<=n?{organization:a,distance:l}:null}))).filter(a=>a!==null).sort((a,o)=>a.distance-o.distance):[]},I8e=({isOpen:e,onClose:t,organization:n,distance:r,onApply:i,isApplying:a=!1})=>{if(!n)return null;const o=(y,v)=>{if(y)return y.startsWith("http")?y:`https://llcliurrrrxnkquwmwsi.supabase.co/storage/v1/object/public/${v}/${y}`},l=o(n.logo_url,"organisation-logo"),c=o(n.banner_url,"organisation-banner"),u=y=>{if(!y)return[];if(typeof y=="string")try{return JSON.parse(y)}catch{return[]}return Array.isArray(y)?y:[]},d=u(n.sectors),f=u(n.stages),h=u(n.values),m=u(n.specializations),p=u(n.support_types),g=u(n.geographic_focus);return s.jsx(pt,{open:e,onOpenChange:t,children:s.jsxs(gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"relative -mx-6 -mt-6 mb-6",children:[s.jsx("div",{className:"h-48 bg-gradient-to-r from-aurentia-pink to-aurentia-orange relative overflow-hidden",children:c&&s.jsx("img",{src:c,alt:`${n.name} banner`,className:"w-full h-full object-cover",onError:y=>{y.target.style.display="none"}})}),s.jsx("div",{className:"absolute -bottom-12 left-6",children:l?s.jsx("img",{src:l,alt:`${n.name} logo`,className:"h-24 w-24 rounded-xl object-cover border-4 border-white bg-white shadow-lg",onError:y=>{const v=y.target,w=v.parentElement;if(w){v.style.display="none";const b=document.createElement("div");b.className="h-24 w-24 rounded-xl flex items-center justify-center text-white font-bold text-3xl border-4 border-white shadow-lg",b.style.backgroundColor=n.primary_color||"#F04F6A",b.textContent=n.name.charAt(0).toUpperCase(),w.appendChild(b)}}}):s.jsx("div",{className:"h-24 w-24 rounded-xl flex items-center justify-center text-white font-bold text-3xl border-4 border-white shadow-lg",style:{backgroundColor:n.primary_color||"#F04F6A"},children:n.name.charAt(0).toUpperCase()})})]}),s.jsx("div",{className:"pt-8",children:s.jsxs(jt,{children:[s.jsx(xt,{className:"text-3xl font-bold",children:n.name}),n.description&&s.jsx(Mt,{className:"text-base mt-2",children:n.description})]})}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[n.address&&s.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[s.jsx(rs,{className:"h-4 w-4"}),s.jsx("span",{children:n.address}),r!==void 0&&s.jsxs("span",{className:"text-aurentia-pink font-medium ml-1",children:["• ",r," km"]})]}),n.website&&s.jsxs("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-aurentia-pink hover:underline",children:[s.jsx(Pr,{className:"h-4 w-4"}),s.jsx("span",{children:"Site web"})]}),n.email&&s.jsxs("a",{href:`mailto:${n.email}`,className:"flex items-center gap-1.5 text-gray-600 hover:text-aurentia-pink",children:[s.jsx(Ft,{className:"h-4 w-4"}),s.jsx("span",{children:n.email})]}),n.phone&&s.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[s.jsx(ha,{className:"h-4 w-4"}),s.jsx("span",{children:n.phone})]})]}),s.jsx(wu,{className:"my-4"}),s.jsxs("div",{className:"space-y-6",children:[(n.mission||n.vision)&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-5 w-5 text-aurentia-pink"}),"Mission & Vision"]})}),s.jsxs(ie,{className:"space-y-3",children:[n.mission&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-1",children:"Mission"}),s.jsx("p",{className:"text-sm text-gray-600",children:n.mission==="Mission à définir"||n.mission.trim()===""?"Non précisée":n.mission})]}),n.vision&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-1",children:"Vision"}),s.jsx("p",{className:"text-sm text-gray-600",children:n.vision==="Vision à définir"||n.vision.trim()===""?"Non précisée":n.vision})]})]})]}),h.length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"h-5 w-5 text-aurentia-pink"}),"Valeurs"]})}),s.jsx(ie,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((y,v)=>s.jsx(Ce,{variant:"secondary",children:y},v))})})]}),(d.length>0||f.length>0)&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(mi,{className:"h-5 w-5 text-aurentia-pink"}),"Secteurs & Stades"]})}),s.jsxs(ie,{className:"space-y-3",children:[d.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Secteurs"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((y,v)=>s.jsx(Ce,{variant:"outline",children:y},v))})]}),f.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Stades accompagnés"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((y,v)=>s.jsx(Ce,{variant:"outline",children:y},v))})]})]})]}),(g.length>0||n.custom_geographic)&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-5 w-5 text-aurentia-pink"}),"Zone géographique"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.map((y,v)=>s.jsx(Ce,{variant:"secondary",children:y},v)),n.custom_geographic&&s.jsx(Ce,{variant:"secondary",children:n.custom_geographic})]})})]}),(m.length>0||p.length>0)&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(et,{className:"h-5 w-5 text-aurentia-pink"}),"Accompagnement"]})}),s.jsxs(ie,{className:"space-y-3",children:[m.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Spécialisations"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((y,v)=>s.jsx(Ce,{variant:"outline",children:y},v))})]}),p.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Types de support"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((y,v)=>s.jsx(Ce,{variant:"outline",children:y},v))})]})]})]}),(n.methodology||n.success_criteria)&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-5 w-5 text-aurentia-pink"}),"Méthodologie"]})}),s.jsxs(ie,{className:"space-y-3",children:[n.methodology&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-1",children:"Approche"}),s.jsx("p",{className:"text-sm text-gray-600",children:n.methodology})]}),n.success_criteria&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-1",children:"Critères de succès"}),s.jsx("p",{className:"text-sm text-gray-600",children:n.success_criteria})]})]})]}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"h-5 w-5 text-aurentia-pink"}),"Informations complémentaires"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.founded_year&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Année de création:"}),s.jsx("span",{className:"ml-2 font-medium",children:n.founded_year})]}),n.team_size&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Taille de l'équipe:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[n.team_size," personnes"]})]}),n.program_duration_months&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Durée du programme:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[n.program_duration_months," mois"]})]})]})})]})]}),s.jsxs(Kt,{className:"border-t pt-4 mt-6",children:[s.jsx(H,{variant:"outline",onClick:t,children:"Fermer"}),i&&s.jsx(H,{onClick:()=>i(n.id),disabled:a,className:"text-white",style:{backgroundColor:"#ff5932"},children:a?s.jsx(Pt,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:["Postuler",s.jsx(xl,{className:"ml-2 h-4 w-4"})]})})]})]})})},L8e=({isOpen:e,onClose:t,userAddress:n})=>{const[r,i]=x.useState([]),[a,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(""),[f,h]=x.useState(100),[m,p]=x.useState(!0),[g,y]=x.useState(null),[v,w]=x.useState(!1),[b,j]=x.useState(null),[_,N]=x.useState(!1),S={total:r.length,filtered:a.length,nearby:r.filter(E=>E.distance!==void 0).length};x.useEffect(()=>{e&&C()},[e]),x.useEffect(()=>{k()},[u,r,f]);const C=async()=>{c(!0);try{const{data:E,error:R}=await q.from("organizations").select(`
          id, name, description, address, logo_url, banner_url, primary_color, 
          type, custom_type, geographic_focus, custom_geographic, website, email, 
          phone, founded_year, mission, vision, values, sectors, stages, team_size, 
          specializations, methodology, program_duration_months, success_criteria, 
          support_types, social_media
        `).eq("is_public",!0).eq("onboarding_completed",!0).order("name",{ascending:!0});if(R)throw R;let $=E||[];if(n){N(!0);try{$=(await M8e($,n,999999)).map(F=>({...F.organization,distance:F.distance}))}catch(O){console.error("Error calculating distances:",O),we({title:"Attention",description:"Impossible de calculer les distances. Affichage sans filtre de proximité.",variant:"default"})}finally{N(!1)}}i($)}catch(E){console.error("Error fetching public organizations:",E),we({title:"Erreur",description:"Impossible de charger les organisations publiques.",variant:"destructive"})}finally{c(!1)}},k=()=>{let E=[...r];if(u.trim()){const R=u.toLowerCase();E=E.filter($=>{var O,F,z,P,I;return $.name.toLowerCase().includes(R)||((O=$.description)==null?void 0:O.toLowerCase().includes(R))||((F=$.address)==null?void 0:F.toLowerCase().includes(R))||((z=$.type)==null?void 0:z.toLowerCase().includes(R))||((P=$.custom_type)==null?void 0:P.toLowerCase().includes(R))||typeof $.geographic_focus=="string"&&$.geographic_focus.toLowerCase().includes(R)||((I=$.custom_geographic)==null?void 0:I.toLowerCase().includes(R))})}n&&r.some(R=>R.distance!==void 0)&&f<200&&(E=E.filter(R=>R.distance!==void 0&&R.distance<=f)),o(E)},A=(E,R)=>{if(E)try{const{data:$}=q.storage.from(R).getPublicUrl(E);return $==null?void 0:$.publicUrl}catch($){console.error(`Error getting public URL for ${R}:`,$);return}},T=async E=>{j(E);try{const{data:{user:R}}=await q.auth.getUser();if(!R){we({title:"Erreur",description:"Vous devez être connecté pour postuler.",variant:"destructive"});return}const{data:$,error:O}=await q.from("organisation_applications").select("id, status").eq("user_id",R.id).eq("organization_id",E).single();if(O&&O.code!=="PGRST116")throw O;if($){we({title:"Candidature déjà envoyée",description:`Vous avez déjà une candidature ${$.status==="pending"?"en attente":$.status} pour cette organisation.`,variant:"default"});return}const{error:F}=await q.from("organisation_applications").insert({user_id:R.id,organization_id:E,status:"pending"});if(F)throw F;const z=r.find(P=>P.id===E);we({title:"Candidature envoyée ! 🎉",description:`Votre candidature à ${z==null?void 0:z.name} a été envoyée avec succès. Vous serez notifié de la réponse.`})}catch(R){console.error("Error applying to organization:",R),we({title:"Erreur",description:R.message||"Une erreur est survenue lors de l'envoi de votre candidature.",variant:"destructive"})}finally{j(null)}};return s.jsxs(pt,{open:e,onOpenChange:t,children:[s.jsxs(gt,{className:"max-w-7xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(jt,{children:[s.jsx(xt,{className:"text-2xl font-bold",children:"Découvrez les organisations publiques"}),s.jsx(Mt,{children:"Parcourez et postulez aux organisations d'accompagnement entrepreneurial qui correspondent à votre projet."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"space-y-6 py-2",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(re,{className:"border",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total organisations"}),s.jsx("p",{className:"text-2xl font-bold",children:S.total})]}),s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#fef2ed",color:"#ff5932"},children:s.jsx(Yn,{className:"h-5 w-5"})})]})})}),s.jsx(re,{className:"border",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Résultats affichés"}),s.jsx("p",{className:"text-2xl font-bold",children:S.filtered})]}),s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#fef2ed",color:"#ff5932"},children:s.jsx(rr,{className:"h-5 w-5"})})]})})}),s.jsx(re,{className:"border",children:s.jsx(ie,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avec adresse"}),s.jsx("p",{className:"text-2xl font-bold",children:S.nearby})]}),s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"#fef2ed",color:"#ff5932"},children:s.jsx(rs,{className:"h-5 w-5"})})]})})})]}),s.jsxs(re,{className:"border",children:[s.jsxs("div",{className:"cursor-pointer flex items-center justify-between p-4",onClick:()=>p(!m),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mD,{className:"h-5 w-5 text-gray-600"}),s.jsx(me,{className:"text-lg",children:"Filtres et Recherche"})]}),s.jsx(ya,{className:de("h-5 w-5 text-gray-600 transition-transform duration-300",m?"rotate-180":"")})]}),s.jsx("div",{className:de("transition-all duration-300 overflow-hidden",m?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:s.jsx(ie,{className:"pt-0 pb-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(ke,{placeholder:"Rechercher une organisation...",value:u,onChange:E=>d(E.target.value),className:"pl-10 focus:ring-0 focus:border-gray-300"})]}),n&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Distance maximale"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[f," km"]})]}),s.jsx(Av,{value:[f],onValueChange:E=>h(E[0]),min:10,max:200,step:10,className:"w-full"}),s.jsx("p",{className:"text-xs text-gray-500",children:_?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pt,{className:"h-3 w-3 animate-spin"}),"Calcul des distances en cours..."]}):r.some(E=>E.distance!==void 0)?`${a.filter(E=>E.distance!==void 0).length} organisation(s) dans ce rayon`:"Aucune adresse trouvée pour calculer les distances"})]})]})})})]}),l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Pt,{className:"h-8 w-8 animate-spin text-aurentia-pink"})}):a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:u||n&&r.some(E=>E.distance!==void 0)&&f<200?"Aucune organisation ne correspond à vos critères de recherche.":"Aucune organisation publique disponible pour le moment."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(E=>{const R=A(E.logo_url,"organisation-logo"),$=A(E.banner_url,"organisation-banner");return s.jsxs(re,{className:"group cursor-pointer transition-all duration-300 overflow-hidden border hover:shadow-lg",children:[s.jsx("div",{className:"h-32 bg-gradient-to-r from-aurentia-pink to-aurentia-orange relative overflow-hidden",children:$?s.jsx("img",{src:$,alt:`${E.name} banner`,className:"w-full h-full object-cover",onError:O=>{O.target.style.display="none"}}):null}),s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex gap-3 mb-3",children:[s.jsx("div",{className:"flex-shrink-0 -mt-8 relative z-10",children:R?s.jsx("img",{src:R,alt:`${E.name} logo`,className:"h-16 w-16 rounded-lg object-cover border-2 border-white bg-white shadow-md",onError:O=>{const F=O.target,z=F.parentElement;if(z){F.style.display="none";const P=document.createElement("div");P.className="h-16 w-16 rounded-lg flex items-center justify-center text-white font-bold text-xl border-2 border-white shadow-md",P.style.backgroundColor=E.primary_color||"#F04F6A",P.textContent=E.name.charAt(0).toUpperCase(),z.appendChild(P)}}}):s.jsx("div",{className:"h-16 w-16 rounded-lg flex items-center justify-center text-white font-bold text-xl border-2 border-white shadow-md",style:{backgroundColor:E.primary_color||"#F04F6A"},children:E.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(me,{className:"text-lg font-semibold mb-1 group-hover:text-aurentia-pink transition-colors line-clamp-1",children:E.name})})]}),E.description&&s.jsx(Xe,{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:E.description}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[E.distance!==void 0&&s.jsxs("span",{className:"text-xs px-2 py-1 bg-aurentia-pink/10 text-aurentia-pink rounded-md font-medium",children:["📍 ",E.distance," km"]}),E.address&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(rs,{className:"h-3 w-3"}),s.jsx("span",{className:"truncate max-w-[200px]",children:E.address})]})]}),s.jsxs(H,{onClick:()=>{y(E),w(!0)},className:"w-full text-white",style:{backgroundColor:"#ff5932"},children:[s.jsx(ns,{className:"mr-2 h-4 w-4"}),"Détails"]})]})]},E.id)})})]})}),s.jsx(Kt,{className:"border-t pt-4",children:s.jsx(H,{variant:"outline",onClick:t,children:"Fermer"})})]}),s.jsx(I8e,{isOpen:v,onClose:()=>{w(!1),y(null)},organization:g,distance:g==null?void 0:g.distance,onApply:T,isApplying:b===(g==null?void 0:g.id)})]})},$8e=({isOpen:e,onClose:t,onStartSetup:n,onDismissPermanently:r})=>s.jsx(pt,{open:e,onOpenChange:t,children:s.jsxs(gt,{className:"max-w-md",children:[s.jsxs(jt,{children:[s.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-gradient-to-br from-aurentia-orange to-yellow-500 flex items-center justify-center",children:s.jsx(Yn,{className:"h-8 w-8 text-white"})}),s.jsx(xt,{className:"text-center text-2xl font-bold",children:"Créez votre organisation !"}),s.jsxs(Mt,{className:"text-center",children:[`Vous avez sélectionné le profil "Structure d'accompagnement".`,s.jsx("br",{}),s.jsx("br",{}),"Pour commencer à accompagner des entrepreneurs, configurez votre organisation en quelques étapes simples."]})]}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-aurentia-pink/10 flex items-center justify-center text-aurentia-pink font-semibold text-xs",children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Informations de base"}),s.jsx("p",{className:"text-gray-600",children:"Nom, logo et description de votre structure"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-aurentia-pink/10 flex items-center justify-center text-aurentia-pink font-semibold text-xs",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Coordonnées et localisation"}),s.jsx("p",{className:"text-gray-600",children:"Permettez aux entrepreneurs de vous trouver"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-aurentia-pink/10 flex items-center justify-center text-aurentia-pink font-semibold text-xs",children:"3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Visibilité et préférences"}),s.jsx("p",{className:"text-gray-600",children:"Choisissez si votre organisation est publique"})]})]})]})}),s.jsxs(Kt,{className:"flex-col gap-3 items-center",children:[s.jsxs(H,{onClick:n,className:"w-full sm:w-auto bg-aurentia-pink hover:bg-aurentia-pink/90",children:["Créer mon organisation",s.jsx(xl,{className:"ml-2 h-4 w-4"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:[s.jsx("button",{onClick:t,className:"text-sm text-gray-500 hover:text-gray-700 underline transition-colors",children:"Je le ferai plus tard"}),s.jsx("span",{className:"text-gray-300 hidden sm:inline",children:"•"}),s.jsx("button",{onClick:r,className:"text-sm text-gray-400 hover:text-gray-600 underline transition-colors",children:"Ne plus me le rappeler"})]})]})]})}),F8e=x.memo(({userProfile:e,isCollapsed:t,setIsCollapsed:n})=>{var _e,Le,Qe,Q,ae,Se,ye,ze;const r=qi(),i=It(),{projectId:a}=Nt(),{currentProjectId:o,userProjects:l}=yr(),[c,u]=x.useState(!1),[d,f]=x.useState(null),h=nb(),{navigateToOrganisation:m,loading:p}=JD(),{hasOrganization:g,loading:y}=lse(),{userOrganizations:v,loading:w,switchToOrganization:b}=R8e(),{organizationId:j}=cr(),_=!e,[N,S]=x.useState(!1),[C,k]=x.useState(""),[A,T]=x.useState(!1),[E,R]=x.useState(""),[$,O]=x.useState(!1),[F,z]=x.useState(!1),[P,I]=x.useState(!1),[M,U]=x.useState(!1);x.useEffect(()=>{(async()=>{if(!(!e||!d)&&e.user_role==="organisation"){const{data:We}=await q.from("user_organizations").select("organization_id").eq("user_id",e.id).eq("status","active").single();if(!(We!=null&&We.organization_id)){const Ge=sessionStorage.getItem(`org_setup_guide_shown_${d.id}`),ut=e.organization_setup_dismissed===!0;!Ge&&!ut&&(sessionStorage.setItem(`org_setup_guide_shown_${d.id}`,"true"),setTimeout(()=>{U(!0)},1e3))}}})()},[e,d]),x.useEffect(()=>{const je=()=>{u(window.innerWidth<768)};return je(),window.addEventListener("resize",je),()=>{window.removeEventListener("resize",je)}},[]);const D=o||a||(l.length>0?l[0].project_id:null),L=async()=>{if(!C.trim()){R("Veuillez entrer un code d'invitation");return}if(!(d!=null&&d.id)){R("Utilisateur non connecté");return}T(!0),R("");try{const We=(Ge=>{if(!Ge.includes("?")&&!Ge.includes("/join/"))return Ge;try{const ut=new URL(Ge),nn=ut.searchParams.get("code");if(nn)return nn;const Rt=ut.pathname.match(/\/join\/([^\/]+)/);if(Rt)return Rt[1]}catch{return Ge}return Ge})(C.trim());await MK(We,d.id),we({title:"Succès",description:"Vous avez rejoint l'organisation avec succès !"}),S(!1),k(""),window.location.reload()}catch(je){console.error("Erreur lors de la jonction de l'organisation:",je),R(je.message||"Code d'invitation invalide")}finally{T(!1)}},V=async je=>{z(!0);try{await b(je)?(we({title:"Organisation changée",description:"Vous avez changé d'organisation avec succès."}),O(!1),window.location.reload()):we({title:"Erreur",description:"Impossible de changer d'organisation.",variant:"destructive"})}catch(We){console.error("Erreur lors du changement d'organisation:",We),we({title:"Erreur",description:"Une erreur est survenue lors du changement d'organisation.",variant:"destructive"})}finally{z(!1)}},K=()=>{U(!1),i("/setup-organization")},G=async()=>{U(!1)},X=async()=>{if(d!=null&&d.id)try{const{error:je}=await q.from("profiles").update({organization_setup_dismissed:!0}).eq("id",d.id);je?console.error("Error updating organization_setup_dismissed:",je):console.log("Organization setup guide permanently dismissed")}catch(je){console.error("Failed to update dismissal preference:",je)}U(!1)},oe=()=>{var je,We,Ge,ut,nn,Rt;if(!e||r.pathname.startsWith("/individual/"))return Y();switch(e.user_role){case"organisation":case"staff":const hn=j;return hn?{menuItems:[{name:"Tableau de bord",path:`/organisation/${hn}/dashboard`,icon:s.jsx(zc,{size:20})},{name:"Mon Profil Mentor",path:`/organisation/${hn}/my-profile`,icon:s.jsx(Wd,{size:20})},{name:"Adhérents",path:`/organisation/${hn}/adherents`,icon:s.jsx(et,{size:20})},{name:"Projets",path:`/organisation/${hn}/projets`,icon:s.jsx(sn,{size:20})},{name:"Codes d'invitation",path:`/organisation/${hn}/invitations`,icon:s.jsx(cD,{size:20})},{name:"Analytics",path:`/organisation/${hn}/analytics`,icon:s.jsx(yo,{size:20})},{name:"Formulaires",path:`/organisation/${hn}/forms`,icon:s.jsx(lme,{size:20})},{name:"Événements",path:`/organisation/${hn}/evenements`,icon:s.jsx(Wt,{size:20})},{name:"Mentors",path:`/organisation/${hn}/mentors`,icon:s.jsx(dD,{size:20})},{name:"Partenaires",path:`/organisation/${hn}/partenaires`,icon:s.jsx(am,{size:20})},{name:"Livrables",path:`/organisation/${hn}/livrables`,icon:s.jsx(sn,{size:20})},{name:"Chatbot",path:`/organisation/${hn}/chatbot`,icon:s.jsx(Ghe,{size:20})},{name:"Informations",path:`/organisation/${hn}/informations`,icon:s.jsx(Vy,{size:20})},{name:"Paramètres",path:`/organisation/${hn}/settings`,icon:s.jsx(Zr,{size:20})},{isDivider:!0},{name:"Retour à l'espace Adhérent",path:"/individual/dashboard",icon:s.jsx(zc,{size:20}),isCustomAction:!0}],branding:{name:((je=e.organization)==null?void 0:je.name)||"Mon Incubateur",logo:(We=e.organization)==null?void 0:We.logo_url,primaryColor:((Ge=e.organization)==null?void 0:Ge.primary_color)||"#F04F6A"},showProjectSelector:!1,showCredits:!1}:Y();case"member":return{menuItems:[{name:"Tableau de bord",path:"/individual/dashboard",icon:s.jsx(zc,{size:20})},{name:"Livrables",path:D?`/individual/project-business/${D}`:"/individual/project-business",icon:s.jsx(sn,{size:20})},{name:"Assistant IA",path:D?`/individual/chatbot/${D}`:"/individual/chatbot",icon:s.jsx(vu,{size:20})},{isDivider:!0},{name:"Plan d'action",path:"/individual/plan-action",icon:s.jsx(Tj,{size:20})},{name:"Outils",path:"/individual/outils",icon:s.jsx(Zr,{size:20})},{name:"Automatisations",path:"/individual/automatisations",icon:s.jsx(Hr,{size:20})},{name:"Partenaires",path:"/individual/partenaires",icon:s.jsx(am,{size:20})},{name:"Ressources",path:"/individual/ressources",icon:s.jsx(Pj,{size:20})},{name:"Mon Organisation",path:"/individual/my-organization",icon:s.jsx(Yn,{size:20})},{isDivider:!0},{name:"Collaborateurs",path:"/individual/collaborateurs",icon:s.jsx(et,{size:20})}],branding:{name:((ut=e.organization)==null?void 0:ut.name)||"Mon Organisation",logo:(nn=e.organization)==null?void 0:nn.logo_url,primaryColor:((Rt=e.organization)==null?void 0:Rt.primary_color)||"#F04F6A"},showProjectSelector:!0,showCredits:!0};case"individual":default:return Y()}},Y=()=>{var We,Ge;let je;if(y)je={name:"Organisation",path:j?`/organisation/${j}/dashboard`:"/setup-organization",icon:s.jsx(Yn,{size:20}),isCustomAction:!0};else if(e&&e.user_role==="member")je={name:((We=e==null?void 0:e.organization)==null?void 0:We.name)||"Mon Organisation",path:"/individual/my-organization",icon:s.jsx(Yn,{size:20})};else if(g||e&&(e.user_role==="organisation"||e.user_role==="staff")){const ut=(Ge=e==null?void 0:e.organization)==null?void 0:Ge.name,nn=j?`/organisation/${j}/dashboard`:"/setup-organization";je={name:ut||"Organisation",path:nn,icon:s.jsx(Yn,{size:20}),isCustomAction:!0}}else je={name:"Rejoindre une organisation",path:"/join-organization",icon:s.jsx(In,{size:20}),isCustomAction:!0,isCreateOrg:!0};return{menuItems:[{name:"Tableau de bord",path:"/individual/dashboard",icon:s.jsx(zc,{size:20})},{name:"Livrables",path:D?`/individual/project-business/${D}`:"/individual/project-business",icon:s.jsx(sn,{size:20})},{name:"Assistant IA",path:D?`/individual/chatbot/${D}`:"/individual/chatbot",icon:s.jsx(vu,{size:20})},{isDivider:!0},{name:"Plan d'action",path:"/individual/plan-action",icon:s.jsx(Tj,{size:20})},{name:"Outils",path:"/individual/outils",icon:s.jsx(Zr,{size:20})},{name:"Automatisations",path:"/individual/automatisations",icon:s.jsx(Hr,{size:20})},{name:"Partenaires",path:"/individual/partenaires",icon:s.jsx(am,{size:20})},{name:"Ressources",path:"/individual/ressources",icon:s.jsx(Pj,{size:20})},{name:"Template",path:"/individual/template",icon:s.jsx(sn,{size:20})},{isDivider:!0},je,{name:"Collaborateurs",path:"/individual/collaborateurs",icon:s.jsx(et,{size:20})}],branding:{name:"Aurentia",primaryColor:"#F04F6A"},showProjectSelector:!0,showCredits:!0}},ne=()=>(e==null?void 0:e.user_role)==="staff"&&v.length>1,ge=()=>{var je,We;if((e==null?void 0:e.user_role)==="staff"&&v.length>0){const Ge=v.find(ut=>ut.is_primary)||v[0];return((je=Ge==null?void 0:Ge.organization)==null?void 0:je.name)||"Organisation"}return((We=e==null?void 0:e.organization)==null?void 0:We.name)||"Organisation"},se=()=>{var Ge;if(!d)return"";const je=(Ge=d.user_metadata)==null?void 0:Ge.first_name;if(je&&je.trim())return je.trim();const We=d.email;return We?We.split("@")[0]:"Utilisateur"},ce=()=>d?se().charAt(0).toUpperCase():"U",ve=oe(),te=((Qe=(Le=(_e=e==null?void 0:e.organization)==null?void 0:_e.settings)==null?void 0:Le.branding)==null?void 0:Qe.whiteLabel)||!1,ue=(Q=e==null?void 0:e.organization)==null?void 0:Q.logo_url,ee=(ae=e==null?void 0:e.organization)==null?void 0:ae.name,Ie=r.pathname.startsWith("/org/")&&te&&ue&&ee,Pe=je=>je?"bg-gradient-to-r from-aurentia-pink to-aurentia-orange text-white font-medium":"text-gray-700 hover:bg-gray-100",Ae=()=>s.jsx("div",{className:de("hidden md:block h-screen fixed top-0 left-0 z-10 transition-all duration-300",t?"w-20":"w-64"),children:s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm h-full rounded-r-xl shadow-sm border-r border-gray-100 relative",children:[s.jsxs("div",{className:"flex items-center p-4 gap-2 relative",children:[Ie?t?s.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:s.jsx("img",{src:ue,alt:ee,className:"h-full w-full object-cover"})}):s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:s.jsx("img",{src:ue,alt:ee,className:"h-full w-full object-cover"})}),s.jsx("span",{className:"font-bold truncate text-gray-900",children:ee})]}):t?s.jsx("div",{className:"h-8 w-8",children:s.jsx("img",{src:"/picto-aurentia.svg",alt:"Aurentia Picto",className:"h-full w-full"})}):s.jsx("div",{className:"h-8 w-auto",children:s.jsx("img",{src:"/Aurentia-logo-long.svg",alt:"Aurentia Logo",className:"h-full w-auto"})}),s.jsx("button",{onClick:()=>n(!t),className:"absolute right-[-12px] top-1/2 -translate-y-1/2 bg-white border border-gray-200 rounded-full p-1 shadow-md hover:bg-gray-100 transition-all duration-300",children:s.jsx(_a,{size:16,className:de("transition-transform duration-300",t?"rotate-180":"")})})]}),s.jsx("div",{className:"border-b border-gray-200 mx-4 mb-4"}),ve.showProjectSelector&&s.jsx("div",{className:de("mb-6 px-3"),children:s.jsx(O8e,{isCollapsed:t,userRole:(e==null?void 0:e.user_role)||"individual"})}),s.jsx("nav",{className:"space-y-1 flex-1 px-3",children:ve.menuItems.map((je,We)=>je.isDivider?s.jsx("div",{className:"my-4 border-t border-gray-200"},`divider-${We}`):je.isCustomAction&&je.path==="/organisation"?s.jsxs("button",{onClick:ne()?()=>O(!0):m,disabled:p||_||w,className:de("flex items-center gap-3 py-2 px-3 rounded-md text-sm transition-colors w-full text-left",p||_||w?"opacity-50 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"),children:[je.icon,!t&&s.jsx("span",{children:p||_||w?"Chargement...":ne()?`${ge()} ▼`:je.name||"Organisation"})]},`${je.path}-${je.name}-${We}`):je.isCustomAction&&je.isCreateOrg?s.jsxs("button",{onClick:()=>{I(!0)},disabled:y,className:de("flex items-center gap-3 py-2 px-3 rounded-md text-sm transition-colors w-full text-left",y?"opacity-50 cursor-not-allowed":"text-aurentia-pink hover:bg-aurentia-pink/10 font-medium"),children:[je.icon,!t&&s.jsx("span",{children:y?"Chargement...":je.name})]},`${je.path}-${je.name}-${We}`):je.isCustomAction&&je.name==="Retour à l'espace Entrepreneur"?s.jsxs("button",{onClick:()=>i("/individual/dashboard"),className:de("flex items-center gap-3 py-2 px-3 rounded-md text-sm transition-colors w-full text-left text-gray-700 hover:bg-gray-100"),children:[je.icon,!t&&s.jsx("span",{children:je.name})]},`${je.path}-${je.name}-${We}`):s.jsxs(cm,{to:je.path,className:de("flex items-center gap-3 py-2 px-3 rounded-md text-sm transition-colors",Pe(r.pathname===je.path&&r.pathname!=="/warning"||je.name==="Livrables"&&r.pathname.includes("/project-business/")||je.name==="Assistant IA"&&r.pathname.includes("/chatbot/")||je.name==="Automatisations"&&r.pathname.startsWith("/automatisations")||je.name==="Partenaires"&&r.pathname.startsWith("/partenaires")||je.name==="Plan d'action"&&r.pathname.includes("/plan-action"))),children:[je.icon,!t&&s.jsx("span",{children:je.name})]},`${je.path}-${je.name}-${We}`))}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 border-t border-gray-200 p-3",children:[d&&ve.showCredits&&s.jsx("div",{className:de("px-3 mb-3",t&&"flex flex-col items-center"),children:s.jsx(B8e,{isCollapsed:t,...h})}),d?s.jsxs(s.Fragment,{children:[s.jsxs(cm,{to:"/individual/profile",className:de("flex items-center gap-3 py-2 px-3 rounded-md text-sm text-gray-700 hover:bg-gray-100"),children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-primary flex items-center justify-center text-white text-sm font-medium",children:ce()}),!t&&s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:se()}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:d.email})]})]}),s.jsxs("button",{onClick:W,className:de("flex items-center gap-3 py-2 px-3 rounded-md text-sm text-gray-700 hover:bg-gray-100 w-full mt-2"),children:[s.jsx(df,{size:18}),!t&&s.jsx("span",{children:"Déconnexion"})]})]}):s.jsxs(cm,{to:"/login",className:de("flex items-center gap-3 py-2 px-3 rounded-md text-sm text-gray-700 hover:bg-gray-100 w-full"),children:[s.jsx(df,{size:18}),!t&&s.jsx("span",{children:"Connexion"})]})]})]})});x.useEffect(()=>{(async()=>{const{data:{user:Ge}}=await q.auth.getUser();f(Ge)})();const{data:We}=q.auth.onAuthStateChange((Ge,ut)=>{f((ut==null?void 0:ut.user)||null)});return()=>{We.subscription.unsubscribe()}},[]);const W=async()=>{await q.auth.signOut()};return x.useEffect(()=>{var je,We,Ge;if(((Ge=(We=(je=e==null?void 0:e.organization)==null?void 0:je.settings)==null?void 0:We.branding)==null?void 0:Ge.whiteLabel)!==void 0){const ut=()=>{window.location.reload()},nn=new MutationObserver(ut),Rt=document.querySelector("#white-label-toggle");return Rt&&nn.observe(Rt,{attributes:!0}),()=>{nn.disconnect()}}},[(ze=(ye=(Se=e==null?void 0:e.organization)==null?void 0:Se.settings)==null?void 0:ye.branding)==null?void 0:ze.whiteLabel]),s.jsxs(s.Fragment,{children:[c?s.jsx(z8e,{userProfile:e,organizationId:j,joinOrgModalOpen:N,setJoinOrgModalOpen:S,invitationCode:C,setInvitationCode:k,joinOrgLoading:A,joinOrgError:E,setJoinOrgError:R,handleJoinOrganization:L,publicOrgsModalOpen:P,setPublicOrgsModalOpen:I}):s.jsx(Ae,{}),s.jsx(pt,{open:N,onOpenChange:S,children:s.jsxs(gt,{className:"sm:max-w-[425px]",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Rejoindre une organisation"}),s.jsx(Mt,{children:"Entrez le code d'invitation ou le lien d'invitation que vous avez reçu pour rejoindre une organisation."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Be,{htmlFor:"invitation-code",className:"text-right",children:"Code d'invitation"}),s.jsx(ke,{id:"invitation-code",value:C,onChange:je=>{k(je.target.value),E&&R("")},className:"col-span-3",placeholder:"INV-ABC123 ou https://..."})]}),E&&s.jsx("div",{className:"text-red-600 text-sm text-center",children:E})]}),s.jsxs(Kt,{children:[s.jsx(H,{type:"button",variant:"outline",onClick:()=>{S(!1),k(""),R("")},children:"Annuler"}),s.jsx(H,{type:"button",onClick:L,disabled:A,className:"bg-aurentia-pink hover:bg-aurentia-pink/90",children:A?"Rejoindre...":"Rejoindre"})]})]})}),s.jsx(pt,{open:$,onOpenChange:O,children:s.jsxs(gt,{className:"sm:max-w-[425px]",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Changer d'organisation"}),s.jsx(Mt,{children:"Sélectionnez l'organisation dans laquelle vous souhaitez travailler."})]}),s.jsx("div",{className:"grid gap-4 py-4",children:w?s.jsx("div",{className:"text-center text-gray-500",children:"Chargement des organisations..."}):v.length===0?s.jsx("div",{className:"text-center text-gray-500",children:"Aucune organisation trouvée"}):s.jsx("div",{className:"space-y-2",children:v.map(je=>{var We,Ge;return s.jsx("button",{onClick:()=>V(je.organization_id),disabled:F,className:de("w-full p-3 rounded-md border text-left transition-colors",je.is_primary?"border-aurentia-pink bg-aurentia-pink/10 text-aurentia-pink":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[((We=je.organization)==null?void 0:We.logo)&&s.jsx("img",{src:je.organization.logo,alt:je.organization.name,className:"w-8 h-8 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:((Ge=je.organization)==null?void 0:Ge.name)||"Organisation inconnue"}),s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:je.user_role})]}),je.is_primary&&s.jsx("span",{className:"text-xs bg-aurentia-pink text-white px-2 py-1 rounded-full",children:"Actuelle"})]})},je.id)})})}),s.jsx(Kt,{children:s.jsx(H,{type:"button",variant:"outline",onClick:()=>O(!1),children:"Annuler"})})]})}),s.jsx(L8e,{isOpen:P,onClose:()=>I(!1),userAddress:e==null?void 0:e.address}),s.jsx($8e,{isOpen:M,onClose:G,onStartSetup:K,onDismissPermanently:X})]})}),z8e=({userProfile:e,organizationId:t,joinOrgModalOpen:n,setJoinOrgModalOpen:r,invitationCode:i,setInvitationCode:a,joinOrgLoading:o,joinOrgError:l,setJoinOrgError:c,handleJoinOrganization:u,publicOrgsModalOpen:d,setPublicOrgsModalOpen:f})=>{const h=qi(),m=It(),{projectId:p}=Nt(),{currentProjectId:g,userProjects:y,userCredits:v,creditsLoading:w}=yr(),[b,j]=x.useState(null),[_,N]=x.useState(!1),{navigateToOrganisation:S,loading:C}=JD(),{hasOrganization:k,loading:A}=lse();x.useEffect(()=>{(async()=>{const{data:{user:z}}=await q.auth.getUser();j(z)})();const{data:F}=q.auth.onAuthStateChange((z,P)=>{j((P==null?void 0:P.user)||null)});return()=>{F.subscription.unsubscribe()}},[]),x.useEffect(()=>{N(!1)},[h.pathname]);const T=g||p||(y.length>0?y[0].project_id:null),E=()=>{if(!e||h.pathname.startsWith("/individual/"))return R();switch(e.user_role){case"organisation":case"staff":return t?[{name:"Tableau de bord",path:`/organisation/${t}/dashboard`,icon:s.jsx(zc,{size:20})},{name:"Adhérents",path:`/organisation/${t}/adherents`,icon:s.jsx(et,{size:20})},{name:"Projets",path:`/organisation/${t}/projets`,icon:s.jsx(sn,{size:20})},{name:"Codes d'invitation",path:`/organisation/${t}/invitations`,icon:s.jsx(cD,{size:20})},{name:"Analytics",path:`/organisation/${t}/analytics`,icon:s.jsx(yo,{size:20})},{name:"Paramètres",path:`/organisation/${t}/settings`,icon:s.jsx(Zr,{size:20})}]:R();case"member":return[{name:"Tableau de bord",path:"/individual/dashboard",icon:s.jsx(zc,{size:20})},{name:"Livrables",path:T?`/individual/project-business/${T}`:"/individual/project-business",icon:s.jsx(sn,{size:20})},{name:"Assistant IA",path:T?`/individual/chatbot/${T}`:"/individual/chatbot",icon:s.jsx(vu,{size:20})},{name:"Plan d'action",path:"/individual/plan-action",icon:s.jsx(Tj,{size:20})},{name:"Outils",path:"/individual/outils",icon:s.jsx(Zr,{size:20})},{name:"Automatisations",path:"/individual/automatisations",icon:s.jsx(Hr,{size:20})},{name:"Partenaires",path:"/individual/partenaires",icon:s.jsx(am,{size:20})},{name:"Ressources",path:"/individual/ressources",icon:s.jsx(Pj,{size:20})},{name:"Mon Organisation",path:"/individual/my-organization",icon:s.jsx(Yn,{size:20})},{name:"Collaborateurs",path:"/individual/collaborateurs",icon:s.jsx(et,{size:20})}];case"individual":default:return R()}},R=()=>{var F,z;let O;if(A)O={name:"Organisation",path:t?`/organisation/${t}/dashboard`:"/setup-organization",icon:s.jsx(Yn,{size:20}),isCustomAction:!0};else if(e&&e.user_role==="member")O={name:((F=e==null?void 0:e.organization)==null?void 0:F.name)||"Mon Organisation",path:"/individual/my-organization",icon:s.jsx(Yn,{size:20})};else if(k||e&&(e.user_role==="organisation"||e.user_role==="staff")){const P=(z=e==null?void 0:e.organization)==null?void 0:z.name,I=t?`/organisation/${t}/dashboard`:"/setup-organization";O={name:P||"Organisation",path:I,icon:s.jsx(Yn,{size:20}),isCustomAction:!0}}else O={name:"Rejoindre une organisation",path:"/join-organization",icon:s.jsx(In,{size:20}),isCustomAction:!0,isCreateOrg:!0};return[{name:"Tableau de bord",path:"/individual/dashboard",icon:s.jsx(zc,{size:20})},{name:"Livrables",path:T?`/individual/project-business/${T}`:"/individual/project-business",icon:s.jsx(sn,{size:20})},{name:"Assistant IA",path:T?`/individual/chatbot/${T}`:"/individual/chatbot",icon:s.jsx(vu,{size:20})},{name:"Plan d'action",path:"/individual/plan-action",icon:s.jsx(Tj,{size:20})},{name:"Outils",path:"/individual/outils",icon:s.jsx(Zr,{size:20})},{name:"Automatisations",path:"/individual/automatisations",icon:s.jsx(Hr,{size:20})},{name:"Partenaires",path:"/individual/partenaires",icon:s.jsx(am,{size:20})},{name:"Ressources",path:"/individual/ressources",icon:s.jsx(Pj,{size:20})},O,{name:"Collaborateurs",path:"/individual/collaborateurs",icon:s.jsx(et,{size:20})}]},$=E();return e&&(e.user_role==="organisation"||e.user_role==="staff")&&h.pathname.startsWith("/organisation/")&&$.push({name:"Retour à l'espace Adhérent",path:"/individual/dashboard",icon:s.jsx(zc,{size:20}),isCustomAction:!0}),s.jsxs(s.Fragment,{children:[!_&&s.jsx("button",{onClick:()=>N(!0),className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-primary text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 md:hidden",children:s.jsx(ime,{size:24})}),s.jsx("div",{className:de("fixed bottom-4 left-4 right-4 z-50 md:hidden transition-all duration-300 ease-in-out",_?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-8 pointer-events-none"),children:s.jsxs("nav",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[b&&v&&((e==null?void 0:e.user_role)==="individual"||(e==null?void 0:e.user_role)==="member")&&s.jsx("div",{className:"bg-white px-4 py-2 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédits",className:"h-4 w-4"}),s.jsx("span",{className:"font-medium text-gray-700",children:w?"...":`${(v.monthly_credits_remaining||0)+(v.purchased_credits_remaining||0)} / ${v.monthly_credits_limit}`})]})}),s.jsx("div",{className:"px-3 py-3 overflow-x-auto scrollbar-hide",children:s.jsxs("div",{className:"flex items-center space-x-3 min-w-max",children:[$.map(O=>O.isCustomAction&&O.path==="/organisation"?s.jsx("button",{onClick:S,disabled:C,className:de("w-10 h-10 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200 flex-shrink-0",C?"opacity-50 cursor-not-allowed bg-gray-100 text-gray-400":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105"),children:O.icon},O.name):O.isCustomAction&&O.isCreateOrg?s.jsx("button",{onClick:()=>{f(!0)},disabled:A,className:de("w-10 h-10 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200 flex-shrink-0",A?"opacity-50 cursor-not-allowed bg-gray-100 text-gray-400":"bg-aurentia-pink/10 text-aurentia-pink hover:bg-aurentia-pink/20 hover:scale-105"),children:O.icon},O.name):O.isCustomAction&&O.name==="Retour à l'espace Adhérent"?s.jsx("button",{onClick:()=>m("/individual/dashboard"),className:de("w-10 h-10 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200 flex-shrink-0 bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105"),children:O.icon},O.name):s.jsx(cm,{to:O.path,className:de("w-10 h-10 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200 flex-shrink-0",h.pathname===O.path&&h.pathname!=="/warning"||O.name==="Livrables"&&h.pathname.includes("/project-business/")||O.name==="Assistant IA"&&h.pathname.includes("/chatbot/")||O.name==="Automatisations"&&h.pathname.includes("/automatisations")||O.name==="Partenaires"&&h.pathname.includes("/partenaires")||O.name==="Plan d'action"&&h.pathname.includes("/plan-action")||O.name==="Ressources"&&h.pathname.includes("/ressources")||O.name==="Collaborateurs"&&h.pathname.includes("/collaborateurs")?"bg-gradient-primary text-white shadow-md scale-110":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105"),children:O.icon},O.path)),b?s.jsx(cm,{to:"/individual/profile",className:de("w-10 h-10 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200 flex-shrink-0",h.pathname.includes("/profile")?"bg-gradient-primary text-white shadow-md scale-110":"bg-gradient-primary text-white hover:scale-105"),children:s.jsx("span",{className:"text-sm font-medium",children:b.email?b.email[0].toUpperCase():"U"})}):s.jsx(cm,{to:"/login",className:de("w-10 h-10 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200 flex-shrink-0",h.pathname==="/login"?"bg-gradient-primary text-white shadow-md scale-110":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105"),children:s.jsx(df,{size:20})}),s.jsx("button",{onClick:()=>N(!1),className:"w-10 h-10 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200 flex-shrink-0 bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 ml-2",children:s.jsx(_a,{size:20})})]})})]})})]})},B8e=({isCollapsed:e,monthlyRemaining:t,monthlyLimit:n,purchasedRemaining:r,isLoading:i,error:a})=>{const{userProjectsLoading:o}=yr();if(i||o)return s.jsx("p",{className:"text-xs text-gray-500",children:e?"...":"Chargement crédits..."});if(a)return s.jsx("p",{className:"text-xs text-red-500",children:e?"!":"Erreur crédits"});const l=t??0,c=n??0,d=l+(r??0);return e?s.jsxs("div",{className:"flex flex-col items-center w-full",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédit",className:"w-8 h-8 mb-1"}),s.jsx("span",{className:"text-sm text-gray-700",children:d}),s.jsx("hr",{className:"w-8 my-1 border-gray-300"}),s.jsx("span",{className:"text-xs text-gray-500",children:c})]}):s.jsx("div",{className:"flex flex-col gap-2 w-full items-start",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/credit-3D.png",alt:"Crédit",className:"w-6 h-6"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[d," / ",c]})]})})},U8e=()=>{const{userProfile:e,loading:t}=cr(),[n,r]=x.useState(!1),i=qi();console.log("[RoleBasedLayout] Render - loading:",t,"userProfile:",e==null?void 0:e.id);const a=i.pathname.startsWith("/organisation/");return t?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):s.jsxs("div",{className:"flex min-h-screen bg-[#F4F4F1]",children:[s.jsx(F8e,{userProfile:e,isCollapsed:n,setIsCollapsed:r}),s.jsx("main",{className:de("flex-1 overflow-auto transition-all duration-300","md:ml-0",n?"md:ml-20":"md:ml-64"),children:a?s.jsx("div",{className:"max-w-[100vw] overflow-x-hidden",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 max-w-screen-2xl",children:s.jsx(H2,{})})}):s.jsx(H2,{})})]})},q8e=()=>{const{userRole:e,loading:t,organizationId:n}=cr(),r=qi();if(console.log("[RoleBasedRedirect] Current path:",r.pathname),console.log("[RoleBasedRedirect] User role:",e,"| Org ID:",n,"| Loading:",t),t||!e)return console.log("[RoleBasedRedirect] Still loading, skipping redirect"),null;const i=r.pathname;if(i.startsWith("/login")||i.startsWith("/signup")||i.startsWith("/update-password")||i.startsWith("/organisation")||i.startsWith("/individual")||i.startsWith("/super-admin")||i.startsWith("/setup-organization")||i.startsWith("/verify-email")||i.startsWith("/confirm-email")||i.startsWith("/accept-invitation")||i.startsWith("/auth/callback"))return console.log("[RoleBasedRedirect] Path whitelisted, no redirect"),null;const a=x.useMemo(()=>{if(!e)return null;switch(e){case"organisation":case"staff":return n?`/organisation/${n}/dashboard`:"/setup-organization";case"super_admin":return"/super-admin/dashboard";case"member":case"individual":default:return"/individual/dashboard"}},[e,n]);return a&&i!==a?(console.log("[RoleBasedRedirect] Redirecting to:",a),s.jsx(Qr,{to:a,replace:!0})):(console.log("[RoleBasedRedirect] No redirect needed"),null)},V8e=async(e,t=15,n=0)=>{const r=[];if(console.log("getRecentActivities called with:",{organizationId:e,limit:t,offset:n}),!e||e==="undefined"||e==="null")return console.warn("Invalid organizationId provided:",e),[];try{const i=q;if(n===0){const{data:p}=await i.from("organizations").select(`
          id,
          name,
          created_at,
          created_by
        `).eq("id",e).single();if(console.log("DEBUG Organization:",{organizationId:e,currentOrganization:p}),p){let g="Créateur inconnu",y="unknown@example.com";if(p.created_by){const{data:v}=await i.from("profiles").select("email, first_name, last_name").eq("id",p.created_by).single();console.log("DEBUG Creator profile:",v),v&&(g=v.first_name&&v.last_name?`${v.first_name} ${v.last_name}`:v.email||"Créateur inconnu",y=v.email||"unknown@example.com")}r.push({id:`org_${p.id}`,type:"organization_created",title:"Organisation créée",description:`${g} a créé l'organisation "${p.name}"`,icon:"🏢",user_name:g,user_email:y,entity_id:p.id,entity_name:p.name,created_at:p.created_at,metadata:{organization_name:p.name,is_organization_creation:!0}})}}const{data:a}=await i.from("user_organizations").select(`
        id,
        joined_at,
        user_role,
        profiles!user_organizations_user_id_fkey (
          email,
          first_name,
          last_name
        )
      `).eq("organization_id",e).eq("status","active").order("joined_at",{ascending:!1}).limit(5);console.log("DEBUG New members:",(a==null?void 0:a.length)||0,a),a&&a.forEach(p=>{var y,v,w,b,j;const g=(y=p.profiles)!=null&&y.first_name&&((v=p.profiles)!=null&&v.last_name)?`${p.profiles.first_name} ${p.profiles.last_name} (${(w=p.profiles)==null?void 0:w.email})`:((b=p.profiles)==null?void 0:b.email)||"Utilisateur inconnu";r.push({id:`member_${p.id}`,type:"user_joined",title:"Nouveau membre rejoint",description:`${g} a rejoint l'organisation en tant que ${p.user_role==="organisation_member"?"entrepreneur":"membre de l'équipe"}`,icon:"👥",user_name:g,user_email:(j=p.profiles)==null?void 0:j.email,created_at:p.joined_at,metadata:{role:p.user_role}})});const{data:o}=await i.from("user_organizations").select("user_id").eq("organization_id",e).eq("status","active"),l=(o==null?void 0:o.map(p=>p.user_id))||[];if(l.length>0){const{data:p}=await i.from("project_summary").select(`
          project_id,
          nom_projet,
          created_at,
          user_id,
          profiles!user_id (
            email,
            first_name,
            last_name
          )
        `).in("user_id",l).order("created_at",{ascending:!1}).limit(5);p&&p.forEach(g=>{var v,w,b,j,_;const y=(v=g.profiles)!=null&&v.first_name&&((w=g.profiles)!=null&&w.last_name)?`${g.profiles.first_name} ${g.profiles.last_name} (${(b=g.profiles)==null?void 0:b.email})`:((j=g.profiles)==null?void 0:j.email)||"Entrepreneur";r.push({id:`project_${g.project_id}`,type:"project_created",title:"Nouveau projet créé",description:`${y} a créé le projet "${g.nom_projet}"`,icon:"🚀",user_name:y,user_email:(_=g.profiles)==null?void 0:_.email,entity_id:g.project_id,entity_name:g.nom_projet,created_at:g.created_at})})}if(l.length>0){const{data:p}=await i.from("project_summary").select(`
          project_id,
          nom_projet,
          updated_at,
          user_id,
          profiles!user_id (
            email,
            first_name,
            last_name
          )
        `).in("user_id",l).neq("updated_at",null).order("updated_at",{ascending:!1}).limit(3);p&&p.forEach(g=>{var v,w,b,j,_;const y=(v=g.profiles)!=null&&v.first_name&&((w=g.profiles)!=null&&w.last_name)?`${g.profiles.first_name} ${g.profiles.last_name} (${(b=g.profiles)==null?void 0:b.email})`:((j=g.profiles)==null?void 0:j.email)||"Entrepreneur";r.push({id:`project_updated_${g.project_id}`,type:"project_completed",title:"Projet mis à jour",description:`${y} a mis à jour le projet "${g.nom_projet}"`,icon:"📈",user_name:y,user_email:(_=g.profiles)==null?void 0:_.email,entity_id:g.project_id,entity_name:g.nom_projet,created_at:g.updated_at})})}const{data:c}=await i.from("deliverables").select(`
        id,
        title,
        completed_at,
        entrepreneur_id,
        project_summary!deliverables_project_id_fkey (
          nom_projet,
          profiles!project_summary_user_id_fkey (
            email,
            first_name,
            last_name
          )
        )
      `).eq("organization_id",e).eq("status","completed").not("completed_at","is",null).order("completed_at",{ascending:!1}).limit(5);c&&c.forEach(p=>{var y,v,w,b,j,_,N,S,C,k,A;const g=(v=(y=p.project_summary)==null?void 0:y.profiles)!=null&&v.first_name&&((b=(w=p.project_summary)==null?void 0:w.profiles)!=null&&b.last_name)?`${p.project_summary.profiles.first_name} ${p.project_summary.profiles.last_name} (${(_=(j=p.project_summary)==null?void 0:j.profiles)==null?void 0:_.email})`:((S=(N=p.project_summary)==null?void 0:N.profiles)==null?void 0:S.email)||"Entrepreneur";r.push({id:`deliverable_${p.id}`,type:"deliverable_completed",title:"Livrable terminé",description:`${g} a terminé le livrable "${p.title}"`,icon:"📋",user_name:g,user_email:(k=(C=p.project_summary)==null?void 0:C.profiles)==null?void 0:k.email,entity_id:p.id,entity_name:p.title,created_at:p.completed_at,metadata:{project_name:(A=p.project_summary)==null?void 0:A.nom_projet}})});const{data:u}=await i.from("events").select(`
        id,
        title,
        created_at,
        start_date,
        type
      `).eq("organization_id",e).order("created_at",{ascending:!1}).limit(5);if(u&&u.forEach(p=>{r.push({id:`event_${p.id}`,type:"event_created",title:"Nouvel événement planifié",description:`L'événement "${p.title}" a été programmé pour le ${new Date(p.start_date).toLocaleDateString("fr-FR")}`,icon:"📅",entity_id:p.id,entity_name:p.title,created_at:p.created_at,metadata:{start_date:p.start_date,event_type:p.type}})}),u&&u.length>0){const p=u[0],g=new Date(p.created_at),y=new Date(g.getTime()+5*60*1e3);r.push({id:`event_updated_sim_${p.id}`,type:"event_updated",title:"Événement modifié",description:`L'événement "${p.title}" a été mis à jour (lieu et participants ajoutés)`,icon:"✏️",entity_id:p.id,entity_name:p.title,created_at:y.toISOString(),metadata:{start_date:p.start_date,event_type:p.type,changes:["lieu","participants"]}});const v=new Date(g.getTime()+10*60*1e3);if(r.push({id:`event_participant_sim_${p.id}`,type:"event_participant_added",title:"Participants ajoutés",description:`2 participants ont été ajoutés à l'événement "${p.title}"`,icon:"👥",entity_id:p.id,entity_name:p.title,created_at:v.toISOString(),metadata:{start_date:p.start_date,event_type:p.type,participants_count:2}}),u.length>1){const w=new Date(g.getTime()+9e5),b=new Date(p.start_date);b.setDate(b.getDate()+1),r.push({id:`event_moved_sim_${p.id}`,type:"event_moved",title:"Événement déplacé",description:`L'événement "${p.title}" a été déplacé au ${b.toLocaleDateString("fr-FR")}`,icon:"�",entity_id:p.id,entity_name:p.title,created_at:w.toISOString(),metadata:{old_start_date:p.start_date,new_start_date:b.toISOString(),event_type:p.type}})}}const{data:d,error:f}=await i.from("invitation_code").select(`
        id,
        code,
        created_at,
        type,
        created_by,
        organization_id
      `).eq("organization_id",e).eq("is_active",!0).order("created_at",{ascending:!1}).limit(10);if(console.log("DEBUG Invitations:",{organizationId:e,newInvitations:d==null?void 0:d.length,invitationsError:f}),d&&d.length>0){const p=[...new Set(d.map(y=>y.created_by).filter(Boolean))];let g={};if(p.length>0){const{data:y}=await i.from("profiles").select("id, email, first_name, last_name").in("id",p);y&&(g=y.reduce((v,w)=>({...v,[w.id]:w}),{}))}d.slice(0,3).forEach(y=>{var b,j;const v=g[y.created_by],w=v!=null&&v.first_name&&(v!=null&&v.last_name)?`${v.first_name} ${v.last_name}`:(v==null?void 0:v.email)||`Utilisateur ${((b=y.created_by)==null?void 0:b.substring(0,8))||"inconnu"}`;r.push({id:`invitation_${y.id}`,type:"invitation_created",title:"Code d'invitation créé",description:`${w} a créé un code d'invitation pour ${y.type==="organisation_member"?"un entrepreneur":"un membre de l'équipe"}`,icon:"📨",user_name:w,user_email:(v==null?void 0:v.email)||`user_${((j=y.created_by)==null?void 0:j.substring(0,8))||"unknown"}@example.com`,entity_id:y.id,entity_name:y.code,created_at:y.created_at,metadata:{invitation_type:y.type}})})}const{data:h}=await i.from("form_templates").select(`
        id,
        title,
        created_at,
        is_active
      `).eq("organization_id",e).order("created_at",{ascending:!1}).limit(3);h&&h.forEach(p=>{r.push({id:`form_${p.id}`,type:"form_created",title:"Nouveau formulaire créé",description:`Le formulaire "${p.title}" a été créé${p.is_active?" et activé":""}`,icon:"📝",entity_id:p.id,entity_name:p.title,created_at:p.created_at,metadata:{is_active:p.is_active}})}),r.sort((p,g)=>new Date(g.created_at).getTime()-new Date(p.created_at).getTime());const m=r.slice(n,n+t);return console.log("getRecentActivities returning:",{totalActivities:r.length,returned:m.length,result:m}),m}catch(i){return console.error("Erreur lors de la récupération des activités récentes:",i),[]}},H8e=async(e,t,n,r,i,a,o)=>{try{const l=q;let c="Utilisateur inconnu",u="unknown@example.com";if(a){const{data:d}=await l.from("profiles").select("email, first_name, last_name").eq("id",a).single();d&&(c=d.first_name&&d.last_name?`${d.first_name} ${d.last_name}`:d.email||"Utilisateur inconnu",u=d.email||"unknown@example.com")}console.log("Event activity logged:",{organizationId:e,eventId:t,eventTitle:n,activityType:r,description:i,userName:c,userEmail:u,metadata:o})}catch(l){console.error("Erreur lors de l'enregistrement de l'activité d'événement:",l)}},W8e=async e=>{try{const t=q,{data:n}=await t.from("user_organizations").select("user_id").eq("organization_id",e).eq("status","active"),r=(n==null?void 0:n.map(m=>m.user_id))||[],i=[t.from("user_organizations").select("*",{count:"exact",head:!0}).eq("organization_id",e),t.from("deliverables").select("*",{count:"exact",head:!0}).eq("organization_id",e).eq("status","completed"),t.from("events").select("*",{count:"exact",head:!0}).eq("organization_id",e),t.from("invitation_code").select("*",{count:"exact",head:!0}).eq("organization_id",e),t.from("form_templates").select("*",{count:"exact",head:!0}).eq("organization_id",e)];r.length>0&&i.push(t.from("project_summary").select("*",{count:"exact",head:!0}).in("user_id",r));const a=await Promise.all(i),[{count:o},{count:l},{count:c},{count:u},{count:d},f]=a,h=r.length>0&&(f==null?void 0:f.count)||0;return 1+(o||0)+h*2+(l||0)+(c||0)+(u||0)+(d||0)}catch(t){return console.error("Erreur lors du comptage des activités:",t),1}},G8e=()=>{const{id:e}=Nt(),{userProfile:t}=Hf(),n=x.useCallback(async(l,c,u,d,f)=>{!e||!(t!=null&&t.id)||await H8e(e,l,c,u,d,t.id,f)},[e,t==null?void 0:t.id]),r=x.useCallback(async(l,c,u)=>{const d=[];if(c.title&&c.title!==(u==null?void 0:u.title)&&d.push(`titre modifié de "${u==null?void 0:u.title}" vers "${c.title}"`),c.location&&c.location!==(u==null?void 0:u.location)&&d.push(`lieu modifié vers "${c.location}"`),c.start_date&&c.start_date!==(u==null?void 0:u.start_date)){const f=new Date(c.start_date).toLocaleDateString("fr-FR");d.push(`date modifiée vers ${f}`)}if(c.max_participants&&c.max_participants!==(u==null?void 0:u.max_participants)&&d.push(`nombre max de participants modifié vers ${c.max_participants}`),c.status&&c.status!==(u==null?void 0:u.status)&&d.push(`statut modifié vers "${c.status}"`),d.length>0){const f=`Événement "${l.title}" modifié: ${d.join(", ")}`;await n(l.id,l.title,"event_updated",f,{changes:c,previousValues:u})}},[n]),i=x.useCallback(async(l,c)=>{const u=c.length===1?`${c[0]} a été ajouté(e) à l'événement "${l.title}"`:`${c.length} participants ont été ajoutés à l'événement "${l.title}"`;await n(l.id,l.title,"event_participant_added",u,{participants:c})},[n]),a=x.useCallback(async(l,c)=>{const u=c.length===1?`${c[0]} a été retiré(e) de l'événement "${l.title}"`:`${c.length} participants ont été retirés de l'événement "${l.title}"`;await n(l.id,l.title,"event_participant_removed",u,{participants:c})},[n]),o=x.useCallback(async(l,c,u,d)=>{const f=new Date(c).toLocaleDateString("fr-FR"),h=new Date(c).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});let m=`Événement "${l.title}" déplacé vers le ${f} à ${h}`;if(d){const p=new Date(d).toLocaleDateString("fr-FR"),g=new Date(d).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});m=`Événement "${l.title}" déplacé du ${p} ${g} vers le ${f} ${h}`}await n(l.id,l.title,"event_moved",m,{newStartDate:c,newEndDate:u,previousStartDate:d,newFormattedDate:`${f} ${h}`})},[n]);return{trackEventUpdate:r,trackParticipantAdded:i,trackParticipantRemoved:a,trackEventMoved:o}},i4=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(null),{trackEventUpdate:l,trackParticipantAdded:c,trackParticipantRemoved:u,trackEventMoved:d}=G8e(),f=async()=>{if(e)try{i(!0),o(null);const g=await qK(e);n(g)}catch(g){o("Erreur lors du chargement des événements"),console.error("Erreur chargement événements:",g)}finally{i(!1)}},h=async g=>{try{const y=await YK({...g,participants:g.participants||[]});return y?(n(v=>[y,...v]),!0):!1}catch(y){return o("Erreur lors de la création de l'événement"),console.error("Erreur création événement:",y),!1}},m=async(g,y)=>{try{const v=t.find(b=>b.id===g);if(!v)throw new Error("Événement non trouvé");const w=await KD(g,y);if(w){if(n(b=>b.map(j=>j.id===g?w:j)),await l(w,y,v),y.participants&&v.participants){const b=y.participants.filter(_=>!v.participants.includes(_)),j=v.participants.filter(_=>!y.participants.includes(_));b.length>0&&await c(w,[`${b.length} participant(s)`]),j.length>0&&await u(w,[`${j.length} participant(s)`])}return y.start_date&&y.start_date!==v.start_date&&await d(w,y.start_date,y.end_date||v.end_date,v.start_date),w}return null}catch(v){return o("Erreur lors de la modification de l'événement"),console.error("Erreur modification événement:",v),null}},p=async g=>{try{return await XK(g)?(n(v=>v.filter(w=>w.id!==g)),!0):!1}catch(y){return o("Erreur lors de la suppression de l'événement"),console.error("Erreur suppression événement:",y),!1}};return x.useEffect(()=>{f()},[e]),{events:t,loading:r,error:a,fetchEvents:f,addEvent:h,editEvent:m,removeEvent:p}},K8e=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(null);return x.useEffect(()=>{(async()=>{if(e)try{i(!0),o(null);const{data:c,error:u}=await q.from("form_business_idea").select(`
            project_id,
            nom_projet,
            project_sentence,
            created_at,
            organization_id,
            organizations!form_business_idea_organization_id_fkey (
              id,
              name
            )
          `).eq("user_id",e).order("created_at",{ascending:!1});u&&console.error("Error fetching business ideas:",u);const d=(c||[]).map(f=>{var h;return{project_id:f.project_id,nom_projet:f.nom_projet,description_synthetique:f.project_sentence,created_at:f.created_at,organization_id:f.organization_id,organization_name:(h=f.organizations)==null?void 0:h.name}});n(d)}catch(c){o(c instanceof Error?c.message:"Erreur lors du chargement des projets"),console.error("Error fetching user projects:",c)}finally{i(!1)}})()},[e]),{projects:t,loading:r,error:a,refetch:()=>{i(!0),o(null)}}},Y8e=({userProjects:e,organisationId:t,organisationName:n,onSuccess:r})=>{const[i,a]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(!1),d=e.filter(p=>!p.linked_to_organization),f=e.find(p=>p.project_id===i),h=async()=>{if(!i){Ne.error("Veuillez sélectionner un projet");return}l(!0);try{const{data:{user:p}}=await q.auth.getUser();if(!p)throw new Error("Utilisateur non connecté");const{error:g}=await q.from("project_summary").update({organization_id:t,linked_to_organization:!0,validation_status:"pending",updated_at:new Date().toISOString()}).eq("project_id",i);if(g)throw g;await q.rpc("log_user_activity",{p_user_id:p.id,p_organization_id:t,p_activity_type:"project_application_submitted",p_description:`Demande de rattachement du projet "${f==null?void 0:f.nom_projet}" à l'organisation`,p_entity_type:"project",p_entity_id:i,p_metadata:{project_name:f==null?void 0:f.nom_projet,organization_name:n}}).catch(()=>{}),Ne.success("Demande envoyée avec succès",{description:"Votre projet est en attente de validation par l'organisation"}),u(!1),a(""),r&&r()}catch(p){console.error("Error applying project to organization:",p),Ne.error("Erreur lors de l'envoi de la demande",{description:"Veuillez réessayer plus tard"})}finally{l(!1)}},m=()=>{if(!i){Ne.error("Veuillez sélectionner un projet");return}u(!0)};return d.length===0?s.jsx(re,{className:"border-dashed",children:s.jsxs(ie,{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(Ci,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Aucun projet disponible"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tous vos projets sont déjà rattachés à une organisation"})]})}):s.jsxs(s.Fragment,{children:[s.jsxs(re,{className:"border-primary/20 shadow-md",children:[s.jsx(pe,{className:"bg-gradient-to-r from-primary/5 to-primary/10",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Ej,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:"Rattacher un projet existant"}),s.jsxs(Xe,{className:"mt-1",children:["Soumettez l'un de vos projets pour validation par ",n]})]})]})})}),s.jsxs(ie,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Sélectionnez un projet"}),s.jsxs(vt,{value:i,onValueChange:a,disabled:o,children:[s.jsx(yt,{className:"w-full",children:s.jsx(_t,{placeholder:"Choisissez un de vos projets..."})}),s.jsx(bt,{children:d.map(p=>s.jsx(fe,{value:p.project_id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"w-4 h-4"}),p.nom_projet]})},p.project_id))})]})]}),f&&s.jsxs($l,{className:"bg-blue-50 border-blue-200",children:[s.jsx(ts,{className:"h-4 w-4 text-blue-600"}),s.jsxs(Fl,{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Information :"})," Une fois soumis, votre projet sera"," ",s.jsx(Ce,{variant:"outline",className:"ml-1",children:"En attente"})," ","de validation. Vous ne pourrez pas vous faire assigner de mentor tant que le projet n'est pas validé."]})]}),s.jsx(wu,{}),s.jsx("div",{className:"flex gap-2",children:s.jsx(H,{onClick:m,disabled:!i||o,className:"flex-1",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Yt,{className:"w-4 h-4 mr-2 animate-spin"}),"Envoi en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rj,{className:"w-4 h-4 mr-2"}),"Soumettre pour validation"]})})}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[s.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[s.jsx(Fc,{className:"w-4 h-4 text-green-600"}),"Après validation"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-6",children:[s.jsx("li",{children:"• Votre projet apparaîtra dans les projets de l'organisation"}),s.jsx("li",{children:"• Vous pourrez être assigné à un mentor"}),s.jsx("li",{children:"• Vous aurez accès aux ressources de l'organisation"}),s.jsx("li",{children:"• Vous participerez aux statistiques de l'organisation"})]})]})]})]}),s.jsx(pt,{open:c,onOpenChange:u,children:s.jsxs(gt,{children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Confirmer la soumission du projet"}),s.jsx(Mt,{children:"Vous êtes sur le point de soumettre votre projet pour validation."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Projet :"}),s.jsx("span",{className:"text-sm font-semibold",children:f==null?void 0:f.nom_projet})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Organisation :"}),s.jsx("span",{className:"text-sm font-semibold",children:n})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Statut initial :"}),s.jsx(Ce,{variant:"outline",children:"En attente"})]})]}),s.jsxs($l,{children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsx(Fl,{className:"text-sm",children:"Le projet sera soumis pour validation. Un administrateur de l'organisation devra l'approuver avant que vous puissiez bénéficier du mentorat et des ressources."})]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>u(!1),disabled:o,children:"Annuler"}),s.jsx(H,{onClick:h,disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(Yt,{className:"w-4 h-4 mr-2 animate-spin"}),"Envoi..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rj,{className:"w-4 h-4 mr-2"}),"Confirmer"]})})]})]})})]})},X8e=()=>{const{userProfile:e}=cr(),t=It(),{organization:n}=e||{},r=e==null?void 0:e.organization_id,[i,a]=x.useState(null),[o,l]=x.useState(!0),{events:c,loading:u}=i4(r||""),{projects:d,loading:f}=K8e(e==null?void 0:e.id),[h,m]=x.useState([]),[p,g]=x.useState([]);x.useEffect(()=>{(async()=>{if(!r){l(!1);return}try{l(!0);const b=await O1(r);if(b){const j={id:b.id,name:b.name,description:b.description||"Aucune description disponible",logo:b.logo||"",website:b.website||"",email:b.email||"",phone:b.phone||"",address:b.address||"",primary_color:b.primary_color,secondary_color:b.secondary_color,settings:b.settings||{branding:{primaryColor:b.primary_color||"#ff5932",secondaryColor:b.secondary_color||"#1a1a1a",whiteLabel:!1},notifications:{emailNotifications:!0,projectUpdates:!0,mentorAssignments:!0,weeklyReports:!1,systemAlerts:!0}},created_at:b.created_at,updated_at:b.updated_at||b.created_at};a(j)}}catch(b){console.error("Erreur lors du chargement de l'organisation:",b)}finally{l(!1)}})()},[r]),x.useEffect(()=>{if(c.length>0){const w=new Date,b=c.filter(_=>new Date(_.start_date)>w).sort((_,N)=>new Date(_.start_date).getTime()-new Date(N.start_date).getTime()).slice(0,3),j=c.filter(_=>new Date(_.start_date)<=w).sort((_,N)=>new Date(N.start_date).getTime()-new Date(_.start_date).getTime()).slice(0,3);m(b),g(j)}},[c]);const v=(w=>({incubator:{label:"Incubateur",color:"bg-blue-100 text-blue-800"},accelerator:{label:"Accélérateur",color:"bg-purple-100 text-purple-800"},school:{label:"École",color:"bg-orange-100 text-orange-800"},other:{label:"Organisation",color:"bg-gray-100 text-gray-800"}})[w]||{label:"Organisation",color:"bg-gray-100 text-gray-800"})((n==null?void 0:n.type)||"incubator");return o?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg",children:"Chargement de votre organisation..."})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-aurentia-pink to-aurentia-orange rounded-xl flex items-center justify-center text-white text-2xl font-bold flex-shrink-0",children:((i==null?void 0:i.name)||(n==null?void 0:n.name)||"O").charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:(i==null?void 0:i.name)||(n==null?void 0:n.name)||"Votre Organisation"}),s.jsx(Ce,{className:v.color,children:v.label})]}),s.jsx("p",{className:"text-gray-600 text-lg mb-4",children:(i==null?void 0:i.description)||"Découvrez les ressources et services de votre organisation"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[(i==null?void 0:i.website)&&s.jsxs("a",{href:i.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-aurentia-pink transition-colors",children:[s.jsx(Pr,{className:"w-4 h-4"}),"Site web",s.jsx(kj,{className:"w-3 h-3"})]}),(i==null?void 0:i.email)&&s.jsxs("a",{href:`mailto:${i.email}`,className:"flex items-center gap-1 hover:text-aurentia-pink transition-colors",children:[s.jsx(Ft,{className:"w-4 h-4"}),"Contact"]}),(i==null?void 0:i.address)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rs,{className:"w-4 h-4"}),i.address]})]})]})]})}),(n==null?void 0:n.welcome_message)&&s.jsxs(re,{className:"mb-8 border-l-4 border-l-aurentia-pink bg-gradient-to-r from-aurentia-pink/5 to-transparent",children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(c1,{className:"h-5 w-5 text-aurentia-pink"}),"Message de bienvenue"]})}),s.jsx(ie,{children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.welcome_message})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 mb-8",children:[s.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"h-5 w-5 text-aurentia-pink"}),"Prochains événements"]}),s.jsx(Xe,{children:"Les événements organisés par votre organisation"})]}),s.jsx(ie,{children:u?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-aurentia-pink"})}):h.length>0?s.jsx("div",{className:"space-y-4",children:h.map(w=>s.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 bg-aurentia-pink/10 rounded-lg flex items-center justify-center",children:s.jsx(Wt,{className:"w-6 h-6 text-aurentia-pink"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:w.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ps(new Date(w.start_date),"EEEE d MMMM à HH:mm",{locale:Ti})}),w.location&&s.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[s.jsx(rs,{className:"w-3 h-3"}),w.location]})]}),s.jsx(Ce,{variant:"outline",className:"capitalize",children:w.type})]},w.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Aucun événement programmé pour le moment"})]})})]}),s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-5 w-5 text-aurentia-pink"}),"Mes projets"]}),s.jsx(Xe,{children:"Vos projets et leur lien avec l'organisation"})]}),s.jsx(ie,{children:f?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-aurentia-pink"})}):d.length>0?s.jsx("div",{className:"space-y-4",children:d.map(w=>s.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-aurentia-pink to-aurentia-orange rounded-lg flex items-center justify-center",children:s.jsx(pF,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:w.nom_projet}),w.organization_id===r?s.jsxs(Ce,{className:"bg-blue-100 text-blue-800 text-xs",children:["Lié à ",i==null?void 0:i.name]}):w.organization_name?s.jsxs(Ce,{variant:"outline",className:"text-xs",children:["Lié à ",w.organization_name]}):s.jsx(Ce,{variant:"secondary",className:"text-xs",children:"Projet individuel"})]}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:w.description_synthetique||"Aucune description disponible"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Créé le ",ps(new Date(w.created_at),"d MMMM yyyy",{locale:Ti})]})]}),s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>t(`/individual/project/${w.project_id}`),className:"shrink-0",children:s.jsx(xl,{className:"w-4 h-4"})})]},w.project_id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ci,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Vous n'avez pas encore de projet"}),s.jsx(H,{onClick:()=>t("/individual/form-business-idea"),className:"bg-gradient-to-r from-aurentia-pink to-aurentia-orange text-white",children:"Créer mon premier projet"})]})})]}),s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(g2,{className:"h-5 w-5 text-aurentia-pink"}),"Ressources disponibles"]}),s.jsx(Xe,{children:"Accédez aux outils et ressources de votre organisation"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(g2,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h4",{className:"font-semibold",children:"Bibliothèque de ressources"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Guides, templates et documents utiles pour votre développement"})]}),s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(et,{className:"w-5 h-5 text-green-600"})}),s.jsx("h4",{className:"font-semibold",children:"Communauté"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Connectez-vous avec d'autres entrepreneurs de votre cohorte"})]}),s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(mi,{className:"w-5 h-5 text-purple-600"})}),s.jsx("h4",{className:"font-semibold",children:"Suivi de progression"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Consultez vos métriques et objectifs atteints"})]}),s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(pF,{className:"w-5 h-5 text-orange-600"})}),s.jsx("h4",{className:"font-semibold",children:"Formations"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Modules de formation et ateliers spécialisés"})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-5 w-5 text-aurentia-pink"}),"Informations"]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Secteurs d'activité :"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["Tech","Innovation","Startup"].map(w=>s.jsx(Ce,{variant:"secondary",className:"text-xs",children:w},w))})]}),s.jsx(wu,{}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Votre statut :"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"Membre actif"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Membre depuis :"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:e!=null&&e.created_at?ps(new Date(e.created_at),"MMMM yyyy",{locale:Ti}):"Récemment"})]}),(i==null?void 0:i.phone)&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Téléphone :"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:i.phone})]})]})]}),i&&d&&d.length>0&&s.jsx(Y8e,{userProjects:d,organisationId:i.id,organisationName:i.name,onSuccess:()=>{window.location.reload()}}),s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsx(me,{children:"Prochaines étapes"}),s.jsx(Xe,{children:"Optimisez votre parcours entrepreneur"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors cursor-pointer",children:[s.jsx("div",{className:"h-2 w-2 bg-aurentia-pink rounded-full"}),s.jsx("span",{className:"text-sm",children:"Complétez votre profil"}),s.jsx(xl,{className:"w-3 h-3 ml-auto text-gray-400"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors cursor-pointer",children:[s.jsx("div",{className:"h-2 w-2 bg-aurentia-orange rounded-full"}),s.jsx("span",{className:"text-sm",children:"Participez au prochain événement"}),s.jsx(xl,{className:"w-3 h-3 ml-auto text-gray-400"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors cursor-pointer",children:[s.jsx("div",{className:"h-2 w-2 bg-gray-300 rounded-full"}),s.jsx("span",{className:"text-sm",children:"Explorez les ressources"}),s.jsx(xl,{className:"w-3 h-3 ml-auto text-gray-400"})]})]})})]}),p.length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5 text-aurentia-pink"}),"Événements récents"]})}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-3",children:p.map(w=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(Wt,{className:"w-4 h-4 text-gray-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:w.title}),s.jsx("p",{className:"text-xs text-gray-500",children:ps(new Date(w.start_date),"d MMM",{locale:Ti})})]})]},w.id))})})]})]})]})]})},ws=({children:e,requireOwner:t=!1})=>{const{userRole:n,organizationId:r,loading:i,userProfile:a}=cr(),{id:o}=Nt(),[l,c]=x.useState(null),[u,d]=x.useState(t),f=qi(),h=x.useRef(!1);return console.log("[OrganisationRouteGuard] Path:",f.pathname,"| Role:",n,"| OrgID:",r,"| Loading:",i),x.useEffect(()=>{h.current=!1},[f.pathname]),x.useEffect(()=>{(async()=>{if(!t||!(a!=null&&a.id)||!o){d(!1);return}try{const{data:g,error:y}=await q.from("organizations").select("created_by").eq("id",o).single();if(y)throw y;c((g==null?void 0:g.created_by)===a.id)}catch(g){console.error("[OrganisationRouteGuard] Error checking ownership:",g),c(!1)}finally{d(!1)}})()},[t,a==null?void 0:a.id,o]),i||u?s.jsx(Ln,{message:"Vérification des permissions...",fullScreen:!0}):n==="organisation"||n==="staff"||n==="super_admin"?r?t&&l===!1?(console.log("[OrganisationRouteGuard] Owner access required but user is not owner - redirect to dashboard"),s.jsx(Qr,{to:`/organisation/${r}/dashboard`,replace:!0})):(console.log("[OrganisationRouteGuard] Access granted"),s.jsx(s.Fragment,{children:e})):(console.log("[OrganisationRouteGuard] Has org role but no organizationId - redirect to setup"),h.current?(console.log("[OrganisationRouteGuard] Already redirected, preventing loop"),null):(h.current=!0,s.jsx(Qr,{to:"/setup-organization",replace:!0}))):(console.log("[OrganisationRouteGuard] No org role, redirecting based on user role"),h.current?(console.log("[OrganisationRouteGuard] Already redirected, preventing loop"),null):(h.current=!0,n==="member"?s.jsx(Qr,{to:"/individual/my-organization",replace:!0}):n==="individual"?s.jsx(Qr,{to:"/individual/dashboard",replace:!0}):s.jsx(Qr,{to:"/login",replace:!0})))},Q8e=(e=15)=>{const{id:t}=Nt(),[n,r]=x.useState([]),[i,a]=x.useState(!0),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!0),[h,m]=x.useState(0);console.log("useRecentActivities - organisationId:",t);const p=x.useCallback(async(v=e,w=0,b=!1)=>{if(console.log("fetchActivities called with:",{organisationId:t,limit:v,offset:w,append:b}),!t){console.log("No organisationId, returning early");return}try{b?l(!0):a(!0);const[j,_]=await Promise.all([V8e(t,v,w),w===0?W8e(t):Promise.resolve(h)]);console.log("fetchActivities results:",{newActivities:j.length,total:_,offset:w}),w===0&&m(_),r(b?N=>[...N,...j]:j),f(w+j.length<_),u(null)}catch(j){console.error("Erreur lors du chargement des activités:",j),u(j instanceof Error?j.message:"Erreur lors du chargement des activités")}finally{a(!1),l(!1)}},[t,e,h]);x.useEffect(()=>{t&&p(e,0,!1)},[t,p,e]);const g=x.useCallback(async()=>{if(o||!d||!t)return;const v=n.length;await p(e,v,!0)},[n.length,p,d,e,o,t]),y=x.useCallback(async()=>{t&&await p(n.length||e,0,!1)},[n.length,p,e,t]);return{activities:n,loading:i,loadingMore:o,error:c,hasMore:d,totalCount:h,loadMore:g,refresh:y}};function w_(e){"@babel/helpers - typeof";return w_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w_(e)}function Nf(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function dn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function qn(e){dn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||w_(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function J8e(e,t){dn(2,arguments);var n=qn(e).getTime(),r=Nf(t);return new Date(n+r)}var Z8e={};function _S(){return Z8e}function eUe(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function pP(e){dn(1,arguments);var t=qn(e);return t.setHours(0,0,0,0),t}function Yz(e,t){dn(2,arguments);var n=pP(e),r=pP(t);return n.getTime()===r.getTime()}function tUe(e){return dn(1,arguments),e instanceof Date||w_(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nUe(e){if(dn(1,arguments),!tUe(e)&&typeof e!="number")return!1;var t=qn(e);return!isNaN(Number(t))}function Nk(e){dn(1,arguments);var t=qn(e),n=Math.floor(t.getMonth()/3)+1;return n}function rUe(e){dn(1,arguments);var t=qn(e);return t.setHours(23,59,59,999),t}function sUe(e){dn(1,arguments);var t=qn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Xz(e){dn(1,arguments);var t=qn(e);return t.setSeconds(0,0),t}function iUe(e){dn(1,arguments);var t=qn(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function aUe(e){dn(1,arguments);var t=qn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function oUe(e){dn(1,arguments);var t=qn(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function lUe(e){dn(1,arguments);var t=qn(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function cUe(e){dn(1,arguments);var t=qn(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}function uUe(e,t){dn(2,arguments);var n=Nf(t);return J8e(e,-n)}var dUe=864e5;function fUe(e){dn(1,arguments);var t=qn(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/dUe)+1}function j_(e){dn(1,arguments);var t=1,n=qn(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function hse(e){dn(1,arguments);var t=qn(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=j_(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=j_(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function hUe(e){dn(1,arguments);var t=hse(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=j_(n);return r}var mUe=6048e5;function pUe(e){dn(1,arguments);var t=qn(e),n=j_(t).getTime()-hUe(t).getTime();return Math.round(n/mUe)+1}function __(e,t){var n,r,i,a,o,l,c,u;dn(1,arguments);var d=_S(),f=Nf((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=qn(e),m=h.getUTCDay(),p=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function mse(e,t){var n,r,i,a,o,l,c,u;dn(1,arguments);var d=qn(e),f=d.getUTCFullYear(),h=_S(),m=Nf((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,m),p.setUTCHours(0,0,0,0);var g=__(p,t),y=new Date(0);y.setUTCFullYear(f,0,m),y.setUTCHours(0,0,0,0);var v=__(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=v.getTime()?f:f-1}function gUe(e,t){var n,r,i,a,o,l,c,u;dn(1,arguments);var d=_S(),f=Nf((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=mse(e,t),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var p=__(m,t);return p}var xUe=6048e5;function vUe(e,t){dn(1,arguments);var n=qn(e),r=__(n,t).getTime()-gUe(n,t).getTime();return Math.round(r/xUe)+1}function cn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var fc={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return cn(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):cn(r+1,2)},d:function(t,n){return cn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return cn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return cn(t.getUTCHours(),n.length)},m:function(t,n){return cn(t.getUTCMinutes(),n.length)},s:function(t,n){return cn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return cn(a,n.length)}},ph={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yUe={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return fc.y(t,n)},Y:function(t,n,r,i){var a=mse(t,i),o=a>0?a:1-a;if(n==="YY"){var l=o%100;return cn(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):cn(o,n.length)},R:function(t,n){var r=hse(t);return cn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return cn(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return cn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return cn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return fc.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return cn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var a=vUe(t,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):cn(a,n.length)},I:function(t,n,r){var i=pUe(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):cn(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):fc.d(t,n)},D:function(t,n,r){var i=fUe(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):cn(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return cn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return cn(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return cn(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),a;switch(i===12?a=ph.noon:i===0?a=ph.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),a;switch(i>=17?a=ph.evening:i>=12?a=ph.afternoon:i>=4?a=ph.morning:a=ph.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return fc.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):fc.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):cn(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):cn(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):fc.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):fc.s(t,n)},S:function(t,n){return fc.S(t,n)},X:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return Jz(o);case"XXXX":case"XX":return ud(o);case"XXXXX":case"XXX":default:return ud(o,":")}},x:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"x":return Jz(o);case"xxxx":case"xx":return ud(o);case"xxxxx":case"xxx":default:return ud(o,":")}},O:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Qz(o,":");case"OOOO":default:return"GMT"+ud(o,":")}},z:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Qz(o,":");case"zzzz":default:return"GMT"+ud(o,":")}},t:function(t,n,r,i){var a=i._originalDate||t,o=Math.floor(a.getTime()/1e3);return cn(o,n.length)},T:function(t,n,r,i){var a=i._originalDate||t,o=a.getTime();return cn(o,n.length)}};function Qz(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=t;return n+String(i)+o+cn(a,2)}function Jz(e,t){if(e%60===0){var n=e>0?"-":"+";return n+cn(Math.abs(e)/60,2)}return ud(e,t)}function ud(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=cn(Math.floor(i/60),2),o=cn(i%60,2);return r+a+n+o}var Zz=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},pse=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},bUe=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return Zz(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",Zz(i,n)).replace("{{time}}",pse(a,n))},wUe={p:pse,P:bUe},jUe=["D","DD"],_Ue=["YY","YYYY"];function NUe(e){return jUe.indexOf(e)!==-1}function SUe(e){return _Ue.indexOf(e)!==-1}function eB(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var CUe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EUe=function(t,n,r){var i,a=CUe[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Sk(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var kUe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AUe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TUe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PUe={date:Sk({formats:kUe,defaultWidth:"full"}),time:Sk({formats:AUe,defaultWidth:"full"}),dateTime:Sk({formats:TUe,defaultWidth:"full"})},OUe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RUe=function(t,n,r,i){return OUe[t]};function Hg(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var DUe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MUe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IUe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LUe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$Ue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FUe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zUe=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},BUe={ordinalNumber:zUe,era:Hg({values:DUe,defaultWidth:"wide"}),quarter:Hg({values:MUe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Hg({values:IUe,defaultWidth:"wide"}),day:Hg({values:LUe,defaultWidth:"wide"}),dayPeriod:Hg({values:$Ue,defaultWidth:"wide",formattingValues:FUe,defaultFormattingWidth:"wide"})};function Wg(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?qUe(l,function(f){return f.test(o)}):UUe(l,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function UUe(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function qUe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function VUe(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(i.length);return{value:o,rest:l}}}var HUe=/^(\d+)(th|st|nd|rd)?/i,WUe=/\d+/i,GUe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KUe={any:[/^b/i,/^(a|c)/i]},YUe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XUe={any:[/1/i,/2/i,/3/i,/4/i]},QUe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JUe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZUe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eqe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tqe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nqe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rqe={ordinalNumber:VUe({matchPattern:HUe,parsePattern:WUe,valueCallback:function(t){return parseInt(t,10)}}),era:Wg({matchPatterns:GUe,defaultMatchWidth:"wide",parsePatterns:KUe,defaultParseWidth:"any"}),quarter:Wg({matchPatterns:YUe,defaultMatchWidth:"wide",parsePatterns:XUe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Wg({matchPatterns:QUe,defaultMatchWidth:"wide",parsePatterns:JUe,defaultParseWidth:"any"}),day:Wg({matchPatterns:ZUe,defaultMatchWidth:"wide",parsePatterns:eqe,defaultParseWidth:"any"}),dayPeriod:Wg({matchPatterns:tqe,defaultMatchWidth:"any",parsePatterns:nqe,defaultParseWidth:"any"})},sqe={code:"en-US",formatDistance:EUe,formatLong:PUe,formatRelative:RUe,localize:BUe,match:rqe,options:{weekStartsOn:0,firstWeekContainsDate:1}},iqe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aqe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oqe=/^'([^]*?)'?$/,lqe=/''/g,cqe=/[a-zA-Z]/;function ls(e,t,n){var r,i,a,o,l,c,u,d,f,h,m,p,g,y;dn(2,arguments);var v=String(t),w=_S(),b=(r=(i=void 0)!==null&&i!==void 0?i:w.locale)!==null&&r!==void 0?r:sqe,j=Nf((a=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:w.firstWeekContainsDate)!==null&&o!==void 0?o:(u=w.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=Nf((f=(h=(m=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&m!==void 0?m:w.weekStartsOn)!==null&&h!==void 0?h:(g=w.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&f!==void 0?f:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var N=qn(e);if(!nUe(N))throw new RangeError("Invalid time value");var S=eUe(N),C=uUe(N,S),k={firstWeekContainsDate:j,weekStartsOn:_,locale:b,_originalDate:N},A=v.match(aqe).map(function(T){var E=T[0];if(E==="p"||E==="P"){var R=wUe[E];return R(T,b.formatLong)}return T}).join("").match(iqe).map(function(T){if(T==="''")return"'";var E=T[0];if(E==="'")return uqe(T);var R=yUe[E];if(R)return SUe(T)&&eB(T,t,String(e)),NUe(T)&&eB(T,t,String(e)),R(C,T,b.localize,k);if(E.match(cqe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return T}).join("");return A}function uqe(e){var t=e.match(oqe);return t?t[1].replace(lqe,"'"):e}function hc(e,t){dn(2,arguments);var n=Xz(e),r=Xz(t);return n.getTime()===r.getTime()}function dqe(e,t){dn(2,arguments);var n=qn(e),r=qn(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function tB(e,t){dn(2,arguments);var n=qn(e),r=qn(t);return n.getFullYear()===r.getFullYear()}const fqe=e=>{const t=(e||"").replace(/ AM/g,"am").replace(/ PM/g,"pm");return t.includes("m")?t.replace(/:00/g,""):t},hqe=e=>e.replace(/^0/,""),mqe=(e,t)=>hqe(fqe(e.toLocaleTimeString(t,{hour:"2-digit",minute:"2-digit"})||"")),pqe=e=>t=>mqe(t,e),gqe=()=>typeof window>"u"?"en-US":window.navigator.language,xqe=(e,t,{today:n=new Date,locale:r=gqe(),includeTime:i=!0,separator:a="-"}={})=>{const o=tB(e,t),l=dqe(e,t),c=Yz(e,t),u=tB(e,n),d=Yz(e,n),f=u?"":`, ${ls(t,"yyyy")}`,h=pqe(r),m=i&&!hc(pP(e),e)?`, ${h(e)}`:"",p=i&&!hc(rUe(t),t)?`, ${h(t)}`:"";return hc(lUe(e),e)&&hc(oUe(t),t)?`${ls(e,"yyyy")}`:hc(iUe(e),e)&&hc(cUe(t),t)&&Nk(e)===Nk(t)?`Q${Nk(e)} ${ls(e,"yyyy")}`:hc(aUe(e),e)&&hc(sUe(t),t)?l&&o?`${ls(e,"LLLL yyyy")}`:`${ls(e,"LLL")} ${a} ${ls(t,"LLL yyyy")}`:o?l?c?m||p?d?`${h(e)} ${a} ${h(t)}`:`${ls(e,"LLL d")}${m} ${a} ${h(t)}${f}`:`${ls(e,"eee, LLL d")}${f}`:m||p?`${ls(e,"LLL d")}${m} ${a} ${ls(t,"LLL d")}${p}${f}`:`${ls(e,"LLL d")} ${a} ${ls(t,"d")}${f}`:`${ls(e,"LLL d")}${m} ${a} ${ls(t,"LLL d")}${p}${f}`:`${ls(e,"LLL d ''yy")}${m} ${a} ${ls(t,"LLL d ''yy")}${p}`},Kw={workshop:"#ff5932",meeting:"#6366f1",webinar:"#8b5cf6",networking:"#06b6d4",presentation:"#f59e0b",training:"#10b981",other:"#64748b"},vqe={workshop:"Atelier",meeting:"Réunion",webinar:"Webinaire",networking:"Networking",presentation:"Présentation",training:"Formation",other:"Autre"},kd=[{value:"workshop",label:"Atelier"},{value:"meeting",label:"Réunion"},{value:"webinar",label:"Webinaire"},{value:"networking",label:"Networking"},{value:"presentation",label:"Présentation"},{value:"training",label:"Formation"},{value:"other",label:"Autre"}],a4=e=>Kw[e],yqe=e=>vqe[e];function bqe({events:e=[],className:t,onAddEvent:n,onEventClick:r,selectedDate:i,onDateSelect:a}){const[o,l]=x.useState(i||new Date),[c,u]=x.useState(!1),d=new Date,f=(o==null?void 0:o.toDateString())===d.toDateString(),h=m=>{m&&(l(m),u(!0),a==null||a(m))};return x.useEffect(()=>{i&&i.toDateString()!==(o==null?void 0:o.toDateString())&&l(i)},[i,o]),s.jsxs(re,{className:`w-fit py-4 ${t||""}`,children:[s.jsx(ie,{className:"px-4",children:s.jsx(Pb,{mode:"single",selected:o,onSelect:h,className:"bg-transparent p-0",classNames:{day_today:f?"bg-accent text-accent-foreground":"text-foreground hover:bg-accent hover:text-accent-foreground"}})}),s.jsxs(HD,{className:"flex flex-col items-start gap-2 border-t px-4 !pt-2",children:[s.jsxs("div",{className:"flex w-full items-center justify-between px-1",children:[s.jsx("div",{className:"text-sm font-medium",children:o==null?void 0:o.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}),s.jsxs(H,{variant:"ghost",size:"icon",className:"size-6",title:"Ajouter un événement",onClick:n,children:[s.jsx(In,{}),s.jsx("span",{className:"sr-only",children:"Ajouter un événement"})]})]}),s.jsx("div",{className:"flex w-full flex-col gap-2",children:e.length===0&&c?s.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Il n'y a pas d'événements pour cette date"}):e.length===0?s.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Cliquez sur un événement pour afficher les détails"}):e.map(m=>{const p=m.type?a4(m.type):void 0;return s.jsxs("div",{className:"bg-muted relative rounded-md p-2 text-sm hover:bg-muted/80 transition-colors cursor-pointer",onClick:()=>m.id&&(r==null?void 0:r(m.id)),children:[s.jsx("div",{className:"font-medium",style:p?{borderLeft:`3px solid ${p}`,paddingLeft:"18px"}:{paddingLeft:"18px"},children:m.title}),s.jsx("div",{className:"text-muted-foreground text-xs",children:xqe(new Date(m.from),new Date(m.to))})]},m.id||m.title)})})]})]})}const gse=()=>{const{id:e}=Nt(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(null);return x.useEffect(()=>{(async()=>{if(e)try{i(!0);const p=(await $K(e)).map(g=>({id:g.id,user_id:g.id,organization_id:g.organization_id,first_name:g.first_name||g.email.split("@")[0],last_name:g.last_name||"",email:g.email,phone:g.phone||void 0,user_role:g.user_role,status:"active",joined_at:g.created_at}));n(p),o(null)}catch(m){console.error("Erreur lors du chargement des membres:",m),o(m instanceof Error?m.message:"Erreur lors du chargement")}finally{i(!1)}})()},[e]),{members:t,loading:r,error:a,getOwners:()=>t.filter(h=>h.user_role==="organisation"),getStaff:()=>t.filter(h=>h.user_role==="staff"),getAdherents:()=>t.filter(h=>h.user_role==="member"),getRoleLabel:h=>{switch(h){case"organisation":return"Propriétaire";case"staff":return"Staff";case"member":return"Adhérent";default:return h}},getRoleColor:h=>{switch(h){case"organisation":return"bg-purple-100 text-purple-800";case"staff":return"bg-blue-100 text-blue-800";case"member":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}}},gP=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return`${t}-${n}-${r}T${i}:${a}`},wqe=e=>new Date(e),vx=e=>e.toISOString(),jqe=e=>{const t=wqe(e);return vx(t)},nB=e=>{const t=new Date(e);return gP(t)},N_=e=>jqe(e),rB=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());function xse({open:e,onOpenChange:t,organisationId:n,selectedRange:r,onCreateEvent:i}){const{members:a,loading:o,getRoleLabel:l,getRoleColor:c}=gse(),{mentors:u,loading:d}=dse(),{userProfile:f}=Hf(),[h,m]=x.useState([]),[p,g]=x.useState(!1),[y,v]=x.useState(""),[w,b]=x.useState({owners:!0,staff:!0,members:!0,mentors:!0}),[j,_]=x.useState({title:"",description:"",start_date:"",end_date:"",type:"other",location:"",meet_link:"",organizer_id:"",is_recurring:!1,max_participants:void 0,organization_id:n});x.useEffect(()=>{r&&e&&_(O=>({...O,start_date:gP(r.start),end_date:gP(r.end)}))},[r,e]);const N=async()=>{if(!j.title.trim()||!j.start_date||!j.end_date)return;const O=[...h];p&&(f!=null&&f.id)&&!O.includes(f.id)&&O.push(f.id);const F={...j,participants:O,start_date:N_(j.start_date),end_date:N_(j.end_date)};await i(F)&&(t(!1),S())},S=()=>{_({title:"",description:"",start_date:"",end_date:"",type:"other",location:"",meet_link:"",organizer_id:"",is_recurring:!1,max_participants:void 0,organization_id:n}),m([]),g(!1),v("")},C=O=>{if(!y.trim())return!0;const F=y.toLowerCase(),z=(O.first_name||"").toLowerCase(),P=(O.last_name||"").toLowerCase(),I=(O.email||"").toLowerCase(),M=`${z} ${P}`.trim();return z.includes(F)||P.includes(F)||M.includes(F)||I.includes(F)},k=a.filter(O=>O.id!==(f==null?void 0:f.id)&&C(O)),A=u.filter(O=>O.user_id!==(f==null?void 0:f.id)&&C({...O,id:O.user_id})),T=k.filter(O=>O.user_role==="organisation"),E=k.filter(O=>O.user_role==="staff"),R=k.filter(O=>O.user_role==="member"),$=O=>{t(O),O||S()};return s.jsx(pt,{open:e,onOpenChange:$,children:s.jsxs(gt,{className:"max-w-2xl",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Créer un nouvel événement"}),s.jsx(Mt,{children:r?`Planifiez un événement pour la période sélectionnée: ${r.start.toLocaleDateString("fr-FR")} ${r.start.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})} - ${r.end.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}`:"Planifiez un événement pour votre organisation."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"title",children:"Titre de l'événement *"}),s.jsx(ke,{id:"title",placeholder:"Ex: Workshop Business Model",value:j.title,onChange:O=>_(F=>({...F,title:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"type",children:"Type d'événement"}),s.jsxs(vt,{value:j.type,onValueChange:O=>_(F=>({...F,type:O})),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Sélectionner un type"})}),s.jsx(bt,{children:kd.map(O=>s.jsx(fe,{value:O.value,children:O.label},O.value))})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Be,{htmlFor:"description",children:"Description"}),s.jsx(at,{id:"description",placeholder:"Description de l'événement",rows:3,value:j.description,onChange:O=>_(F=>({...F,description:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"start_date",children:"Date et heure de début *"}),s.jsx(ke,{id:"start_date",type:"datetime-local",value:j.start_date,onChange:O=>_(F=>({...F,start_date:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"end_date",children:"Date et heure de fin *"}),s.jsx(ke,{id:"end_date",type:"datetime-local",value:j.end_date,onChange:O=>_(F=>({...F,end_date:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"location",children:"Lieu"}),s.jsx(ke,{id:"location",placeholder:"Ex: Salle de conférence A",value:j.location,onChange:O=>_(F=>({...F,location:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"meet_link",children:"Lien de réunion"}),s.jsx(ke,{id:"meet_link",type:"url",placeholder:"Ex: https://meet.google.com/abc-defg-hij",value:j.meet_link,onChange:O=>_(F=>({...F,meet_link:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"max_participants",children:"Participants max"}),s.jsx(ke,{id:"max_participants",type:"number",min:"0",placeholder:"Ex: 50",value:j.max_participants||"",onChange:O=>{const F=O.target.value;if(F===""||/^\d+$/.test(F)){const z=F?parseInt(F):void 0;(z===void 0||z>=0)&&_(P=>({...P,max_participants:z}))}},onKeyDown:O=>{O.key!=="Backspace"&&O.key!=="Delete"&&O.key!=="ArrowLeft"&&O.key!=="ArrowRight"&&O.key!=="Tab"&&!/^\d$/.test(O.key)&&O.preventDefault()}})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs(Be,{className:"flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4"}),"Inviter les participants"]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2 mb-3 p-3 bg-gray-50 rounded-md",children:[s.jsx(Br,{id:"will-attend",checked:p,onCheckedChange:O=>g(O===!0)}),s.jsx("label",{htmlFor:"will-attend",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Je ferais partie de l'événement"})]}),s.jsxs("div",{className:"relative mt-2 mb-2",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(ke,{type:"text",placeholder:"Rechercher par nom ou email...",value:y,onChange:O=>v(O.target.value),className:"pl-10"})]}),s.jsx("div",{className:"mt-2 border rounded-md",children:o||d?s.jsxs("div",{className:"flex justify-center py-8",children:[s.jsx(Pt,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Chargement des membres..."})]}):a.length===0&&u.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"Aucun membre à inviter"}):T.length===0&&E.length===0&&R.length===0&&A.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:y.trim()?`Aucun résultat pour "${y}"`:"Aucun membre à inviter"}):s.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[T.length>0&&s.jsxs("div",{className:"border-b",children:[s.jsxs("button",{type:"button",onClick:()=>b(O=>({...O,owners:!O.owners})),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x2,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Propriétaires"}),s.jsx(Ce,{variant:"secondary",className:"text-xs",children:T.length})]}),s.jsx("div",{className:`transform transition-transform ${w.owners?"rotate-90":""}`,children:"▶"})]}),w.owners&&s.jsx("div",{className:"px-3 pb-2",children:T.map(O=>s.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[s.jsx("input",{type:"checkbox",id:`member-${O.id}`,checked:h.includes(O.id),onChange:F=>{F.target.checked?m(z=>[...z,O.id]):m(z=>z.filter(P=>P!==O.id))},className:"rounded"}),s.jsxs("label",{htmlFor:`member-${O.id}`,className:"flex-1 text-sm cursor-pointer flex items-center justify-between",children:[s.jsxs("span",{children:[O.first_name," ",O.last_name]}),s.jsx(Ce,{className:c(O.user_role),variant:"secondary",children:l(O.user_role)})]})]},O.id))})]}),E.length>0&&s.jsxs("div",{className:"border-b",children:[s.jsxs("button",{type:"button",onClick:()=>b(O=>({...O,staff:!O.staff})),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w2,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Staff"}),s.jsx(Ce,{variant:"secondary",className:"text-xs",children:E.length})]}),s.jsx("div",{className:`transform transition-transform ${w.staff?"rotate-90":""}`,children:"▶"})]}),w.staff&&s.jsx("div",{className:"px-3 pb-2",children:E.map(O=>s.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[s.jsx("input",{type:"checkbox",id:`member-${O.id}`,checked:h.includes(O.id),onChange:F=>{F.target.checked?m(z=>[...z,O.id]):m(z=>z.filter(P=>P!==O.id))},className:"rounded"}),s.jsxs("label",{htmlFor:`member-${O.id}`,className:"flex-1 text-sm cursor-pointer flex items-center justify-between",children:[s.jsxs("span",{children:[O.first_name," ",O.last_name]}),s.jsx(Ce,{className:c(O.user_role),variant:"secondary",children:l(O.user_role)})]})]},O.id))})]}),R.length>0&&s.jsxs("div",{className:"border-b",children:[s.jsxs("button",{type:"button",onClick:()=>b(O=>({...O,members:!O.members})),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mp,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Adhérents"}),s.jsx(Ce,{variant:"secondary",className:"text-xs",children:R.length})]}),s.jsx("div",{className:`transform transition-transform ${w.members?"rotate-90":""}`,children:"▶"})]}),w.members&&s.jsx("div",{className:"px-3 pb-2",children:R.map(O=>s.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[s.jsx("input",{type:"checkbox",id:`member-${O.id}`,checked:h.includes(O.id),onChange:F=>{F.target.checked?m(z=>[...z,O.id]):m(z=>z.filter(P=>P!==O.id))},className:"rounded"}),s.jsxs("label",{htmlFor:`member-${O.id}`,className:"flex-1 text-sm cursor-pointer flex items-center justify-between",children:[s.jsxs("span",{children:[O.first_name," ",O.last_name]}),s.jsx(Ce,{className:c(O.user_role),variant:"secondary",children:l(O.user_role)})]})]},O.id))})]}),A.length>0&&s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>b(O=>({...O,mentors:!O.mentors})),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dD,{className:"w-4 h-4 text-orange-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Mentors"}),s.jsx(Ce,{variant:"secondary",className:"text-xs",children:A.length})]}),s.jsx("div",{className:`transform transition-transform ${w.mentors?"rotate-90":""}`,children:"▶"})]}),w.mentors&&s.jsx("div",{className:"px-3 pb-2",children:A.map(O=>s.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[s.jsx("input",{type:"checkbox",id:`mentor-${O.user_id}`,checked:h.includes(O.user_id),onChange:F=>{F.target.checked?m(z=>[...z,O.user_id]):m(z=>z.filter(P=>P!==O.user_id))},className:"rounded"}),s.jsxs("label",{htmlFor:`mentor-${O.user_id}`,className:"flex-1 text-sm cursor-pointer flex items-center justify-between",children:[s.jsxs("span",{children:[O.first_name," ",O.last_name]}),s.jsx(Ce,{className:"bg-orange-100 text-orange-800",variant:"secondary",children:"Mentor"})]})]},O.user_id))})]})]})}),h.length>0&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4 text-gray-500"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[h.length," participant",h.length>1?"s":""," sélectionné",h.length>1?"s":""]})]})]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>$(!1),children:"Annuler"}),s.jsx(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",onClick:N,disabled:!j.title.trim()||!j.start_date||!j.end_date,children:"Créer l'événement"})]})]})})}function vse({event:e,open:t,onOpenChange:n,onEventUpdate:r,onEventDelete:i,editEvent:a}){const{userProfile:o}=Hf(),{canManageOrganization:l}=cr(),{members:c,loading:u,getRoleLabel:d,getRoleColor:f}=gse(),{toast:h}=ja(),[m,p]=x.useState(!1),[g,y]=x.useState({}),[v,w]=x.useState([]),[b,j]=x.useState(!1),[_,N]=x.useState(!1),[S,C]=x.useState({owners:!0,staff:!0,members:!0});if(!e)return null;const A=o&&e.organizer_id===o.id||l(),T=new Date(e.start_date),E=new Date(e.end_date),R=a4(e.type),$=()=>{y({title:e.title,description:e.description,type:e.type,location:e.location,meet_link:e.meet_link,max_participants:e.max_participants,status:e.status,start_date:e.start_date,end_date:e.end_date}),w(e.participants||[]),p(!0)},O=()=>{p(!1),y({}),w([])},F=async()=>{if(e){j(!0);try{const P={...g,participants:v,start_date:g.start_date&&!g.start_date.includes("Z")?N_(g.start_date):g.start_date,end_date:g.end_date&&!g.end_date.includes("Z")?N_(g.end_date):g.end_date};let I;if(a){if(I=await a(e.id,P),!I)throw new Error("Failed to update event")}else I=await KD(e.id,P);h({title:"Événement modifié",description:"Les modifications ont été sauvegardées avec succès."}),p(!1),y({}),w([]),r==null||r(I)}catch(P){console.error("Error updating event:",P),h({title:"Erreur",description:"Une erreur est survenue lors de la sauvegarde.",variant:"destructive"})}finally{j(!1)}}},z=async()=>{if(e){N(!0);try{await(i==null?void 0:i(e.id)),h({title:"Événement supprimé",description:"L'événement a été supprimé avec succès."}),n(!1)}catch(P){console.error("Error deleting event:",P),h({title:"Erreur",description:"Une erreur est survenue lors de la suppression.",variant:"destructive"})}finally{N(!1)}}};return s.jsx(pt,{open:t,onOpenChange:n,children:s.jsxs(gt,{className:"max-w-md",children:[s.jsx(jt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(xt,{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:R}}),m?"Modifier l'événement":e.title]}),A&&!m&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(H,{variant:"outline",size:"sm",onClick:$,className:"gap-2",children:[s.jsx(zo,{className:"w-4 h-4"}),"Modifier"]}),s.jsxs(H,{variant:"destructive",size:"sm",onClick:z,disabled:_,className:"gap-2",children:[s.jsx(Rr,{className:"w-4 h-4"}),_?"Suppression...":"Supprimer"]})]})]})}),s.jsx("div",{className:"space-y-4",children:m?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Titre"}),s.jsx(ke,{value:g.title||"",onChange:P=>y(I=>({...I,title:P.target.value})),placeholder:"Titre de l'événement"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Type d'événement"}),s.jsxs(vt,{value:g.type||e.type,onValueChange:P=>y(I=>({...I,type:P})),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:kd.map(P=>s.jsx(fe,{value:P.value,children:P.label},P.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Date et heure de début"}),s.jsx(ke,{type:"datetime-local",value:g.start_date?nB(g.start_date):"",onChange:P=>y(I=>({...I,start_date:P.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Date et heure de fin"}),s.jsx(ke,{type:"datetime-local",value:g.end_date?nB(g.end_date):"",onChange:P=>y(I=>({...I,end_date:P.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Lieu"}),s.jsx(ke,{value:g.location||"",onChange:P=>y(I=>({...I,location:P.target.value})),placeholder:"Lieu de l'événement"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Lien de réunion"}),s.jsx(ke,{type:"url",value:g.meet_link||"",onChange:P=>y(I=>({...I,meet_link:P.target.value})),placeholder:"https://meet.google.com/abc-defg-hij"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Nombre maximum de participants"}),s.jsx(ke,{type:"number",min:"0",value:g.max_participants||"",onChange:P=>y(I=>({...I,max_participants:P.target.value?parseInt(P.target.value):void 0})),placeholder:"Nombre maximum"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Description"}),s.jsx(at,{value:g.description||"",onChange:P=>y(I=>({...I,description:P.target.value})),placeholder:"Description de l'événement",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Statut"}),s.jsxs(vt,{value:g.status||e.status,onValueChange:P=>y(I=>({...I,status:P})),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"planned",children:"Planifié"}),s.jsx(fe,{value:"ongoing",children:"En cours"}),s.jsx(fe,{value:"completed",children:"Terminé"}),s.jsx(fe,{value:"cancelled",children:"Annulé"})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4"}),"Participants invités"]}),s.jsx("div",{className:"border rounded-md",children:u?s.jsxs("div",{className:"flex justify-center py-4",children:[s.jsx(Pt,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Chargement..."})]}):c.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Aucun membre trouvé"}):s.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[c.filter(P=>P.user_role==="organisation").length>0&&s.jsxs("div",{className:"border-b",children:[s.jsxs("button",{type:"button",onClick:()=>C(P=>({...P,owners:!P.owners})),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x2,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Propriétaires"})]}),s.jsx("div",{className:`transform transition-transform ${S.owners?"rotate-90":""}`,children:"▶"})]}),S.owners&&s.jsx("div",{className:"px-3 pb-2",children:c.filter(P=>P.user_role==="organisation").map(P=>s.jsxs("div",{className:"flex items-center space-x-3 py-1",children:[s.jsx("input",{type:"checkbox",id:`edit-member-${P.id}`,checked:v.includes(P.id),onChange:I=>{I.target.checked?w(M=>[...M,P.id]):w(M=>M.filter(U=>U!==P.id))},className:"rounded"}),s.jsxs("label",{htmlFor:`edit-member-${P.id}`,className:"flex-1 text-sm cursor-pointer flex items-center justify-between",children:[s.jsxs("span",{children:[P.first_name," ",P.last_name]}),s.jsx(Ce,{className:f(P.user_role),variant:"secondary",children:d(P.user_role)})]})]},P.id))})]}),c.filter(P=>P.user_role==="staff").length>0&&s.jsxs("div",{className:"border-b",children:[s.jsxs("button",{type:"button",onClick:()=>C(P=>({...P,staff:!P.staff})),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w2,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Staff"})]}),s.jsx("div",{className:`transform transition-transform ${S.staff?"rotate-90":""}`,children:"▶"})]}),S.staff&&s.jsx("div",{className:"px-3 pb-2",children:c.filter(P=>P.user_role==="staff").map(P=>s.jsxs("div",{className:"flex items-center space-x-3 py-1",children:[s.jsx("input",{type:"checkbox",id:`edit-member-${P.id}`,checked:v.includes(P.id),onChange:I=>{I.target.checked?w(M=>[...M,P.id]):w(M=>M.filter(U=>U!==P.id))},className:"rounded"}),s.jsxs("label",{htmlFor:`edit-member-${P.id}`,className:"flex-1 text-sm cursor-pointer flex items-center justify-between",children:[s.jsxs("span",{children:[P.first_name," ",P.last_name]}),s.jsx(Ce,{className:f(P.user_role),variant:"secondary",children:d(P.user_role)})]})]},P.id))})]}),c.filter(P=>P.user_role==="member").length>0&&s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>C(P=>({...P,members:!P.members})),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wd,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Adhérents"})]}),s.jsx("div",{className:`transform transition-transform ${S.members?"rotate-90":""}`,children:"▶"})]}),S.members&&s.jsx("div",{className:"px-3 pb-2",children:c.filter(P=>P.user_role==="member").map(P=>s.jsxs("div",{className:"flex items-center space-x-3 py-1",children:[s.jsx("input",{type:"checkbox",id:`edit-member-${P.id}`,checked:v.includes(P.id),onChange:I=>{I.target.checked?w(M=>[...M,P.id]):w(M=>M.filter(U=>U!==P.id))},className:"rounded"}),s.jsxs("label",{htmlFor:`edit-member-${P.id}`,className:"flex-1 text-sm cursor-pointer flex items-center justify-between",children:[s.jsxs("span",{children:[P.first_name," ",P.last_name]}),s.jsx(Ce,{className:f(P.user_role),variant:"secondary",children:d(P.user_role)})]})]},P.id))})]})]})}),v.length>0&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4 text-gray-500"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[v.length," participant",v.length>1?"s":""," sélectionné",v.length>1?"s":""]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vl,{className:"w-4 h-4 text-gray-500"}),s.jsx(Ce,{variant:"secondary",style:{backgroundColor:R+"20",color:R,border:`1px solid ${R}30`},children:yqe(e.type)})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"w-4 h-4 text-gray-500 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:ps(T,"EEEE d MMMM yyyy",{locale:Ti})}),s.jsxs("div",{className:"text-gray-600 flex items-center gap-1 mt-1",children:[s.jsx(Yt,{className:"w-3 h-3"}),ps(T,"HH:mm",{locale:Ti})," - ",ps(E,"HH:mm",{locale:Ti})]})]})]}),e.location&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:e.location})]}),e.meet_link&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kj,{className:"w-4 h-4 text-gray-500"}),s.jsxs("a",{href:e.meet_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1",children:["Rejoindre la réunion",s.jsx(kj,{className:"w-3 h-3"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{className:"text-sm font-medium",children:[e.participants.length,e.max_participants&&` / ${e.max_participants}`," participants"]})]}),e.participants.length>0&&s.jsx("div",{className:"ml-6 space-y-1",children:e.participants.map(P=>{const I=c.find(M=>M.id===P);return I?s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[I.user_role==="organisation"&&s.jsx(x2,{className:"w-3 h-3 text-purple-500"}),I.user_role==="staff"&&s.jsx(w2,{className:"w-3 h-3 text-blue-500"}),I.user_role==="member"&&s.jsx(Wd,{className:"w-3 h-3 text-green-500"}),s.jsxs("span",{children:[I.first_name," ",I.last_name]})]}),s.jsx(Ce,{className:`${f(I.user_role)} text-xs`,variant:"secondary",children:d(I.user_role)})]},P):null})})]}),e.organizer_id&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mp,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:"Organisé par l'équipe"})]}),e.description&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description})]}),s.jsx("div",{className:"flex items-center gap-2 pt-2 border-t",children:s.jsxs("div",{className:"text-xs text-gray-500",children:["Statut: ",s.jsx("span",{className:"font-medium capitalize",children:e.status})]})})]})}),m&&s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsxs(H,{variant:"outline",onClick:O,disabled:b,children:[s.jsx(tn,{className:"w-4 h-4 mr-2"}),"Annuler"]}),s.jsxs(H,{onClick:F,disabled:b,className:"gap-2",children:[s.jsx(Hy,{className:"w-4 h-4"}),b?"Sauvegarde...":"Sauvegarder"]})]})]})})}function Y0({className:e,...t}){return s.jsx("div",{className:de("animate-pulse rounded-md bg-muted",e),...t})}const _qe=e=>({user_joined:"bg-green-100 text-green-800 border-green-200",project_created:"bg-blue-100 text-blue-800 border-blue-200",project_completed:"bg-purple-100 text-purple-800 border-purple-200",deliverable_completed:"bg-orange-100 text-orange-800 border-orange-200",event_created:"bg-yellow-100 text-yellow-800 border-yellow-200",event_updated:"bg-amber-100 text-amber-800 border-amber-200",event_participant_added:"bg-lime-100 text-lime-800 border-lime-200",event_participant_removed:"bg-rose-100 text-rose-800 border-rose-200",event_moved:"bg-violet-100 text-violet-800 border-violet-200",mentor_assigned:"bg-indigo-100 text-indigo-800 border-indigo-200",invitation_created:"bg-pink-100 text-pink-800 border-pink-200",form_created:"bg-teal-100 text-teal-800 border-teal-200",form_submitted:"bg-cyan-100 text-cyan-800 border-cyan-200",organization_created:"bg-emerald-100 text-emerald-800 border-emerald-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200",Nqe=e=>({user_joined:"Nouveau membre",project_created:"Projet créé",project_completed:"Projet terminé",deliverable_completed:"Livrable",event_created:"Événement",event_updated:"Événement modifié",event_participant_added:"Participant ajouté",event_participant_removed:"Participant retiré",event_moved:"Événement déplacé",mentor_assigned:"Mentor assigné",invitation_created:"Invitation",form_created:"Formulaire",form_submitted:"Réponse",organization_created:"Organisation"})[e]||"Activité",Sqe=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"expired":return"bg-red-100 text-red-800 border-red-200";case"revoked":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Cqe=e=>{switch(e){case"pending":return"En attente";case"accepted":return"Acceptée";case"expired":return"Expirée";case"revoked":return"Révoquée";default:return"Inconnue"}},Eqe=e=>{switch(e){case"entrepreneur":return"Entrepreneur";case"mentor":return"Mentor";case"observer":return"Observateur";default:return e}},kqe=(e,t)=>{if(e&&e!=="Utilisateur inconnu"&&e!=="Entrepreneur"&&e!=="Administrateur"){const n=e.split(" ");return n.length>=2?`${n[0][0]}${n[1][0]}`.toUpperCase():e.slice(0,2).toUpperCase()}return t?t.slice(0,2).toUpperCase():"NA"},Aqe=async e=>{try{await navigator.clipboard.writeText(e)}catch(t){console.error("Erreur lors de la copie:",t)}},Tqe=e=>{const t=nI(new Date(e.created_at),{locale:Ti,addSuffix:!0});return s.jsx(re,{className:"border-l-4 border-l-emerald-500 bg-emerald-50/30",children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center text-lg",children:"🏢"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-emerald-900",children:"Création de l'organisation"}),s.jsx("p",{className:"text-emerald-700 text-sm",children:e.description})]})]})}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-emerald-600",children:[s.jsxs("span",{children:["Créée ",t]}),e.user_name&&e.user_name!=="Créateur inconnu"&&s.jsxs("span",{children:["par ",e.user_name]})]})]}),s.jsx(Ce,{className:"bg-emerald-100 text-emerald-800 border-emerald-200",children:"Événement fondateur"})]})})},e.id)},Pqe=e=>{var n;const t=nI(new Date(e.created_at),{locale:Ti,addSuffix:!0});return s.jsx(re,{className:"border-l-4 border-l-aurentia-pink",children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dp,{className:"w-4 h-4 text-aurentia-pink"}),s.jsx("span",{className:"font-medium font-mono",children:e.entity_name||"CODE-INV"})]}),s.jsx(Ce,{className:Sqe("pending"),children:Cqe("pending")}),s.jsx(Ce,{variant:"outline",children:Eqe(((n=e.metadata)==null?void 0:n.invitation_type)==="organisation_member"?"entrepreneur":"mentor")})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Créée ",t]}),e.user_name&&e.user_name!=="Utilisateur inconnu"&&s.jsxs("span",{children:["par ",e.user_name]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>Aqe(e.entity_name||"CODE-INV"),children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Copier le code"]})})]})})},e.id)},Oqe=({activities:e,loading:t,loadingMore:n,hasMore:r,onLoadMore:i,error:a})=>t?s.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((o,l)=>s.jsxs("div",{className:"flex items-start gap-4 p-4",children:[s.jsx(Y0,{className:"w-10 h-10 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Y0,{className:"h-4 w-3/4"}),s.jsx(Y0,{className:"h-3 w-1/2"})]}),s.jsx(Y0,{className:"h-6 w-20"})]},l))}):a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-red-600 mb-2",children:"Erreur lors du chargement"}),s.jsx("p",{className:"text-sm text-gray-600",children:a})]}):e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-4xl mb-4",children:"📊"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune activité récente"}),s.jsx("p",{className:"text-gray-600",children:"Les activités de votre organisation apparaîtront ici au fur et à mesure."})]}):s.jsxs("div",{className:"space-y-3",children:[e.map(o=>{if(o.type==="organization_created")return Tqe(o);if(o.type==="invitation_created")return Pqe(o);const l=kqe(o.user_name,o.user_email),c=nI(new Date(o.created_at),{locale:Ti,addSuffix:!0});return s.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-gray-100 hover:border-gray-200 hover:shadow-sm transition-all duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:o.user_name&&o.user_name!=="Utilisateur inconnu"&&o.user_name!=="Entrepreneur"&&o.user_name!=="Administrateur"?s.jsx(Pv,{className:"w-10 h-10",children:s.jsx(Ov,{className:"bg-aurentia-pink text-white font-semibold text-sm",children:l})}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-lg",children:o.icon})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:o.title}),s.jsx(Ce,{variant:"outline",className:`text-xs ${_qe(o.type)}`,children:Nqe(o.type)})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:o.description}),o.metadata&&s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[o.metadata.project_name&&s.jsxs("span",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:["📋 ",o.metadata.project_name]}),o.metadata.event_type&&s.jsxs("span",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:["🏷️ ",o.metadata.event_type]}),o.metadata.invitation_type&&s.jsxs("span",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:["👤 ",o.metadata.invitation_type==="organisation_member"?"Entrepreneur":"Équipe"]})]})]}),s.jsx("div",{className:"flex-shrink-0 text-right",children:s.jsx("time",{className:"text-xs text-gray-500",dateTime:o.created_at,children:c})})]},o.id)}),r&&s.jsx("div",{className:"text-center pt-4",children:s.jsx(H,{variant:"outline",onClick:i,disabled:n,className:"hover:bg-aurentia-pink hover:text-white hover:border-aurentia-pink transition-colors",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{className:"w-4 h-4 mr-2 animate-spin"}),"Chargement..."]}):"Charger plus d'activités"})}),!r&&e.length>0&&s.jsx("div",{className:"text-center pt-4",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Toutes les activités ont été chargées"})})]}),sB={pending:"bg-yellow-100 text-yellow-800",accepted:"bg-green-100 text-green-800",expired:"bg-red-100 text-red-800",revoked:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800"},Rqe={pending:"En attente",accepted:"Acceptée",expired:"Expirée",revoked:"Révoquée",active:"Active",inactive:"Expirée"},Dqe={member:"Membre (Adhérent)",staff:"Staff (Mentor)",organisation:"Organisation (Propriétaire)"},yse=[{value:"member",label:"Membre (Adhérent)"},{value:"staff",label:"Staff (Mentor)"},{value:"organisation",label:"Organisation (Propriétaire)"}],bse=e=>sB[e]||sB.pending,wse=e=>Rqe[e]||e,jse=e=>Dqe[e]||e,Mqe=()=>{const e=It(),{organisation:t,loading:n}=r4(),{loading:r}=cse(),{codes:i,loading:a,generateCode:o}=fse(),{events:l,addEvent:c,editEvent:u}=i4((t==null?void 0:t.id)||""),{activities:d,loading:f,loadingMore:h,hasMore:m,loadMore:p,error:g,refresh:y}=Q8e(15),{toast:v}=ja(),[w,b]=x.useState(!1),[j,_]=x.useState(!1),[N,S]=x.useState(null),[C,k]=x.useState(new Date),[A,T]=x.useState(!1),[E,R]=x.useState(null),[$,O]=x.useState({role:"entrepreneur",email:""}),F=async D=>{const L=await c(D);return v(L?{title:"Événement créé",description:"L'événement a été créé avec succès."}:{title:"Erreur",description:"Une erreur s'est produite lors de la création de l'événement.",variant:"destructive"}),L},z=()=>{R(null),b(!0)},P=D=>{const L=l.find(V=>V.id===D);L&&(S(L),_(!0))},M=(D=>l.filter(L=>{const V=new Date(L.start_date),K=new Date(L.end_date),G=new Date(D);G.setHours(0,0,0,0);const X=new Date(D);return X.setHours(23,59,59,999),V<=X&&K>=G}))(C),U=async()=>{if(!$.email){v({title:"Erreur",description:"Veuillez saisir une adresse email.",variant:"destructive"});return}try{const D="INV-"+Math.random().toString(36).substr(2,6).toUpperCase();await o({code:D,role:$.role,created_by:"",expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),max_uses:1,is_active:!0})&&(v({title:"Invitation créée",description:`Code d'invitation ${D} créé pour ${$.email}`}),T(!1),O({role:"entrepreneur",email:""}))}catch{v({title:"Erreur",description:"Une erreur s'est produite lors de la création de l'invitation.",variant:"destructive"})}};return n||r?s.jsx(Ln,{message:"Chargement du dashboard...",fullScreen:!0}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard Organisation"}),s.jsxs("p",{className:"text-gray-600 text-base",children:["Gérez votre organisation ",t==null?void 0:t.name]})]})})}),s.jsx("div",{className:"mb-16",children:s.jsxs("div",{className:"grid grid-cols-12 gap-6 h-[600px]",children:[s.jsx("div",{className:"col-span-8",children:s.jsxs(re,{className:"h-full",children:[s.jsxs(pe,{className:"pb-2",children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"h-5 w-5 text-aurentia-pink"}),"Calendrier & Événements"]}),s.jsx(Xe,{className:"mt-1",children:"Événements planifiés et détails du jour sélectionné"})]}),s.jsx(ie,{className:"h-[calc(100%-80px)] p-6",children:s.jsxs("div",{className:"grid grid-cols-12 gap-8 h-full",children:[s.jsx("div",{className:"col-span-5",children:s.jsx(bqe,{onAddEvent:z,onEventClick:P,selectedDate:C,onDateSelect:k,events:M.map(D=>({id:D.id,title:D.title,from:D.start_date,to:D.end_date,type:D.type}))})}),s.jsx("div",{className:"col-span-7",children:s.jsxs("div",{className:"h-full border rounded-lg p-4 bg-gray-50/30",children:[s.jsxs("h3",{className:"font-medium text-base mb-4 flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-aurentia-pink"}),"Événements du ",C.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})]}),s.jsx("div",{className:"space-y-3 overflow-y-auto max-h-[450px]",children:M.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Wt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"font-medium",children:"Aucun événement prévu"}),s.jsx("p",{className:"text-sm",children:"Cette journée est libre"})]}):M.map(D=>{var G;const L=a4(D.type),V=new Date(D.start_date),K=new Date(D.end_date);return s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-all cursor-pointer hover:border-aurentia-pink/30",onClick:()=>P(D.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:L}}),s.jsx("h4",{className:"font-medium text-gray-900",children:D.title})]}),s.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[V.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})," - ",K.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),D.location&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2 flex items-center gap-2",children:[s.jsx(rs,{className:"w-3 h-3"}),D.location]}),D.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:D.description}),s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx(et,{className:"w-3 h-3"}),((G=D.participants)==null?void 0:G.length)||0," participants"]}),s.jsx(H,{variant:"ghost",size:"sm",className:"text-xs h-6 px-2 text-aurentia-pink hover:text-aurentia-pink hover:bg-aurentia-pink/10",children:"Voir détails"})]})]},D.id)})})]})})]})})]})}),s.jsx("div",{className:"col-span-4",children:s.jsxs(re,{className:"h-full",children:[s.jsx(pe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(me,{className:"text-base font-medium flex items-center gap-2",children:[s.jsx(Ft,{className:"h-5 w-5 text-aurentia-pink"}),"Invitations"]}),s.jsxs(pt,{open:A,onOpenChange:T,children:[s.jsx(Ll,{asChild:!0,children:s.jsxs(H,{size:"sm",style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:[s.jsx(In,{className:"w-3 h-3 mr-1"}),"Créer"]})}),s.jsxs(gt,{children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Créer une invitation"}),s.jsx(Mt,{children:"Invitez de nouveaux membres à rejoindre votre organisation."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Email"}),s.jsx(ke,{placeholder:"email@exemple.com",value:$.email,onChange:D=>O(L=>({...L,email:D.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rôle"}),s.jsxs(vt,{value:$.role,onValueChange:D=>O(L=>({...L,role:D})),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:yse.map(D=>s.jsx(fe,{value:D.value,children:D.label},D.value))})]})]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>T(!1),children:"Annuler"}),s.jsx(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",onClick:U,children:"Créer l'invitation"})]})]})]})]})}),s.jsx(ie,{className:"pt-0 h-[calc(100%-80px)] overflow-y-auto",children:a?s.jsx("div",{className:"text-center py-6",children:s.jsx(Ln,{size:"sm",message:"Chargement..."})}):(()=>{const D=new Date(Date.now()-2592e6),L=i.filter(V=>new Date(V.created_at)>=D).sort((V,K)=>new Date(K.created_at).getTime()-new Date(V.created_at).getTime()).slice(0,10);return L.length===0?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Ft,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Aucune invitation récente"})]}):s.jsxs("div",{className:"space-y-3",children:[L.map(V=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-mono text-xs font-medium truncate",children:V.code}),s.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${bse(V.is_active?"pending":"expired")}`,children:wse(V.is_active?"pending":"expired")})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(V.created_at).toLocaleDateString("fr-FR")," • ",jse(V.role)]})]}),s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(V.code),v({title:"Copié",description:"Le code d'invitation a été copié."})},children:s.jsx(Xa,{className:"w-3 h-3"})})]},V.id)),i.filter(V=>new Date(V.created_at)>=D).length>10&&s.jsx("div",{className:"text-center pt-2 border-t",children:s.jsx(H,{variant:"link",size:"sm",onClick:()=>e("/organisation/invitations"),className:"text-aurentia-pink hover:text-aurentia-pink/80 text-xs",children:"Voir toutes les invitations"})})]})})()})]})})]})}),s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Bh,{className:"h-5 w-5 text-aurentia-pink"}),"Activité Récente"]}),s.jsx(Xe,{children:"Dernières actions dans votre organisation"})]}),s.jsx(ie,{children:s.jsx(Oqe,{activities:d,loading:f,loadingMore:h,hasMore:m,onLoadMore:p,error:g})})]}),s.jsx(xse,{open:w,onOpenChange:b,organisationId:(t==null?void 0:t.id)||"",selectedRange:E,onCreateEvent:F}),s.jsx(vse,{event:N,open:j,onOpenChange:_,editEvent:u,onEventUpdate:D=>{l.map(L=>L.id===D.id?D:L),y()},onEventDelete:async D=>{console.log("Suppression depuis le dashboard:",D),v({title:"Action requise",description:"Veuillez supprimer l'événement depuis la page Événements.",variant:"default"})}})]})},ig=({tabs:e,activeTab:t,onTabChange:n,children:r})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"md:border-b md:border-gray-200",children:s.jsx("nav",{className:"grid grid-cols-2 gap-2 md:flex md:flex-row md:-mb-px md:space-x-8 overflow-x-auto","aria-label":"Tabs",children:e.map(i=>{const a=i.icon;return s.jsxs("button",{onClick:()=>n(i.key),className:`
                  py-2 px-4 font-medium text-base text-center rounded-md
                  ${t===i.key?"bg-aurentia-orange-aurentia text-white":"bg-white border border-gray-200 text-gray-700"}
                  md:whitespace-nowrap md:py-3 md:px-2 md:border-b-2 md:rounded-none md:bg-transparent md:text-center
                  ${t===i.key?"md:border-aurentia-orange-aurentia md:text-aurentia-orange-aurentia":"md:border-transparent md:text-gray-500 md:hover:text-gray-700 md:hover:border-transparent"}
                `,children:[s.jsx(a,{className:"inline h-4 w-4 mr-2"}),i.label]},i.key)})})}),s.jsx("div",{className:"mt-8 animate-popup-appear",children:r},t)]}),Iqe=(e="6months")=>{const{id:t}=Nt(),[n,r]=x.useState(!0),[i,a]=x.useState(null),[o,l]=x.useState({projects:[],adherents:[],mentors:[],mentorAssignments:[],organization:null,businessModels:[],pitches:[],visionMissions:[],marketAnalyses:[],concurrences:[],ressources:[],juridiques:[],personas:[],scores:[],deliverables:[],conversations:[],messages:[],events:[],partners:[],paymentIntents:[],subscriptions:[],invitationCodes:[],formTemplates:[],formSubmissions:[]}),c=async()=>{if(t)try{r(!0),a(null);const{data:d}=await q.from("profiles").select("id").eq("organization_id",t);if(!d||d.length===0){l({projects:[],adherents:[],mentors:[],mentorAssignments:[],organization:null,businessModels:[],pitches:[],visionMissions:[],marketAnalyses:[],concurrences:[],ressources:[],juridiques:[],personas:[],scores:[],conversations:[],messages:[],paymentIntents:[],subscriptions:[],invitationCodes:[],events:[],deliverables:[],partners:[],formTemplates:[],formSubmissions:[]}),r(!1);return}const f=d.map(L=>L.id),[h,m,p,g,y,v,w,b,j,_,N,S,C,k,A,T,E,R,$,O,F,z,P,I,M,U]=await Promise.all([q.from("business_model").select("*").in("user_id",f),q.from("pitch").select("*").in("user_id",f),q.from("vision_mission_valeurs").select("*").in("user_id",f),q.from("marche").select("*").in("user_id",f),q.from("concurrence").select("*").in("user_id",f),q.from("ressources_requises").select("*").in("user_id",f),q.from("juridique").select("*").in("user_id",f),q.from("persona_express_b2b").select("*").in("user_id",f),q.from("persona_express_b2c").select("*").in("user_id",f),q.from("persona_express_organismes").select("*").in("user_id",f),q.from("score_projet").select("*").in("user_id",f),q.from("conversation").select("*").in("user_id",f),q.from("messages").select("*").in("user_id",f),q.from("payment_intents").select("*").in("user_id",f).then(L=>L||{data:[]}),q.from("stripe_subscriptions").select("*").in("user_id",f).then(L=>L||{data:[]}),q.from("invitation_code").select("*").eq("organization_id",t).then(L=>L||{data:[]}),q.from("project_summary").select("*").in("user_id",f),q.from("profiles").select("*").in("id",f),q.from("events").select("*").eq("organization_id",t).then(L=>L||{data:[]}),q.from("deliverables").select("*").eq("organization_id",t).then(L=>L||{data:[]}),q.from("partners").select("*").eq("organization_id",t).then(L=>L||{data:[]}),q.from("mentors").select("*").eq("organization_id",t).then(L=>L||{data:[]}),q.from("mentor_assignments").select("*").then(L=>L||{data:[]}),q.from("form_templates").select("*").eq("organization_id",t).then(L=>L||{data:[]}),q.from("form_submissions").select("*").then(L=>L||{data:[]}),q.from("organizations").select("*").eq("id",t).single().then(L=>L||{data:null})]),D={projects:E.data||[],adherents:R.data||[],mentors:z.data||[],mentorAssignments:P.data||[],organization:U.data||null,businessModels:h.data||[],pitches:m.data||[],visionMissions:p.data||[],marketAnalyses:g.data||[],concurrences:y.data||[],ressources:v.data||[],juridiques:w.data||[],personas:[...(b.data||[]).map(L=>({...L,type:"B2B"})),...(j.data||[]).map(L=>({...L,type:"B2C"})),...(_.data||[]).map(L=>({...L,type:"Organismes"}))],scores:N.data||[],conversations:S.data||[],messages:C.data||[],events:$.data||[],paymentIntents:k.data||[],subscriptions:A.data||[],invitationCodes:T.data||[],deliverables:O.data||[],partners:F.data||[],formTemplates:I.data||[],formSubmissions:M.data||[]};l(D)}catch(d){console.error("Erreur lors du chargement des données étendues:",d),a(d instanceof Error?d.message:"Erreur lors du chargement")}finally{r(!1)}};x.useEffect(()=>{c()},[t,e]);const u=x.useMemo(()=>{var Pe,Ae;const d=new Date,h=(()=>{switch(e){case"24h":{const W=new Date(d);return W.setDate(W.getDate()-1),W}case"48h":{const W=new Date(d);return W.setDate(W.getDate()-2),W}case"7days":{const W=new Date(d);return W.setDate(W.getDate()-7),W}case"14days":{const W=new Date(d);return W.setDate(W.getDate()-14),W}case"1month":return new Date(d.getFullYear(),d.getMonth()-1,d.getDate());case"3months":return new Date(d.getFullYear(),d.getMonth()-3,d.getDate());case"6months":return new Date(d.getFullYear(),d.getMonth()-6,d.getDate());case"12months":return new Date(d.getFullYear(),d.getMonth()-12,d.getDate());case"all":default:return new Date(0)}})(),m=(W,_e="created_at")=>W.filter(Le=>new Date(Le[_e]||Le.created_at)>=h),p=m(o.projects),g=m(o.adherents),y=m(o.businessModels),v=m(o.conversations),w=o.projects.length,b=o.projects.filter(W=>W.statut==="active"||W.statut==="actif"||W.statut_project==="active"||W.statut_project==="actif").length,j=o.projects.filter(W=>W.statut==="completed"||W.statut==="terminé"||W.statut_project==="completed"||W.statut_project==="terminé").length,_=o.projects.filter(W=>W.statut==="draft"||W.statut==="brouillon"||W.statut_project==="draft"||W.statut_project==="brouillon").length,N=o.conversations.length,S=o.messages.length,C=N>0?S/N:0,k=o.events.length,A=o.events.reduce((W,_e)=>W+(_e.participants?_e.participants.length:0),0),T=k>0?A/k:0,E=o.events.filter(W=>new Date(W.start_date)>d).length,R=o.events.filter(W=>new Date(W.end_date)<d).length,$=o.businessModels.length,O=o.pitches.length,F=o.visionMissions.length,z=o.marketAnalyses.length,P={businessModel:w>0?$/w*100:0,pitch:w>0?O/w*100:0,visionMission:w>0?F/w*100:0,marketAnalysis:w>0?z/w*100:0},I=m(o.deliverables),M=m(o.partners),U={projects:p.length,entrepreneurs:g.length,businessModels:y.length,conversations:v.length,deliverables:I.length,partners:M.length},D=o.scores.reduce((W,_e)=>(_e.score_final&&(W.total+=_e.score_final,W.count+=1),W),{total:0,count:0}),L=D.count>0?D.total/D.count:0,V=o.personas.reduce((W,_e)=>(W[_e.type]=(W[_e.type]||0)+1,W),{}),G=(()=>{const W=[];if(e==="24h")for(let _e=23;_e>=0;_e--){const Le=new Date(d);Le.setHours(d.getHours()-_e,0,0,0);const Qe=new Date(Le);Qe.setHours(Le.getHours()+1),W.push({label:Le.toLocaleTimeString("fr-FR",{hour:"2-digit"}),start:Le,end:Qe})}else if(e==="7days"||e==="14days"){const _e=e==="7days"?7:14;for(let Le=_e-1;Le>=0;Le--){const Qe=new Date(d);Qe.setHours(0,0,0,0),Qe.setDate(d.getDate()-Le);const Q=new Date(Qe);Q.setDate(Qe.getDate()+1),W.push({label:Qe.toLocaleDateString("fr-FR",{weekday:"short",day:"2-digit"}),start:Qe,end:Q})}}else{const _e=e==="1month"?1:e==="3months"?3:e==="6months"?6:12;if(_e<=3){const Le=_e*4;for(let Qe=Le-1;Qe>=0;Qe--){const Q=new Date(d);Q.setHours(0,0,0,0),Q.setDate(Q.getDate()-Qe*7);const ae=new Date(Q);ae.setDate(Q.getDate()-7),W.push({label:`${ae.toLocaleDateString("fr-FR",{day:"2-digit",month:"short"})}`,start:ae,end:Q})}}else for(let Le=_e-1;Le>=0;Le--){const Qe=new Date(d.getFullYear(),d.getMonth()-Le,1),Q=new Date(d.getFullYear(),d.getMonth()-Le+1,1);W.push({label:Qe.toLocaleDateString("fr-FR",{month:"short"}),start:Qe,end:Q})}}return W})(),X=(W,_e)=>W>=_e.start&&W<_e.end,oe=G.map(W=>{const _e=o.projects.filter(ye=>X(new Date(ye.created_at),W)).length,Le=o.adherents.filter(ye=>X(new Date(ye.created_at),W)).length,Qe=o.conversations.filter(ye=>X(new Date(ye.created_at),W)).length,Q=o.events.filter(ye=>X(new Date(ye.created_at),W)).length,ae=o.deliverables.filter(ye=>X(new Date(ye.created_at),W)).length,Se=o.partners.filter(ye=>X(new Date(ye.created_at),W)).length;return{month:W.label,projects:_e,entrepreneurs:Le,conversations:Qe,events:Q,deliverables:ae,partners:Se}}),Y=o.deliverables.length,ne=o.deliverables.filter(W=>["completed","approved"].includes(W.status)).length,ge=o.deliverables.filter(W=>W.status==="approved").length,se=o.mentorAssignments.filter(W=>W.status==="active").length,ce=o.partners.reduce((W,_e)=>(W[_e.type]=(W[_e.type]||0)+1,W),{}),ve=o.formTemplates.length,te=o.formSubmissions.length,ue=o.formSubmissions.filter(W=>["reviewed","approved","rejected"].includes(W.status)).length,ee=o.formSubmissions.filter(W=>W.status==="approved").length,le=o.formSubmissions.filter(W=>W.status==="rejected").length;let Ie=0;try{const W=o.projects.map(_e=>_e.avancement_global||_e.progress||0).filter(_e=>typeof _e=="number");W.length>0&&(Ie=W.reduce((_e,Le)=>_e+Le,0)/W.length)}catch{}return{totalProjects:w,activeProjects:b,completedProjects:j,draftProjects:_,totalAdherents:o.adherents.length,totalMentors:o.mentors.length,activeMentorAssignments:se,totalMentorAssignments:o.mentorAssignments.length,totalBusinessModels:$,totalPitches:O,totalVisionMissions:F,totalMarketAnalyses:z,totalConcurrences:o.concurrences.length,totalRessources:o.ressources.length,totalJuridiques:o.juridiques.length,totalPersonas:o.personas.length,totalScores:o.scores.length,totalDeliverables:Y,completedDeliverables:ne,approvedDeliverables:ge,totalConversations:N,totalMessages:S,avgMessagesPerConversation:C,totalEvents:k,totalEventParticipations:A,avgParticipantsPerEvent:T,upcomingEvents:E,pastEvents:R,totalPartners:o.partners.length,activePartners:o.partners.filter(W=>W.status==="active").length,partnerTypes:ce,monthlyGrowth:U,completionRates:P,averageScore:L,projectSuccessRate:w>0?j/w*100:0,avgProjectProgress:Ie,monthlyActivity:oe,personaTypes:V,totalPaymentIntents:o.paymentIntents.length,successfulPayments:o.paymentIntents.filter(W=>W.status==="completed").length,totalSubscriptions:o.subscriptions.length,activeSubscriptions:o.subscriptions.filter(W=>W.status==="active").length,totalInvitationCodes:o.invitationCodes.length,activeInvitationCodes:o.invitationCodes.filter(W=>W.is_active).length,usedInvitationCodes:o.invitationCodes.filter(W=>W.current_uses>0).length,formTemplates:ve,formSubmissions:te,reviewedSubmissions:ue,approvedSubmissions:ee,rejectedSubmissions:le,onboardingCompleted:!!((Pe=o.organization)!=null&&Pe.onboarding_completed),onboardingStep:((Ae=o.organization)==null?void 0:Ae.onboarding_step)??0}},[o,e]);return{data:o,metrics:u,loading:n,error:i,refetch:c}};var Lqe=Array.isArray,vi=Lqe,$qe=typeof gr=="object"&&gr&&gr.Object===Object&&gr,_se=$qe,Fqe=_se,zqe=typeof self=="object"&&self&&self.Object===Object&&self,Bqe=Fqe||zqe||Function("return this")(),Yo=Bqe,Uqe=Yo,qqe=Uqe.Symbol,Ib=qqe,iB=Ib,Nse=Object.prototype,Vqe=Nse.hasOwnProperty,Hqe=Nse.toString,Gg=iB?iB.toStringTag:void 0;function Wqe(e){var t=Vqe.call(e,Gg),n=e[Gg];try{e[Gg]=void 0;var r=!0}catch{}var i=Hqe.call(e);return r&&(t?e[Gg]=n:delete e[Gg]),i}var Gqe=Wqe,Kqe=Object.prototype,Yqe=Kqe.toString;function Xqe(e){return Yqe.call(e)}var Qqe=Xqe,aB=Ib,Jqe=Gqe,Zqe=Qqe,eVe="[object Null]",tVe="[object Undefined]",oB=aB?aB.toStringTag:void 0;function nVe(e){return e==null?e===void 0?tVe:eVe:oB&&oB in Object(e)?Jqe(e):Zqe(e)}var Ql=nVe;function rVe(e){return e!=null&&typeof e=="object"}var Jl=rVe,sVe=Ql,iVe=Jl,aVe="[object Symbol]";function oVe(e){return typeof e=="symbol"||iVe(e)&&sVe(e)==aVe}var ag=oVe,lVe=vi,cVe=ag,uVe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dVe=/^\w*$/;function fVe(e,t){if(lVe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||cVe(e)?!0:dVe.test(e)||!uVe.test(e)||t!=null&&e in Object(t)}var o4=fVe;function hVe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vu=hVe;const og=Vt(Vu);var mVe=Ql,pVe=Vu,gVe="[object AsyncFunction]",xVe="[object Function]",vVe="[object GeneratorFunction]",yVe="[object Proxy]";function bVe(e){if(!pVe(e))return!1;var t=mVe(e);return t==xVe||t==vVe||t==gVe||t==yVe}var l4=bVe;const Ye=Vt(l4);var wVe=Yo,jVe=wVe["__core-js_shared__"],_Ve=jVe,Ck=_Ve,lB=function(){var e=/[^.]+$/.exec(Ck&&Ck.keys&&Ck.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function NVe(e){return!!lB&&lB in e}var SVe=NVe,CVe=Function.prototype,EVe=CVe.toString;function kVe(e){if(e!=null){try{return EVe.call(e)}catch{}try{return e+""}catch{}}return""}var Sse=kVe,AVe=l4,TVe=SVe,PVe=Vu,OVe=Sse,RVe=/[\\^$.*+?()[\]{}|]/g,DVe=/^\[object .+?Constructor\]$/,MVe=Function.prototype,IVe=Object.prototype,LVe=MVe.toString,$Ve=IVe.hasOwnProperty,FVe=RegExp("^"+LVe.call($Ve).replace(RVe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zVe(e){if(!PVe(e)||TVe(e))return!1;var t=AVe(e)?FVe:DVe;return t.test(OVe(e))}var BVe=zVe;function UVe(e,t){return e==null?void 0:e[t]}var qVe=UVe,VVe=BVe,HVe=qVe;function WVe(e,t){var n=HVe(e,t);return VVe(n)?n:void 0}var Wf=WVe,GVe=Wf,KVe=GVe(Object,"create"),NS=KVe,cB=NS;function YVe(){this.__data__=cB?cB(null):{},this.size=0}var XVe=YVe;function QVe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var JVe=QVe,ZVe=NS,e9e="__lodash_hash_undefined__",t9e=Object.prototype,n9e=t9e.hasOwnProperty;function r9e(e){var t=this.__data__;if(ZVe){var n=t[e];return n===e9e?void 0:n}return n9e.call(t,e)?t[e]:void 0}var s9e=r9e,i9e=NS,a9e=Object.prototype,o9e=a9e.hasOwnProperty;function l9e(e){var t=this.__data__;return i9e?t[e]!==void 0:o9e.call(t,e)}var c9e=l9e,u9e=NS,d9e="__lodash_hash_undefined__";function f9e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=u9e&&t===void 0?d9e:t,this}var h9e=f9e,m9e=XVe,p9e=JVe,g9e=s9e,x9e=c9e,v9e=h9e;function lg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}lg.prototype.clear=m9e;lg.prototype.delete=p9e;lg.prototype.get=g9e;lg.prototype.has=x9e;lg.prototype.set=v9e;var y9e=lg;function b9e(){this.__data__=[],this.size=0}var w9e=b9e;function j9e(e,t){return e===t||e!==e&&t!==t}var c4=j9e,_9e=c4;function N9e(e,t){for(var n=e.length;n--;)if(_9e(e[n][0],t))return n;return-1}var SS=N9e,S9e=SS,C9e=Array.prototype,E9e=C9e.splice;function k9e(e){var t=this.__data__,n=S9e(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():E9e.call(t,n,1),--this.size,!0}var A9e=k9e,T9e=SS;function P9e(e){var t=this.__data__,n=T9e(t,e);return n<0?void 0:t[n][1]}var O9e=P9e,R9e=SS;function D9e(e){return R9e(this.__data__,e)>-1}var M9e=D9e,I9e=SS;function L9e(e,t){var n=this.__data__,r=I9e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var $9e=L9e,F9e=w9e,z9e=A9e,B9e=O9e,U9e=M9e,q9e=$9e;function cg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cg.prototype.clear=F9e;cg.prototype.delete=z9e;cg.prototype.get=B9e;cg.prototype.has=U9e;cg.prototype.set=q9e;var CS=cg,V9e=Wf,H9e=Yo,W9e=V9e(H9e,"Map"),u4=W9e,uB=y9e,G9e=CS,K9e=u4;function Y9e(){this.size=0,this.__data__={hash:new uB,map:new(K9e||G9e),string:new uB}}var X9e=Y9e;function Q9e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var J9e=Q9e,Z9e=J9e;function eHe(e,t){var n=e.__data__;return Z9e(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ES=eHe,tHe=ES;function nHe(e){var t=tHe(this,e).delete(e);return this.size-=t?1:0,t}var rHe=nHe,sHe=ES;function iHe(e){return sHe(this,e).get(e)}var aHe=iHe,oHe=ES;function lHe(e){return oHe(this,e).has(e)}var cHe=lHe,uHe=ES;function dHe(e,t){var n=uHe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var fHe=dHe,hHe=X9e,mHe=rHe,pHe=aHe,gHe=cHe,xHe=fHe;function ug(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ug.prototype.clear=hHe;ug.prototype.delete=mHe;ug.prototype.get=pHe;ug.prototype.has=gHe;ug.prototype.set=xHe;var d4=ug,Cse=d4,vHe="Expected a function";function f4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(vHe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(f4.Cache||Cse),n}f4.Cache=Cse;var Ese=f4;const yHe=Vt(Ese);var bHe=Ese,wHe=500;function jHe(e){var t=bHe(e,function(r){return n.size===wHe&&n.clear(),r}),n=t.cache;return t}var _He=jHe,NHe=_He,SHe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,CHe=/\\(\\)?/g,EHe=NHe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(SHe,function(n,r,i,a){t.push(i?a.replace(CHe,"$1"):r||n)}),t}),kHe=EHe;function AHe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var h4=AHe,dB=Ib,THe=h4,PHe=vi,OHe=ag,fB=dB?dB.prototype:void 0,hB=fB?fB.toString:void 0;function kse(e){if(typeof e=="string")return e;if(PHe(e))return THe(e,kse)+"";if(OHe(e))return hB?hB.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var RHe=kse,DHe=RHe;function MHe(e){return e==null?"":DHe(e)}var Ase=MHe,IHe=vi,LHe=o4,$He=kHe,FHe=Ase;function zHe(e,t){return IHe(e)?e:LHe(e,t)?[e]:$He(FHe(e))}var Tse=zHe,BHe=ag;function UHe(e){if(typeof e=="string"||BHe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var kS=UHe,qHe=Tse,VHe=kS;function HHe(e,t){t=qHe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[VHe(t[n++])];return n&&n==r?e:void 0}var m4=HHe,WHe=m4;function GHe(e,t,n){var r=e==null?void 0:WHe(e,t);return r===void 0?n:r}var Pse=GHe;const Mi=Vt(Pse);function KHe(e){return e==null}var YHe=KHe;const ht=Vt(YHe);var XHe=Ql,QHe=vi,JHe=Jl,ZHe="[object String]";function eWe(e){return typeof e=="string"||!QHe(e)&&JHe(e)&&XHe(e)==ZHe}var tWe=eWe;const Sf=Vt(tWe);var Ose={exports:{}},fn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p4=Symbol.for("react.element"),g4=Symbol.for("react.portal"),AS=Symbol.for("react.fragment"),TS=Symbol.for("react.strict_mode"),PS=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),RS=Symbol.for("react.context"),nWe=Symbol.for("react.server_context"),DS=Symbol.for("react.forward_ref"),MS=Symbol.for("react.suspense"),IS=Symbol.for("react.suspense_list"),LS=Symbol.for("react.memo"),$S=Symbol.for("react.lazy"),rWe=Symbol.for("react.offscreen"),Rse;Rse=Symbol.for("react.module.reference");function Ca(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case p4:switch(e=e.type,e){case AS:case PS:case TS:case MS:case IS:return e;default:switch(e=e&&e.$$typeof,e){case nWe:case RS:case DS:case $S:case LS:case OS:return e;default:return t}}case g4:return t}}}fn.ContextConsumer=RS;fn.ContextProvider=OS;fn.Element=p4;fn.ForwardRef=DS;fn.Fragment=AS;fn.Lazy=$S;fn.Memo=LS;fn.Portal=g4;fn.Profiler=PS;fn.StrictMode=TS;fn.Suspense=MS;fn.SuspenseList=IS;fn.isAsyncMode=function(){return!1};fn.isConcurrentMode=function(){return!1};fn.isContextConsumer=function(e){return Ca(e)===RS};fn.isContextProvider=function(e){return Ca(e)===OS};fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===p4};fn.isForwardRef=function(e){return Ca(e)===DS};fn.isFragment=function(e){return Ca(e)===AS};fn.isLazy=function(e){return Ca(e)===$S};fn.isMemo=function(e){return Ca(e)===LS};fn.isPortal=function(e){return Ca(e)===g4};fn.isProfiler=function(e){return Ca(e)===PS};fn.isStrictMode=function(e){return Ca(e)===TS};fn.isSuspense=function(e){return Ca(e)===MS};fn.isSuspenseList=function(e){return Ca(e)===IS};fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===AS||e===PS||e===TS||e===MS||e===IS||e===rWe||typeof e=="object"&&e!==null&&(e.$$typeof===$S||e.$$typeof===LS||e.$$typeof===OS||e.$$typeof===RS||e.$$typeof===DS||e.$$typeof===Rse||e.getModuleId!==void 0)};fn.typeOf=Ca;Ose.exports=fn;var sWe=Ose.exports,iWe=Ql,aWe=Jl,oWe="[object Number]";function lWe(e){return typeof e=="number"||aWe(e)&&iWe(e)==oWe}var Dse=lWe;const cWe=Vt(Dse);var uWe=Dse;function dWe(e){return uWe(e)&&e!=+e}var fWe=dWe;const dg=Vt(fWe);var Ms=function(t){return t===0?0:t>0?1:-1},Ad=function(t){return Sf(t)&&t.indexOf("%")===t.length-1},Oe=function(t){return cWe(t)&&!dg(t)},hWe=function(t){return ht(t)},Tr=function(t){return Oe(t)||Sf(t)},mWe=0,Gf=function(t){var n=++mWe;return"".concat(t||"").concat(n)},Is=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(t)&&!Sf(t))return r;var a;if(Ad(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return dg(a)&&(a=r),i&&a>n&&(a=n),a},Ec=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},pWe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Hn=function(t,n){return Oe(t)&&Oe(n)?function(r){return t+r*(n-t)}:function(){return n}};function S_(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Mi(r,t))===n})}var gWe=function(t,n){return Oe(t)&&Oe(n)?t-n:Sf(t)&&Sf(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function gm(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function xP(e){"@babel/helpers - typeof";return xP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xP(e)}var xWe=["viewBox","children"],vWe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mB=["points","pathLength"],Ek={svg:xWe,polygon:mB,polyline:mB},x4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],C_=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),!og(r))return null;var i={};return Object.keys(r).forEach(function(a){x4.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},yWe=function(t,n,r){return function(i){return t(n,r,i),null}},Cf=function(t,n,r){if(!og(t)||xP(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];x4.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=yWe(o,n,r))}),i},bWe=["children"],wWe=["children"];function pB(e,t){if(e==null)return{};var n=jWe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vP(e){"@babel/helpers - typeof";return vP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vP(e)}var gB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},xB=null,kk=null,v4=function e(t){if(t===xB&&Array.isArray(kk))return kk;var n=[];return x.Children.forEach(t,function(r){ht(r)||(sWe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),kk=n,xB=t,n};function Ii(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Sl(i)}):r=[Sl(t)],v4(e).forEach(function(i){var a=Mi(i,"type.displayName")||Mi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ni(e,t){var n=Ii(e,t);return n&&n[0]}var vB=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Oe(r)||r<=0||!Oe(i)||i<=0)},_We=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],NWe=function(t){return t&&t.type&&Sf(t.type)&&_We.indexOf(t.type)>=0},Mse=function(t){return t&&vP(t)==="object"&&"clipDot"in t},SWe=function(t,n,r,i){var a,o=(a=Ek==null?void 0:Ek[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ye(t)&&(i&&o.includes(n)||vWe.includes(n))||r&&x4.includes(n)},He=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!og(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;SWe((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},yP=function e(t,n){if(t===n)return!0;var r=x.Children.count(t);if(r!==x.Children.count(n))return!1;if(r===0)return!0;if(r===1)return yB(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!yB(a,o))return!1}return!0},yB=function(t,n){if(ht(t)&&ht(n))return!0;if(!ht(t)&&!ht(n)){var r=t.props||{},i=r.children,a=pB(r,bWe),o=n.props||{},l=o.children,c=pB(o,wWe);return i&&l?gm(a,c)&&yP(i,l):!i&&!l?gm(a,c):!1}return!1},bB=function(t,n){var r=[],i={};return v4(t).forEach(function(a,o){if(NWe(a))r.push(a);else if(a){var l=Sl(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);r.push(f),i[l]=!0}}}),r},CWe=function(t){var n=t&&t.type;return n&&gB[n]?gB[n]:null},EWe=function(t,n){return v4(n).indexOf(t)},kWe=["children","width","height","viewBox","className","style","title","desc"];function bP(){return bP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bP.apply(this,arguments)}function AWe(e,t){if(e==null)return{};var n=TWe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wP(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=AWe(e,kWe),d=i||{width:n,height:r,x:0,y:0},f=ct("recharts-surface",a);return B.createElement("svg",bP({},He(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,l),B.createElement("desc",null,c),t)}var PWe=["children","className"];function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jP.apply(this,arguments)}function OWe(e,t){if(e==null)return{};var n=RWe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Ot=B.forwardRef(function(e,t){var n=e.children,r=e.className,i=OWe(e,PWe),a=ct("recharts-layer",r);return B.createElement("g",jP({className:a},He(i,!0),{ref:t}),n)}),Za=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function DWe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var MWe=DWe,IWe=MWe;function LWe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:IWe(e,t,n)}var $We=LWe,FWe="\\ud800-\\udfff",zWe="\\u0300-\\u036f",BWe="\\ufe20-\\ufe2f",UWe="\\u20d0-\\u20ff",qWe=zWe+BWe+UWe,VWe="\\ufe0e\\ufe0f",HWe="\\u200d",WWe=RegExp("["+HWe+FWe+qWe+VWe+"]");function GWe(e){return WWe.test(e)}var Ise=GWe;function KWe(e){return e.split("")}var YWe=KWe,Lse="\\ud800-\\udfff",XWe="\\u0300-\\u036f",QWe="\\ufe20-\\ufe2f",JWe="\\u20d0-\\u20ff",ZWe=XWe+QWe+JWe,e7e="\\ufe0e\\ufe0f",t7e="["+Lse+"]",_P="["+ZWe+"]",NP="\\ud83c[\\udffb-\\udfff]",n7e="(?:"+_P+"|"+NP+")",$se="[^"+Lse+"]",Fse="(?:\\ud83c[\\udde6-\\uddff]){2}",zse="[\\ud800-\\udbff][\\udc00-\\udfff]",r7e="\\u200d",Bse=n7e+"?",Use="["+e7e+"]?",s7e="(?:"+r7e+"(?:"+[$se,Fse,zse].join("|")+")"+Use+Bse+")*",i7e=Use+Bse+s7e,a7e="(?:"+[$se+_P+"?",_P,Fse,zse,t7e].join("|")+")",o7e=RegExp(NP+"(?="+NP+")|"+a7e+i7e,"g");function l7e(e){return e.match(o7e)||[]}var c7e=l7e,u7e=YWe,d7e=Ise,f7e=c7e;function h7e(e){return d7e(e)?f7e(e):u7e(e)}var m7e=h7e,p7e=$We,g7e=Ise,x7e=m7e,v7e=Ase;function y7e(e){return function(t){t=v7e(t);var n=g7e(t)?x7e(t):void 0,r=n?n[0]:t.charAt(0),i=n?p7e(n,1).join(""):t.slice(1);return r[e]()+i}}var b7e=y7e,w7e=b7e,j7e=w7e("toUpperCase"),_7e=j7e;const FS=Vt(_7e);function Cn(e){return function(){return e}}const qse=Math.cos,E_=Math.sin,ho=Math.sqrt,k_=Math.PI,zS=2*k_,SP=Math.PI,CP=2*SP,dd=1e-6,N7e=CP-dd;function Vse(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function S7e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Vse;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class C7e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Vse:S7e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,u=i-n,d=o-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>dd)if(!(Math.abs(f*c-u*d)>dd)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,p=i-l,g=c*c+u*u,y=m*m+p*p,v=Math.sqrt(g),w=Math.sqrt(h),b=a*Math.tan((SP-Math.acos((g+h-y)/(2*v*w)))/2),j=b/w,_=b/v;Math.abs(j-1)>dd&&this._append`L${t+j*d},${n+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+_*c},${this._y1=n+_*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=t+l,d=n+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>dd||Math.abs(this._y1-d)>dd)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%CP+CP),h>N7e?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>dd&&this._append`A${r},${r},0,${+(h>=SP)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function y4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new C7e(t)}function b4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hse(e){this._context=e}Hse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function BS(e){return new Hse(e)}function Wse(e){return e[0]}function Gse(e){return e[1]}function Kse(e,t){var n=Cn(!0),r=null,i=BS,a=null,o=y4(l);e=typeof e=="function"?e:e===void 0?Wse:Cn(e),t=typeof t=="function"?t:t===void 0?Gse:Cn(t);function l(c){var u,d=(c=b4(c)).length,f,h=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Cn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Cn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Cn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function X0(e,t,n){var r=null,i=Cn(!0),a=null,o=BS,l=null,c=y4(u);e=typeof e=="function"?e:e===void 0?Wse:Cn(+e),t=typeof t=="function"?t:Cn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Gse:Cn(+n);function u(f){var h,m,p,g=(f=b4(f)).length,y,v=!1,w,b=new Array(g),j=new Array(g);for(a==null&&(l=o(w=c())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(b[p],j[p]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(y,h,f),j[h]=+t(y,h,f),l.point(r?+r(y,h,f):b[h],n?+n(y,h,f):j[h]))}if(w)return l=null,w+""||null}function d(){return Kse().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Cn(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Cn(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Cn(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Cn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Cn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Cn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Cn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class Yse{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function E7e(e){return new Yse(e,!0)}function k7e(e){return new Yse(e,!1)}const w4={draw(e,t){const n=ho(t/k_);e.moveTo(n,0),e.arc(0,0,n,0,zS)}},A7e={draw(e,t){const n=ho(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Xse=ho(1/3),T7e=Xse*2,P7e={draw(e,t){const n=ho(t/T7e),r=n*Xse;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},O7e={draw(e,t){const n=ho(t),r=-n/2;e.rect(r,r,n,n)}},R7e=.8908130915292852,Qse=E_(k_/10)/E_(7*k_/10),D7e=E_(zS/10)*Qse,M7e=-qse(zS/10)*Qse,I7e={draw(e,t){const n=ho(t*R7e),r=D7e*n,i=M7e*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=zS*a/5,l=qse(o),c=E_(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},Ak=ho(3),L7e={draw(e,t){const n=-ho(t/(Ak*3));e.moveTo(0,n*2),e.lineTo(-Ak*n,-n),e.lineTo(Ak*n,-n),e.closePath()}},Ki=-.5,Yi=ho(3)/2,EP=1/ho(12),$7e=(EP/2+1)*3,F7e={draw(e,t){const n=ho(t/$7e),r=n/2,i=n*EP,a=r,o=n*EP+n,l=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Ki*r-Yi*i,Yi*r+Ki*i),e.lineTo(Ki*a-Yi*o,Yi*a+Ki*o),e.lineTo(Ki*l-Yi*c,Yi*l+Ki*c),e.lineTo(Ki*r+Yi*i,Ki*i-Yi*r),e.lineTo(Ki*a+Yi*o,Ki*o-Yi*a),e.lineTo(Ki*l+Yi*c,Ki*c-Yi*l),e.closePath()}};function z7e(e,t){let n=null,r=y4(i);e=typeof e=="function"?e:Cn(e||w4),t=typeof t=="function"?t:Cn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Cn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Cn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function A_(){}function T_(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Jse(e){this._context=e}Jse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:T_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:T_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B7e(e){return new Jse(e)}function Zse(e){this._context=e}Zse.prototype={areaStart:A_,areaEnd:A_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:T_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U7e(e){return new Zse(e)}function eie(e){this._context=e}eie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:T_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q7e(e){return new eie(e)}function tie(e){this._context=e}tie.prototype={areaStart:A_,areaEnd:A_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function V7e(e){return new tie(e)}function wB(e){return e<0?-1:1}function jB(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(wB(a)+wB(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function _B(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Tk(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function P_(e){this._context=e}P_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tk(this,this._t0,_B(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tk(this,_B(this,n=jB(this,e,t)),n);break;default:Tk(this,this._t0,n=jB(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function nie(e){this._context=new rie(e)}(nie.prototype=Object.create(P_.prototype)).point=function(e,t){P_.prototype.point.call(this,t,e)};function rie(e){this._context=e}rie.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function H7e(e){return new P_(e)}function W7e(e){return new nie(e)}function sie(e){this._context=e}sie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=NB(e),i=NB(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function NB(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function G7e(e){return new sie(e)}function US(e,t){this._context=e,this._t=t}US.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function K7e(e){return new US(e,.5)}function Y7e(e){return new US(e,0)}function X7e(e){return new US(e,1)}function Zm(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function kP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Q7e(e,t){return e[t]}function J7e(e){const t=[];return t.key=e,t}function Z7e(){var e=Cn([]),t=kP,n=Zm,r=Q7e;function i(a){var o=Array.from(e.apply(this,arguments),J7e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,a)]).data=f;for(l=0,d=b4(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Cn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Cn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?kP:typeof a=="function"?a:Cn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Zm,i):n},i}function eGe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Zm(e,t)}}function tGe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Zm(e,t)}}function nGe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var g=e[t[p]],y=g[r][1]||0,v=g[r-1][1]||0;m+=y-v}c+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Zm(e,t)}}function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}var rGe=["type","size","sizeType"];function AP(){return AP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AP.apply(this,arguments)}function SB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SB(Object(n),!0).forEach(function(r){sGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sGe(e,t,n){return t=iGe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iGe(e){var t=aGe(e,"string");return Gv(t)=="symbol"?t:t+""}function aGe(e,t){if(Gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oGe(e,t){if(e==null)return{};var n=lGe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lGe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var iie={symbolCircle:w4,symbolCross:A7e,symbolDiamond:P7e,symbolSquare:O7e,symbolStar:I7e,symbolTriangle:L7e,symbolWye:F7e},cGe=Math.PI/180,uGe=function(t){var n="symbol".concat(FS(t));return iie[n]||w4},dGe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*cGe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fGe=function(t,n){iie["symbol".concat(FS(t))]=n},j4=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=oGe(t,rGe),u=CB(CB({},c),{},{type:r,size:a,sizeType:l}),d=function(){var y=uGe(r),v=z7e().type(y).size(dGe(a,l,r));return v()},f=u.className,h=u.cx,m=u.cy,p=He(u,!0);return h===+h&&m===+m&&a===+a?B.createElement("path",AP({},p,{className:ct("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};j4.registerSymbol=fGe;function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TP.apply(this,arguments)}function EB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hGe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EB(Object(n),!0).forEach(function(r){Kv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pGe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oie(r.key),r)}}function gGe(e,t,n){return t&&pGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xGe(e,t,n){return t=O_(t),vGe(e,aie()?Reflect.construct(t,n||[],O_(e).constructor):t.apply(e,n))}function vGe(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yGe(e)}function yGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aie=function(){return!!e})()}function O_(e){return O_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O_(e)}function bGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PP(e,t)}function PP(e,t){return PP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PP(e,t)}function Kv(e,t,n){return t=oie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oie(e){var t=wGe(e,"string");return ep(t)=="symbol"?t:t+""}function wGe(e,t){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xi=32,_4=function(e){function t(){return mGe(this,t),xGe(this,t,arguments)}return bGe(t,e),gGe(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Xi/2,o=Xi/6,l=Xi/3,c=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Xi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Xi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Xi/8,"h").concat(Xi,"v").concat(Xi*3/4,"h").concat(-Xi,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var u=hGe({},r);return delete u.legendIcon,B.cloneElement(r.legendIcon,u)}return B.createElement(j4,{fill:c,cx:a,cy:a,size:Xi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Xi,height:Xi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,p){var g=m.formatter||c,y=ct(Kv(Kv({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=Ye(m.value)?null:m.value;Za(!Ye(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return B.createElement("li",TP({className:y,style:f,key:"legend-item-".concat(p)},Cf(r.props,m,p)),B.createElement(wP,{width:o,height:o,viewBox:d,style:h},r.renderIcon(m)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(v,m,p):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Kv(_4,"displayName","Legend");Kv(_4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jGe=CS;function _Ge(){this.__data__=new jGe,this.size=0}var NGe=_Ge;function SGe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var CGe=SGe;function EGe(e){return this.__data__.get(e)}var kGe=EGe;function AGe(e){return this.__data__.has(e)}var TGe=AGe,PGe=CS,OGe=u4,RGe=d4,DGe=200;function MGe(e,t){var n=this.__data__;if(n instanceof PGe){var r=n.__data__;if(!OGe||r.length<DGe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new RGe(r)}return n.set(e,t),this.size=n.size,this}var IGe=MGe,LGe=CS,$Ge=NGe,FGe=CGe,zGe=kGe,BGe=TGe,UGe=IGe;function fg(e){var t=this.__data__=new LGe(e);this.size=t.size}fg.prototype.clear=$Ge;fg.prototype.delete=FGe;fg.prototype.get=zGe;fg.prototype.has=BGe;fg.prototype.set=UGe;var lie=fg,qGe="__lodash_hash_undefined__";function VGe(e){return this.__data__.set(e,qGe),this}var HGe=VGe;function WGe(e){return this.__data__.has(e)}var GGe=WGe,KGe=d4,YGe=HGe,XGe=GGe;function R_(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new KGe;++t<n;)this.add(e[t])}R_.prototype.add=R_.prototype.push=YGe;R_.prototype.has=XGe;var cie=R_;function QGe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var uie=QGe;function JGe(e,t){return e.has(t)}var die=JGe,ZGe=cie,eKe=uie,tKe=die,nKe=1,rKe=2;function sKe(e,t,n,r,i,a){var o=n&nKe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=n&rKe?new ZGe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var p=e[f],g=t[f];if(r)var y=o?r(g,p,f,t,e,a):r(p,g,f,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!eKe(t,function(v,w){if(!tKe(m,w)&&(p===v||i(p,v,n,r,a)))return m.push(w)})){h=!1;break}}else if(!(p===g||i(p,g,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var fie=sKe,iKe=Yo,aKe=iKe.Uint8Array,oKe=aKe;function lKe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var cKe=lKe;function uKe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var N4=uKe,kB=Ib,AB=oKe,dKe=c4,fKe=fie,hKe=cKe,mKe=N4,pKe=1,gKe=2,xKe="[object Boolean]",vKe="[object Date]",yKe="[object Error]",bKe="[object Map]",wKe="[object Number]",jKe="[object RegExp]",_Ke="[object Set]",NKe="[object String]",SKe="[object Symbol]",CKe="[object ArrayBuffer]",EKe="[object DataView]",TB=kB?kB.prototype:void 0,Pk=TB?TB.valueOf:void 0;function kKe(e,t,n,r,i,a,o){switch(n){case EKe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case CKe:return!(e.byteLength!=t.byteLength||!a(new AB(e),new AB(t)));case xKe:case vKe:case wKe:return dKe(+e,+t);case yKe:return e.name==t.name&&e.message==t.message;case jKe:case NKe:return e==t+"";case bKe:var l=hKe;case _Ke:var c=r&pKe;if(l||(l=mKe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=gKe,o.set(e,t);var d=fKe(l(e),l(t),r,i,a,o);return o.delete(e),d;case SKe:if(Pk)return Pk.call(e)==Pk.call(t)}return!1}var AKe=kKe;function TKe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var hie=TKe,PKe=hie,OKe=vi;function RKe(e,t,n){var r=t(e);return OKe(e)?r:PKe(r,n(e))}var DKe=RKe;function MKe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var IKe=MKe;function LKe(){return[]}var $Ke=LKe,FKe=IKe,zKe=$Ke,BKe=Object.prototype,UKe=BKe.propertyIsEnumerable,PB=Object.getOwnPropertySymbols,qKe=PB?function(e){return e==null?[]:(e=Object(e),FKe(PB(e),function(t){return UKe.call(e,t)}))}:zKe,VKe=qKe;function HKe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var WKe=HKe,GKe=Ql,KKe=Jl,YKe="[object Arguments]";function XKe(e){return KKe(e)&&GKe(e)==YKe}var QKe=XKe,OB=QKe,JKe=Jl,mie=Object.prototype,ZKe=mie.hasOwnProperty,eYe=mie.propertyIsEnumerable,tYe=OB(function(){return arguments}())?OB:function(e){return JKe(e)&&ZKe.call(e,"callee")&&!eYe.call(e,"callee")},S4=tYe,D_={exports:{}};function nYe(){return!1}var rYe=nYe;D_.exports;(function(e,t){var n=Yo,r=rYe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(D_,D_.exports);var pie=D_.exports,sYe=9007199254740991,iYe=/^(?:0|[1-9]\d*)$/;function aYe(e,t){var n=typeof e;return t=t??sYe,!!t&&(n=="number"||n!="symbol"&&iYe.test(e))&&e>-1&&e%1==0&&e<t}var C4=aYe,oYe=9007199254740991;function lYe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oYe}var E4=lYe,cYe=Ql,uYe=E4,dYe=Jl,fYe="[object Arguments]",hYe="[object Array]",mYe="[object Boolean]",pYe="[object Date]",gYe="[object Error]",xYe="[object Function]",vYe="[object Map]",yYe="[object Number]",bYe="[object Object]",wYe="[object RegExp]",jYe="[object Set]",_Ye="[object String]",NYe="[object WeakMap]",SYe="[object ArrayBuffer]",CYe="[object DataView]",EYe="[object Float32Array]",kYe="[object Float64Array]",AYe="[object Int8Array]",TYe="[object Int16Array]",PYe="[object Int32Array]",OYe="[object Uint8Array]",RYe="[object Uint8ClampedArray]",DYe="[object Uint16Array]",MYe="[object Uint32Array]",Rn={};Rn[EYe]=Rn[kYe]=Rn[AYe]=Rn[TYe]=Rn[PYe]=Rn[OYe]=Rn[RYe]=Rn[DYe]=Rn[MYe]=!0;Rn[fYe]=Rn[hYe]=Rn[SYe]=Rn[mYe]=Rn[CYe]=Rn[pYe]=Rn[gYe]=Rn[xYe]=Rn[vYe]=Rn[yYe]=Rn[bYe]=Rn[wYe]=Rn[jYe]=Rn[_Ye]=Rn[NYe]=!1;function IYe(e){return dYe(e)&&uYe(e.length)&&!!Rn[cYe(e)]}var LYe=IYe;function $Ye(e){return function(t){return e(t)}}var gie=$Ye,M_={exports:{}};M_.exports;(function(e,t){var n=_se,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(M_,M_.exports);var FYe=M_.exports,zYe=LYe,BYe=gie,RB=FYe,DB=RB&&RB.isTypedArray,UYe=DB?BYe(DB):zYe,xie=UYe,qYe=WKe,VYe=S4,HYe=vi,WYe=pie,GYe=C4,KYe=xie,YYe=Object.prototype,XYe=YYe.hasOwnProperty;function QYe(e,t){var n=HYe(e),r=!n&&VYe(e),i=!n&&!r&&WYe(e),a=!n&&!r&&!i&&KYe(e),o=n||r||i||a,l=o?qYe(e.length,String):[],c=l.length;for(var u in e)(t||XYe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||GYe(u,c)))&&l.push(u);return l}var JYe=QYe,ZYe=Object.prototype;function eXe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ZYe;return e===n}var tXe=eXe;function nXe(e,t){return function(n){return e(t(n))}}var vie=nXe,rXe=vie,sXe=rXe(Object.keys,Object),iXe=sXe,aXe=tXe,oXe=iXe,lXe=Object.prototype,cXe=lXe.hasOwnProperty;function uXe(e){if(!aXe(e))return oXe(e);var t=[];for(var n in Object(e))cXe.call(e,n)&&n!="constructor"&&t.push(n);return t}var dXe=uXe,fXe=l4,hXe=E4;function mXe(e){return e!=null&&hXe(e.length)&&!fXe(e)}var Lb=mXe,pXe=JYe,gXe=dXe,xXe=Lb;function vXe(e){return xXe(e)?pXe(e):gXe(e)}var qS=vXe,yXe=DKe,bXe=VKe,wXe=qS;function jXe(e){return yXe(e,wXe,bXe)}var _Xe=jXe,MB=_Xe,NXe=1,SXe=Object.prototype,CXe=SXe.hasOwnProperty;function EXe(e,t,n,r,i,a){var o=n&NXe,l=MB(e),c=l.length,u=MB(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:CXe.call(t,h)))return!1}var m=a.get(e),p=a.get(t);if(m&&p)return m==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){h=l[f];var v=e[h],w=t[h];if(r)var b=o?r(w,v,h,t,e,a):r(v,w,h,e,t,a);if(!(b===void 0?v===w||i(v,w,n,r,a):b)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return a.delete(e),a.delete(t),g}var kXe=EXe,AXe=Wf,TXe=Yo,PXe=AXe(TXe,"DataView"),OXe=PXe,RXe=Wf,DXe=Yo,MXe=RXe(DXe,"Promise"),IXe=MXe,LXe=Wf,$Xe=Yo,FXe=LXe($Xe,"Set"),yie=FXe,zXe=Wf,BXe=Yo,UXe=zXe(BXe,"WeakMap"),qXe=UXe,OP=OXe,RP=u4,DP=IXe,MP=yie,IP=qXe,bie=Ql,hg=Sse,IB="[object Map]",VXe="[object Object]",LB="[object Promise]",$B="[object Set]",FB="[object WeakMap]",zB="[object DataView]",HXe=hg(OP),WXe=hg(RP),GXe=hg(DP),KXe=hg(MP),YXe=hg(IP),fd=bie;(OP&&fd(new OP(new ArrayBuffer(1)))!=zB||RP&&fd(new RP)!=IB||DP&&fd(DP.resolve())!=LB||MP&&fd(new MP)!=$B||IP&&fd(new IP)!=FB)&&(fd=function(e){var t=bie(e),n=t==VXe?e.constructor:void 0,r=n?hg(n):"";if(r)switch(r){case HXe:return zB;case WXe:return IB;case GXe:return LB;case KXe:return $B;case YXe:return FB}return t});var XXe=fd,Ok=lie,QXe=fie,JXe=AKe,ZXe=kXe,BB=XXe,UB=vi,qB=pie,eQe=xie,tQe=1,VB="[object Arguments]",HB="[object Array]",Q0="[object Object]",nQe=Object.prototype,WB=nQe.hasOwnProperty;function rQe(e,t,n,r,i,a){var o=UB(e),l=UB(t),c=o?HB:BB(e),u=l?HB:BB(t);c=c==VB?Q0:c,u=u==VB?Q0:u;var d=c==Q0,f=u==Q0,h=c==u;if(h&&qB(e)){if(!qB(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new Ok),o||eQe(e)?QXe(e,t,n,r,i,a):JXe(e,t,c,n,r,i,a);if(!(n&tQe)){var m=d&&WB.call(e,"__wrapped__"),p=f&&WB.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,y=p?t.value():t;return a||(a=new Ok),i(g,y,n,r,a)}}return h?(a||(a=new Ok),ZXe(e,t,n,r,i,a)):!1}var sQe=rQe,iQe=sQe,GB=Jl;function wie(e,t,n,r,i){return e===t?!0:e==null||t==null||!GB(e)&&!GB(t)?e!==e&&t!==t:iQe(e,t,n,r,wie,i)}var k4=wie,aQe=lie,oQe=k4,lQe=1,cQe=2;function uQe(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new aQe;if(r)var h=r(u,d,c,e,t,f);if(!(h===void 0?oQe(d,u,lQe|cQe,r,f):h))return!1}}return!0}var dQe=uQe,fQe=Vu;function hQe(e){return e===e&&!fQe(e)}var jie=hQe,mQe=jie,pQe=qS;function gQe(e){for(var t=pQe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,mQe(i)]}return t}var xQe=gQe;function vQe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var _ie=vQe,yQe=dQe,bQe=xQe,wQe=_ie;function jQe(e){var t=bQe(e);return t.length==1&&t[0][2]?wQe(t[0][0],t[0][1]):function(n){return n===e||yQe(n,e,t)}}var _Qe=jQe;function NQe(e,t){return e!=null&&t in Object(e)}var SQe=NQe,CQe=Tse,EQe=S4,kQe=vi,AQe=C4,TQe=E4,PQe=kS;function OQe(e,t,n){t=CQe(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=PQe(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&TQe(i)&&AQe(o,i)&&(kQe(e)||EQe(e)))}var RQe=OQe,DQe=SQe,MQe=RQe;function IQe(e,t){return e!=null&&MQe(e,t,DQe)}var LQe=IQe,$Qe=k4,FQe=Pse,zQe=LQe,BQe=o4,UQe=jie,qQe=_ie,VQe=kS,HQe=1,WQe=2;function GQe(e,t){return BQe(e)&&UQe(t)?qQe(VQe(e),t):function(n){var r=FQe(n,e);return r===void 0&&r===t?zQe(n,e):$Qe(t,r,HQe|WQe)}}var KQe=GQe;function YQe(e){return e}var mg=YQe;function XQe(e){return function(t){return t==null?void 0:t[e]}}var QQe=XQe,JQe=m4;function ZQe(e){return function(t){return JQe(t,e)}}var eJe=ZQe,tJe=QQe,nJe=eJe,rJe=o4,sJe=kS;function iJe(e){return rJe(e)?tJe(sJe(e)):nJe(e)}var aJe=iJe,oJe=_Qe,lJe=KQe,cJe=mg,uJe=vi,dJe=aJe;function fJe(e){return typeof e=="function"?e:e==null?cJe:typeof e=="object"?uJe(e)?lJe(e[0],e[1]):oJe(e):dJe(e)}var Xo=fJe;function hJe(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Nie=hJe;function mJe(e){return e!==e}var pJe=mJe;function gJe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var xJe=gJe,vJe=Nie,yJe=pJe,bJe=xJe;function wJe(e,t,n){return t===t?bJe(e,t,n):vJe(e,yJe,n)}var jJe=wJe,_Je=jJe;function NJe(e,t){var n=e==null?0:e.length;return!!n&&_Je(e,t,0)>-1}var SJe=NJe;function CJe(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var EJe=CJe;function kJe(){}var AJe=kJe,Rk=yie,TJe=AJe,PJe=N4,OJe=1/0,RJe=Rk&&1/PJe(new Rk([,-0]))[1]==OJe?function(e){return new Rk(e)}:TJe,DJe=RJe,MJe=cie,IJe=SJe,LJe=EJe,$Je=die,FJe=DJe,zJe=N4,BJe=200;function UJe(e,t,n){var r=-1,i=IJe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=LJe;else if(a>=BJe){var u=t?null:FJe(e);if(u)return zJe(u);o=!1,i=$Je,c=new MJe}else c=t?[]:l;e:for(;++r<a;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var qJe=UJe,VJe=Xo,HJe=qJe;function WJe(e,t){return e&&e.length?HJe(e,VJe(t)):[]}var GJe=WJe;const KB=Vt(GJe);function Sie(e,t,n){return t===!0?KB(e,n):Ye(t)?KB(e,t):e}function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}var KJe=["ref"];function YB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YB(Object(n),!0).forEach(function(r){VS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eie(r.key),r)}}function XJe(e,t,n){return t&&XB(e.prototype,t),n&&XB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QJe(e,t,n){return t=I_(t),JJe(e,Cie()?Reflect.construct(t,n||[],I_(e).constructor):t.apply(e,n))}function JJe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZJe(e)}function ZJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cie=function(){return!!e})()}function I_(e){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I_(e)}function eZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LP(e,t)}function LP(e,t){return LP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LP(e,t)}function VS(e,t,n){return t=Eie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eie(e){var t=tZe(e,"string");return tp(t)=="symbol"?t:t+""}function tZe(e,t){if(tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nZe(e,t){if(e==null)return{};var n=rZe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rZe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sZe(e){return e.value}function iZe(e,t){if(B.isValidElement(e))return B.cloneElement(e,t);if(typeof e=="function")return B.createElement(e,t);t.ref;var n=nZe(t,KJe);return B.createElement(_4,n)}var QB=1,Ha=function(e){function t(){var n;YJe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=QJe(this,t,[].concat(i)),VS(n,"lastBoundingBox",{width:-1,height:-1}),n}return eZe(t,e),XJe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>QB||Math.abs(i.height-this.lastBoundingBox.height)>QB)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?tl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return tl(tl({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=tl(tl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},iZe(a,tl(tl({},this.props),{},{payload:Sie(d,u,sZe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=tl(tl({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Oe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(x.PureComponent);VS(Ha,"displayName","Legend");VS(Ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var JB=Ib,aZe=S4,oZe=vi,ZB=JB?JB.isConcatSpreadable:void 0;function lZe(e){return oZe(e)||aZe(e)||!!(ZB&&e&&e[ZB])}var cZe=lZe,uZe=hie,dZe=cZe;function kie(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=dZe),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?kie(l,t-1,n,r,i):uZe(i,l):r||(i[i.length]=l)}return i}var Aie=kie;function fZe(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var hZe=fZe,mZe=hZe,pZe=mZe(),gZe=pZe,xZe=gZe,vZe=qS;function yZe(e,t){return e&&xZe(e,t,vZe)}var Tie=yZe,bZe=Lb;function wZe(e,t){return function(n,r){if(n==null)return n;if(!bZe(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var jZe=wZe,_Ze=Tie,NZe=jZe,SZe=NZe(_Ze),A4=SZe,CZe=A4,EZe=Lb;function kZe(e,t){var n=-1,r=EZe(e)?Array(e.length):[];return CZe(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var Pie=kZe;function AZe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var TZe=AZe,e8=ag;function PZe(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=e8(e),o=t!==void 0,l=t===null,c=t===t,u=e8(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var OZe=PZe,RZe=OZe;function DZe(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++r<o;){var c=RZe(i[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var MZe=DZe,Dk=h4,IZe=m4,LZe=Xo,$Ze=Pie,FZe=TZe,zZe=gie,BZe=MZe,UZe=mg,qZe=vi;function VZe(e,t,n){t.length?t=Dk(t,function(a){return qZe(a)?function(o){return IZe(o,a.length===1?a[0]:a)}:a}):t=[UZe];var r=-1;t=Dk(t,zZe(LZe));var i=$Ze(e,function(a,o,l){var c=Dk(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return FZe(i,function(a,o){return BZe(a,o,n)})}var HZe=VZe;function WZe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var GZe=WZe,KZe=GZe,t8=Math.max;function YZe(e,t,n){return t=t8(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=t8(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(o),KZe(e,this,l)}}var XZe=YZe;function QZe(e){return function(){return e}}var JZe=QZe,ZZe=Wf,eet=function(){try{var e=ZZe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Oie=eet,tet=JZe,n8=Oie,net=mg,ret=n8?function(e,t){return n8(e,"toString",{configurable:!0,enumerable:!1,value:tet(t),writable:!0})}:net,set=ret,iet=800,aet=16,oet=Date.now;function cet(e){var t=0,n=0;return function(){var r=oet(),i=aet-(r-n);if(n=r,i>0){if(++t>=iet)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var uet=cet,det=set,fet=uet,het=fet(det),met=het,pet=mg,get=XZe,xet=met;function vet(e,t){return xet(get(e,t,pet),e+"")}var yet=vet,bet=c4,wet=Lb,jet=C4,_et=Vu;function Net(e,t,n){if(!_et(n))return!1;var r=typeof t;return(r=="number"?wet(n)&&jet(t,n.length):r=="string"&&t in n)?bet(n[t],e):!1}var HS=Net,Cet=Aie,Eet=HZe,ket=yet,r8=HS,Aet=ket(function(e,t){if(e==null)return[];var n=t.length;return n>1&&r8(e,t[0],t[1])?t=[]:n>2&&r8(t[0],t[1],t[2])&&(t=[t[0]]),Eet(e,Cet(t,1),[])}),Tet=Aet;const T4=Vt(Tet);function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$P.apply(this,arguments)}function Pet(e,t){return Met(e)||Det(e,t)||Ret(e,t)||Oet()}function Oet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ret(e,t){if(e){if(typeof e=="string")return s8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s8(e,t)}}function s8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Det(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Met(e){if(Array.isArray(e))return e}function i8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(n),!0).forEach(function(r){Iet(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iet(e,t,n){return t=Let(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Let(e){var t=$et(e,"string");return Yv(t)=="symbol"?t:t+""}function $et(e,t){if(Yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fet(e){return Array.isArray(e)&&Tr(e[0])&&Tr(e[1])?e.join(" ~ "):e}var zet=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,g=t.label,y=t.labelFormatter,v=t.accessibilityLayer,w=v===void 0?!1:v,b=function(){if(d&&d.length){var E={padding:0,margin:0},R=(h?T4(d,h):d).map(function($,O){if($.type==="none")return null;var F=Mk({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),z=$.formatter||f||Fet,P=$.value,I=$.name,M=P,U=I;if(z&&M!=null&&U!=null){var D=z(P,I,$,O,d);if(Array.isArray(D)){var L=Pet(D,2);M=L[0],U=L[1]}else M=D}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:F},Tr(U)?B.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Tr(U)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},M),B.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:E},R)}return null},j=Mk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=Mk({margin:0},u),N=!ht(g),S=N?g:"",C=ct("recharts-default-tooltip",m),k=ct("recharts-tooltip-label",p);N&&y&&d!==void 0&&d!==null&&(S=y(g,d));var A=w?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",$P({className:C,style:j},A),B.createElement("p",{className:k,style:_},B.isValidElement(S)?S:"".concat(S)),b())};function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function J0(e,t,n){return t=Bet(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bet(e){var t=Uet(e,"string");return Xv(t)=="symbol"?t:t+""}function Uet(e,t){if(Xv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kg="recharts-tooltip-wrapper",qet={visibility:"hidden"};function Vet(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ct(Kg,J0(J0(J0(J0({},"".concat(Kg,"-right"),Oe(n)&&t&&Oe(t.x)&&n>=t.x),"".concat(Kg,"-left"),Oe(n)&&t&&Oe(t.x)&&n<t.x),"".concat(Kg,"-bottom"),Oe(r)&&t&&Oe(t.y)&&r>=t.y),"".concat(Kg,"-top"),Oe(r)&&t&&Oe(t.y)&&r<t.y))}function a8(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Oe(a[r]))return a[r];var d=n[r]-l-i,f=n[r]+i;if(t[r])return o[r]?d:f;if(o[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var p=f+l,g=c[r]+u;return p>g?Math.max(d,c[r]):Math.max(f,c[r])}function Het(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Wet(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=a8({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=a8({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Het({translateX:d,translateY:f,useTranslate3d:l})):u=qet,{cssProperties:u,cssClasses:Vet({translateX:d,translateY:f,coordinate:n})}}function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function o8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(n),!0).forEach(function(r){zP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Get(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ket(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Die(r.key),r)}}function Yet(e,t,n){return t&&Ket(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xet(e,t,n){return t=L_(t),Qet(e,Rie()?Reflect.construct(t,n||[],L_(e).constructor):t.apply(e,n))}function Qet(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jet(e)}function Jet(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rie=function(){return!!e})()}function L_(e){return L_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L_(e)}function Zet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FP(e,t)}function FP(e,t){return FP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FP(e,t)}function zP(e,t,n){return t=Die(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Die(e){var t=ett(e,"string");return np(t)=="symbol"?t:t+""}function ett(e,t){if(np(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c8=1,ttt=function(e){function t(){var n;Get(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Xet(this,t,[].concat(i)),zP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Zet(t,e),Yet(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>c8||Math.abs(r.height-this.state.lastBoundingBox.height)>c8)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,p=i.position,g=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,b=Wet({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),j=b.cssClasses,_=b.cssProperties,N=l8(l8({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return B.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(C){r.wrapperNode=C}},u)}}])}(x.PureComponent),ntt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zl={isSsr:ntt()};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function u8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(n),!0).forEach(function(r){P4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function stt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iie(r.key),r)}}function itt(e,t,n){return t&&stt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function att(e,t,n){return t=$_(t),ott(e,Mie()?Reflect.construct(t,n||[],$_(e).constructor):t.apply(e,n))}function ott(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ltt(e)}function ltt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mie=function(){return!!e})()}function $_(e){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$_(e)}function ctt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BP(e,t)}function BP(e,t){return BP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BP(e,t)}function P4(e,t,n){return t=Iie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iie(e){var t=utt(e,"string");return rp(t)=="symbol"?t:t+""}function utt(e,t){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dtt(e){return e.dataKey}function ftt(e,t){return B.isValidElement(e)?B.cloneElement(e,t):typeof e=="function"?B.createElement(e,t):B.createElement(zet,t)}var fr=function(e){function t(){return rtt(this,t),att(this,t,arguments)}return ctt(t,e),itt(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,p=i.payload,g=i.payloadUniqBy,y=i.position,v=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,j=i.wrapperStyle,_=p??[];f&&_.length&&(_=Sie(p.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,dtt));var N=_.length>0;return B.createElement(ttt,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:N,offset:m,position:y,reverseDirection:v,useTranslate3d:w,viewBox:b,wrapperStyle:j},ftt(u,d8(d8({},this.props),{},{payload:_})))}}])}(x.PureComponent);P4(fr,"displayName","Tooltip");P4(fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var htt=Yo,mtt=function(){return htt.Date.now()},ptt=mtt,gtt=/\s/;function xtt(e){for(var t=e.length;t--&&gtt.test(e.charAt(t)););return t}var vtt=xtt,ytt=vtt,btt=/^\s+/;function wtt(e){return e&&e.slice(0,ytt(e)+1).replace(btt,"")}var jtt=wtt,_tt=jtt,f8=Vu,Ntt=ag,h8=NaN,Stt=/^[-+]0x[0-9a-f]+$/i,Ctt=/^0b[01]+$/i,Ett=/^0o[0-7]+$/i,ktt=parseInt;function Att(e){if(typeof e=="number")return e;if(Ntt(e))return h8;if(f8(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=f8(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_tt(e);var n=Ctt.test(e);return n||Ett.test(e)?ktt(e.slice(2),n?2:8):Stt.test(e)?h8:+e}var Lie=Att,Ttt=Vu,Ik=ptt,m8=Lie,Ptt="Expected a function",Ott=Math.max,Rtt=Math.min;function Dtt(e,t,n){var r,i,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Ptt);t=m8(t)||0,Ttt(n)&&(d=!!n.leading,f="maxWait"in n,a=f?Ott(m8(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function m(N){var S=r,C=i;return r=i=void 0,u=N,o=e.apply(C,S),o}function p(N){return u=N,l=setTimeout(v,t),d?m(N):o}function g(N){var S=N-c,C=N-u,k=t-S;return f?Rtt(k,a-C):k}function y(N){var S=N-c,C=N-u;return c===void 0||S>=t||S<0||f&&C>=a}function v(){var N=Ik();if(y(N))return w(N);l=setTimeout(v,g(N))}function w(N){return l=void 0,h&&r?m(N):(r=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function j(){return l===void 0?o:w(Ik())}function _(){var N=Ik(),S=y(N);if(r=arguments,i=this,c=N,S){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(v,t),m(c)}return l===void 0&&(l=setTimeout(v,t)),o}return _.cancel=b,_.flush=j,_}var Mtt=Dtt,Itt=Mtt,Ltt=Vu,$tt="Expected a function";function Ftt(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError($tt);return Ltt(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Itt(e,t,{leading:r,maxWait:t,trailing:i})}var ztt=Ftt;const $ie=Vt(ztt);function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function p8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(n),!0).forEach(function(r){Btt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Btt(e,t,n){return t=Utt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Utt(e){var t=qtt(e,"string");return Qv(t)=="symbol"?t:t+""}function qtt(e,t){if(Qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vtt(e,t){return Ktt(e)||Gtt(e,t)||Wtt(e,t)||Htt()}function Htt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wtt(e,t){if(e){if(typeof e=="string")return g8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g8(e,t)}}function g8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gtt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ktt(e){if(Array.isArray(e))return e}var Ta=x.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,p=e.debounce,g=p===void 0?0:p,y=e.id,v=e.className,w=e.onResize,b=e.style,j=b===void 0?{}:b,_=x.useRef(null),N=x.useRef();N.current=w,x.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=x.useState({containerWidth:i.width,containerHeight:i.height}),C=Vtt(S,2),k=C[0],A=C[1],T=x.useCallback(function(R,$){A(function(O){var F=Math.round(R),z=Math.round($);return O.containerWidth===F&&O.containerHeight===z?O:{containerWidth:F,containerHeight:z}})},[]);x.useEffect(function(){var R=function(I){var M,U=I[0].contentRect,D=U.width,L=U.height;T(D,L),(M=N.current)===null||M===void 0||M.call(N,D,L)};g>0&&(R=$ie(R,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(R),O=_.current.getBoundingClientRect(),F=O.width,z=O.height;return T(F,z),$.observe(_.current),function(){$.disconnect()}},[T,g]);var E=x.useMemo(function(){var R=k.containerWidth,$=k.containerHeight;if(R<0||$<0)return null;Za(Ad(o)||Ad(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Za(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=Ad(o)?R:o,F=Ad(c)?$:c;n&&n>0&&(O?F=O/n:F&&(O=F*n),h&&F>h&&(F=h)),Za(O>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,F,o,c,d,f,n);var z=!Array.isArray(m)&&Sl(m.type).endsWith("Chart");return B.Children.map(m,function(P){return B.isValidElement(P)?x.cloneElement(P,Z0({width:O,height:F},z?{style:Z0({height:"100%",width:"100%",maxHeight:F,maxWidth:O},P.props.style)}:{})):P})},[n,m,c,h,f,d,k,o]);return B.createElement("div",{id:y?"".concat(y):void 0,className:ct("recharts-responsive-container",v),style:Z0(Z0({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},E)}),Td=function(t){return null};Td.displayName="Cell";function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function x8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(n),!0).forEach(function(r){Ytt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ytt(e,t,n){return t=Xtt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xtt(e){var t=Qtt(e,"string");return Jv(t)=="symbol"?t:t+""}function Qtt(e,t){if(Jv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gh={widthCache:{},cacheCount:0},Jtt=2e3,Ztt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},v8="recharts_measurement_span";function ent(e){var t=UP({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Wx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zl.isSsr)return{width:0,height:0};var r=ent(n),i=JSON.stringify({text:t,copyStyle:r});if(gh.widthCache[i])return gh.widthCache[i];try{var a=document.getElementById(v8);a||(a=document.createElement("span"),a.setAttribute("id",v8),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=UP(UP({},Ztt),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return gh.widthCache[i]=c,++gh.cacheCount>Jtt&&(gh.cacheCount=0,gh.widthCache={}),c}catch{return{width:0,height:0}}},tnt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function F_(e,t){return int(e)||snt(e,t)||rnt(e,t)||nnt()}function nnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rnt(e,t){if(e){if(typeof e=="string")return y8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y8(e,t)}}function y8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function snt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function int(e){if(Array.isArray(e))return e}function ant(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lnt(r.key),r)}}function ont(e,t,n){return t&&b8(e.prototype,t),n&&b8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lnt(e){var t=cnt(e,"string");return Zv(t)=="symbol"?t:t+""}function cnt(e,t){if(Zv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var w8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,j8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,unt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dnt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fnt=Object.keys(Fie),Kh="NaN";function hnt(e,t){return e*Fie[t]}var ew=function(){function e(t,n){ant(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!unt.test(n)&&(this.num=NaN,this.unit=""),fnt.includes(n)&&(this.num=hnt(t,n),this.unit="px")}return ont(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=dnt.exec(n))!==null&&r!==void 0?r:[],a=F_(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function zie(e){if(e.includes(Kh))return Kh;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=w8.exec(t))!==null&&n!==void 0?n:[],i=F_(r,4),a=i[1],o=i[2],l=i[3],c=ew.parse(a??""),u=ew.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Kh;t=t.replace(w8,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=j8.exec(t))!==null&&f!==void 0?f:[],m=F_(h,4),p=m[1],g=m[2],y=m[3],v=ew.parse(p??""),w=ew.parse(y??""),b=g==="+"?v.add(w):v.subtract(w);if(b.isNaN())return Kh;t=t.replace(j8,b.toString())}return t}var _8=/\(([^()]*)\)/;function mnt(e){for(var t=e;t.includes("(");){var n=_8.exec(t),r=F_(n,2),i=r[1];t=t.replace(_8,zie(i))}return t}function pnt(e){var t=e.replace(/\s+/g,"");return t=mnt(t),t=zie(t),t}function gnt(e){try{return pnt(e)}catch{return Kh}}function Lk(e){var t=gnt(e.slice(5,-1));return t===Kh?"":t}var xnt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vnt=["dx","dy","angle","className","breakAll"];function qP(){return qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qP.apply(this,arguments)}function N8(e,t){if(e==null)return{};var n=ynt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ynt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function S8(e,t){return _nt(e)||jnt(e,t)||wnt(e,t)||bnt()}function bnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wnt(e,t){if(e){if(typeof e=="string")return C8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C8(e,t)}}function C8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jnt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _nt(e){if(Array.isArray(e))return e}var Bie=/[ \f\n\r\t\v\u2028\u2029]+/,Uie=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];ht(n)||(r?a=n.toString().split(""):a=n.toString().split(Bie));var o=a.map(function(c){return{word:c,width:Wx(c,i).width}}),l=r?0:Wx(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Nnt=function(t,n,r,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Oe(o),f=l,h=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce(function(F,z){var P=z.word,I=z.width,M=F[F.length-1];if(M&&(i==null||a||M.width+I+r<Number(i)))M.words.push(P),M.width+=I+r;else{var U={words:[P],width:I};F.push(U)}return F},[])},m=h(n),p=function(O){return O.reduce(function(F,z){return F.width>z.width?F:z})};if(!d)return m;for(var g="…",y=function(O){var F=f.slice(0,O),z=Uie({breakAll:u,style:c,children:F+g}).wordsWithComputedWidth,P=h(z),I=P.length>o||p(P).width>Number(i);return[I,P]},v=0,w=f.length-1,b=0,j;v<=w&&b<=f.length-1;){var _=Math.floor((v+w)/2),N=_-1,S=y(N),C=S8(S,2),k=C[0],A=C[1],T=y(_),E=S8(T,1),R=E[0];if(!k&&!R&&(v=_+1),k&&R&&(w=_-1),!k&&R){j=A;break}b++}return j||m},E8=function(t){var n=ht(t)?[]:t.toString().split(Bie);return[{words:n}]},Snt=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Zl.isSsr){var c,u,d=Uie({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return E8(i);return Nnt({breakAll:o,children:i,maxLines:l,style:a},c,u,n,r)}return E8(i)},k8="#808080",Ef=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,p=t.verticalAnchor,g=p===void 0?"end":p,y=t.fill,v=y===void 0?k8:y,w=N8(t,xnt),b=x.useMemo(function(){return Snt({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),j=w.dx,_=w.dy,N=w.angle,S=w.className,C=w.breakAll,k=N8(w,vnt);if(!Tr(r)||!Tr(a))return null;var A=r+(Oe(j)?j:0),T=a+(Oe(_)?_:0),E;switch(g){case"start":E=Lk("calc(".concat(u,")"));break;case"middle":E=Lk("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=Lk("calc(".concat(b.length-1," * -").concat(l,")"));break}var R=[];if(f){var $=b[0].width,O=w.width;R.push("scale(".concat((Oe(O)?O/$:1)/$,")"))}return N&&R.push("rotate(".concat(N,", ").concat(A,", ").concat(T,")")),R.length&&(k.transform=R.join(" ")),B.createElement("text",qP({},He(k,!0),{x:A,y:T,className:ct("recharts-text",S),textAnchor:m,fill:v.includes("url")?k8:v}),b.map(function(F,z){var P=F.words.join(C?"":" ");return B.createElement("tspan",{x:A,dy:z===0?E:l,key:"".concat(P,"-").concat(z)},P)}))};function hu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cnt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O4(e){let t,n,r;e.length!==2?(t=hu,n=(l,c)=>hu(e(l),c),r=(l,c)=>e(l)-c):(t=e===hu||e===Cnt?e:Ent,n=e,r=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function Ent(){return 0}function qie(e){return e===null?NaN:+e}function*knt(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Ant=O4(hu),$b=Ant.right;O4(qie).center;class A8 extends Map{constructor(t,n=Ont){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(T8(this,t))}has(t){return super.has(T8(this,t))}set(t,n){return super.set(Tnt(this,t),n)}delete(t){return super.delete(Pnt(this,t))}}function T8({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Tnt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Pnt({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ont(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rnt(e=hu){if(e===hu)return Vie;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Vie(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Dnt=Math.sqrt(50),Mnt=Math.sqrt(10),Int=Math.sqrt(2);function z_(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Dnt?10:a>=Mnt?5:a>=Int?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?z_(e,t,n*2):[l,c,u]}function VP(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?z_(t,e,n):z_(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function HP(e,t,n){return t=+t,e=+e,n=+n,z_(e,t,n)[2]}function WP(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?HP(t,e,n):HP(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function P8(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function O8(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Hie(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Vie:Rnt(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/c+h)),p=Math.min(r,Math.floor(t+(c-u)*f/c+h));Hie(e,t,m,p,i)}const a=e[t];let o=n,l=r;for(Yg(e,n,t),i(e[r],a)>0&&Yg(e,n,r);o<l;){for(Yg(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Yg(e,n,l):(++l,Yg(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Yg(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Lnt(e,t,n){if(e=Float64Array.from(knt(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return O8(e);if(t>=1)return P8(e);var r,i=(r-1)*t,a=Math.floor(i),o=P8(Hie(e,a).subarray(0,a+1)),l=O8(e.subarray(a+1));return o+(l-o)*(i-a)}}function $nt(e,t,n=qie){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function Fnt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ea(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ec(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const GP=Symbol("implicit");function R4(){var e=new A8,t=[],n=[],r=GP;function i(a){let o=e.get(a);if(o===void 0){if(r!==GP)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new A8;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return R4(t,n).unknown(r)},Ea.apply(i,arguments),i}function ey(){var e=R4().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),p+=(g-p-a*(h-c))*d,o=a*(1-c),l&&(p=Math.round(p),o=Math.round(o));var y=Fnt(h).map(function(v){return p+a*v});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ey(t(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ea.apply(f(),arguments)}function Wie(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Wie(t())},e}function Gx(){return Wie(ey.apply(null,arguments).paddingInner(1))}function D4(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gie(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fb(){}var ty=.7,B_=1/ty,xm="\\s*([+-]?\\d+)\\s*",ny="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",znt=/^#([0-9a-f]{3,8})$/,Bnt=new RegExp(`^rgb\\(${xm},${xm},${xm}\\)$`),Unt=new RegExp(`^rgb\\(${Lo},${Lo},${Lo}\\)$`),qnt=new RegExp(`^rgba\\(${xm},${xm},${xm},${ny}\\)$`),Vnt=new RegExp(`^rgba\\(${Lo},${Lo},${Lo},${ny}\\)$`),Hnt=new RegExp(`^hsl\\(${ny},${Lo},${Lo}\\)$`),Wnt=new RegExp(`^hsla\\(${ny},${Lo},${Lo},${ny}\\)$`),R8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D4(Fb,ry,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:D8,formatHex:D8,formatHex8:Gnt,formatHsl:Knt,formatRgb:M8,toString:M8});function D8(){return this.rgb().formatHex()}function Gnt(){return this.rgb().formatHex8()}function Knt(){return Kie(this).formatHsl()}function M8(){return this.rgb().formatRgb()}function ry(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=znt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?I8(t):n===3?new ii(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?tw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?tw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bnt.exec(e))?new ii(t[1],t[2],t[3],1):(t=Unt.exec(e))?new ii(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qnt.exec(e))?tw(t[1],t[2],t[3],t[4]):(t=Vnt.exec(e))?tw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hnt.exec(e))?F8(t[1],t[2]/100,t[3]/100,1):(t=Wnt.exec(e))?F8(t[1],t[2]/100,t[3]/100,t[4]):R8.hasOwnProperty(e)?I8(R8[e]):e==="transparent"?new ii(NaN,NaN,NaN,0):null}function I8(e){return new ii(e>>16&255,e>>8&255,e&255,1)}function tw(e,t,n,r){return r<=0&&(e=t=n=NaN),new ii(e,t,n,r)}function Ynt(e){return e instanceof Fb||(e=ry(e)),e?(e=e.rgb(),new ii(e.r,e.g,e.b,e.opacity)):new ii}function KP(e,t,n,r){return arguments.length===1?Ynt(e):new ii(e,t,n,r??1)}function ii(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}D4(ii,KP,Gie(Fb,{brighter(e){return e=e==null?B_:Math.pow(B_,e),new ii(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ty:Math.pow(ty,e),new ii(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ii(Qd(this.r),Qd(this.g),Qd(this.b),U_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L8,formatHex:L8,formatHex8:Xnt,formatRgb:$8,toString:$8}));function L8(){return`#${Pd(this.r)}${Pd(this.g)}${Pd(this.b)}`}function Xnt(){return`#${Pd(this.r)}${Pd(this.g)}${Pd(this.b)}${Pd((isNaN(this.opacity)?1:this.opacity)*255)}`}function $8(){const e=U_(this.opacity);return`${e===1?"rgb(":"rgba("}${Qd(this.r)}, ${Qd(this.g)}, ${Qd(this.b)}${e===1?")":`, ${e})`}`}function U_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pd(e){return e=Qd(e),(e<16?"0":"")+e.toString(16)}function F8(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wa(e,t,n,r)}function Kie(e){if(e instanceof Wa)return new Wa(e.h,e.s,e.l,e.opacity);if(e instanceof Fb||(e=ry(e)),!e)return new Wa;if(e instanceof Wa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Wa(o,l,c,e.opacity)}function Qnt(e,t,n,r){return arguments.length===1?Kie(e):new Wa(e,t,n,r??1)}function Wa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}D4(Wa,Qnt,Gie(Fb,{brighter(e){return e=e==null?B_:Math.pow(B_,e),new Wa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ty:Math.pow(ty,e),new Wa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ii($k(e>=240?e-240:e+120,i,r),$k(e,i,r),$k(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Wa(z8(this.h),nw(this.s),nw(this.l),U_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=U_(this.opacity);return`${e===1?"hsl(":"hsla("}${z8(this.h)}, ${nw(this.s)*100}%, ${nw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function z8(e){return e=(e||0)%360,e<0?e+360:e}function nw(e){return Math.max(0,Math.min(1,e||0))}function $k(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const M4=e=>()=>e;function Jnt(e,t){return function(n){return e+n*t}}function Znt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ert(e){return(e=+e)==1?Yie:function(t,n){return n-t?Znt(t,n,e):M4(isNaN(t)?n:t)}}function Yie(e,t){var n=t-e;return n?Jnt(e,n):M4(isNaN(e)?t:e)}const B8=function e(t){var n=ert(t);function r(i,a){var o=n((i=KP(i)).r,(a=KP(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Yie(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function trt(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function nrt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rrt(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=pg(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function srt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function q_(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function irt(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=pg(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var YP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fk=new RegExp(YP.source,"g");function art(e){return function(){return e}}function ort(e){return function(t){return e(t)+""}}function lrt(e,t){var n=YP.lastIndex=Fk.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=YP.exec(e))&&(i=Fk.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:q_(r,i)})),n=Fk.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?ort(c[0].x):art(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function pg(e,t){var n=typeof t,r;return t==null||n==="boolean"?M4(t):(n==="number"?q_:n==="string"?(r=ry(t))?(t=r,B8):lrt:t instanceof ry?B8:t instanceof Date?srt:nrt(t)?trt:Array.isArray(t)?rrt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?irt:q_)(e,t)}function I4(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function crt(e,t){t===void 0&&(t=e,e=pg);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function urt(e){return function(){return e}}function V_(e){return+e}var U8=[0,1];function Ls(e){return e}function XP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:urt(isNaN(t)?NaN:.5)}function drt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function frt(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=XP(i,r),a=n(o,a)):(r=XP(r,i),a=n(a,o)),function(l){return a(r(l))}}function hrt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=XP(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=$b(e,l,1,r)-1;return a[c](i[c](l))}}function zb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function WS(){var e=U8,t=U8,n=pg,r,i,a,o=Ls,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ls&&(o=drt(e[0],e[h-1])),l=h>2?hrt:frt,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=l(t,e.map(r),q_)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,V_),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=I4,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ls,d()):o!==Ls},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function L4(){return WS()(Ls,Ls)}function mrt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function H_(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function sp(e){return e=H_(Math.abs(e)),e?e[1]:NaN}function prt(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function grt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var xrt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sy(e){if(!(t=xrt.exec(e)))throw new Error("invalid format: "+e);var t;return new $4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sy.prototype=$4.prototype;function $4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vrt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Xie;function yrt(e,t){var n=H_(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Xie=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+H_(e,Math.max(0,t+a-1))[0]}function q8(e,t){var n=H_(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const V8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mrt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>q8(e*100,t),r:q8,s:yrt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function H8(e){return e}var W8=Array.prototype.map,G8=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function brt(e){var t=e.grouping===void 0||e.thousands===void 0?H8:prt(W8.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?H8:grt(W8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=sy(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,y=f.zero,v=f.width,w=f.comma,b=f.precision,j=f.trim,_=f.type;_==="n"?(w=!0,_="g"):V8[_]||(b===void 0&&(b=12),j=!0,_="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=g==="$"?r:/[%p]/.test(_)?o:"",C=V8[_],k=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(T){var E=N,R=S,$,O,F;if(_==="c")R=C(T)+R,T="";else{T=+T;var z=T<0||1/T<0;if(T=isNaN(T)?c:C(Math.abs(T),b),j&&(T=vrt(T)),z&&+T==0&&p!=="+"&&(z=!1),E=(z?p==="("?p:l:p==="-"||p==="("?"":p)+E,R=(_==="s"?G8[8+Xie/3]:"")+R+(z&&p==="("?")":""),k){for($=-1,O=T.length;++$<O;)if(F=T.charCodeAt($),48>F||F>57){R=(F===46?i+T.slice($+1):T.slice($))+R,T=T.slice(0,$);break}}}w&&!y&&(T=t(T,1/0));var P=E.length+T.length+R.length,I=P<v?new Array(v-P+1).join(h):"";switch(w&&y&&(T=t(I+T,I.length?v-R.length:1/0),I=""),m){case"<":T=E+T+R+I;break;case"=":T=E+I+T+R;break;case"^":T=I.slice(0,P=I.length>>1)+E+T+R+I.slice(P);break;default:T=I+E+T+R;break}return a(T)}return A.toString=function(){return f+""},A}function d(f,h){var m=u((f=sy(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(sp(h)/3)))*3,g=Math.pow(10,-p),y=G8[8+p/3];return function(v){return m(g*v)+y}}return{format:u,formatPrefix:d}}var rw,F4,Qie;wrt({thousands:",",grouping:[3],currency:["$",""]});function wrt(e){return rw=brt(e),F4=rw.format,Qie=rw.formatPrefix,rw}function jrt(e){return Math.max(0,-sp(Math.abs(e)))}function _rt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sp(t)/3)))*3-sp(Math.abs(e)))}function Nrt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sp(t)-sp(e))+1}function Jie(e,t,n,r){var i=WP(e,t,n),a;switch(r=sy(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=_rt(i,o))&&(r.precision=a),Qie(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Nrt(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=jrt(i))&&(r.precision=a-(r.type==="%")*2);break}}return F4(r)}function Hu(e){var t=e.domain;return e.ticks=function(n){var r=t();return VP(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Jie(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=HP(o,l,n),u===c)return r[i]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function W_(){var e=L4();return e.copy=function(){return zb(e,W_())},Ea.apply(e,arguments),Hu(e)}function Zie(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,V_),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Zie(e).unknown(t)},e=arguments.length?Array.from(e,V_):[0,1],Hu(n)}function eae(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function K8(e){return Math.log(e)}function Y8(e){return Math.exp(e)}function Srt(e){return-Math.log(-e)}function Crt(e){return-Math.exp(-e)}function Ert(e){return isFinite(e)?+("1e"+e):e<0?0:e}function krt(e){return e===10?Ert:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Art(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function X8(e){return(t,n)=>-e(-t,n)}function z4(e){const t=e(K8,Y8),n=t.domain;let r=10,i,a;function o(){return i=Art(r),a=krt(r),n()[0]<0?(i=X8(i),a=X8(a),e(Srt,Crt)):e(K8,Y8),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,g;const y=l==null?10:+l;let v=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<u)){if(g>d)break;v.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<u)){if(g>d)break;v.push(g)}v.length*2<y&&(v=VP(u,d,y))}else v=VP(h,m,Math.min(m-h,y)).map(a);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=sy(c)).precision==null&&(c.trim=!0),c=F4(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(eae(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function tae(){const e=z4(WS()).domain([1,10]);return e.copy=()=>zb(e,tae()).base(e.base()),Ea.apply(e,arguments),e}function Q8(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function J8(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function B4(e){var t=1,n=e(Q8(t),J8(t));return n.constant=function(r){return arguments.length?e(Q8(t=+r),J8(t)):t},Hu(n)}function nae(){var e=B4(WS());return e.copy=function(){return zb(e,nae()).constant(e.constant())},Ea.apply(e,arguments)}function Z8(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Trt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Prt(e){return e<0?-e*e:e*e}function U4(e){var t=e(Ls,Ls),n=1;function r(){return n===1?e(Ls,Ls):n===.5?e(Trt,Prt):e(Z8(n),Z8(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Hu(t)}function q4(){var e=U4(WS());return e.copy=function(){return zb(e,q4()).exponent(e.exponent())},Ea.apply(e,arguments),e}function Ort(){return q4.apply(null,arguments).exponent(.5)}function eU(e){return Math.sign(e)*e*e}function Rrt(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rae(){var e=L4(),t=[0,1],n=!1,r;function i(a){var o=Rrt(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(eU(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,V_)).map(eU)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rae(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ea.apply(i,arguments),Hu(i)}function sae(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=$nt(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[$b(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(hu),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return sae().domain(e).range(t).unknown(r)},Ea.apply(a,arguments)}function iae(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[$b(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return iae().domain([e,t]).range(i).unknown(a)},Ea.apply(Hu(o),arguments)}function aae(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[$b(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return aae().domain(e).range(t).unknown(n)},Ea.apply(i,arguments)}const zk=new Date,Bk=new Date;function Dr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>Dr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(zk.setTime(+a),Bk.setTime(+o),e(zk),e(Bk),Math.floor(n(zk,Bk))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const G_=Dr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);G_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):G_);G_.range;const bl=1e3,ua=bl*60,wl=ua*60,Ul=wl*24,V4=Ul*7,tU=Ul*30,Uk=Ul*365,Od=Dr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bl)},(e,t)=>(t-e)/bl,e=>e.getUTCSeconds());Od.range;const H4=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bl)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getMinutes());H4.range;const W4=Dr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCMinutes());W4.range;const G4=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bl-e.getMinutes()*ua)},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getHours());G4.range;const K4=Dr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getUTCHours());K4.range;const Bb=Dr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ua)/Ul,e=>e.getDate()-1);Bb.range;const GS=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ul,e=>e.getUTCDate()-1);GS.range;const oae=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ul,e=>Math.floor(e/Ul));oae.range;function Kf(e){return Dr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ua)/V4)}const KS=Kf(0),K_=Kf(1),Drt=Kf(2),Mrt=Kf(3),ip=Kf(4),Irt=Kf(5),Lrt=Kf(6);KS.range;K_.range;Drt.range;Mrt.range;ip.range;Irt.range;Lrt.range;function Yf(e){return Dr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/V4)}const YS=Yf(0),Y_=Yf(1),$rt=Yf(2),Frt=Yf(3),ap=Yf(4),zrt=Yf(5),Brt=Yf(6);YS.range;Y_.range;$rt.range;Frt.range;ap.range;zrt.range;Brt.range;const Y4=Dr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Y4.range;const X4=Dr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());X4.range;const ql=Dr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ql.range;const Vl=Dr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Vl.range;function lae(e,t,n,r,i,a){const o=[[Od,1,bl],[Od,5,5*bl],[Od,15,15*bl],[Od,30,30*bl],[a,1,ua],[a,5,5*ua],[a,15,15*ua],[a,30,30*ua],[i,1,wl],[i,3,3*wl],[i,6,6*wl],[i,12,12*wl],[r,1,Ul],[r,2,2*Ul],[n,1,V4],[t,1,tU],[t,3,3*tU],[e,1,Uk]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=O4(([,,y])=>y).right(o,h);if(m===o.length)return e.every(WP(u/Uk,d/Uk,f));if(m===0)return G_.every(Math.max(WP(u,d,f),1));const[p,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(g)}return[l,c]}const[Urt,qrt]=lae(Vl,X4,YS,oae,K4,W4),[Vrt,Hrt]=lae(ql,Y4,KS,Bb,G4,H4);function qk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Wrt(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Qg(i),d=Jg(i),f=Qg(a),h=Jg(a),m=Qg(o),p=Jg(o),g=Qg(l),y=Jg(l),v=Qg(c),w=Jg(c),b={a:z,A:P,b:I,B:M,c:null,d:oU,e:oU,f:pst,g:Sst,G:Est,H:fst,I:hst,j:mst,L:cae,m:gst,M:xst,p:U,q:D,Q:uU,s:dU,S:vst,u:yst,U:bst,V:wst,w:jst,W:_st,x:null,X:null,y:Nst,Y:Cst,Z:kst,"%":cU},j={a:L,A:V,b:K,B:G,c:null,d:lU,e:lU,f:Ost,g:Ust,G:Vst,H:Ast,I:Tst,j:Pst,L:dae,m:Rst,M:Dst,p:X,q:oe,Q:uU,s:dU,S:Mst,u:Ist,U:Lst,V:$st,w:Fst,W:zst,x:null,X:null,y:Bst,Y:qst,Z:Hst,"%":cU},_={a:A,A:T,b:E,B:R,c:$,d:iU,e:iU,f:lst,g:sU,G:rU,H:aU,I:aU,j:sst,L:ost,m:rst,M:ist,p:k,q:nst,Q:ust,s:dst,S:ast,u:Qrt,U:Jrt,V:Zrt,w:Xrt,W:est,x:O,X:F,y:sU,Y:rU,Z:tst,"%":cst};b.x=N(n,b),b.X=N(r,b),b.c=N(t,b),j.x=N(n,j),j.X=N(r,j),j.c=N(t,j);function N(Y,ne){return function(ge){var se=[],ce=-1,ve=0,te=Y.length,ue,ee,le;for(ge instanceof Date||(ge=new Date(+ge));++ce<te;)Y.charCodeAt(ce)===37&&(se.push(Y.slice(ve,ce)),(ee=nU[ue=Y.charAt(++ce)])!=null?ue=Y.charAt(++ce):ee=ue==="e"?" ":"0",(le=ne[ue])&&(ue=le(ge,ee)),se.push(ue),ve=ce+1);return se.push(Y.slice(ve,ce)),se.join("")}}function S(Y,ne){return function(ge){var se=Xg(1900,void 0,1),ce=C(se,Y,ge+="",0),ve,te;if(ce!=ge.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ne&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(ve=Vk(Xg(se.y,0,1)),te=ve.getUTCDay(),ve=te>4||te===0?Y_.ceil(ve):Y_(ve),ve=GS.offset(ve,(se.V-1)*7),se.y=ve.getUTCFullYear(),se.m=ve.getUTCMonth(),se.d=ve.getUTCDate()+(se.w+6)%7):(ve=qk(Xg(se.y,0,1)),te=ve.getDay(),ve=te>4||te===0?K_.ceil(ve):K_(ve),ve=Bb.offset(ve,(se.V-1)*7),se.y=ve.getFullYear(),se.m=ve.getMonth(),se.d=ve.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),te="Z"in se?Vk(Xg(se.y,0,1)).getUTCDay():qk(Xg(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(te+5)%7:se.w+se.U*7-(te+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Vk(se)):qk(se)}}function C(Y,ne,ge,se){for(var ce=0,ve=ne.length,te=ge.length,ue,ee;ce<ve;){if(se>=te)return-1;if(ue=ne.charCodeAt(ce++),ue===37){if(ue=ne.charAt(ce++),ee=_[ue in nU?ne.charAt(ce++):ue],!ee||(se=ee(Y,ge,se))<0)return-1}else if(ue!=ge.charCodeAt(se++))return-1}return se}function k(Y,ne,ge){var se=u.exec(ne.slice(ge));return se?(Y.p=d.get(se[0].toLowerCase()),ge+se[0].length):-1}function A(Y,ne,ge){var se=m.exec(ne.slice(ge));return se?(Y.w=p.get(se[0].toLowerCase()),ge+se[0].length):-1}function T(Y,ne,ge){var se=f.exec(ne.slice(ge));return se?(Y.w=h.get(se[0].toLowerCase()),ge+se[0].length):-1}function E(Y,ne,ge){var se=v.exec(ne.slice(ge));return se?(Y.m=w.get(se[0].toLowerCase()),ge+se[0].length):-1}function R(Y,ne,ge){var se=g.exec(ne.slice(ge));return se?(Y.m=y.get(se[0].toLowerCase()),ge+se[0].length):-1}function $(Y,ne,ge){return C(Y,t,ne,ge)}function O(Y,ne,ge){return C(Y,n,ne,ge)}function F(Y,ne,ge){return C(Y,r,ne,ge)}function z(Y){return o[Y.getDay()]}function P(Y){return a[Y.getDay()]}function I(Y){return c[Y.getMonth()]}function M(Y){return l[Y.getMonth()]}function U(Y){return i[+(Y.getHours()>=12)]}function D(Y){return 1+~~(Y.getMonth()/3)}function L(Y){return o[Y.getUTCDay()]}function V(Y){return a[Y.getUTCDay()]}function K(Y){return c[Y.getUTCMonth()]}function G(Y){return l[Y.getUTCMonth()]}function X(Y){return i[+(Y.getUTCHours()>=12)]}function oe(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ne=N(Y+="",b);return ne.toString=function(){return Y},ne},parse:function(Y){var ne=S(Y+="",!1);return ne.toString=function(){return Y},ne},utcFormat:function(Y){var ne=N(Y+="",j);return ne.toString=function(){return Y},ne},utcParse:function(Y){var ne=S(Y+="",!0);return ne.toString=function(){return Y},ne}}}var nU={"-":"",_:" ",0:"0"},Gr=/^\s*\d+/,Grt=/^%/,Krt=/[\\^$*+?|[\]().{}]/g;function Xt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Yrt(e){return e.replace(Krt,"\\$&")}function Qg(e){return new RegExp("^(?:"+e.map(Yrt).join("|")+")","i")}function Jg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Xrt(e,t,n){var r=Gr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Qrt(e,t,n){var r=Gr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Jrt(e,t,n){var r=Gr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Zrt(e,t,n){var r=Gr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function est(e,t,n){var r=Gr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rU(e,t,n){var r=Gr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sU(e,t,n){var r=Gr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tst(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nst(e,t,n){var r=Gr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function rst(e,t,n){var r=Gr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function iU(e,t,n){var r=Gr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function sst(e,t,n){var r=Gr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function aU(e,t,n){var r=Gr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ist(e,t,n){var r=Gr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ast(e,t,n){var r=Gr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ost(e,t,n){var r=Gr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lst(e,t,n){var r=Gr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cst(e,t,n){var r=Grt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ust(e,t,n){var r=Gr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function dst(e,t,n){var r=Gr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function oU(e,t){return Xt(e.getDate(),t,2)}function fst(e,t){return Xt(e.getHours(),t,2)}function hst(e,t){return Xt(e.getHours()%12||12,t,2)}function mst(e,t){return Xt(1+Bb.count(ql(e),e),t,3)}function cae(e,t){return Xt(e.getMilliseconds(),t,3)}function pst(e,t){return cae(e,t)+"000"}function gst(e,t){return Xt(e.getMonth()+1,t,2)}function xst(e,t){return Xt(e.getMinutes(),t,2)}function vst(e,t){return Xt(e.getSeconds(),t,2)}function yst(e){var t=e.getDay();return t===0?7:t}function bst(e,t){return Xt(KS.count(ql(e)-1,e),t,2)}function uae(e){var t=e.getDay();return t>=4||t===0?ip(e):ip.ceil(e)}function wst(e,t){return e=uae(e),Xt(ip.count(ql(e),e)+(ql(e).getDay()===4),t,2)}function jst(e){return e.getDay()}function _st(e,t){return Xt(K_.count(ql(e)-1,e),t,2)}function Nst(e,t){return Xt(e.getFullYear()%100,t,2)}function Sst(e,t){return e=uae(e),Xt(e.getFullYear()%100,t,2)}function Cst(e,t){return Xt(e.getFullYear()%1e4,t,4)}function Est(e,t){var n=e.getDay();return e=n>=4||n===0?ip(e):ip.ceil(e),Xt(e.getFullYear()%1e4,t,4)}function kst(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xt(t/60|0,"0",2)+Xt(t%60,"0",2)}function lU(e,t){return Xt(e.getUTCDate(),t,2)}function Ast(e,t){return Xt(e.getUTCHours(),t,2)}function Tst(e,t){return Xt(e.getUTCHours()%12||12,t,2)}function Pst(e,t){return Xt(1+GS.count(Vl(e),e),t,3)}function dae(e,t){return Xt(e.getUTCMilliseconds(),t,3)}function Ost(e,t){return dae(e,t)+"000"}function Rst(e,t){return Xt(e.getUTCMonth()+1,t,2)}function Dst(e,t){return Xt(e.getUTCMinutes(),t,2)}function Mst(e,t){return Xt(e.getUTCSeconds(),t,2)}function Ist(e){var t=e.getUTCDay();return t===0?7:t}function Lst(e,t){return Xt(YS.count(Vl(e)-1,e),t,2)}function fae(e){var t=e.getUTCDay();return t>=4||t===0?ap(e):ap.ceil(e)}function $st(e,t){return e=fae(e),Xt(ap.count(Vl(e),e)+(Vl(e).getUTCDay()===4),t,2)}function Fst(e){return e.getUTCDay()}function zst(e,t){return Xt(Y_.count(Vl(e)-1,e),t,2)}function Bst(e,t){return Xt(e.getUTCFullYear()%100,t,2)}function Ust(e,t){return e=fae(e),Xt(e.getUTCFullYear()%100,t,2)}function qst(e,t){return Xt(e.getUTCFullYear()%1e4,t,4)}function Vst(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ap(e):ap.ceil(e),Xt(e.getUTCFullYear()%1e4,t,4)}function Hst(){return"+0000"}function cU(){return"%"}function uU(e){return+e}function dU(e){return Math.floor(+e/1e3)}var xh,hae,mae;Wst({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wst(e){return xh=Wrt(e),hae=xh.format,xh.parse,mae=xh.utcFormat,xh.utcParse,xh}function Gst(e){return new Date(e)}function Kst(e){return e instanceof Date?+e:+new Date(+e)}function Q4(e,t,n,r,i,a,o,l,c,u){var d=L4(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),w=u("%b %d"),b=u("%B"),j=u("%Y");function _(N){return(c(N)<N?m:l(N)<N?p:o(N)<N?g:a(N)<N?y:r(N)<N?i(N)<N?v:w:n(N)<N?b:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Kst)):h().map(Gst)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?_:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(eae(S,N)):d},d.copy=function(){return zb(d,Q4(e,t,n,r,i,a,o,l,c,u))},d}function Yst(){return Ea.apply(Q4(Vrt,Hrt,ql,Y4,KS,Bb,G4,H4,Od,hae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xst(){return Ea.apply(Q4(Urt,qrt,Vl,X4,YS,GS,K4,W4,Od,mae).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function XS(){var e=0,t=1,n,r,i,a,o=Ls,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),u):[o(0),o(1)]}}return u.range=d(pg),u.rangeRound=d(I4),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Wu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pae(){var e=Hu(XS()(Ls));return e.copy=function(){return Wu(e,pae())},ec.apply(e,arguments)}function gae(){var e=z4(XS()).domain([1,10]);return e.copy=function(){return Wu(e,gae()).base(e.base())},ec.apply(e,arguments)}function xae(){var e=B4(XS());return e.copy=function(){return Wu(e,xae()).constant(e.constant())},ec.apply(e,arguments)}function J4(){var e=U4(XS());return e.copy=function(){return Wu(e,J4()).exponent(e.exponent())},ec.apply(e,arguments)}function Qst(){return J4.apply(null,arguments).exponent(.5)}function vae(){var e=[],t=Ls;function n(r){if(r!=null&&!isNaN(r=+r))return t(($b(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(hu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Lnt(e,a/r))},n.copy=function(){return vae(t).domain(e)},ec.apply(n,arguments)}function QS(){var e=0,t=.5,n=1,r=1,i,a,o,l,c,u=Ls,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(y){var v,w,b;return arguments.length?([v,w,b]=y,u=crt(g,[v,w,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(pg),m.rangeRound=p(I4),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),o=g(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function yae(){var e=Hu(QS()(Ls));return e.copy=function(){return Wu(e,yae())},ec.apply(e,arguments)}function bae(){var e=z4(QS()).domain([.1,1,10]);return e.copy=function(){return Wu(e,bae()).base(e.base())},ec.apply(e,arguments)}function wae(){var e=B4(QS());return e.copy=function(){return Wu(e,wae()).constant(e.constant())},ec.apply(e,arguments)}function Z4(){var e=U4(QS());return e.copy=function(){return Wu(e,Z4()).exponent(e.exponent())},ec.apply(e,arguments)}function Jst(){return Z4.apply(null,arguments).exponent(.5)}const fU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ey,scaleDiverging:yae,scaleDivergingLog:bae,scaleDivergingPow:Z4,scaleDivergingSqrt:Jst,scaleDivergingSymlog:wae,scaleIdentity:Zie,scaleImplicit:GP,scaleLinear:W_,scaleLog:tae,scaleOrdinal:R4,scalePoint:Gx,scalePow:q4,scaleQuantile:sae,scaleQuantize:iae,scaleRadial:rae,scaleSequential:pae,scaleSequentialLog:gae,scaleSequentialPow:J4,scaleSequentialQuantile:vae,scaleSequentialSqrt:Qst,scaleSequentialSymlog:xae,scaleSqrt:Ort,scaleSymlog:nae,scaleThreshold:aae,scaleTime:Yst,scaleUtc:Xst,tickFormat:Jie},Symbol.toStringTag,{value:"Module"}));var Zst=ag;function eit(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(l===void 0?o===o&&!Zst(o):n(o,l)))var l=o,c=a}return c}var JS=eit;function tit(e,t){return e>t}var jae=tit,nit=JS,rit=jae,sit=mg;function iit(e){return e&&e.length?nit(e,sit,rit):void 0}var ait=iit;const Yc=Vt(ait);function oit(e,t){return e<t}var _ae=oit,lit=JS,cit=_ae,uit=mg;function dit(e){return e&&e.length?lit(e,uit,cit):void 0}var fit=dit;const ZS=Vt(fit);var hit=h4,mit=Xo,pit=Pie,git=vi;function xit(e,t){var n=git(e)?hit:pit;return n(e,mit(t))}var vit=xit,yit=Aie,bit=vit;function wit(e,t){return yit(bit(e,t),1)}var jit=wit;const _it=Vt(jit);var Nit=k4;function Sit(e,t){return Nit(e,t)}var Cit=Sit;const Cu=Vt(Cit);var gg=1e9,Eit={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tL,Bn=!0,ba="[DecimalError] ",Jd=ba+"Invalid argument: ",eL=ba+"Exponent out of range: ",xg=Math.floor,hd=Math.pow,kit=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ei,Lr=1e7,Dn=7,Nae=9007199254740991,X_=xg(Nae/Dn),qe={};qe.absoluteValue=qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qe.comparedTo=qe.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Dn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};qe.dividedBy=qe.div=function(e){return Cl(this,new this.constructor(e))};qe.dividedToIntegerBy=qe.idiv=function(e){var t=this,n=t.constructor;return wn(Cl(t,new n(e),0,1),n.precision)};qe.equals=qe.eq=function(e){return!this.cmp(e)};qe.exponent=function(){return vr(this)};qe.greaterThan=qe.gt=function(e){return this.cmp(e)>0};qe.greaterThanOrEqualTo=qe.gte=function(e){return this.cmp(e)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(e){return this.cmp(e)<0};qe.lessThanOrEqualTo=qe.lte=function(e){return this.cmp(e)<1};qe.logarithm=qe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ei))throw Error(ba+"NaN");if(n.s<1)throw Error(ba+(n.s?"NaN":"-Infinity"));return n.eq(Ei)?new r(0):(Bn=!1,t=Cl(iy(n,a),iy(e,a),a),Bn=!0,wn(t,i))};qe.minus=qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Eae(t,e):Sae(t,(e.s=-e.s,e))};qe.modulo=qe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ba+"NaN");return n.s?(Bn=!1,t=Cl(n,e,0,1).times(e),Bn=!0,n.minus(t)):wn(new r(n),i)};qe.naturalExponential=qe.exp=function(){return Cae(this)};qe.naturalLogarithm=qe.ln=function(){return iy(this)};qe.negated=qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qe.plus=qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Sae(t,e):Eae(t,(e.s=-e.s,e))};qe.precision=qe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Jd+e);if(t=vr(i)+1,r=i.d.length-1,n=r*Dn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};qe.squareRoot=qe.sqrt=function(){var e,t,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ba+"NaN")}for(e=vr(l),Bn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=To(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Cl(l,a,o+2)).times(.5),To(a.d).slice(0,o)===(t=To(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(wn(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return Bn=!0,wn(r,n)};qe.times=qe.mul=function(e){var t,n,r,i,a,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*h[i-r-1]+t,a[i--]=l%Lr|0,t=l/Lr|0;a[i]=(a[i]+t)%Lr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Bn?wn(e,f.precision):e};qe.toDecimalPlaces=qe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Vo(e,0,gg),t===void 0?t=r.rounding:Vo(t,0,8),wn(n,e+vr(n)+1,t))};qe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=kf(r,!0):(Vo(e,0,gg),t===void 0?t=i.rounding:Vo(t,0,8),r=wn(new i(r),e+1,t),n=kf(r,!0,e+1)),n};qe.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?kf(i):(Vo(e,0,gg),t===void 0?t=a.rounding:Vo(t,0,8),r=wn(new a(i),e+vr(i)+1,t),n=kf(r.abs(),!1,e+vr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};qe.toInteger=qe.toint=function(){var e=this,t=e.constructor;return wn(new t(e),vr(e)+1,t.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(e){var t,n,r,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ei);if(l=new c(l),!l.s){if(e.s<1)throw Error(ba+"Infinity");return l}if(l.eq(Ei))return l;if(r=c.precision,e.eq(Ei))return wn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=Nae){for(i=new c(Ei),t=Math.ceil(r/Dn+4),Bn=!1;n%2&&(i=i.times(l),mU(i.d,t)),n=xg(n/2),n!==0;)l=l.times(l),mU(l.d,t);return Bn=!0,e.s<0?new c(Ei).div(i):wn(i,r)}}else if(a<0)throw Error(ba+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Bn=!1,i=e.times(iy(l,r+u)),Bn=!0,i=Cae(i),i.s=a,i};qe.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=vr(i),r=kf(i,n<=a.toExpNeg||n>=a.toExpPos)):(Vo(e,1,gg),t===void 0?t=a.rounding:Vo(t,0,8),i=wn(new a(i),e,t),n=vr(i),r=kf(i,e<=n||n<=a.toExpNeg,e)),r};qe.toSignificantDigits=qe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Vo(e,1,gg),t===void 0?t=r.rounding:Vo(t,0,8)),wn(new r(n),e,t)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vr(e),n=e.constructor;return kf(e,t<=n.toExpNeg||t>=n.toExpPos)};function Sae(e,t){var n,r,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Bn?wn(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(f/Dn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Lr|0,c[a]%=Lr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Bn?wn(t,f):t}function Vo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Jd+e)}function To(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Dn-r.length,n&&(a+=_c(n)),a+=r;o=e[t],r=o+"",n=Dn-r.length,n&&(a+=_c(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Cl=function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%Lr|0,o=a/Lr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Lr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,u,d,f,h,m,p,g,y,v,w,b,j,_,N,S,C,k=r.constructor,A=r.s==i.s?1:-1,T=r.d,E=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(ba+"Division by zero");for(c=r.e-i.e,S=E.length,_=T.length,m=new k(A),p=m.d=[],u=0;E[u]==(T[u]||0);)++u;if(E[u]>(T[u]||0)&&--c,a==null?w=a=k.precision:o?w=a+(vr(r)-vr(i))+1:w=a,w<0)return new k(0);if(w=w/Dn+2|0,u=0,S==1)for(d=0,E=E[0],w++;(u<_||d)&&w--;u++)b=d*Lr+(T[u]||0),p[u]=b/E|0,d=b%E|0;else{for(d=Lr/(E[0]+1)|0,d>1&&(E=e(E,d),T=e(T,d),S=E.length,_=T.length),j=S,g=T.slice(0,S),y=g.length;y<S;)g[y++]=0;C=E.slice(),C.unshift(0),N=E[0],E[1]>=Lr/2&&++N;do d=0,l=t(E,g,S,y),l<0?(v=g[0],S!=y&&(v=v*Lr+(g[1]||0)),d=v/N|0,d>1?(d>=Lr&&(d=Lr-1),f=e(E,d),h=f.length,y=g.length,l=t(f,g,h,y),l==1&&(d--,n(f,S<h?C:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),l==-1&&(y=g.length,l=t(E,g,S,y),l<1&&(d++,n(g,S<y?C:E,y))),y=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[y++]=T[j]||0:(g=[T[j]],y=1);while((j++<_||g[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=c,wn(m,o?a+vr(m)+1:a)}}();function Cae(e,t){var n,r,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(vr(e)>16)throw Error(eL+vr(e));if(!e.s)return new d(Ei);for(Bn=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(hd(2,u))/Math.LN10*2+5|0,l+=r,n=i=a=new d(Ei),d.precision=l;;){if(i=wn(i.times(e),l),n=n.times(++c),o=a.plus(Cl(i,n,l)),To(o.d).slice(0,l)===To(a.d).slice(0,l)){for(;u--;)a=wn(a.times(a),l);return d.precision=f,t==null?(Bn=!0,wn(a,f)):a}a=o}}function vr(e){for(var t=e.e*Dn,n=e.d[0];n>=10;n/=10)t++;return t}function Hk(e,t,n){if(t>e.LN10.sd())throw Bn=!0,n&&(e.precision=n),Error(ba+"LN10 precision limit exceeded");return wn(new e(e.LN10),t)}function _c(e){for(var t="";e--;)t+="0";return t}function iy(e,t){var n,r,i,a,o,l,c,u,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(ba+(m.s?"NaN":"-Infinity"));if(m.eq(Ei))return new g(0);if(t==null?(Bn=!1,u=y):u=t,m.eq(10))return t==null&&(Bn=!0),Hk(g,u);if(u+=h,g.precision=u,n=To(p),r=n.charAt(0),a=vr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=To(m.d),r=n.charAt(0),f++;a=vr(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return c=Hk(g,u+2,y).times(a+""),m=iy(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=y,t==null?(Bn=!0,wn(m,y)):m;for(l=o=m=Cl(m.minus(Ei),m.plus(Ei),u),d=wn(m.times(m),u),i=3;;){if(o=wn(o.times(d),u),c=l.plus(Cl(o,new g(i),u)),To(c.d).slice(0,u)===To(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Hk(g,u+2,y).times(a+""))),l=Cl(l,new g(f),u),g.precision=y,t==null?(Bn=!0,wn(l,y)):l;l=c,i+=2}}function hU(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=xg(n/Dn),e.d=[],r=(n+1)%Dn,n<0&&(r+=Dn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Dn;r<i;)e.d.push(+t.slice(r,r+=Dn));t=t.slice(r),r=Dn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Bn&&(e.e>X_||e.e<-X_))throw Error(eL+n)}else e.s=0,e.e=0,e.d=[0];return e}function wn(e,t,n){var r,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Dn,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/Dn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;r%=Dn,i=r-Dn+o}if(n!==void 0&&(a=hd(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/hd(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=vr(e),f.length=1,t=t-a-1,f[0]=hd(10,(Dn-t%Dn)%Dn),e.e=xg(-t/Dn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=hd(10,Dn-r),f[d]=i>0?(u/hd(10,o-i)%hd(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Lr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Lr)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Bn&&(e.e>X_||e.e<-X_))throw Error(eL+vr(e));return e}function Eae(e,t){var n,r,i,a,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Bn?wn(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(m/Dn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Lr-1;--c[a],c[i]+=Lr}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Bn?wn(t,m):t):new h(0)}function kf(e,t,n){var r,i=vr(e),a=To(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+_c(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_c(-i-1)+a,n&&(r=n-o)>0&&(a+=_c(r))):i>=o?(a+=_c(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+_c(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=_c(r))),e.s<0?"-"+a:a}function mU(e,t){if(e.length>t)return e.length=t,!0}function kae(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Jd+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return hU(o,a.toString())}else if(typeof a!="string")throw Error(Jd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,kit.test(a))hU(o,a);else throw Error(Jd+a)}if(i.prototype=qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kae,i.config=i.set=Ait,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Ait(e){if(!e||typeof e!="object")throw Error(ba+"Object expected");var t,n,r,i=["precision",1,gg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(xg(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Jd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Jd+n+": "+r);return this}var tL=kae(Eit);Ei=new tL(1);const gn=tL;function Tit(e){return Dit(e)||Rit(e)||Oit(e)||Pit()}function Pit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oit(e,t){if(e){if(typeof e=="string")return QP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QP(e,t)}}function Rit(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dit(e){if(Array.isArray(e))return QP(e)}function QP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mit=function(t){return t},Aae={},Tae=function(t){return t===Aae},pU=function(t){return function n(){return arguments.length===0||arguments.length===1&&Tae(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Iit=function e(t,n){return t===1?n:pU(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==Aae}).length;return o>=t?n.apply(void 0,i):e(t-o,pU(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return Tae(f)?c.shift():f});return n.apply(void 0,Tit(d).concat(c))}))})},eC=function(t){return Iit(t.length,t)},JP=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Lit=eC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),$it=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Mit;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},ZP=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Pae=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function Fit(e){var t;return e===0?t=1:t=Math.floor(new gn(e).abs().log(10).toNumber())+1,t}function zit(e,t,n){for(var r=new gn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Bit=eC(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Uit=eC(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),qit=eC(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const tC={rangeStep:zit,getDigitCount:Fit,interpolateNumber:Bit,uninterpolateNumber:Uit,uninterpolateTruncation:qit};function eO(e){return Wit(e)||Hit(e)||Oae(e)||Vit()}function Vit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hit(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Wit(e){if(Array.isArray(e))return tO(e)}function ay(e,t){return Yit(e)||Kit(e,t)||Oae(e,t)||Git()}function Git(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oae(e,t){if(e){if(typeof e=="string")return tO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(e,t)}}function tO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kit(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Yit(e){if(Array.isArray(e))return e}function Rae(e){var t=ay(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Dae(e,t,n){if(e.lte(0))return new gn(0);var r=tC.getDigitCount(e.toNumber()),i=new gn(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new gn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new gn(Math.ceil(c))}function Xit(e,t,n){var r=1,i=new gn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new gn(10).pow(tC.getDigitCount(e)-1),i=new gn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new gn(Math.floor(e)))}else e===0?i=new gn(Math.floor((t-1)/2)):n||(i=new gn(Math.floor(e)));var o=Math.floor((t-1)/2),l=$it(Lit(function(c){return i.add(new gn(c-o).mul(r)).toNumber()}),JP);return l(0,t)}function Mae(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new gn(0),tickMin:new gn(0),tickMax:new gn(0)};var a=Dae(new gn(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new gn(0):(o=new gn(e).add(t).div(2),o=o.sub(new gn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new gn(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?Mae(e,t,n,r,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new gn(l).mul(a)),tickMax:o.add(new gn(c).mul(a))})}function Qit(e){var t=ay(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=Rae([n,r]),c=ay(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(eO(JP(0,i-1).map(function(){return 1/0}))):[].concat(eO(JP(0,i-1).map(function(){return-1/0})),[d]);return n>r?ZP(f):f}if(u===d)return Xit(u,i,a);var h=Mae(u,d,o,a),m=h.step,p=h.tickMin,g=h.tickMax,y=tC.rangeStep(p,g.add(new gn(.1).mul(m)),m);return n>r?ZP(y):y}function Jit(e,t){var n=ay(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Rae([r,i]),l=ay(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(t,2),f=Dae(new gn(u).sub(c).div(d-1),a,0),h=[].concat(eO(tC.rangeStep(new gn(c),new gn(u).sub(new gn(.99).mul(f)),f)),[u]);return r>i?ZP(h):h}var Zit=Pae(Qit),eat=Pae(Jit),tat="Invariant failed";function Af(e,t){throw new Error(tat)}var nat=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q_.apply(this,arguments)}function rat(e,t){return oat(e)||aat(e,t)||iat(e,t)||sat()}function sat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iat(e,t){if(e){if(typeof e=="string")return gU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gU(e,t)}}function gU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aat(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function oat(e){if(Array.isArray(e))return e}function lat(e,t){if(e==null)return{};var n=cat(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cat(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dat(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$ae(r.key),r)}}function fat(e,t,n){return t&&dat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hat(e,t,n){return t=J_(t),mat(e,Iae()?Reflect.construct(t,n||[],J_(e).constructor):t.apply(e,n))}function mat(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pat(e)}function pat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iae=function(){return!!e})()}function J_(e){return J_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J_(e)}function gat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nO(e,t)}function nO(e,t){return nO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nO(e,t)}function Lae(e,t,n){return t=$ae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ae(e){var t=xat(e,"string");return op(t)=="symbol"?t:t+""}function xat(e,t){if(op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ub=function(e){function t(){return uat(this,t),hat(this,t,arguments)}return gat(t,e),fat(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=lat(r,nat),m=He(h,!1);this.props.direction==="x"&&d.type!=="number"&&Af();var p=c.map(function(g){var y=u(g,l),v=y.x,w=y.y,b=y.value,j=y.errorVal;if(!j)return null;var _=[],N,S;if(Array.isArray(j)){var C=rat(j,2);N=C[0],S=C[1]}else N=S=j;if(a==="vertical"){var k=d.scale,A=w+i,T=A+o,E=A-o,R=k(b-N),$=k(b+S);_.push({x1:$,y1:T,x2:$,y2:E}),_.push({x1:R,y1:A,x2:$,y2:A}),_.push({x1:R,y1:T,x2:R,y2:E})}else if(a==="horizontal"){var O=f.scale,F=v+i,z=F-o,P=F+o,I=O(b-N),M=O(b+S);_.push({x1:z,y1:M,x2:P,y2:M}),_.push({x1:F,y1:I,x2:F,y2:M}),_.push({x1:z,y1:I,x2:P,y2:I})}return B.createElement(Ot,Q_({className:"recharts-errorBar",key:"bar-".concat(_.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},m),_.map(function(U){return B.createElement("line",Q_({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return B.createElement(Ot,{className:"recharts-errorBars"},p)}}])}(B.Component);Lae(Ub,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Lae(Ub,"displayName","ErrorBar");function oy(e){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(e)}function xU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(n),!0).forEach(function(r){vat(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vat(e,t,n){return t=yat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yat(e){var t=bat(e,"string");return oy(t)=="symbol"?t:t+""}function bat(e,t){if(oy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fae=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Ni(n,Ha);if(!o)return null;var l=Ha.defaultProps,c=l!==void 0?ed(ed({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?ed(ed({},h),f.props):{},p=m.dataKey,g=m.name,y=m.legendType,v=m.hide;return{inactive:v,dataKey:p,type:c.iconType||y||"square",color:nL(f),value:g||p,payload:m}}),ed(ed(ed({},c),Ha.getWithHeight(o,i)),{},{payload:u,item:o})};function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}function vU(e){return Nat(e)||_at(e)||jat(e)||wat()}function wat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jat(e,t){if(e){if(typeof e=="string")return rO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rO(e,t)}}function _at(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nat(e){if(Array.isArray(e))return rO(e)}function rO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(n),!0).forEach(function(r){vm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vm(e,t,n){return t=Sat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sat(e){var t=Cat(e,"string");return ly(t)=="symbol"?t:t+""}function Cat(e,t){if(ly(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gn(e,t,n){return ht(e)||ht(t)?n:Tr(t)?Mi(e,t,n):Ye(t)?t(e):n}function Kx(e,t,n,r){var i=_it(e,function(l){return Gn(l,t)});if(n==="number"){var a=i.filter(function(l){return Oe(l)||parseFloat(l)});return a.length?[ZS(a),Yc(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!ht(l)}):i;return o.map(function(l){return Tr(l)||l instanceof Date?l:""})}var Eat=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Ms(f-d)!==Ms(h-f)){var p=[];if(Ms(h-f)===Ms(c[1]-c[0])){m=h;var g=f+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+c[1]-c[0];p[0]=Math.min(f,(y+f)/2),p[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>v[0]&&t<=v[1]||t>=p[0]&&t<=p[1]){o=i[u].index;break}}else{var w=Math.min(d,h),b=Math.max(d,h);if(t>(w+f)/2&&t<=(b+f)/2){o=i[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&t>(r[j].coordinate+r[j-1].coordinate)/2&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&t>(r[j].coordinate+r[j-1].coordinate)/2){o=r[j].index;break}return o},nL=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?nr(nr({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},kat=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],g=p.items,y=p.cateAxisId,v=g.filter(function(S){return Sl(S.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,b=w!==void 0?nr(nr({},w),v[0].props):v[0].props,j=b.barSize,_=b[y];o[_]||(o[_]=[]);var N=ht(j)?n:j;o[_].push({item:v[0],stackList:v.slice(1),barSize:ht(N)?void 0:Is(N,r,0)})}}return o},Aat=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Is(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,p=o.reduce(function(j,_){return j+_.barSize||0},0);p+=(c-1)*u,p>=i&&(p-=(c-1)*u,u=0),p>=i&&m>0&&(h=!0,m*=.9,p=c*m);var g=(i-p)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(j,_){var N={item:_.item,position:{offset:y.offset+y.size+u,size:h?m:_.barSize}},S=[].concat(vU(j),[N]);return y=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(C){S.push({item:C,position:y})}),S},f)}else{var v=Is(r,i,0,!0);i-2*v-(c-1)*u<=0&&(u=0);var w=(i-2*v-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=o.reduce(function(j,_,N){var S=[].concat(vU(j),[{item:_.item,position:{offset:v+(w+u)*N+(w-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},f)}return d},Tat=function(t,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=Fae({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&Oe(t[m]))return nr(nr({},t),{},vm({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&Oe(t[p]))return nr(nr({},t),{},vm({},p,t[p]+(h||0)))}return t},Pat=function(t,n,r){return ht(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},zae=function(t,n,r,i,a){var o=n.props.children,l=Ii(o,Ub).filter(function(u){return Pat(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Gn(d,r);if(ht(f))return u;var h=Array.isArray(f)?[ZS(f),Yc(f)]:[f,f],m=c.reduce(function(p,g){var y=Gn(d,g,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,p[0]),Math.max(w,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Oat=function(t,n,r,i,a){var o=n.map(function(l){return zae(t,l,r,a,i)}).filter(function(l){return!ht(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Bae=function(t,n,r,i,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&zae(t,c,u,i)||Kx(t,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Uae=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},qae=function(t,n,r,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},jl=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ms(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!dg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Wk=new WeakMap,sw=function(t,n){if(typeof n!="function")return t;Wk.has(t)||Wk.set(t,new WeakMap);var r=Wk.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Vae=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ey(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:W_(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Gx(),realScaleType:"point"}:a==="category"?{scale:ey(),realScaleType:"band"}:{scale:W_(),realScaleType:"linear"};if(Sf(i)){var c="scale".concat(FS(i));return{scale:(fU[c]||Gx)(),realScaleType:fU[c]?c:"point"}}return Ye(i)?{scale:i}:{scale:Gx(),realScaleType:"point"}},bU=1e-4,Hae=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-bU,o=Math.max(i[0],i[1])+bU,l=t(n[0]),c=t(n[r-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},Rat=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Dat=function(t,n){if(!n||n.length!==2||!Oe(n[0])||!Oe(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Oe(t[0])||t[0]<r)&&(a[0]=r),(!Oe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Mat=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=dg(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},Iat=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=dg(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Lat={sign:Mat,expand:eGe,none:Zm,silhouette:tGe,wiggle:nGe,positive:Iat},$at=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),a=Lat[r],o=Z7e().keys(i).value(function(l,c){return+Gn(l,c,0)}).order(kP).offset(a);return o(t)},Fat=function(t,n,r,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?nr(nr({},h.type.defaultProps),h.props):h.props,g=p.stackId,y=p.hide;if(y)return f;var v=p[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(Tr(g)){var b=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[g]=b}else w.stackGroups[Gf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return nr(nr({},f),{},vm({},v,w))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var v=m.stackGroups[y];return nr(nr({},g),{},vm({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:$at(t,v.items,a)}))},p)}return nr(nr({},f),{},vm({},h,m))},d)},Wae=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Zit(u,a,l);return t.domain([ZS(d),Yc(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=eat(f,a,l);return{niceTicks:h}}return null};function Z_(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(i[t.dataKey])){var l=S_(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Gn(i,ht(o)?t.dataKey:o);return ht(c)?null:t.scale(c)}var wU=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Gn(o,n.dataKey,n.domain[l]);return ht(c)?null:n.scale(c)-a/2+i},zat=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Bat=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?nr(nr({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Tr(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Uat=function(t){return t.reduce(function(n,r){return[ZS(r.concat([n[0]]).filter(Oe)),Yc(r.concat([n[1]]).filter(Oe))]},[1/0,-1/0])},Gae=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=Uat(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},jU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_U=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sO=function(t,n,r){if(Ye(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Oe(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(jU.test(t[0])){var a=+jU.exec(t[0])[1];i[0]=n[0]-a}else Ye(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Oe(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(_U.test(t[1])){var o=+_U.exec(t[1])[1];i[1]=n[1]+o}else Ye(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},eN=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=T4(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},NU=function(t,n,r){return!t||!t.length||Cu(t,Mi(r,"type.defaultProps.domain"))?n:t},Kae=function(t,n){var r=t.type.defaultProps?nr(nr({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return nr(nr({},He(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:nL(t),value:Gn(n,i),type:c,payload:n,chartType:u,hide:d})};function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}function SU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SU(Object(n),!0).forEach(function(r){Yae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yae(e,t,n){return t=qat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qat(e){var t=Vat(e,"string");return cy(t)=="symbol"?t:t+""}function Vat(e,t){if(cy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hat(e,t){return Yat(e)||Kat(e,t)||Gat(e,t)||Wat()}function Wat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gat(e,t){if(e){if(typeof e=="string")return CU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CU(e,t)}}function CU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kat(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Yat(e){if(Array.isArray(e))return e}var tN=Math.PI/180,Xat=function(t){return t*180/Math.PI},en=function(t,n,r,i){return{x:t+Math.cos(-tN*i)*r,y:n+Math.sin(-tN*i)*r}},Xae=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Qae=function(t,n,r,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Is(t.cx,o,o/2),f=Is(t.cy,l,l/2),h=Xae(o,l,r),m=Is(t.innerRadius,h,0),p=Is(t.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(y,v){var w=n[v],b=w.domain,j=w.reversed,_;if(ht(w.range))i==="angleAxis"?_=[c,u]:i==="radiusAxis"&&(_=[m,p]),j&&(_=[_[1],_[0]]);else{_=w.range;var N=_,S=Hat(N,2);c=S[0],u=S[1]}var C=Vae(w,a),k=C.realScaleType,A=C.scale;A.domain(b).range(_),Hae(A);var T=Wae(A,ol(ol({},w),{},{realScaleType:k})),E=ol(ol(ol({},w),T),{},{range:_,radius:p,realScaleType:k,scale:A,cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:c,endAngle:u});return ol(ol({},y),{},Yae({},v,E))},{})},Qat=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Jat=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,l=Qat({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Xat(u),angleInRadian:u}},Zat=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},eot=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},EU=function(t,n){var r=t.x,i=t.y,a=Jat({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Zat(n),f=d.startAngle,h=d.endAngle,m=l,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?ol(ol({},n),{},{radius:o,angle:eot(m,n)}):null},Jae=function(t){return!x.isValidElement(t)&&!Ye(t)&&typeof t!="boolean"?t.className:""};function uy(e){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}var tot=["offset"];function not(e){return aot(e)||iot(e)||sot(e)||rot()}function rot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sot(e,t){if(e){if(typeof e=="string")return iO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iO(e,t)}}function iot(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aot(e){if(Array.isArray(e))return iO(e)}function iO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oot(e,t){if(e==null)return{};var n=lot(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lot(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kU(Object(n),!0).forEach(function(r){cot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cot(e,t,n){return t=uot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uot(e){var t=dot(e,"string");return uy(t)=="symbol"?t:t+""}function dot(e,t){if(uy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(this,arguments)}var fot=function(t){var n=t.value,r=t.formatter,i=ht(t.children)?n:t.children;return Ye(r)?r(i):i},hot=function(t,n){var r=Ms(n-t),i=Math.min(Math.abs(n-t),360);return r*i},mot=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,p=c.endAngle,g=c.clockWise,y=(f+h)/2,v=hot(m,p),w=v>=0?1:-1,b,j;i==="insideStart"?(b=m+w*o,j=g):i==="insideEnd"?(b=p-w*o,j=!g):i==="end"&&(b=p+w*o,j=g),j=v<=0?j:!j;var _=en(u,d,y,b),N=en(u,d,y,b+(j?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),C=ht(t.id)?Gf("recharts-radial-line-"):t.id;return B.createElement("text",dy({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",l)}),B.createElement("defs",null,B.createElement("path",{id:C,d:S})),B.createElement("textPath",{xlinkHref:"#".concat(C)},n))},pot=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=en(o,l,u+r,h),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,v=en(o,l,y,h),w=v.x,b=v.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},got=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,y=g*i,v=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return _r(_r({},b),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:p};return _r(_r({},j),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var _={x:l-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return _r(_r({},_),r?{width:Math.max(_.x-r.x,0),height:d}:{})}if(a==="right"){var N={x:l+u+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return _r(_r({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return a==="insideLeft"?_r({x:l+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},S):a==="insideRight"?_r({x:l+u-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},S):a==="insideTop"?_r({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},S):a==="insideBottom"?_r({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?_r({x:l+y,y:c+h,textAnchor:w,verticalAnchor:p},S):a==="insideTopRight"?_r({x:l+u-y,y:c+h,textAnchor:v,verticalAnchor:p},S):a==="insideBottomLeft"?_r({x:l+y,y:c+d-h,textAnchor:w,verticalAnchor:m},S):a==="insideBottomRight"?_r({x:l+u-y,y:c+d-h,textAnchor:v,verticalAnchor:m},S):og(a)&&(Oe(a.x)||Ad(a.x))&&(Oe(a.y)||Ad(a.y))?_r({x:l+Is(a.x,u),y:c+Is(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):_r({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},xot=function(t){return"cx"in t&&Oe(t.cx)};function Ur(e){var t=e.offset,n=t===void 0?5:t,r=oot(e,tot),i=_r({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||ht(l)&&ht(c)&&!x.isValidElement(u)&&!Ye(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var m;if(Ye(u)){if(m=x.createElement(u,i),x.isValidElement(m))return m}else m=fot(i);var p=xot(a),g=He(i,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return mot(i,m,g);var y=p?pot(i):got(i);return B.createElement(Ef,dy({className:ct("recharts-label",f)},g,y,{breakAll:h}),m)}Ur.displayName="Label";var Zae=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,p=t.left,g=t.width,y=t.height,v=t.clockWise,w=t.labelViewBox;if(w)return w;if(Oe(g)&&Oe(y)){if(Oe(f)&&Oe(h))return{x:f,y:h,width:g,height:y};if(Oe(m)&&Oe(p))return{x:m,y:p,width:g,height:y}}return Oe(f)&&Oe(h)?{x:f,y:h,width:0,height:0}:Oe(n)&&Oe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},vot=function(t,n){return t?t===!0?B.createElement(Ur,{key:"label-implicit",viewBox:n}):Tr(t)?B.createElement(Ur,{key:"label-implicit",viewBox:n,value:t}):x.isValidElement(t)?t.type===Ur?x.cloneElement(t,{key:"label-implicit",viewBox:n}):B.createElement(Ur,{key:"label-implicit",content:t,viewBox:n}):Ye(t)?B.createElement(Ur,{key:"label-implicit",content:t,viewBox:n}):og(t)?B.createElement(Ur,dy({viewBox:n},t,{key:"label-implicit"})):null:null},yot=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=Zae(t),o=Ii(i,Ur).map(function(c,u){return x.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var l=vot(t.label,n||a);return[l].concat(not(o))};Ur.parseViewBox=Zae;Ur.renderCallByParent=yot;function bot(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var wot=bot;const eoe=Vt(wot);function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}var jot=["valueAccessor"],_ot=["data","dataKey","clockWise","id","textBreakAll"];function Not(e){return kot(e)||Eot(e)||Cot(e)||Sot()}function Sot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cot(e,t){if(e){if(typeof e=="string")return aO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aO(e,t)}}function Eot(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kot(e){if(Array.isArray(e))return aO(e)}function aO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nN.apply(this,arguments)}function AU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(n),!0).forEach(function(r){Aot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aot(e,t,n){return t=Tot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tot(e){var t=Pot(e,"string");return fy(t)=="symbol"?t:t+""}function Pot(e,t){if(fy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PU(e,t){if(e==null)return{};var n=Oot(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oot(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Rot=function(t){return Array.isArray(t.value)?eoe(t.value):t.value};function eo(e){var t=e.valueAccessor,n=t===void 0?Rot:t,r=PU(e,jot),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=PU(r,_ot);return!i||!i.length?null:B.createElement(Ot,{className:"recharts-label-list"},i.map(function(d,f){var h=ht(a)?n(d,f):Gn(d&&d.payload,a),m=ht(l)?{}:{id:"".concat(l,"-").concat(f)};return B.createElement(Ur,nN({},He(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Ur.parseViewBox(ht(o)?d:TU(TU({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}eo.displayName="LabelList";function Dot(e,t){return e?e===!0?B.createElement(eo,{key:"labelList-implicit",data:t}):B.isValidElement(e)||Ye(e)?B.createElement(eo,{key:"labelList-implicit",data:t,content:e}):og(e)?B.createElement(eo,nN({data:t},e,{key:"labelList-implicit"})):null:null}function Mot(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ii(r,eo).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=Dot(e.label,t);return[a].concat(Not(i))}eo.renderCallByParent=Mot;function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}function oO(){return oO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oO.apply(this,arguments)}function OU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OU(Object(n),!0).forEach(function(r){Iot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iot(e,t,n){return t=Lot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lot(e){var t=$ot(e,"string");return hy(t)=="symbol"?t:t+""}function $ot(e,t){if(hy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fot=function(t,n){var r=Ms(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},iw=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/tN,h=u?a:a+o*f,m=en(n,r,d,h),p=en(n,r,i,h),g=u?a-o*f:a,y=en(n,r,d*Math.cos(f*tN),g);return{center:m,circleTangency:p,lineTangency:y,theta:f}},toe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Fot(o,l),u=o+c,d=en(n,r,a,o),f=en(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=en(n,r,i,o),p=en(n,r,i,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},zot=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Ms(d-u),h=iw({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,p=h.lineTangency,g=h.theta,y=iw({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,w=y.lineTangency,b=y.theta,j=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(j<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):toe({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var _="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var N=iw({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,C=N.lineTangency,k=N.theta,A=iw({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=A.circleTangency,E=A.lineTangency,R=A.theta,$=c?Math.abs(u-d):Math.abs(u-d)-k-R;if($<0&&o===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},Bot={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},noe=function(t){var n=RU(RU({},Bot),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<a||d===f)return null;var m=ct("recharts-sector",h),p=o-a,g=Is(l,p,0,!0),y;return g>0&&Math.abs(d-f)<360?y=zot({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=toe({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),B.createElement("path",oO({},He(n,!0),{className:m,d:y,role:"img"}))};function my(e){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(e)}function lO(){return lO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lO.apply(this,arguments)}function DU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DU(Object(n),!0).forEach(function(r){Uot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uot(e,t,n){return t=qot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qot(e){var t=Vot(e,"string");return my(t)=="symbol"?t:t+""}function Vot(e,t){if(my(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IU={curveBasisClosed:U7e,curveBasisOpen:q7e,curveBasis:B7e,curveBumpX:E7e,curveBumpY:k7e,curveLinearClosed:V7e,curveLinear:BS,curveMonotoneX:H7e,curveMonotoneY:W7e,curveNatural:G7e,curveStep:K7e,curveStepAfter:X7e,curveStepBefore:Y7e},aw=function(t){return t.x===+t.x&&t.y===+t.y},Zg=function(t){return t.x},ex=function(t){return t.y},Hot=function(t,n){if(Ye(t))return t;var r="curve".concat(FS(t));return(r==="curveMonotone"||r==="curveBump")&&n?IU["".concat(r).concat(n==="vertical"?"Y":"X")]:IU[r]||BS},Wot=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Hot(r,l),f=u?a.filter(function(g){return aw(g)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return aw(g)}):o,p=f.map(function(g,y){return MU(MU({},g),{},{base:m[y]})});return l==="vertical"?h=X0().y(ex).x1(Zg).x0(function(g){return g.base.x}):h=X0().x(Zg).y1(ex).y0(function(g){return g.base.y}),h.defined(aw).curve(d),h(p)}return l==="vertical"&&Oe(o)?h=X0().y(ex).x1(Zg).x0(o):Oe(o)?h=X0().x(Zg).y1(ex).y0(o):h=Kse().x(Zg).y(ex),h.defined(aw).curve(d),h(f)},Zd=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Wot(t):i;return x.createElement("path",lO({},He(t,!1),C_(t),{className:ct("recharts-curve",n),d:o,ref:a}))},roe={exports:{}},Got="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kot=Got,Yot=Kot;function soe(){}function ioe(){}ioe.resetWarningCache=soe;var Xot=function(){function e(r,i,a,o,l,c){if(c!==Yot){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ioe,resetWarningCache:soe};return n.PropTypes=n,n};roe.exports=Xot();var Qot=roe.exports;const rn=Vt(Qot);var Jot=Object.getOwnPropertyNames,Zot=Object.getOwnPropertySymbols,elt=Object.prototype.hasOwnProperty;function LU(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function ow(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,i);return a.delete(n),a.delete(r),c}}function $U(e){return Jot(e).concat(Zot(e))}var tlt=Object.hasOwn||function(e,t){return elt.call(e,t)};function Xf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var nlt="__v",rlt="__o",slt="_owner",FU=Object.getOwnPropertyDescriptor,zU=Object.keys;function ilt(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function alt(e,t){return Xf(e.getTime(),t.getTime())}function olt(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function llt(e,t){return e===t}function BU(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=o.value,m=l.value;if(n.equals(h[0],m[0],c,f,e,t,n)&&n.equals(h[1],m[1],h[0],m[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var clt=Xf;function ult(e,t,n){var r=zU(e),i=r.length;if(zU(t).length!==i)return!1;for(;i-- >0;)if(!aoe(e,t,n,r[i]))return!1;return!0}function tx(e,t,n){var r=$U(e),i=r.length;if($U(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!aoe(e,t,n,a)||(o=FU(e,a),l=FU(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function dlt(e,t){return Xf(e.valueOf(),t.valueOf())}function flt(e,t){return e.source===t.source&&e.flags===t.flags}function UU(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function hlt(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function mlt(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function aoe(e,t,n,r){return(r===slt||r===rlt||r===nlt)&&(e.$$typeof||t.$$typeof)?!0:tlt(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var plt="[object Arguments]",glt="[object Boolean]",xlt="[object Date]",vlt="[object Error]",ylt="[object Map]",blt="[object Number]",wlt="[object Object]",jlt="[object RegExp]",_lt="[object Set]",Nlt="[object String]",Slt="[object URL]",Clt=Array.isArray,qU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,VU=Object.assign,Elt=Object.prototype.toString.call.bind(Object.prototype.toString);function klt(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(p,g,y){if(p===g)return!0;if(p==null||g==null)return!1;var v=typeof p;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(p,g,y):v==="function"?i(p,g,y):!1;var w=p.constructor;if(w!==g.constructor)return!1;if(w===Object)return l(p,g,y);if(Clt(p))return t(p,g,y);if(qU!=null&&qU(p))return f(p,g,y);if(w===Date)return n(p,g,y);if(w===RegExp)return u(p,g,y);if(w===Map)return a(p,g,y);if(w===Set)return d(p,g,y);var b=Elt(p);return b===xlt?n(p,g,y):b===jlt?u(p,g,y):b===ylt?a(p,g,y):b===_lt?d(p,g,y):b===wlt?typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,y):b===Slt?h(p,g,y):b===vlt?r(p,g,y):b===plt?l(p,g,y):b===glt||b===blt||b===Nlt?c(p,g,y):!1}}function Alt(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?tx:ilt,areDatesEqual:alt,areErrorsEqual:olt,areFunctionsEqual:llt,areMapsEqual:r?LU(BU,tx):BU,areNumbersEqual:clt,areObjectsEqual:r?tx:ult,arePrimitiveWrappersEqual:dlt,areRegExpsEqual:flt,areSetsEqual:r?LU(UU,tx):UU,areTypedArraysEqual:r?tx:hlt,areUrlsEqual:mlt};if(n&&(i=VU({},i,n(i))),t){var a=ow(i.areArraysEqual),o=ow(i.areMapsEqual),l=ow(i.areObjectsEqual),c=ow(i.areSetsEqual);i=VU({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function Tlt(e){return function(t,n,r,i,a,o,l){return e(t,n,l)}}function Plt(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:i,meta:m,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var Olt=Gu();Gu({strict:!0});Gu({circular:!0});Gu({circular:!0,strict:!0});Gu({createInternalComparator:function(){return Xf}});Gu({strict:!0,createInternalComparator:function(){return Xf}});Gu({circular:!0,createInternalComparator:function(){return Xf}});Gu({circular:!0,createInternalComparator:function(){return Xf},strict:!0});function Gu(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=Alt(e),c=klt(l),u=r?r(c):Tlt(c);return Plt({circular:n,comparator:c,createState:i,equals:u,strict:o})}function Rlt(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function HU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):Rlt(i)};requestAnimationFrame(r)}function cO(e){"@babel/helpers - typeof";return cO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cO(e)}function Dlt(e){return $lt(e)||Llt(e)||Ilt(e)||Mlt()}function Mlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ilt(e,t){if(e){if(typeof e=="string")return WU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WU(e,t)}}function WU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Llt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $lt(e){if(Array.isArray(e))return e}function Flt(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=Dlt(o),c=l[0],u=l.slice(1);if(typeof c=="number"){HU(i.bind(null,u),c);return}i(c),HU(i.bind(null,u));return}cO(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function GU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GU(Object(n),!0).forEach(function(r){ooe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ooe(e,t,n){return t=zlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zlt(e){var t=Blt(e,"string");return py(t)==="symbol"?t:String(t)}function Blt(e,t){if(py(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(py(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ult=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},qlt=function(t){return t},Vlt=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Yx=function(t,n){return Object.keys(n).reduce(function(r,i){return KU(KU({},r),{},ooe({},i,t(i,n[i])))},{})},YU=function(t,n,r){return t.map(function(i){return"".concat(Vlt(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Hlt(e,t){return Klt(e)||Glt(e,t)||loe(e,t)||Wlt()}function Wlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Glt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Klt(e){if(Array.isArray(e))return e}function Ylt(e){return Jlt(e)||Qlt(e)||loe(e)||Xlt()}function Xlt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function loe(e,t){if(e){if(typeof e=="string")return uO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uO(e,t)}}function Qlt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jlt(e){if(Array.isArray(e))return uO(e)}function uO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rN=1e-4,coe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},uoe=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},XU=function(t,n){return function(r){var i=coe(t,n);return uoe(i,r)}},Zlt=function(t,n){return function(r){var i=coe(t,n),a=[].concat(Ylt(i.map(function(o,l){return o*l}).slice(1)),[0]);return uoe(a,r)}},QU=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=Hlt(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=XU(i,o),h=XU(a,l),m=Zlt(i,o),p=function(v){return v>1?1:v<0?0:v},g=function(v){for(var w=v>1?1:v,b=w,j=0;j<8;++j){var _=f(b)-w,N=m(b);if(Math.abs(_-w)<rN||N<rN)return h(b);b=p(b-_/N)}return h(b)};return g.isStepper=!1,g},ect=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*r,p=h*a,g=h+(m-p)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<rN&&Math.abs(g)<rN?[f,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},tct=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QU(i);case"spring":return ect();default:if(i.split("(")[0]==="cubic-bezier")return QU(i)}return typeof i=="function"?i:null};function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function JU(e){return sct(e)||rct(e)||doe(e)||nct()}function nct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sct(e){if(Array.isArray(e))return fO(e)}function ZU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZU(Object(n),!0).forEach(function(r){dO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dO(e,t,n){return t=ict(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ict(e){var t=act(e,"string");return gy(t)==="symbol"?t:String(t)}function act(e,t){if(gy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oct(e,t){return uct(e)||cct(e,t)||doe(e,t)||lct()}function lct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(e,t){if(e){if(typeof e=="string")return fO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fO(e,t)}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cct(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uct(e){if(Array.isArray(e))return e}var sN=function(t,n,r){return t+(n-t)*r},hO=function(t){var n=t.from,r=t.to;return n!==r},dct=function e(t,n,r){var i=Yx(function(a,o){if(hO(o)){var l=t(o.from,o.to,o.velocity),c=oct(l,2),u=c[0],d=c[1];return Kr(Kr({},o),{},{from:u,velocity:d})}return o},n);return r<1?Yx(function(a,o){return hO(o)?Kr(Kr({},o),{},{velocity:sN(o.velocity,i[a].velocity,r),from:sN(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const fct=function(e,t,n,r,i){var a=Ult(e,t),o=a.reduce(function(y,v){return Kr(Kr({},y),{},dO({},v,[e[v],t[v]]))},{}),l=a.reduce(function(y,v){return Kr(Kr({},y),{},dO({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Yx(function(v,w){return w.from},l)},m=function(){return!Object.values(l).filter(hO).length},p=function(v){u||(u=v);var w=v-u,b=w/n.dt;l=dct(n,l,b),i(Kr(Kr(Kr({},e),t),h())),u=v,m()||(c=requestAnimationFrame(f))},g=function(v){d||(d=v);var w=(v-d)/r,b=Yx(function(_,N){return sN.apply(void 0,JU(N).concat([n(w)]))},o);if(i(Kr(Kr(Kr({},e),t),b)),w<1)c=requestAnimationFrame(f);else{var j=Yx(function(_,N){return sN.apply(void 0,JU(N).concat([n(1)]))},o);i(Kr(Kr(Kr({},e),t),j))}};return f=n.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}var hct=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mct(e,t){if(e==null)return{};var n=pct(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pct(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Gk(e){return yct(e)||vct(e)||xct(e)||gct()}function gct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xct(e,t){if(e){if(typeof e=="string")return mO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mO(e,t)}}function vct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yct(e){if(Array.isArray(e))return mO(e)}function mO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eq(Object(n),!0).forEach(function(r){yx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yx(e,t,n){return t=foe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,foe(r.key),r)}}function jct(e,t,n){return t&&wct(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function foe(e){var t=_ct(e,"string");return lp(t)==="symbol"?t:String(t)}function _ct(e,t){if(lp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pO(e,t)}function pO(e,t){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pO(e,t)}function Sct(e){var t=Cct();return function(){var r=iN(e),i;if(t){var a=iN(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return gO(this,i)}}function gO(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xO(e)}function xO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iN(e){return iN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iN(e)}var wa=function(e){Nct(n,e);var t=Sct(n);function n(r,i){var a;bct(this,n),a=t.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(xO(a)),a.changeStyle=a.changeStyle.bind(xO(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),gO(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},gO(a);a.state={style:c?yx({},c,u):u}}else a.state={style:{}};return a}return jct(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var m={style:c?yx({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Olt(i.to,d)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:i.to;if(this.state&&h){var y={style:c?yx({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(y)}this.runAnimation(Pa(Pa({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=fct(o,l,tct(u),c,this.changeStyle),p=function(){a.stopJSAnimation=m()};this.manager.start([h,d,p,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,y,v){if(v===0)return g;var w=y.duration,b=y.easing,j=b===void 0?"ease":b,_=y.style,N=y.properties,S=y.onAnimationEnd,C=v>0?o[v-1]:y,k=N||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(Gk(g),[a.runJSAnimation.bind(a,{from:C.style,to:_,duration:w,easing:j}),w]);var A=YU(k,w,j),T=Pa(Pa(Pa({},C.style),_),{},{transition:A});return[].concat(Gk(g),[T,w,S]).filter(qlt)};return this.manager.start([c].concat(Gk(o.reduce(m,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Flt());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?yx({},l,c):c,y=YU(Object.keys(g),o,u);p.start([d,a,Pa(Pa({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=mct(i,hct),u=x.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(m){var p=m.props,g=p.style,y=g===void 0?{}:g,v=p.className,w=x.cloneElement(m,Pa(Pa({},c),{},{style:Pa(Pa({},y),d),className:v}));return w};return u===1?f(x.Children.only(a)):B.createElement("div",null,x.Children.map(a,function(h){return f(h)}))}}]),n}(x.PureComponent);wa.displayName="Animate";wa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wa.propTypes={from:rn.oneOfType([rn.object,rn.string]),to:rn.oneOfType([rn.object,rn.string]),attributeName:rn.string,duration:rn.number,begin:rn.number,easing:rn.oneOfType([rn.string,rn.func]),steps:rn.arrayOf(rn.shape({duration:rn.number.isRequired,style:rn.object.isRequired,easing:rn.oneOfType([rn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rn.func]),properties:rn.arrayOf("string"),onAnimationEnd:rn.func})),children:rn.oneOfType([rn.node,rn.func]),isActive:rn.bool,canBegin:rn.bool,onAnimationEnd:rn.func,shouldReAnimate:rn.bool,onAnimationStart:rn.func,onAnimationReStart:rn.func};function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aN.apply(this,arguments)}function Ect(e,t){return Pct(e)||Tct(e,t)||Act(e,t)||kct()}function kct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Act(e,t){if(e){if(typeof e=="string")return tq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tq(e,t)}}function tq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tct(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Pct(e){if(Array.isArray(e))return e}function nq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nq(Object(n),!0).forEach(function(r){Oct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oct(e,t,n){return t=Rct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rct(e){var t=Dct(e,"string");return xy(t)=="symbol"?t:t+""}function Dct(e,t){if(xy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sq=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+i)),d+="L ".concat(t+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var p=Math.min(o,a);d="M ".concat(t,",").concat(n+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(n,`
            L `).concat(t+r-c*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*p,`
            L `).concat(t+r,",").concat(n+i-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+r-c*p,",").concat(n+i,`
            L `).concat(t+c*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*p," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Mct=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},Ict={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rL=function(t){var n=rq(rq({},Ict),t),r=x.useRef(),i=x.useState(-1),a=Ect(i,2),o=a[0],l=a[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,p=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=ct("recharts-rectangle",m);return w?B.createElement(wa,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:w},function(j){var _=j.width,N=j.height,S=j.x,C=j.y;return B.createElement(wa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:p},B.createElement("path",aN({},He(n,!0),{className:b,d:sq(S,C,_,N,h),ref:r})))}):B.createElement("path",aN({},He(n,!0),{className:b,d:sq(c,u,d,f,h)}))},Lct=["points","className","baseLinePoints","connectNulls"];function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh.apply(this,arguments)}function $ct(e,t){if(e==null)return{};var n=Fct(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fct(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iq(e){return qct(e)||Uct(e)||Bct(e)||zct()}function zct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bct(e,t){if(e){if(typeof e=="string")return vO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vO(e,t)}}function Uct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qct(e){if(Array.isArray(e))return vO(e)}function vO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aq=function(t){return t&&t.x===+t.x&&t.y===+t.y},Vct=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){aq(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),aq(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Xx=function(t,n){var r=Vct(t);n&&(r=[r.reduce(function(a,o){return[].concat(iq(a),iq(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Hct=function(t,n,r){var i=Xx(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Xx(n.reverse(),r).slice(1))},hoe=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,a=t.connectNulls,o=$ct(t,Lct);if(!n||!n.length)return null;var l=ct("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Hct(n,i,a);return B.createElement("g",{className:l},B.createElement("path",Yh({},He(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?B.createElement("path",Yh({},He(o,!0),{fill:"none",d:Xx(n,a)})):null,c?B.createElement("path",Yh({},He(o,!0),{fill:"none",d:Xx(i,a)})):null)}var d=Xx(n,a);return B.createElement("path",Yh({},He(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yO.apply(this,arguments)}var vg=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=ct("recharts-dot",a);return n===+n&&r===+r&&i===+i?x.createElement("circle",yO({},He(t,!1),C_(t),{className:o,cx:n,cy:r,r:i})):null};function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}var Wct=["x","y","top","left","width","height","className"];function bO(){return bO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bO.apply(this,arguments)}function oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oq(Object(n),!0).forEach(function(r){Kct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kct(e,t,n){return t=Yct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yct(e){var t=Xct(e,"string");return vy(t)=="symbol"?t:t+""}function Xct(e,t){if(vy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qct(e,t){if(e==null)return{};var n=Jct(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jct(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Zct=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},eut=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,p=t.className,g=Qct(t,Wct),y=Gct({x:r,y:a,top:l,left:u,width:f,height:m},g);return!Oe(r)||!Oe(a)||!Oe(f)||!Oe(m)||!Oe(l)||!Oe(u)?null:B.createElement("path",bO({},He(y,!0),{className:ct("recharts-cross",p),d:Zct(r,a,f,m,l,u)}))},tut=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function yy(e){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function nut(e,t){if(e==null)return{};var n=rut(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hl.apply(this,arguments)}function lq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function by(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lq(Object(n),!0).forEach(function(r){sut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sut(e,t,n){return t=iut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iut(e){var t=aut(e,"string");return yy(t)=="symbol"?t:t+""}function aut(e,t){if(yy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var out=function(t,n,r,i){var a="";return i.forEach(function(o,l){var c=en(n,r,t,o);l?a+="L ".concat(c.x,",").concat(c.y):a+="M ".concat(c.x,",").concat(c.y)}),a+="Z",a},lut=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.polarAngles,l=t.radialLines;if(!o||!o.length||!l)return null;var c=by({stroke:"#ccc"},He(t,!1));return B.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(u){var d=en(n,r,i,u),f=en(n,r,a,u);return B.createElement("line",Hl({},c,{key:"line-".concat(u),x1:d.x,y1:d.y,x2:f.x,y2:f.y}))}))},cut=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.index,o=by(by({stroke:"#ccc"},He(t,!1)),{},{fill:"none"});return B.createElement("circle",Hl({},o,{className:ct("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(a),cx:n,cy:r,r:i}))},uut=function(t){var n=t.radius,r=t.index,i=by(by({stroke:"#ccc"},He(t,!1)),{},{fill:"none"});return B.createElement("path",Hl({},i,{className:ct("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(r),d:out(n,t.cx,t.cy,t.polarAngles)}))},dut=function(t){var n=t.polarRadius,r=t.gridType;return!n||!n.length?null:B.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,a){var o=a;return r==="circle"?B.createElement(cut,Hl({key:o},t,{radius:i,index:a})):B.createElement(uut,Hl({key:o},t,{radius:i,index:a}))}))},moe=function(t){var n=t.cx,r=n===void 0?0:n,i=t.cy,a=i===void 0?0:i,o=t.innerRadius,l=o===void 0?0:o,c=t.outerRadius,u=c===void 0?0:c,d=t.gridType,f=d===void 0?"polygon":d,h=t.radialLines,m=h===void 0?!0:h,p=nut(t,tut);return u<=0?null:B.createElement("g",{className:"recharts-polar-grid"},B.createElement(lut,Hl({cx:r,cy:a,innerRadius:l,outerRadius:u,gridType:f,radialLines:m},p)),B.createElement(dut,Hl({cx:r,cy:a,innerRadius:l,outerRadius:u,gridType:f,radialLines:m},p)))};moe.displayName="PolarGrid";var fut=JS,hut=jae,mut=Xo;function put(e,t){return e&&e.length?fut(e,mut(t),hut):void 0}var gut=put;const xut=Vt(gut);var vut=JS,yut=Xo,but=_ae;function wut(e,t){return e&&e.length?vut(e,yut(t),but):void 0}var jut=wut;const _ut=Vt(jut);var Nut=["cx","cy","angle","ticks","axisLine"],Sut=["ticks","tick","angle","tickFormatter","stroke"];function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(this,arguments)}function cq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cq(Object(n),!0).forEach(function(r){nC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uq(e,t){if(e==null)return{};var n=Cut(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cut(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Eut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,goe(r.key),r)}}function kut(e,t,n){return t&&dq(e.prototype,t),n&&dq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aut(e,t,n){return t=oN(t),Tut(e,poe()?Reflect.construct(t,n||[],oN(e).constructor):t.apply(e,n))}function Tut(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Put(e)}function Put(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function poe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(poe=function(){return!!e})()}function oN(e){return oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oN(e)}function Out(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wO(e,t)}function wO(e,t){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wO(e,t)}function nC(e,t,n){return t=goe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function goe(e){var t=Rut(e,"string");return cp(t)=="symbol"?t:t+""}function Rut(e,t){if(cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yg=function(e){function t(){return Eut(this,t),Aut(this,t,arguments)}return Out(t,e),kut(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return en(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=xut(l,function(d){return d.coordinate||0}),u=_ut(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=uq(r,Nut),d=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=en(i,a,d[0],o),h=en(i,a,d[1],o),m=td(td(td({},He(u,!1)),{},{fill:"none"},He(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return B.createElement("line",Qx({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=uq(i,Sut),f=this.getTickTextAnchor(),h=He(d,!1),m=He(o,!1),p=a.map(function(g,y){var v=r.getTickValueCoord(g),w=td(td(td(td({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:y},v),{},{payload:g});return B.createElement(Ot,Qx({className:ct("recharts-polar-radius-axis-tick",Jae(o)),key:"tick-".concat(g.coordinate)},Cf(r.props,g,y)),t.renderTickItem(o,w,c?c(g.value,y):g.value))});return B.createElement(Ot,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:B.createElement(Ot,{className:ct("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Ur.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):Ye(r)?o=r(i):o=B.createElement(Ef,Qx({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(x.PureComponent);nC(yg,"displayName","PolarRadiusAxis");nC(yg,"axisType","radiusAxis");nC(yg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bd.apply(this,arguments)}function fq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fq(Object(n),!0).forEach(function(r){rC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,voe(r.key),r)}}function Mut(e,t,n){return t&&hq(e.prototype,t),n&&hq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iut(e,t,n){return t=lN(t),Lut(e,xoe()?Reflect.construct(t,n||[],lN(e).constructor):t.apply(e,n))}function Lut(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ut(e)}function $ut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xoe=function(){return!!e})()}function lN(e){return lN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lN(e)}function Fut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jO(e,t)}function jO(e,t){return jO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jO(e,t)}function rC(e,t,n){return t=voe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function voe(e){var t=zut(e,"string");return up(t)=="symbol"?t:t+""}function zut(e,t){if(up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var But=Math.PI/180,mq=1e-5,bg=function(e){function t(){return Dut(this,t),Iut(this,t,arguments)}return Fut(t,e),Mut(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=en(a,o,l,r.coordinate),h=en(a,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*But),o;return a>mq?o=i==="outer"?"start":"end":a<-mq?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=nd(nd({},He(this.props,!1)),{},{fill:"none"},He(l,!1));if(c==="circle")return B.createElement(vg,bd({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return en(i,a,o,h.coordinate)});return B.createElement(hoe,bd({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=He(this.props,!1),f=He(o,!1),h=nd(nd({},d),{},{fill:"none"},He(l,!1)),m=a.map(function(p,g){var y=r.getTickLineCoord(p),v=r.getTickTextAnchor(p),w=nd(nd(nd({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:y.x2,y:y.y2});return B.createElement(Ot,bd({className:ct("recharts-polar-angle-axis-tick",Jae(o)),key:"tick-".concat(p.coordinate)},Cf(r.props,p,g)),l&&B.createElement("line",bd({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,w,c?c(p.value,g):p.value))});return B.createElement(Ot,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:B.createElement(Ot,{className:ct("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):Ye(r)?o=r(i):o=B.createElement(Ef,bd({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(x.PureComponent);rC(bg,"displayName","PolarAngleAxis");rC(bg,"axisType","angleAxis");rC(bg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Uut=vie,qut=Uut(Object.getPrototypeOf,Object),Vut=qut,Hut=Ql,Wut=Vut,Gut=Jl,Kut="[object Object]",Yut=Function.prototype,Xut=Object.prototype,yoe=Yut.toString,Qut=Xut.hasOwnProperty,Jut=yoe.call(Object);function Zut(e){if(!Gut(e)||Hut(e)!=Kut)return!1;var t=Wut(e);if(t===null)return!0;var n=Qut.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&yoe.call(n)==Jut}var edt=Zut;const tdt=Vt(edt);var ndt=Ql,rdt=Jl,sdt="[object Boolean]";function idt(e){return e===!0||e===!1||rdt(e)&&ndt(e)==sdt}var adt=idt;const odt=Vt(adt);function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cN.apply(this,arguments)}function ldt(e,t){return fdt(e)||ddt(e,t)||udt(e,t)||cdt()}function cdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function udt(e,t){if(e){if(typeof e=="string")return pq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pq(e,t)}}function pq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ddt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function fdt(e){if(Array.isArray(e))return e}function gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gq(Object(n),!0).forEach(function(r){hdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hdt(e,t,n){return t=mdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mdt(e){var t=pdt(e,"string");return wy(t)=="symbol"?t:t+""}function pdt(e,t){if(wy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vq=function(t,n,r,i,a){var o=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},gdt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xdt=function(t){var n=xq(xq({},gdt),t),r=x.useRef(),i=x.useState(-1),a=ldt(i,2),o=a[0],l=a[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,p=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=ct("recharts-trapezoid",m);return v?B.createElement(wa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:v},function(b){var j=b.upperWidth,_=b.lowerWidth,N=b.height,S=b.x,C=b.y;return B.createElement(wa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:p},B.createElement("path",cN({},He(n,!0),{className:w,d:vq(S,C,j,_,N),ref:r})))}):B.createElement("g",null,B.createElement("path",cN({},He(n,!0),{className:w,d:vq(c,u,d,f,h)})))},vdt=["option","shapeType","propTransformer","activeClassName","isActive"];function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}function ydt(e,t){if(e==null)return{};var n=bdt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yq(Object(n),!0).forEach(function(r){wdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wdt(e,t,n){return t=jdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jdt(e){var t=_dt(e,"string");return jy(t)=="symbol"?t:t+""}function _dt(e,t){if(jy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ndt(e,t){return uN(uN({},t),e)}function Sdt(e,t){return e==="symbols"}function bq(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return B.createElement(rL,n);case"trapezoid":return B.createElement(xdt,n);case"sector":return B.createElement(noe,n);case"symbols":if(Sdt(t))return B.createElement(j4,n);break;default:return null}}function Cdt(e){return x.isValidElement(e)?e.props:e}function boe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Ndt:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=ydt(e,vdt),u;if(x.isValidElement(t))u=x.cloneElement(t,uN(uN({},c),Cdt(t)));else if(Ye(t))u=t(c);else if(tdt(t)&&!odt(t)){var d=i(t,c);u=B.createElement(bq,{shapeType:n,elementProps:d})}else{var f=c;u=B.createElement(bq,{shapeType:n,elementProps:f})}return l?B.createElement(Ot,{className:o},u):u}function sC(e,t){return t!=null&&"trapezoids"in e.props}function iC(e,t){return t!=null&&"sectors"in e.props}function _y(e,t){return t!=null&&"points"in e.props}function Edt(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function kdt(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Adt(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Tdt(e,t){var n;return sC(e,t)?n=Edt:iC(e,t)?n=kdt:_y(e,t)&&(n=Adt),n}function Pdt(e,t){var n;return sC(e,t)?n="trapezoids":iC(e,t)?n="sectors":_y(e,t)&&(n="points"),n}function Odt(e,t){if(sC(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(iC(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _y(e,t)?t.payload:{}}function Rdt(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Pdt(n,t),a=Odt(n,t),o=r.filter(function(c,u){var d=Cu(a,c),f=n.props[i].filter(function(p){var g=Tdt(n,t);return g(p,t)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var Yw;function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xh.apply(this,arguments)}function wq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wq(Object(n),!0).forEach(function(r){ia(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ddt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,joe(r.key),r)}}function Mdt(e,t,n){return t&&jq(e.prototype,t),n&&jq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Idt(e,t,n){return t=dN(t),Ldt(e,woe()?Reflect.construct(t,n||[],dN(e).constructor):t.apply(e,n))}function Ldt(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $dt(e)}function $dt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function woe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(woe=function(){return!!e})()}function dN(e){return dN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dN(e)}function Fdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_O(e,t)}function _O(e,t){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_O(e,t)}function ia(e,t,n){return t=joe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function joe(e){var t=zdt(e,"string");return dp(t)=="symbol"?t:t+""}function zdt(e,t){if(dp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var da=function(e){function t(n){var r;return Ddt(this,t),r=Idt(this,t,[n]),ia(r,"pieRef",null),ia(r,"sectorRefs",[]),ia(r,"id",Gf("recharts-pie-")),ia(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ye(i)&&i()}),ia(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ye(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Fdt(t,e),Mdt(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=He(this.props,!1),f=He(o,!1),h=He(l,!1),m=o&&o.offsetRadius||20,p=r.map(function(g,y){var v=(g.startAngle+g.endAngle)/2,w=en(g.cx,g.cy,g.outerRadius+m,v),b=Sn(Sn(Sn(Sn({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(w.x,g.cx)},w),j=Sn(Sn(Sn(Sn({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:y,points:[en(g.cx,g.cy,g.outerRadius,v),w]}),_=c;return ht(c)&&ht(u)?_="value":ht(c)&&(_=u),B.createElement(Ot,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,b,Gn(g,_)))});return B.createElement(Ot,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?o:h,p=Sn(Sn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return B.createElement(Ot,Xh({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Cf(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),B.createElement(boe,Xh({option:m,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return B.createElement(wa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,y=[],v=a&&a[0],w=v.startAngle;return a.forEach(function(b,j){var _=h&&h[j],N=j>0?Mi(b,"paddingAngle",0):0;if(_){var S=Hn(_.endAngle-_.startAngle,b.endAngle-b.startAngle),C=Sn(Sn({},b),{},{startAngle:w+N,endAngle:w+S(g)+N});y.push(C),w=C.endAngle}else{var k=b.endAngle,A=b.startAngle,T=Hn(0,k-A),E=T(g),R=Sn(Sn({},b),{},{startAngle:w+N,endAngle:w+E+N});y.push(R),w=R.endAngle}}),B.createElement(Ot,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Cu(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,p=this.state.isAnimationFinished;if(a||!o||!o.length||!Oe(u)||!Oe(d)||!Oe(f)||!Oe(h))return null;var g=ct("recharts-pie",l);return B.createElement(Ot,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){r.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),Ur.renderCallByParent(this.props,null,!1),(!m||p)&&eo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(B.isValidElement(r))return B.cloneElement(r,i);if(Ye(r))return r(i);var o=ct("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(Zd,Xh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(B.isValidElement(r))return B.cloneElement(r,i);var o=a;if(Ye(r)&&(o=r(i),B.isValidElement(o)))return o;var l=ct("recharts-pie-label-text",typeof r!="boolean"&&!Ye(r)?r.className:"");return B.createElement(Ef,Xh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);Yw=da;ia(da,"displayName","Pie");ia(da,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ia(da,"parseDeltaAngle",function(e,t){var n=Ms(t-e),r=Math.min(Math.abs(t-e),360);return n*r});ia(da,"getRealPieData",function(e){var t=e.data,n=e.children,r=He(e,!1),i=Ii(n,Td);return t&&t.length?t.map(function(a,o){return Sn(Sn(Sn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Sn(Sn({},r),a.props)}):[]});ia(da,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=Xae(i,a),l=r+Is(e.cx,i,i/2),c=n+Is(e.cy,a,a/2),u=Is(e.innerRadius,o,0),d=Is(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ia(da,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Sn(Sn({},t.type.defaultProps),t.props):t.props,i=Yw.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),p=Yw.parseCoordinateOfPie(r,n),g=Yw.parseDeltaAngle(o,l),y=Math.abs(g),v=u;ht(u)&&ht(f)?(Za(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):ht(u)&&(Za(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var w=i.filter(function(C){return Gn(C,v,0)!==0}).length,b=(y>=360?w:w-1)*c,j=y-w*m-b,_=i.reduce(function(C,k){var A=Gn(k,v,0);return C+(Oe(A)?A:0)},0),N;if(_>0){var S;N=i.map(function(C,k){var A=Gn(C,v,0),T=Gn(C,d,k),E=(Oe(A)?A:0)/_,R;k?R=S.endAngle+Ms(g)*c*(A!==0?1:0):R=o;var $=R+Ms(g)*((A!==0?m:0)+E*j),O=(R+$)/2,F=(p.innerRadius+p.outerRadius)/2,z=[{name:T,value:A,payload:C,dataKey:v,type:h}],P=en(p.cx,p.cy,F,O);return S=Sn(Sn(Sn({percent:E,cornerRadius:a,name:T,tooltipPayload:z,midAngle:O,middleRadius:F,tooltipPosition:P},C),p),{},{value:Gn(C,v),startAngle:R,endAngle:$,payload:C,paddingAngle:Ms(g)*c}),S})}return Sn(Sn({},p),{},{sectors:N,data:i})});function Bdt(e){return e&&e.length?e[0]:void 0}var Udt=Bdt,qdt=Udt;const Vdt=Vt(qdt);var Hdt=["key"];function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function Wdt(e,t){if(e==null)return{};var n=Gdt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gdt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fN.apply(this,arguments)}function _q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_q(Object(n),!0).forEach(function(r){ml(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_q(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Noe(r.key),r)}}function Ydt(e,t,n){return t&&Nq(e.prototype,t),n&&Nq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xdt(e,t,n){return t=hN(t),Qdt(e,_oe()?Reflect.construct(t,n||[],hN(e).constructor):t.apply(e,n))}function Qdt(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jdt(e)}function Jdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_oe=function(){return!!e})()}function hN(e){return hN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hN(e)}function Zdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NO(e,t)}function NO(e,t){return NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NO(e,t)}function ml(e,t,n){return t=Noe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Noe(e){var t=eft(e,"string");return fp(t)=="symbol"?t:t+""}function eft(e,t){if(fp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qb=function(e){function t(){var n;Kdt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Xdt(this,t,[].concat(i)),ml(n,"state",{isAnimationFinished:!1}),ml(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(o)&&o()}),ml(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(o)&&o()}),ml(n,"handleMouseEnter",function(o){var l=n.props.onMouseEnter;l&&l(n.props,o)}),ml(n,"handleMouseLeave",function(o){var l=n.props.onMouseLeave;l&&l(n.props,o)}),n}return Zdt(t,e),Ydt(t,[{key:"renderDots",value:function(r){var i=this.props,a=i.dot,o=i.dataKey,l=He(this.props,!1),c=He(a,!0),u=r.map(function(d,f){var h=Ns(Ns(Ns({key:"dot-".concat(f),r:3},l),c),{},{dataKey:o,cx:d.x,cy:d.y,index:f,payload:d});return t.renderDotItem(a,h)});return B.createElement(Ot,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,a=i.shape,o=i.dot,l=i.isRange,c=i.baseLinePoints,u=i.connectNulls,d;return B.isValidElement(a)?d=B.cloneElement(a,Ns(Ns({},this.props),{},{points:r})):Ye(a)?d=a(Ns(Ns({},this.props),{},{points:r})):d=B.createElement(hoe,fN({},He(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:l?c:null,connectNulls:u})),B.createElement(Ot,{className:"recharts-radar-polygon"},d,o?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return B.createElement(wa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,p=f&&f.length/a.length,g=a.map(function(y,v){var w=f&&f[Math.floor(v*p)];if(w){var b=Hn(w.x,y.x),j=Hn(w.y,y.y);return Ns(Ns({},y),{},{x:b(m),y:j(m)})}var _=Hn(y.cx,y.x),N=Hn(y.cy,y.y);return Ns(Ns({},y),{},{x:_(m),y:N(m)})});return r.renderPolygonStatically(g)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=r.isRange,l=this.state.prevPoints;return a&&i&&i.length&&!o&&(!l||!Cu(l,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.className,o=r.points,l=r.isAnimationActive;if(i||!o||!o.length)return null;var c=this.state.isAnimationFinished,u=ct("recharts-radar",a);return B.createElement(Ot,{className:u},this.renderPolygon(),(!l||c)&&eo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var a;if(B.isValidElement(r))a=B.cloneElement(r,i);else if(Ye(r))a=r(i);else{var o=i.key,l=Wdt(i,Hdt);a=B.createElement(vg,fN({},l,{key:o,className:ct("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return a}}])}(x.PureComponent);ml(qb,"displayName","Radar");ml(qb,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Zl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ml(qb,"getComposedData",function(e){var t=e.radiusAxis,n=e.angleAxis,r=e.displayedData,i=e.dataKey,a=e.bandSize,o=n.cx,l=n.cy,c=!1,u=[],d=n.type!=="number"?a??0:0;r.forEach(function(h,m){var p=Gn(h,n.dataKey,m),g=Gn(h,i),y=n.scale(p)+d,v=Array.isArray(g)?eoe(g):g,w=ht(v)?void 0:t.scale(v);Array.isArray(g)&&g.length>=2&&(c=!0),u.push(Ns(Ns({},en(o,l,w,y)),{},{name:p,value:g,cx:o,cy:l,radius:w,angle:y,payload:h}))});var f=[];return c&&u.forEach(function(h){if(Array.isArray(h.value)){var m=Vdt(h.value),p=ht(m)?void 0:t.scale(m);f.push(Ns(Ns({},h),{},{radius:p},en(o,l,p,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}});var tft=Math.ceil,nft=Math.max;function rft(e,t,n,r){for(var i=-1,a=nft(tft((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var sft=rft,ift=Lie,Sq=1/0,aft=17976931348623157e292;function oft(e){if(!e)return e===0?e:0;if(e=ift(e),e===Sq||e===-Sq){var t=e<0?-1:1;return t*aft}return e===e?e:0}var Soe=oft,lft=sft,cft=HS,Kk=Soe;function uft(e){return function(t,n,r){return r&&typeof r!="number"&&cft(t,n,r)&&(n=r=void 0),t=Kk(t),n===void 0?(n=t,t=0):n=Kk(n),r=r===void 0?t<n?1:-1:Kk(r),lft(t,n,r,e)}}var dft=uft,fft=dft,hft=fft(),mft=hft;const mN=Vt(mft);function Ny(e){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ny(e)}function Cq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cq(Object(n),!0).forEach(function(r){Coe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Coe(e,t,n){return t=pft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pft(e){var t=gft(e,"string");return Ny(t)=="symbol"?t:t+""}function gft(e,t){if(Ny(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xft=["Webkit","Moz","O","ms"],vft=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=xft.reduce(function(a,o){return Eq(Eq({},a),{},Coe({},o+r,n))},{});return i[t]=n,i};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pN.apply(this,arguments)}function kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kq(Object(n),!0).forEach(function(r){wi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,koe(r.key),r)}}function bft(e,t,n){return t&&Aq(e.prototype,t),n&&Aq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wft(e,t,n){return t=gN(t),jft(e,Eoe()?Reflect.construct(t,n||[],gN(e).constructor):t.apply(e,n))}function jft(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ft(e)}function _ft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eoe=function(){return!!e})()}function gN(e){return gN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gN(e)}function Nft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SO(e,t)}function SO(e,t){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SO(e,t)}function wi(e,t,n){return t=koe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function koe(e){var t=Sft(e,"string");return hp(t)=="symbol"?t:t+""}function Sft(e,t){if(hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cft=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Gx().domain(mN(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},Tq=function(t){return t.changedTouches&&!!t.changedTouches.length},mp=function(e){function t(n){var r;return yft(this,t),r=wft(this,t,[n]),wi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),wi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),wi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),wi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),wi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),wi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),wi(r,"handleSlideDragStart",function(i){var a=Tq(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Nft(t,e),bft(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=t.getIndexInRange(o,f),p=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Gn(a[r],l,r);return Ye(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,p=c.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var y=this.getIndex({startX:o+g,endX:l+g});(y.startIndex!==h||y.endIndex!==m)&&p&&p(y),this.setState({startX:o+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=Tq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,y=d.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),v[o]=u+w;var b=this.getIndex(v),j=b.startIndex,_=b.endIndex,N=function(){var C=y.length-1;return o==="startX"&&(l>c?j%g===0:_%g===0)||l<c&&_===C||o==="endX"&&(l>c?_%g===0:j%g===0)||l>c&&_===C};this.setState(wi(wi({},o,u+w),"brushMoveStartX",r.pageX),function(){p&&N()&&p(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var m=l[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(wi({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return B.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=x.Children.only(u);return f?B.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,p=c.data,g=c.startIndex,y=c.endIndex,v=Math.max(r,this.props.x),w=Yk(Yk({},He(this.props,!1)),{},{x:v,y:u,width:d,height:f}),b=m||"Min value: ".concat((a=p[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=p[y])===null||o===void 0?void 0:o.name);return B.createElement(Ot,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return B.createElement(Ot,{className:"recharts-brush-texts"},B.createElement(Ef,pN({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},p),this.getTextOfTick(i)),B.createElement(Ef,pN({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,p=h.endX,g=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Oe(l)||!Oe(c)||!Oe(u)||!Oe(d)||u<=0||d<=0)return null;var b=ct("recharts-brush",a),j=B.Children.count(o)===1,_=vft("userSelect","none");return B.createElement(Ot,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||y||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),B.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):Ye(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Yk({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?Cft({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(x.PureComponent);wi(mp,"displayName","Brush");wi(mp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Eft=A4;function kft(e,t){var n;return Eft(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var Aft=kft,Tft=uie,Pft=Xo,Oft=Aft,Rft=vi,Dft=HS;function Mft(e,t,n){var r=Rft(e)?Tft:Oft;return n&&Dft(e,t,n)&&(t=void 0),r(e,Pft(t))}var Ift=Mft;const Lft=Vt(Ift);var $o=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},Pq=Oie;function $ft(e,t,n){t=="__proto__"&&Pq?Pq(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Fft=$ft,zft=Fft,Bft=Tie,Uft=Xo;function qft(e,t){var n={};return t=Uft(t),Bft(e,function(r,i,a){zft(n,i,t(r,i,a))}),n}var Vft=qft;const Hft=Vt(Vft);function Wft(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Gft=Wft,Kft=A4;function Yft(e,t){var n=!0;return Kft(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var Xft=Yft,Qft=Gft,Jft=Xft,Zft=Xo,eht=vi,tht=HS;function nht(e,t,n){var r=eht(e)?Qft:Jft;return n&&tht(e,t,n)&&(t=void 0),r(e,Zft(t))}var rht=nht;const Aoe=Vt(rht);var sht=["x","y"];function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function CO(){return CO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CO.apply(this,arguments)}function Oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oq(Object(n),!0).forEach(function(r){iht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iht(e,t,n){return t=aht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aht(e){var t=oht(e,"string");return Sy(t)=="symbol"?t:t+""}function oht(e,t){if(Sy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lht(e,t){if(e==null)return{};var n=cht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cht(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uht(e,t){var n=e.x,r=e.y,i=lht(e,sht),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return nx(nx(nx(nx(nx({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Rq(e){return B.createElement(boe,CO({shapeType:"rectangle",propTransformer:uht,activeClassName:"recharts-active-bar"},e))}var dht=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=Oe(r)||hWe(r);return a?t(r,i):(a||Af(),n)}},fht=["value","background"],Toe;function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function hht(e,t){if(e==null)return{};var n=mht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mht(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xN.apply(this,arguments)}function Dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dq(Object(n),!0).forEach(function(r){Xc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ooe(r.key),r)}}function ght(e,t,n){return t&&Mq(e.prototype,t),n&&Mq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xht(e,t,n){return t=vN(t),vht(e,Poe()?Reflect.construct(t,n||[],vN(e).constructor):t.apply(e,n))}function vht(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yht(e)}function yht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Poe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Poe=function(){return!!e})()}function vN(e){return vN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vN(e)}function bht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EO(e,t)}function EO(e,t){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EO(e,t)}function Xc(e,t,n){return t=Ooe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ooe(e){var t=wht(e,"string");return pp(t)=="symbol"?t:t+""}function wht(e,t){if(pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eu=function(e){function t(){var n;pht(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=xht(this,t,[].concat(i)),Xc(n,"state",{isAnimationFinished:!1}),Xc(n,"id",Gf("recharts-bar-")),Xc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Xc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return bht(t,e),ght(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=He(this.props,!1);return r&&r.map(function(f,h){var m=h===c,p=m?u:o,g=dr(dr(dr({},d),f),{},{isActive:m,option:p,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(Ot,xN({className:"recharts-bar-rectangle"},Cf(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),B.createElement(Rq,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return B.createElement(wa,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=a.map(function(y,v){var w=h&&h[v];if(w){var b=Hn(w.x,y.x),j=Hn(w.y,y.y),_=Hn(w.width,y.width),N=Hn(w.height,y.height);return dr(dr({},y),{},{x:b(p),y:j(p),width:_(p),height:N(p)})}if(o==="horizontal"){var S=Hn(0,y.height),C=S(p);return dr(dr({},y),{},{y:y.y+y.height-C,height:C})}var k=Hn(0,y.width),A=k(p);return dr(dr({},y),{},{width:A})});return B.createElement(Ot,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Cu(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=He(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=hht(u,fht);if(!f)return null;var m=dr(dr(dr(dr(dr({},h),{},{fill:"#eee"},f),c),Cf(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(Rq,xN({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ii(d,Ub);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,v){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Gn(y,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Ot,p,f.map(function(g){return B.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,p=r.background,g=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=ct("recharts-bar",o),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,j=w||b,_=ht(g)?this.id:g;return B.createElement(Ot,{className:v},w||b?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(_)},B.createElement("rect",{x:w?u:u-f/2,y:b?d:d-h/2,width:w?f:f*2,height:b?h:h*2}))):null,B.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!m||y)&&eo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(x.PureComponent);Toe=Eu;Xc(Eu,"displayName","Bar");Xc(Eu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xc(Eu,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Rat(r,n);if(!m)return null;var p=t.layout,g=n.type.defaultProps,y=g!==void 0?dr(dr({},g),n.props):n.props,v=y.dataKey,w=y.children,b=y.minPointSize,j=p==="horizontal"?o:a,_=u?j.scale.domain():null,N=zat({numericAxis:j}),S=Ii(w,Td),C=f.map(function(k,A){var T,E,R,$,O,F;u?T=Dat(u[d+A],_):(T=Gn(k,v),Array.isArray(T)||(T=[N,T]));var z=dht(b,Toe.defaultProps.minPointSize)(T[1],A);if(p==="horizontal"){var P,I=[o.scale(T[0]),o.scale(T[1])],M=I[0],U=I[1];E=wU({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:k,index:A}),R=(P=U??M)!==null&&P!==void 0?P:void 0,$=m.size;var D=M-U;if(O=Number.isNaN(D)?0:D,F={x:E,y:o.y,width:$,height:o.height},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var L=Ms(O||z)*(Math.abs(z)-Math.abs(O));R-=L,O+=L}}else{var V=[a.scale(T[0]),a.scale(T[1])],K=V[0],G=V[1];if(E=K,R=wU({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:k,index:A}),$=G-K,O=m.size,F={x:a.x,y:R,width:a.width,height:O},Math.abs(z)>0&&Math.abs($)<Math.abs(z)){var X=Ms($||z)*(Math.abs(z)-Math.abs($));$+=X}}return dr(dr(dr({},k),{},{x:E,y:R,width:$,height:O,value:u?T:T[1],payload:k,background:F},S&&S[A]&&S[A].props),{},{tooltipPayload:[Kae(n,k)],tooltipPosition:{x:E+$/2,y:R+O/2}})});return dr({data:C,layout:p},h)});function Cy(e){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(e)}function jht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Roe(r.key),r)}}function _ht(e,t,n){return t&&Iq(e.prototype,t),n&&Iq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lq(Object(n),!0).forEach(function(r){aC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aC(e,t,n){return t=Roe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Roe(e){var t=Nht(e,"string");return Cy(t)=="symbol"?t:t+""}function Nht(e,t){if(Cy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sL=function(t,n,r,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!Ni(u,Eu);return d.reduce(function(m,p){var g=n[p],y=g.orientation,v=g.domain,w=g.padding,b=w===void 0?{}:w,j=g.mirror,_=g.reversed,N="".concat(y).concat(j?"Mirror":""),S,C,k,A,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var E=v[1]-v[0],R=1/0,$=g.categoricalDomain.sort(gWe);if($.forEach(function(V,K){K>0&&(R=Math.min((V||0)-($[K-1]||0),R))}),Number.isFinite(R)){var O=R/E,F=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=O*F/2),g.padding==="no-gap"){var z=Is(t.barCategoryGap,O*F),P=O*F/2;S=P-z-(P-z)/F*z}}}i==="xAxis"?C=[r.left+(b.left||0)+(S||0),r.left+r.width-(b.right||0)-(S||0)]:i==="yAxis"?C=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(S||0),r.top+r.height-(b.bottom||0)-(S||0)]:C=g.range,_&&(C=[C[1],C[0]]);var I=Vae(g,a,h),M=I.scale,U=I.realScaleType;M.domain(v).range(C),Hae(M);var D=Wae(M,za(za({},g),{},{realScaleType:U}));i==="xAxis"?(T=y==="top"&&!j||y==="bottom"&&j,k=r.left,A=f[N]-T*g.height):i==="yAxis"&&(T=y==="left"&&!j||y==="right"&&j,k=f[N]-T*g.width,A=r.top);var L=za(za(za({},g),D),{},{realScaleType:U,x:k,y:A,scale:M,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return L.bandSize=eN(L,D),!g.hide&&i==="xAxis"?f[N]+=(T?-1:1)*L.height:g.hide||(f[N]+=(T?-1:1)*L.width),za(za({},m),{},aC({},p,L))},{})},Doe=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Sht=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return Doe({x:n,y:r},{x:i,y:a})},Moe=function(){function e(t){jht(this,e),this.scale=t}return _ht(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();aC(Moe,"EPS",1e-4);var iL=function(t){var n=Object.keys(t).reduce(function(r,i){return za(za({},r),{},aC({},i,Moe.create(t[i])))},{});return za(za({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Hft(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Aoe(i,function(a,o){return n[o].isInRange(a)})}})};function Cht(e){return(e%180+180)%180}var Eht=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Cht(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},kht=Xo,Aht=Lb,Tht=qS;function Pht(e){return function(t,n,r){var i=Object(t);if(!Aht(t)){var a=kht(n);t=Tht(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var Oht=Pht,Rht=Soe;function Dht(e){var t=Rht(e),n=t%1;return t===t?n?t-n:t:0}var Mht=Dht,Iht=Nie,Lht=Xo,$ht=Mht,Fht=Math.max;function zht(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:$ht(n);return i<0&&(i=Fht(r+i,0)),Iht(e,Lht(t),i)}var Bht=zht,Uht=Oht,qht=Bht,Vht=Uht(qht),Hht=Vht;const Wht=Vt(Hht);var Ght=yHe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),aL=x.createContext(void 0),oL=x.createContext(void 0),Ioe=x.createContext(void 0),Loe=x.createContext({}),$oe=x.createContext(void 0),Foe=x.createContext(0),zoe=x.createContext(0),$q=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Ght(a);return B.createElement(aL.Provider,{value:r},B.createElement(oL.Provider,{value:i},B.createElement(Loe.Provider,{value:a},B.createElement(Ioe.Provider,{value:d},B.createElement($oe.Provider,{value:o},B.createElement(Foe.Provider,{value:u},B.createElement(zoe.Provider,{value:c},l)))))))},Kht=function(){return x.useContext($oe)},Boe=function(t){var n=x.useContext(aL);n==null&&Af();var r=n[t];return r==null&&Af(),r},Yht=function(){var t=x.useContext(aL);return Ec(t)},Xht=function(){var t=x.useContext(oL),n=Wht(t,function(r){return Aoe(r.domain,Number.isFinite)});return n||Ec(t)},Uoe=function(t){var n=x.useContext(oL);n==null&&Af();var r=n[t];return r==null&&Af(),r},Qht=function(){var t=x.useContext(Ioe);return t},Jht=function(){return x.useContext(Loe)},lL=function(){return x.useContext(zoe)},cL=function(){return x.useContext(Foe)};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function Zht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function emt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Voe(r.key),r)}}function tmt(e,t,n){return t&&emt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nmt(e,t,n){return t=yN(t),rmt(e,qoe()?Reflect.construct(t,n||[],yN(e).constructor):t.apply(e,n))}function rmt(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return smt(e)}function smt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qoe=function(){return!!e})()}function yN(e){return yN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yN(e)}function imt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kO(e,t)}function kO(e,t){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kO(e,t)}function Fq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fq(Object(n),!0).forEach(function(r){uL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uL(e,t,n){return t=Voe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Voe(e){var t=amt(e,"string");return gp(t)=="symbol"?t:t+""}function amt(e,t){if(gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function omt(e,t){return dmt(e)||umt(e,t)||cmt(e,t)||lmt()}function lmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cmt(e,t){if(e){if(typeof e=="string")return Bq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bq(e,t)}}function Bq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function umt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function dmt(e){if(Array.isArray(e))return e}function AO(){return AO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AO.apply(this,arguments)}var fmt=function(t,n){var r;return B.isValidElement(t)?r=B.cloneElement(t,n):Ye(t)?r=t(n):r=B.createElement("line",AO({},n,{className:"recharts-reference-line-line"})),r},hmt=function(t,n,r,i,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(r){var p=u.y,g=t.y.apply(p,{position:o});if($o(u,"discard")&&!t.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(n){var v=u.x,w=t.x.apply(v,{position:o});if($o(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:f+m},{x:w,y:f}];return l==="top"?b.reverse():b}if(i){var j=u.segment,_=j.map(function(N){return t.apply(N,{position:o})});return $o(u,"discard")&&Lft(_,function(N){return!t.isInRange(N)})?null:_}return null};function mmt(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Kht(),d=Boe(i),f=Uoe(a),h=Qht();if(!u||!h)return null;Za(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=iL({x:d.scale,y:f.scale}),p=Tr(t),g=Tr(n),y=r&&r.length===2,v=hmt(m,p,g,y,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var w=omt(v,2),b=w[0],j=b.x,_=b.y,N=w[1],S=N.x,C=N.y,k=$o(e,"hidden")?"url(#".concat(u,")"):void 0,A=zq(zq({clipPath:k},He(e,!0)),{},{x1:j,y1:_,x2:S,y2:C});return B.createElement(Ot,{className:ct("recharts-reference-line",l)},fmt(o,A),Ur.renderCallByParent(e,Sht({x1:j,y1:_,x2:S,y2:C})))}var dL=function(e){function t(){return Zht(this,t),nmt(this,t,arguments)}return imt(t,e),tmt(t,[{key:"render",value:function(){return B.createElement(mmt,this.props)}}])}(B.Component);uL(dL,"displayName","ReferenceLine");uL(dL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function TO(){return TO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TO.apply(this,arguments)}function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function Uq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uq(Object(n),!0).forEach(function(r){oC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gmt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Woe(r.key),r)}}function xmt(e,t,n){return t&&gmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vmt(e,t,n){return t=bN(t),ymt(e,Hoe()?Reflect.construct(t,n||[],bN(e).constructor):t.apply(e,n))}function ymt(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bmt(e)}function bmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hoe=function(){return!!e})()}function bN(e){return bN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bN(e)}function wmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PO(e,t)}function PO(e,t){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PO(e,t)}function oC(e,t,n){return t=Woe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Woe(e){var t=jmt(e,"string");return xp(t)=="symbol"?t:t+""}function jmt(e,t){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _mt=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=iL({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return $o(t,"discard")&&!o.isInRange(l)?null:l},lC=function(e){function t(){return pmt(this,t),vmt(this,t,arguments)}return wmt(t,e),xmt(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Tr(i),d=Tr(a);if(Za(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=_mt(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,g=p.shape,y=p.className,v=$o(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=qq(qq({clipPath:v},He(this.props,!0)),{},{cx:h,cy:m});return B.createElement(Ot,{className:ct("recharts-reference-dot",y)},t.renderDot(g,w),Ur.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(B.Component);oC(lC,"displayName","ReferenceDot");oC(lC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});oC(lC,"renderDot",function(e,t){var n;return B.isValidElement(e)?n=B.cloneElement(e,t):Ye(e)?n=e(t):n=B.createElement(vg,TO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function OO(){return OO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OO.apply(this,arguments)}function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function Vq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vq(Object(n),!0).forEach(function(r){cC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Smt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Koe(r.key),r)}}function Cmt(e,t,n){return t&&Smt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Emt(e,t,n){return t=wN(t),kmt(e,Goe()?Reflect.construct(t,n||[],wN(e).constructor):t.apply(e,n))}function kmt(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Amt(e)}function Amt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Goe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Goe=function(){return!!e})()}function wN(e){return wN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wN(e)}function Tmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RO(e,t)}function RO(e,t){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RO(e,t)}function cC(e,t,n){return t=Koe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Koe(e){var t=Pmt(e,"string");return vp(t)=="symbol"?t:t+""}function Pmt(e,t){if(vp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Omt=function(t,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=iL({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return $o(a,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:Doe(m,p)},uC=function(e){function t(){return Nmt(this,t),Emt(this,t,arguments)}return Tmt(t,e),Cmt(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Za(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Tr(i),h=Tr(a),m=Tr(o),p=Tr(l),g=this.props.shape;if(!f&&!h&&!m&&!p&&!g)return null;var y=Omt(f,h,m,p,this.props);if(!y&&!g)return null;var v=$o(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(Ot,{className:ct("recharts-reference-area",c)},t.renderRect(g,Hq(Hq({clipPath:v},He(this.props,!0)),y)),Ur.renderCallByParent(this.props,y))}}])}(B.Component);cC(uC,"displayName","ReferenceArea");cC(uC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cC(uC,"renderRect",function(e,t){var n;return B.isValidElement(e)?n=B.cloneElement(e,t):Ye(e)?n=e(t):n=B.createElement(rL,OO({},t,{className:"recharts-reference-area-rect"})),n});function Yoe(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Rmt(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Eht(r,n)}function Dmt(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function jN(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Mmt(e,t){return Yoe(e,t+1)}function Imt(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var p=r==null?void 0:r[c];if(p===void 0)return{v:Yoe(r,u)};var g=c,y,v=function(){return y===void 0&&(y=n(p,g)),y},w=p.coordinate,b=c===0||jN(e,w,v,d,l);b||(c=0,d=o,u+=1),b&&(d=w+e*(v()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Ey(e){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ey(e)}function Wq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wq(Object(n),!0).forEach(function(r){Lmt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lmt(e,t,n){return t=$mt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $mt(e){var t=Fmt(e,"string");return Ey(t)=="symbol"?t:t+""}function Fmt(e,t){if(Ey(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zmt(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(h){var m=a[h],p,g=function(){return p===void 0&&(p=n(m,h)),p};if(h===o-1){var y=e*(m.coordinate+e*g()/2-c);a[h]=m=cs(cs({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=cs(cs({},m),{},{tickCoord:m.coordinate});var v=jN(e,m.tickCoord,g,l,c);v&&(c=m.tickCoord-e*(g()/2+i),a[h]=cs(cs({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function Bmt(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=cs(cs({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=jN(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+i),o[l-1]=cs(cs({},d),{},{isShow:!0}))}for(var p=a?l-1:l,g=function(w){var b=o[w],j,_=function(){return j===void 0&&(j=n(b,w)),j};if(w===0){var N=e*(b.coordinate-e*_()/2-c);o[w]=b=cs(cs({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[w]=b=cs(cs({},b),{},{tickCoord:b.coordinate});var S=jN(e,b.tickCoord,_,c,u);S&&(c=b.tickCoord+e*(_()/2+i),o[w]=cs(cs({},b),{},{isShow:!0}))},y=0;y<p;y++)g(y);return o}function fL(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(Oe(c)||Zl.isSsr)return Mmt(i,typeof c=="number"&&Oe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",p=d&&m==="width"?Wx(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(b,j){var _=Ye(u)?u(b.value,j):b.value;return m==="width"?Rmt(Wx(_,{fontSize:t,letterSpacing:n}),p,f):Wx(_,{fontSize:t,letterSpacing:n})[m]},y=i.length>=2?Ms(i[1].coordinate-i[0].coordinate):1,v=Dmt(a,y,m);return c==="equidistantPreserveStart"?Imt(y,v,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Bmt(y,v,g,i,o,c==="preserveStartEnd"):h=zmt(y,v,g,i,o),h.filter(function(w){return w.isShow}))}var Umt=["viewBox"],qmt=["viewBox"],Vmt=["ticks"];function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qh.apply(this,arguments)}function Gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gq(Object(n),!0).forEach(function(r){hL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xk(e,t){if(e==null)return{};var n=Hmt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hmt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qoe(r.key),r)}}function Gmt(e,t,n){return t&&Kq(e.prototype,t),n&&Kq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kmt(e,t,n){return t=_N(t),Ymt(e,Xoe()?Reflect.construct(t,n||[],_N(e).constructor):t.apply(e,n))}function Ymt(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xmt(e)}function Xmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xoe=function(){return!!e})()}function _N(e){return _N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_N(e)}function Qmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DO(e,t)}function DO(e,t){return DO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DO(e,t)}function hL(e,t,n){return t=Qoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qoe(e){var t=Jmt(e,"string");return yp(t)=="symbol"?t:t+""}function Jmt(e,t){if(yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wg=function(e){function t(n){var r;return Wmt(this,t),r=Kmt(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Qmt(t,e),Gmt(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Xk(r,Umt),l=this.props,c=l.viewBox,u=Xk(l,qmt);return!gm(a,c)||!gm(o,u)||!gm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,p,g,y,v,w,b=f?-1:1,j=r.tickSize||d,_=Oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=p=r.coordinate,y=o+ +!f*c,g=y-b*j,w=g-b*h,v=_;break;case"left":g=y=r.coordinate,p=a+ +!f*l,m=p-b*j,v=m-b*h,w=_;break;case"right":g=y=r.coordinate,p=a+ +f*l,m=p+b*j,v=m+b*h,w=_;break;default:m=p=r.coordinate,y=o+ +f*c,g=y+b*j,w=g+b*h,v=_;break}return{line:{x1:m,y1:g,x2:p,y2:y},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=jr(jr(jr({},He(this.props,!1)),He(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=jr(jr({},f),{},{x1:i,y1:a+h*l,x2:i+o,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=jr(jr({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+l})}return B.createElement("line",Qh({},f,{className:ct("recharts-cartesian-axis-line",Mi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=fL(jr(jr({},this.props),{},{ticks:r}),i,a),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=He(this.props,!1),v=He(d,!1),w=jr(jr({},y),{},{fill:"none"},He(c,!1)),b=m.map(function(j,_){var N=o.getTickLineCoord(j),S=N.line,C=N.tick,k=jr(jr(jr(jr({textAnchor:p,verticalAnchor:g},y),{},{stroke:"none",fill:u},v),C),{},{index:_,payload:j,visibleTicksCount:m.length,tickFormatter:f});return B.createElement(Ot,Qh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Cf(o.props,j,_)),c&&B.createElement("line",Qh({},w,S,{className:ct("recharts-cartesian-axis-tick-line",Mi(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(Ye(f)?f(j.value,_):j.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Xk(f,Vmt),p=h;return Ye(c)&&(p=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!p||!p.length?null:B.createElement(Ot,{className:ct("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),Ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,l=ct(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?o=B.cloneElement(r,jr(jr({},i),{},{className:l})):Ye(r)?o=r(jr(jr({},i),{},{className:l})):o=B.createElement(Ef,Qh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(x.Component);hL(wg,"displayName","CartesianAxis");hL(wg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zmt=["x1","y1","x2","y2","key"],ept=["offset"];function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function Yq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yq(Object(n),!0).forEach(function(r){tpt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tpt(e,t,n){return t=npt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function npt(e){var t=rpt(e,"string");return Tf(t)=="symbol"?t:t+""}function rpt(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rd.apply(this,arguments)}function Xq(e,t){if(e==null)return{};var n=spt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function spt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ipt=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return B.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Joe(e,t){var n;if(B.isValidElement(e))n=B.cloneElement(e,t);else if(Ye(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=Xq(t,Zmt),u=He(c,!1);u.offset;var d=Xq(u,ept);n=B.createElement("line",Rd({},d,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function apt(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=fs(fs({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return Joe(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function opt(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=fs(fs({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return Joe(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function lpt(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?i+o-h:d[m+1]-h;if(g<=0)return null;var y=m%t.length;return B.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:g,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function cpt(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?a+l-h:d[m+1]-h;if(g<=0)return null;var y=m%r.length;return B.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var upt=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return qae(fL(fs(fs(fs({},wg.defaultProps),r),{},{ticks:jl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},dpt=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return qae(fL(fs(fs(fs({},wg.defaultProps),r),{},{ticks:jl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},vh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function md(e){var t,n,r,i,a,o,l=lL(),c=cL(),u=Jht(),d=fs(fs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:vh.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:vh.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:vh.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:vh.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:vh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:vh.verticalFill,x:Oe(e.x)?e.x:u.left,y:Oe(e.y)?e.y:u.top,width:Oe(e.width)?e.width:u.width,height:Oe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,w=Yht(),b=Xht();if(!Oe(m)||m<=0||!Oe(p)||p<=0||!Oe(f)||f!==+f||!Oe(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||upt,_=d.horizontalCoordinatesGenerator||dpt,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&Ye(_)){var C=y&&y.length,k=_({yAxis:b?fs(fs({},b),{},{ticks:C?y:b.ticks}):void 0,width:l,height:c,offset:u},C?!0:g);Za(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tf(k),"]")),Array.isArray(k)&&(N=k)}if((!S||!S.length)&&Ye(j)){var A=v&&v.length,T=j({xAxis:w?fs(fs({},w),{},{ticks:A?v:w.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);Za(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tf(T),"]")),Array.isArray(T)&&(S=T)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(ipt,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement(apt,Rd({},d,{offset:u,horizontalPoints:N,xAxis:w,yAxis:b})),B.createElement(opt,Rd({},d,{offset:u,verticalPoints:S,xAxis:w,yAxis:b})),B.createElement(lpt,Rd({},d,{horizontalPoints:N})),B.createElement(cpt,Rd({},d,{verticalPoints:S})))}md.displayName="CartesianGrid";var fpt=["type","layout","connectNulls","ref"],hpt=["key"];function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function Qq(e,t){if(e==null)return{};var n=mpt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mpt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jx.apply(this,arguments)}function Jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jq(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yh(e){return vpt(e)||xpt(e)||gpt(e)||ppt()}function ppt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gpt(e,t){if(e){if(typeof e=="string")return MO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(e,t)}}function xpt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vpt(e){if(Array.isArray(e))return MO(e)}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ypt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ele(r.key),r)}}function bpt(e,t,n){return t&&Zq(e.prototype,t),n&&Zq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wpt(e,t,n){return t=NN(t),jpt(e,Zoe()?Reflect.construct(t,n||[],NN(e).constructor):t.apply(e,n))}function jpt(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pt(e)}function _pt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zoe=function(){return!!e})()}function NN(e){return NN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NN(e)}function Npt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IO(e,t)}function IO(e,t){return IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IO(e,t)}function Ba(e,t,n){return t=ele(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ele(e){var t=Spt(e,"string");return bp(t)=="symbol"?t:t+""}function Spt(e,t){if(bp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ef=function(e){function t(){var n;ypt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=wpt(this,t,[].concat(i)),Ba(n,"state",{isAnimationFinished:!0,totalLength:0}),Ba(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ba(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,w){return v+w});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>f){m=[].concat(yh(c.slice(0,p)),[f-g]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(yh(t.repeat(c,d)),yh(m),y).map(function(v){return"".concat(v,"px")}).join(", ")}),Ba(n,"id",Gf("recharts-line-")),Ba(n,"pathRef",function(o){n.mainCurve=o}),Ba(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ba(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Npt(t,e),bpt(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ii(d,Ub);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Gn(g.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Ot,m,f.map(function(p){return B.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=He(this.props,!1),h=He(c,!0),m=u.map(function(g,y){var v=bi(bi(bi({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,v)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return B.createElement(Ot,Jx({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=Qq(l,fpt),h=bi(bi(bi({},He(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return B.createElement(Zd,Jx({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,p=o.animateNewValues,g=o.width,y=o.height,v=this.state,w=v.prevPoints,b=v.totalLength;return B.createElement(wa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(w){var N=w.length/l.length,S=l.map(function(E,R){var $=Math.floor(R*N);if(w[$]){var O=w[$],F=Hn(O.x,E.x),z=Hn(O.y,E.y);return bi(bi({},E),{},{x:F(_),y:z(_)})}if(p){var P=Hn(g*2,E.x),I=Hn(y/2,E.y);return bi(bi({},E),{},{x:P(_),y:I(_)})}return bi(bi({},E),{},{x:E.x,y:E.y})});return a.renderCurveStatically(S,r,i)}var C=Hn(0,b),k=C(_),A;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});A=a.getStrokeDasharray(k,b,T)}else A=a.generateSimpleStrokeDasharray(b,k);return a.renderCurveStatically(l,r,i,{strokeDasharray:A})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Cu(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,p=i.height,g=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var v=this.state.isAnimationFinished,w=l.length===1,b=ct("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,N=j||_,S=ht(y)?this.id:y,C=(r=He(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,A=k===void 0?3:k,T=C.strokeWidth,E=T===void 0?2:T,R=Mse(o)?o:{},$=R.clipDot,O=$===void 0?!0:$,F=A*2+E;return B.createElement(Ot,{className:b},j||_?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:j?h:h-m/2,y:_?f:f-p/2,width:j?m:m*2,height:_?p:p*2})),!O&&B.createElement("clipPath",{id:"clipPath-dots-".concat(S)},B.createElement("rect",{x:h-F/2,y:f-F/2,width:m+F,height:p+F}))):null,!w&&this.renderCurve(N,S),this.renderErrorBar(N,S),(w||o)&&this.renderDots(N,O,S),(!g||v)&&eo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(yh(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(yh(o),yh(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(B.isValidElement(r))a=B.cloneElement(r,i);else if(Ye(r))a=r(i);else{var o=i.key,l=Qq(i,hpt),c=ct("recharts-line-dot",typeof r!="boolean"?r.className:"");a=B.createElement(vg,Jx({key:o},l,{className:c}))}return a}}])}(x.PureComponent);Ba(ef,"displayName","Line");Ba(ef,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ba(ef,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var p=Gn(h,o);return d==="horizontal"?{x:Z_({axis:n,ticks:i,bandSize:l,entry:h,index:m}),y:ht(p)?null:r.scale(p),value:p,payload:h}:{x:ht(p)?null:n.scale(p),y:Z_({axis:r,ticks:a,bandSize:l,entry:h,index:m}),value:p,payload:h}});return bi({points:f,layout:d},u)});var Cpt=["layout","type","stroke","connectNulls","isRange","ref"],Ept=["key"],tle;function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function nle(e,t){if(e==null)return{};var n=kpt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kpt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dd.apply(this,arguments)}function eV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eV(Object(n),!0).forEach(function(r){Po(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Apt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sle(r.key),r)}}function Tpt(e,t,n){return t&&tV(e.prototype,t),n&&tV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ppt(e,t,n){return t=SN(t),Opt(e,rle()?Reflect.construct(t,n||[],SN(e).constructor):t.apply(e,n))}function Opt(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpt(e)}function Rpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rle=function(){return!!e})()}function SN(e){return SN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SN(e)}function Dpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LO(e,t)}function LO(e,t){return LO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LO(e,t)}function Po(e,t,n){return t=sle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sle(e){var t=Mpt(e,"string");return wp(t)=="symbol"?t:t+""}function Mpt(e,t){if(wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wl=function(e){function t(){var n;Apt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ppt(this,t,[].concat(i)),Po(n,"state",{isAnimationFinished:!0}),Po(n,"id",Gf("recharts-area-")),Po(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(o)&&o()}),Po(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(o)&&o()}),n}return Dpt(t,e),Tpt(t,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=He(this.props,!1),m=He(u,!0),p=d.map(function(y,v){var w=yc(yc(yc({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return B.createElement(Ot,Dd({className:"recharts-area-dots"},g),p)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=Yc(o.map(function(h){return h.y||0}));return Oe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Yc(a.map(function(h){return h.y||0})),f)),Oe(f)?B.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=Yc(o.map(function(h){return h.x||0}));return Oe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Yc(a.map(function(h){return h.x||0})),f)),Oe(f)?B.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=nle(l,Cpt);return B.createElement(Ot,{clipPath:a?"url(#clipPath-".concat(o,")"):null},B.createElement(Zd,Dd({},He(m,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&B.createElement(Zd,Dd({},He(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&B.createElement(Zd,Dd({},He(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,p=this.state,g=p.prevPoints,y=p.prevBaseLine;return B.createElement(wa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t;if(g){var b=g.length/l.length,j=l.map(function(C,k){var A=Math.floor(k*b);if(g[A]){var T=g[A],E=Hn(T.x,C.x),R=Hn(T.y,C.y);return yc(yc({},C),{},{x:E(w),y:R(w)})}return C}),_;if(Oe(c)&&typeof c=="number"){var N=Hn(y,c);_=N(w)}else if(ht(c)||dg(c)){var S=Hn(y,0);_=S(w)}else _=c.map(function(C,k){var A=Math.floor(k*b);if(y[A]){var T=y[A],E=Hn(T.x,C.x),R=Hn(T.y,C.y);return yc(yc({},C),{},{x:E(w),y:R(w)})}return C});return a.renderAreaStatically(j,_,r,i)}return B.createElement(Ot,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),B.createElement(Ot,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Cu(d,o)||!Cu(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,m=i.width,p=i.height,g=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var v=this.state.isAnimationFinished,w=l.length===1,b=ct("recharts-area",c),j=f&&f.allowDataOverflow,_=h&&h.allowDataOverflow,N=j||_,S=ht(y)?this.id:y,C=(r=He(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=C.r,A=k===void 0?3:k,T=C.strokeWidth,E=T===void 0?2:T,R=Mse(o)?o:{},$=R.clipDot,O=$===void 0?!0:$,F=A*2+E;return B.createElement(Ot,{className:b},j||_?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:j?d:d-m/2,y:_?u:u-p/2,width:j?m:m*2,height:_?p:p*2})),!O&&B.createElement("clipPath",{id:"clipPath-dots-".concat(S)},B.createElement("rect",{x:d-F/2,y:u-F/2,width:m+F,height:p+F}))):null,w?null:this.renderArea(N,S),(o||w)&&this.renderDots(N,O,S),(!g||v)&&eo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(x.PureComponent);tle=Wl;Po(Wl,"displayName","Area");Po(Wl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Zl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Po(Wl,"getBaseValue",function(e,t,n,r){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Oe(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Po(Wl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,p=u&&u.length,g=tle.getBaseValue(t,n,r,i),y=m==="horizontal",v=!1,w=f.map(function(j,_){var N;p?N=u[d+_]:(N=Gn(j,c),Array.isArray(N)?v=!0:N=[g,N]);var S=N[1]==null||p&&Gn(j,c)==null;return y?{x:Z_({axis:r,ticks:a,bandSize:l,entry:j,index:_}),y:S?null:i.scale(N[1]),value:N,payload:j}:{x:S?null:r.scale(N[1]),y:Z_({axis:i,ticks:o,bandSize:l,entry:j,index:_}),value:N,payload:j}}),b;return p||v?b=w.map(function(j){var _=Array.isArray(j.value)?j.value[0]:null;return y?{x:j.x,y:_!=null&&j.y!=null?i.scale(_):null}:{x:_!=null?r.scale(_):null,y:j.y}}):b=y?i.scale(g):r.scale(g),yc({points:w,baseLine:b,layout:m,isRange:v},h)});Po(Wl,"renderDotItem",function(e,t){var n;if(B.isValidElement(e))n=B.cloneElement(e,t);else if(Ye(e))n=e(t);else{var r=ct("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=nle(t,Ept);n=B.createElement(vg,Dd({},a,{key:i,className:r}))}return n});function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function Ipt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lpt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ole(r.key),r)}}function $pt(e,t,n){return t&&Lpt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fpt(e,t,n){return t=CN(t),zpt(e,ile()?Reflect.construct(t,n||[],CN(e).constructor):t.apply(e,n))}function zpt(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bpt(e)}function Bpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ile(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ile=function(){return!!e})()}function CN(e){return CN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CN(e)}function Upt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$O(e,t)}function $O(e,t){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$O(e,t)}function ale(e,t,n){return t=ole(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ole(e){var t=qpt(e,"string");return jp(t)=="symbol"?t:t+""}function qpt(e,t){if(jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FO(){return FO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FO.apply(this,arguments)}function Vpt(e){var t=e.xAxisId,n=lL(),r=cL(),i=Boe(t);return i==null?null:x.createElement(wg,FO({},i,{className:ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return jl(o,!0)}}))}var qa=function(e){function t(){return Ipt(this,t),Fpt(this,t,arguments)}return Upt(t,e),$pt(t,[{key:"render",value:function(){return x.createElement(Vpt,this.props)}}])}(x.Component);ale(qa,"displayName","XAxis");ale(qa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function Hpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wpt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ule(r.key),r)}}function Gpt(e,t,n){return t&&Wpt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kpt(e,t,n){return t=EN(t),Ypt(e,lle()?Reflect.construct(t,n||[],EN(e).constructor):t.apply(e,n))}function Ypt(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xpt(e)}function Xpt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lle=function(){return!!e})()}function EN(e){return EN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},EN(e)}function Qpt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zO(e,t)}function zO(e,t){return zO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zO(e,t)}function cle(e,t,n){return t=ule(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ule(e){var t=Jpt(e,"string");return _p(t)=="symbol"?t:t+""}function Jpt(e,t){if(_p(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BO(){return BO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BO.apply(this,arguments)}var Zpt=function(t){var n=t.yAxisId,r=lL(),i=cL(),a=Uoe(n);return a==null?null:x.createElement(wg,BO({},a,{className:ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return jl(l,!0)}}))},Va=function(e){function t(){return Hpt(this,t),Kpt(this,t,arguments)}return Qpt(t,e),Gpt(t,[{key:"render",value:function(){return x.createElement(Zpt,this.props)}}])}(x.Component);cle(Va,"displayName","YAxis");cle(Va,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nV(e){return rgt(e)||ngt(e)||tgt(e)||egt()}function egt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tgt(e,t){if(e){if(typeof e=="string")return UO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UO(e,t)}}function ngt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rgt(e){if(Array.isArray(e))return UO(e)}function UO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qO=function(t,n,r,i,a){var o=Ii(t,dL),l=Ii(t,lC),c=[].concat(nV(o),nV(l)),u=Ii(t,uC),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(g,y){if(y.props[d]===r&&$o(y.props,"extendDomain")&&Oe(y.props[f])){var v=y.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===r&&$o(y.props,"extendDomain")&&Oe(y.props[m])&&Oe(y.props[p])){var v=y.props[m],w=y.props[p];return[Math.min(g[0],v,w),Math.max(g[1],v,w)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,y){return Oe(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},dle={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(b=1,w=new Array(v-1);b<v;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var j=y.length,_;for(b=0;b<j;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),v){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];y[b].fn.apply(y[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var g=0,y=[],v=p.length;g<v;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(dle);var sgt=dle.exports;const igt=Vt(sgt);var Qk=new igt,Jk="recharts.syncMouseEvents";function ky(e){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function agt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ogt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fle(r.key),r)}}function lgt(e,t,n){return t&&ogt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zk(e,t,n){return t=fle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fle(e){var t=cgt(e,"string");return ky(t)=="symbol"?t:t+""}function cgt(e,t){if(ky(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ugt=function(){function e(){agt(this,e),Zk(this,"activeIndex",0),Zk(this,"coordinateList",[]),Zk(this,"layout","horizontal")}return lgt(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function dgt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Oe(r)&&Oe(i))return!0}return!1}function fgt(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function hle(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=en(t,n,r,i),l=en(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function hgt(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=en(l,c,u,f),m=en(l,c,d,f);r=h.x,i=h.y,a=m.x,o=m.y}else return hle(t);return[{x:r,y:i},{x:a,y:o}]}function Ay(e){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ay(e)}function rV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rV(Object(n),!0).forEach(function(r){mgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mgt(e,t,n){return t=pgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pgt(e){var t=ggt(e,"string");return Ay(t)=="symbol"?t:t+""}function ggt(e,t){if(Ay(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xgt(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var p,g=Zd;if(h==="ScatterChart")p=o,g=eut;else if(h==="BarChart")p=fgt(f,o,c,d),g=rL;else if(f==="radial"){var y=hle(o),v=y.cx,w=y.cy,b=y.radius,j=y.startAngle,_=y.endAngle;p={cx:v,cy:w,startAngle:j,endAngle:_,innerRadius:b,outerRadius:b},g=noe}else p={points:hgt(f,o,c)},g=Zd;var N=lw(lw(lw(lw({stroke:"#ccc",pointerEvents:"none"},c),p),He(m,!1)),{},{payload:l,payloadIndex:u,className:ct("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,N):x.createElement(g,N)}var vgt=["item"],ygt=["children","className","width","height","style","compact","title","desc"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jh.apply(this,arguments)}function sV(e,t){return jgt(e)||wgt(e,t)||ple(e,t)||bgt()}function bgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wgt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jgt(e){if(Array.isArray(e))return e}function iV(e,t){if(e==null)return{};var n=_gt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _gt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ngt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sgt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gle(r.key),r)}}function Cgt(e,t,n){return t&&Sgt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Egt(e,t,n){return t=kN(t),kgt(e,mle()?Reflect.construct(t,n||[],kN(e).constructor):t.apply(e,n))}function kgt(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Agt(e)}function Agt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mle=function(){return!!e})()}function kN(e){return kN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kN(e)}function Tgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VO(e,t)}function VO(e,t){return VO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VO(e,t)}function Sp(e){return Rgt(e)||Ogt(e)||ple(e)||Pgt()}function Pgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ple(e,t){if(e){if(typeof e=="string")return HO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(e,t)}}function Ogt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rgt(e){if(Array.isArray(e))return HO(e)}function HO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aV(Object(n),!0).forEach(function(r){rt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rt(e,t,n){return t=gle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gle(e){var t=Dgt(e,"string");return Np(t)=="symbol"?t:t+""}function Dgt(e,t){if(Np(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mgt={xAxis:["bottom","top"],yAxis:["left","right"]},Igt={width:"100%",height:"100%"},xle={x:0,y:0};function cw(e){return e}var Lgt=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},$gt=function(t,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return be(be(be({},i),en(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return be(be(be({},i),en(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return xle},dC=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Sp(l),Sp(u)):l},[]);return o.length>0?o:t&&t.length&&Oe(i)&&Oe(a)?t.slice(i,a+1):[]};function vle(e){return e==="number"?[0,"auto"]:void 0}var WO=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,l=dC(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=S_(m,o.dataKey,i)}else h=f&&f[r]||l[r];return h?[].concat(Sp(c),[Kae(u,h)]):c},[])},oV=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=Lgt(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Eat(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=WO(t,n,d,f),m=$gt(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Fgt=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=Uae(d,a);return r.reduce(function(p,g){var y,v=g.type.defaultProps!==void 0?be(be({},g.type.defaultProps),g.props):g.props,w=v.type,b=v.dataKey,j=v.allowDataOverflow,_=v.allowDuplicatedCategory,N=v.scale,S=v.ticks,C=v.includeHidden,k=v[o];if(p[k])return p;var A=dC(t.data,{graphicalItems:i.filter(function(D){var L,V=o in D.props?D.props[o]:(L=D.type.defaultProps)===null||L===void 0?void 0:L[o];return V===k}),dataStartIndex:c,dataEndIndex:u}),T=A.length,E,R,$;dgt(v.domain,j,w)&&(E=sO(v.domain,null,j),m&&(w==="number"||N!=="auto")&&($=Kx(A,b,"category")));var O=vle(w);if(!E||E.length===0){var F,z=(F=v.domain)!==null&&F!==void 0?F:O;if(b){if(E=Kx(A,b,w),w==="category"&&m){var P=pWe(E);_&&P?(R=E,E=mN(0,T)):_||(E=NU(z,E,g).reduce(function(D,L){return D.indexOf(L)>=0?D:[].concat(Sp(D),[L])},[]))}else if(w==="category")_?E=E.filter(function(D){return D!==""&&!ht(D)}):E=NU(z,E,g).reduce(function(D,L){return D.indexOf(L)>=0||L===""||ht(L)?D:[].concat(Sp(D),[L])},[]);else if(w==="number"){var I=Oat(A,i.filter(function(D){var L,V,K=o in D.props?D.props[o]:(L=D.type.defaultProps)===null||L===void 0?void 0:L[o],G="hide"in D.props?D.props.hide:(V=D.type.defaultProps)===null||V===void 0?void 0:V.hide;return K===k&&(C||!G)}),b,a,d);I&&(E=I)}m&&(w==="number"||N!=="auto")&&($=Kx(A,b,"category"))}else m?E=mN(0,T):l&&l[k]&&l[k].hasStack&&w==="number"?E=h==="expand"?[0,1]:Gae(l[k].stackGroups,c,u):E=Bae(A,i.filter(function(D){var L=o in D.props?D.props[o]:D.type.defaultProps[o],V="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return L===k&&(C||!V)}),w,d,!0);if(w==="number")E=qO(f,E,k,a,S),z&&(E=sO(z,E,j));else if(w==="category"&&z){var M=z,U=E.every(function(D){return M.indexOf(D)>=0});U&&(E=M)}}return be(be({},p),{},rt({},k,be(be({},v),{},{axisType:a,domain:E,categoricalDomain:$,duplicateDomain:R,originalDomain:(y=v.domain)!==null&&y!==void 0?y:O,isCategorical:m,layout:d})))},{})},zgt=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=dC(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,p=Uae(d,a),g=-1;return r.reduce(function(y,v){var w=v.type.defaultProps!==void 0?be(be({},v.type.defaultProps),v.props):v.props,b=w[o],j=vle("number");if(!y[b]){g++;var _;return p?_=mN(0,m):l&&l[b]&&l[b].hasStack?(_=Gae(l[b].stackGroups,c,u),_=qO(f,_,b,a)):(_=sO(j,Bae(h,r.filter(function(N){var S,C,k=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],A="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===b&&!A}),"number",d),i.defaultProps.allowDataOverflow),_=qO(f,_,b,a)),be(be({},y),{},rt({},b,be(be({axisType:a},i.defaultProps),{},{hide:!0,orientation:Mi(Mgt,"".concat(a,".").concat(g%2),null),domain:_,originalDomain:j,isCategorical:p,layout:d})))}return y},{})},Bgt=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Ii(d,a),m={};return h&&h.length?m=Fgt(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=zgt(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Ugt=function(t){var n=Ec(t),r=jl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:T4(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:eN(n,r)}},lV=function(t){var n=t.children,r=t.defaultShowTooltip,i=Ni(n,mp),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},qgt=function(t){return!t||!t.length?!1:t.some(function(n){var r=Sl(n&&n.type);return r&&r.indexOf("Bar")>=0})},cV=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vgt=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Ni(f,mp),p=Ni(f,Ha),g=Object.keys(c).reduce(function(_,N){var S=c[N],C=S.orientation;return!S.mirror&&!S.hide?be(be({},_),{},rt({},C,_[C]+S.width)):_},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(_,N){var S=o[N],C=S.orientation;return!S.mirror&&!S.hide?be(be({},_),{},rt({},C,Mi(_,"".concat(C))+S.height)):_},{top:h.top||0,bottom:h.bottom||0}),v=be(be({},y),g),w=v.bottom;m&&(v.bottom+=m.props.height||mp.defaultProps.height),p&&n&&(v=Tat(v,i,r,n));var b=u-v.left-v.right,j=d-v.top-v.bottom;return be(be({brushBottom:w},v),{},{width:Math.max(b,0),height:Math.max(j,0)})},Hgt=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Vb=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,w){var b=w.graphicalItems,j=w.stackGroups,_=w.offset,N=w.updateId,S=w.dataStartIndex,C=w.dataEndIndex,k=v.barSize,A=v.layout,T=v.barGap,E=v.barCategoryGap,R=v.maxBarSize,$=cV(A),O=$.numericAxisName,F=$.cateAxisName,z=qgt(b),P=[];return b.forEach(function(I,M){var U=dC(v.data,{graphicalItems:[I],dataStartIndex:S,dataEndIndex:C}),D=I.type.defaultProps!==void 0?be(be({},I.type.defaultProps),I.props):I.props,L=D.dataKey,V=D.maxBarSize,K=D["".concat(O,"Id")],G=D["".concat(F,"Id")],X={},oe=c.reduce(function(Ae,W){var _e=w["".concat(W.axisType,"Map")],Le=D["".concat(W.axisType,"Id")];_e&&_e[Le]||W.axisType==="zAxis"||Af();var Qe=_e[Le];return be(be({},Ae),{},rt(rt({},W.axisType,Qe),"".concat(W.axisType,"Ticks"),jl(Qe)))},X),Y=oe[F],ne=oe["".concat(F,"Ticks")],ge=j&&j[K]&&j[K].hasStack&&Bat(I,j[K].stackGroups),se=Sl(I.type).indexOf("Bar")>=0,ce=eN(Y,ne),ve=[],te=z&&kat({barSize:k,stackGroups:j,totalSize:Hgt(oe,F)});if(se){var ue,ee,le=ht(V)?R:V,Ie=(ue=(ee=eN(Y,ne,!0))!==null&&ee!==void 0?ee:le)!==null&&ue!==void 0?ue:0;ve=Aat({barGap:T,barCategoryGap:E,bandSize:Ie!==ce?Ie:ce,sizeList:te[G],maxBarSize:le}),Ie!==ce&&(ve=ve.map(function(Ae){return be(be({},Ae),{},{position:be(be({},Ae.position),{},{offset:Ae.position.offset-Ie/2})})}))}var Pe=I&&I.type&&I.type.getComposedData;Pe&&P.push({props:be(be({},Pe(be(be({},oe),{},{displayedData:U,props:v,dataKey:L,item:I,bandSize:ce,barPosition:ve,offset:_,stackedData:ge,layout:A,dataStartIndex:S,dataEndIndex:C}))),{},rt(rt(rt({key:I.key||"item-".concat(M)},O,oe[O]),F,oe[F]),"animationId",N)),childIndex:EWe(I,v.children),item:I})}),P},m=function(v,w){var b=v.props,j=v.dataStartIndex,_=v.dataEndIndex,N=v.updateId;if(!vB({props:b}))return null;var S=b.children,C=b.layout,k=b.stackOffset,A=b.data,T=b.reverseStackOrder,E=cV(C),R=E.numericAxisName,$=E.cateAxisName,O=Ii(S,r),F=Fat(A,O,"".concat(R,"Id"),"".concat($,"Id"),k,T),z=c.reduce(function(D,L){var V="".concat(L.axisType,"Map");return be(be({},D),{},rt({},V,Bgt(b,be(be({},L),{},{graphicalItems:O,stackGroups:L.axisType===R&&F,dataStartIndex:j,dataEndIndex:_}))))},{}),P=Vgt(be(be({},z),{},{props:b,graphicalItems:O}),w==null?void 0:w.legendBBox);Object.keys(z).forEach(function(D){z[D]=d(b,z[D],P,D.replace("Map",""),n)});var I=z["".concat($,"Map")],M=Ugt(I),U=h(b,be(be({},z),{},{dataStartIndex:j,dataEndIndex:_,updateId:N,graphicalItems:O,stackGroups:F,offset:P}));return be(be({formattedGraphicalItems:U,graphicalItems:O,offset:P,stackGroups:F},M),z)},p=function(y){function v(w){var b,j,_;return Ngt(this,v),_=Egt(this,v,[w]),rt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rt(_,"accessibilityManager",new ugt),rt(_,"handleLegendBBoxUpdate",function(N){if(N){var S=_.state,C=S.dataStartIndex,k=S.dataEndIndex,A=S.updateId;_.setState(be({legendBBox:N},m({props:_.props,dataStartIndex:C,dataEndIndex:k,updateId:A},be(be({},_.state),{},{legendBBox:N}))))}}),rt(_,"handleReceiveSyncEvent",function(N,S,C){if(_.props.syncId===N){if(C===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),rt(_,"handleBrushChange",function(N){var S=N.startIndex,C=N.endIndex;if(S!==_.state.dataStartIndex||C!==_.state.dataEndIndex){var k=_.state.updateId;_.setState(function(){return be({dataStartIndex:S,dataEndIndex:C},m({props:_.props,dataStartIndex:S,dataEndIndex:C,updateId:k},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),rt(_,"handleMouseEnter",function(N){var S=_.getMouseInfo(N);if(S){var C=be(be({},S),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var k=_.props.onMouseEnter;Ye(k)&&k(C,N)}}),rt(_,"triggeredAfterMouseMove",function(N){var S=_.getMouseInfo(N),C=S?be(be({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var k=_.props.onMouseMove;Ye(k)&&k(C,N)}),rt(_,"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),rt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),rt(_,"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),rt(_,"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var C=_.props.onMouseLeave;Ye(C)&&C(S,N)}),rt(_,"handleOuterEvent",function(N){var S=CWe(N),C=Mi(_.props,"".concat(S));if(S&&Ye(C)){var k,A;/.*touch.*/i.test(S)?A=_.getMouseInfo(N.changedTouches[0]):A=_.getMouseInfo(N),C((k=A)!==null&&k!==void 0?k:{},N)}}),rt(_,"handleClick",function(N){var S=_.getMouseInfo(N);if(S){var C=be(be({},S),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var k=_.props.onClick;Ye(k)&&k(C,N)}}),rt(_,"handleMouseDown",function(N){var S=_.props.onMouseDown;if(Ye(S)){var C=_.getMouseInfo(N);S(C,N)}}),rt(_,"handleMouseUp",function(N){var S=_.props.onMouseUp;if(Ye(S)){var C=_.getMouseInfo(N);S(C,N)}}),rt(_,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),rt(_,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),rt(_,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),rt(_,"handleDoubleClick",function(N){var S=_.props.onDoubleClick;if(Ye(S)){var C=_.getMouseInfo(N);S(C,N)}}),rt(_,"handleContextMenu",function(N){var S=_.props.onContextMenu;if(Ye(S)){var C=_.getMouseInfo(N);S(C,N)}}),rt(_,"triggerSyncEvent",function(N){_.props.syncId!==void 0&&Qk.emit(Jk,_.props.syncId,N,_.eventEmitterSymbol)}),rt(_,"applySyncEvent",function(N){var S=_.props,C=S.layout,k=S.syncMethod,A=_.state.updateId,T=N.dataStartIndex,E=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(be({dataStartIndex:T,dataEndIndex:E},m({props:_.props,dataStartIndex:T,dataEndIndex:E,updateId:A},_.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,$=N.chartY,O=N.activeTooltipIndex,F=_.state,z=F.offset,P=F.tooltipTicks;if(!z)return;if(typeof k=="function")O=k(P,N);else if(k==="value"){O=-1;for(var I=0;I<P.length;I++)if(P[I].value===N.activeLabel){O=I;break}}var M=be(be({},z),{},{x:z.left,y:z.top}),U=Math.min(R,M.x+M.width),D=Math.min($,M.y+M.height),L=P[O]&&P[O].value,V=WO(_.state,_.props.data,O),K=P[O]?{x:C==="horizontal"?P[O].coordinate:U,y:C==="horizontal"?D:P[O].coordinate}:xle;_.setState(be(be({},N),{},{activeLabel:L,activeCoordinate:K,activePayload:V,activeTooltipIndex:O}))}else _.setState(N)}),rt(_,"renderCursor",function(N){var S,C=_.state,k=C.isTooltipActive,A=C.activeCoordinate,T=C.activePayload,E=C.offset,R=C.activeTooltipIndex,$=C.tooltipAxisBandSize,O=_.getTooltipEventType(),F=(S=N.props.active)!==null&&S!==void 0?S:k,z=_.props.layout,P=N.key||"_recharts-cursor";return B.createElement(xgt,{key:P,activeCoordinate:A,activePayload:T,activeTooltipIndex:R,chartName:n,element:N,isActive:F,layout:z,offset:E,tooltipAxisBandSize:$,tooltipEventType:O})}),rt(_,"renderPolarAxis",function(N,S,C){var k=Mi(N,"type.axisType"),A=Mi(_.state,"".concat(k,"Map")),T=N.type.defaultProps,E=T!==void 0?be(be({},T),N.props):N.props,R=A&&A[E["".concat(k,"Id")]];return x.cloneElement(N,be(be({},R),{},{className:ct(k,R.className),key:N.key||"".concat(S,"-").concat(C),ticks:jl(R,!0)}))}),rt(_,"renderPolarGrid",function(N){var S=N.props,C=S.radialLines,k=S.polarAngles,A=S.polarRadius,T=_.state,E=T.radiusAxisMap,R=T.angleAxisMap,$=Ec(E),O=Ec(R),F=O.cx,z=O.cy,P=O.innerRadius,I=O.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(k)?k:jl(O,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(A)?A:jl($,!0).map(function(M){return M.coordinate}),cx:F,cy:z,innerRadius:P,outerRadius:I,key:N.key||"polar-grid",radialLines:C})}),rt(_,"renderLegend",function(){var N=_.state.formattedGraphicalItems,S=_.props,C=S.children,k=S.width,A=S.height,T=_.props.margin||{},E=k-(T.left||0)-(T.right||0),R=Fae({children:C,formattedGraphicalItems:N,legendWidth:E,legendContent:u});if(!R)return null;var $=R.item,O=iV(R,vgt);return x.cloneElement($,be(be({},O),{},{chartWidth:k,chartHeight:A,margin:T,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),rt(_,"renderTooltip",function(){var N,S=_.props,C=S.children,k=S.accessibilityLayer,A=Ni(C,fr);if(!A)return null;var T=_.state,E=T.isTooltipActive,R=T.activeCoordinate,$=T.activePayload,O=T.activeLabel,F=T.offset,z=(N=A.props.active)!==null&&N!==void 0?N:E;return x.cloneElement(A,{viewBox:be(be({},F),{},{x:F.left,y:F.top}),active:z,label:O,payload:z?$:[],coordinate:R,accessibilityLayer:k})}),rt(_,"renderBrush",function(N){var S=_.props,C=S.margin,k=S.data,A=_.state,T=A.offset,E=A.dataStartIndex,R=A.dataEndIndex,$=A.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:sw(_.handleBrushChange,N.props.onChange),data:k,x:Oe(N.props.x)?N.props.x:T.left,y:Oe(N.props.y)?N.props.y:T.top+T.height+T.brushBottom-(C.bottom||0),width:Oe(N.props.width)?N.props.width:T.width,startIndex:E,endIndex:R,updateId:"brush-".concat($)})}),rt(_,"renderReferenceElement",function(N,S,C){if(!N)return null;var k=_,A=k.clipPathId,T=_.state,E=T.xAxisMap,R=T.yAxisMap,$=T.offset,O=N.type.defaultProps||{},F=N.props,z=F.xAxisId,P=z===void 0?O.xAxisId:z,I=F.yAxisId,M=I===void 0?O.yAxisId:I;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(C),xAxis:E[P],yAxis:R[M],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:A})}),rt(_,"renderActivePoints",function(N){var S=N.item,C=N.activePoint,k=N.basePoint,A=N.childIndex,T=N.isRange,E=[],R=S.props.key,$=S.item.type.defaultProps!==void 0?be(be({},S.item.type.defaultProps),S.item.props):S.item.props,O=$.activeDot,F=$.dataKey,z=be(be({index:A,dataKey:F,cx:C.x,cy:C.y,r:4,fill:nL(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},He(O,!1)),C_(O));return E.push(v.renderActiveDot(O,z,"".concat(R,"-activePoint-").concat(A))),k?E.push(v.renderActiveDot(O,be(be({},z),{},{cx:k.x,cy:k.y}),"".concat(R,"-basePoint-").concat(A))):T&&E.push(null),E}),rt(_,"renderGraphicChild",function(N,S,C){var k=_.filterFormatItem(N,S,C);if(!k)return null;var A=_.getTooltipEventType(),T=_.state,E=T.isTooltipActive,R=T.tooltipAxis,$=T.activeTooltipIndex,O=T.activeLabel,F=_.props.children,z=Ni(F,fr),P=k.props,I=P.points,M=P.isRange,U=P.baseLine,D=k.item.type.defaultProps!==void 0?be(be({},k.item.type.defaultProps),k.item.props):k.item.props,L=D.activeDot,V=D.hide,K=D.activeBar,G=D.activeShape,X=!!(!V&&E&&z&&(L||K||G)),oe={};A!=="axis"&&z&&z.props.trigger==="click"?oe={onClick:sw(_.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(oe={onMouseLeave:sw(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:sw(_.handleItemMouseEnter,N.props.onMouseEnter)});var Y=x.cloneElement(N,be(be({},k.props),oe));function ne(W){return typeof R.dataKey=="function"?R.dataKey(W.payload):null}if(X)if($>=0){var ge,se;if(R.dataKey&&!R.allowDuplicatedCategory){var ce=typeof R.dataKey=="function"?ne:"payload.".concat(R.dataKey.toString());ge=S_(I,ce,O),se=M&&U&&S_(U,ce,O)}else ge=I==null?void 0:I[$],se=M&&U&&U[$];if(G||K){var ve=N.props.activeIndex!==void 0?N.props.activeIndex:$;return[x.cloneElement(N,be(be(be({},k.props),oe),{},{activeIndex:ve})),null,null]}if(!ht(ge))return[Y].concat(Sp(_.renderActivePoints({item:k,activePoint:ge,basePoint:se,childIndex:$,isRange:M})))}else{var te,ue=(te=_.getItemByXY(_.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:Y},ee=ue.graphicalItem,le=ee.item,Ie=le===void 0?N:le,Pe=ee.childIndex,Ae=be(be(be({},k.props),oe),{},{activeIndex:Pe});return[x.cloneElement(Ie,Ae),null,null]}return M?[Y,null,null]:[Y,null]}),rt(_,"renderCustomized",function(N,S,C){return x.cloneElement(N,be(be({key:"recharts-customized-".concat(C)},_.props),_.state))}),rt(_,"renderMap",{CartesianGrid:{handler:cw,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:cw},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:cw},YAxis:{handler:cw},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:Gf("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=$ie(_.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return Tgt(v,y),Cgt(v,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,_=b.data,N=b.height,S=b.layout,C=Ni(j,fr);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,T=WO(this.state,_,k,A),E=this.state.tooltipTicks[k].coordinate,R=(this.state.offset.top+N)/2,$=S==="horizontal",O=$?{x:E,y:R}:{y:E,x:R},F=this.state.formattedGraphicalItems.find(function(P){var I=P.item;return I.type.name==="Scatter"});F&&(O=be(be({},O),F.props.points[k].tooltipPosition),T=F.props.points[k].tooltipPayload);var z={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:A,activePayload:T,activeCoordinate:O};this.setState(z),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){yP([Ni(b.children,fr)],[Ni(this.props.children,fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ni(this.props.children,fr);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),N=tnt(_),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},C=_.width/j.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,C);if(!k)return null;var A=this.state,T=A.xAxisMap,E=A.yAxisMap,R=this.getTooltipEventType(),$=oV(this.state,this.props.data,this.props.layout,k);if(R!=="axis"&&T&&E){var O=Ec(T).scale,F=Ec(E).scale,z=O&&O.invert?O.invert(S.chartX):null,P=F&&F.invert?F.invert(S.chartY):null;return be(be({},S),{},{xValue:z,yValue:P},$)}return $?be(be({},S),$):null}},{key:"inRange",value:function(b,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/_,C=j/_;if(N==="horizontal"||N==="vertical"){var k=this.state.offset,A=S>=k.left&&S<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return A?{x:S,y:C}:null}var T=this.state,E=T.angleAxisMap,R=T.radiusAxisMap;if(E&&R){var $=Ec(E);return EU({x:S,y:C},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),_=Ni(b,fr),N={};_&&j==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=C_(this.props,this.handleOuterEvent);return be(be({},S),N)}},{key:"addListener",value:function(){Qk.on(Jk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qk.removeListener(Jk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,_){for(var N=this.state.formattedGraphicalItems,S=0,C=N.length;S<C;S++){var k=N[S];if(k.item===b||k.props.key===b.key||j===Sl(k.item.type)&&_===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,_=j.left,N=j.top,S=j.height,C=j.width;return B.createElement("defs",null,B.createElement("clipPath",{id:b},B.createElement("rect",{x:_,y:N,height:S,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=sV(_,2),S=N[0],C=N[1];return be(be({},j),{},rt({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=sV(_,2),S=N[0],C=N[1];return be(be({},j),{},rt({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,_=j.formattedGraphicalItems,N=j.activeItem;if(_&&_.length)for(var S=0,C=_.length;S<C;S++){var k=_[S],A=k.props,T=k.item,E=T.type.defaultProps!==void 0?be(be({},T.type.defaultProps),T.props):T.props,R=Sl(T.type);if(R==="Bar"){var $=(A.data||[]).find(function(P){return Mct(b,P)});if($)return{graphicalItem:k,payload:$}}else if(R==="RadialBar"){var O=(A.data||[]).find(function(P){return EU(b,P)});if(O)return{graphicalItem:k,payload:O}}else if(sC(k,N)||iC(k,N)||_y(k,N)){var F=Rdt({graphicalItem:k,activeTooltipItem:N,itemData:E.data}),z=E.activeIndex===void 0?F:E.activeIndex;return{graphicalItem:be(be({},k),{},{childIndex:z}),payload:_y(k,N)?E.data[F]:k.props.data[F]}}}return null}},{key:"render",value:function(){var b=this;if(!vB(this))return null;var j=this.props,_=j.children,N=j.className,S=j.width,C=j.height,k=j.style,A=j.compact,T=j.title,E=j.desc,R=iV(j,ygt),$=He(R,!1);if(A)return B.createElement($q,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(wP,Jh({},$,{width:S,height:C,title:T,desc:E}),this.renderClipPath(),bB(_,this.renderMap)));if(this.props.accessibilityLayer){var O,F;$.tabIndex=(O=this.props.tabIndex)!==null&&O!==void 0?O:0,$.role=(F=this.props.role)!==null&&F!==void 0?F:"application",$.onKeyDown=function(P){b.accessibilityManager.keyboardEvent(P)},$.onFocus=function(){b.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return B.createElement($q,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",Jh({className:ct("recharts-wrapper",N),style:be({position:"relative",cursor:"default",width:S,height:C},k)},z,{ref:function(I){b.container=I}}),B.createElement(wP,Jh({},$,{width:S,height:C,title:T,desc:E,style:Igt}),this.renderClipPath(),bB(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);rt(p,"displayName",n),rt(p,"defaultProps",be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),rt(p,"getDerivedStateFromProps",function(y,v){var w=y.dataKey,b=y.data,j=y.children,_=y.width,N=y.height,S=y.layout,C=y.stackOffset,k=y.margin,A=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var E=lV(y);return be(be(be({},E),{},{updateId:0},m(be(be({props:y},E),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:k,prevChildren:j})}if(w!==v.prevDataKey||b!==v.prevData||_!==v.prevWidth||N!==v.prevHeight||S!==v.prevLayout||C!==v.prevStackOffset||!gm(k,v.prevMargin)){var R=lV(y),$={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},O=be(be({},oV(v,b,S)),{},{updateId:v.updateId+1}),F=be(be(be({},R),$),O);return be(be(be({},F),m(be({props:y},F),v)),{},{prevDataKey:w,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:k,prevChildren:j})}if(!yP(j,v.prevChildren)){var z,P,I,M,U=Ni(j,mp),D=U&&(z=(P=U.props)===null||P===void 0?void 0:P.startIndex)!==null&&z!==void 0?z:A,L=U&&(I=(M=U.props)===null||M===void 0?void 0:M.endIndex)!==null&&I!==void 0?I:T,V=D!==A||L!==T,K=!ht(b),G=K&&!V?v.updateId:v.updateId+1;return be(be({updateId:G},m(be(be({props:y},v),{},{updateId:G,dataStartIndex:D,dataEndIndex:L}),v)),{},{prevChildren:j,dataStartIndex:D,dataEndIndex:L})}return null}),rt(p,"renderActiveDot",function(y,v,w){var b;return x.isValidElement(y)?b=x.cloneElement(y,v):Ye(y)?b=y(v):b=B.createElement(vg,v),B.createElement(Ot,{className:"recharts-active-dot",key:w},b)});var g=x.forwardRef(function(v,w){return B.createElement(p,Jh({},v,{ref:w}))});return g.displayName=p.displayName,g},eA=Vb({chartName:"LineChart",GraphicalChild:ef,axisComponents:[{axisType:"xAxis",AxisComp:qa},{axisType:"yAxis",AxisComp:Va}],formatAxisMap:sL}),uV=Vb({chartName:"BarChart",GraphicalChild:Eu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qa},{axisType:"yAxis",AxisComp:Va}],formatAxisMap:sL}),uw=Vb({chartName:"PieChart",GraphicalChild:da,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:bg},{axisType:"radiusAxis",AxisComp:yg}],formatAxisMap:Qae,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Wgt=Vb({chartName:"RadarChart",GraphicalChild:qb,axisComponents:[{axisType:"angleAxis",AxisComp:bg},{axisType:"radiusAxis",AxisComp:yg}],formatAxisMap:Qae,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Ggt=Vb({chartName:"AreaChart",GraphicalChild:Wl,axisComponents:[{axisType:"xAxis",AxisComp:qa},{axisType:"yAxis",AxisComp:Va}],formatAxisMap:sL});const Eh={"24h":"24 heures","48h":"48 heures","7days":"7 jours","14days":"14 jours","1month":"1 mois","3months":"3 mois","6months":"6 mois","12months":"12 mois",all:"Depuis le début"},Kgt=({value:e,onChange:t})=>s.jsxs(vt,{value:e,onValueChange:t,children:[s.jsx(yt,{className:"w-[140px] h-9",children:s.jsx(_t,{})}),s.jsx(bt,{children:Object.entries(Eh).map(([n,r])=>s.jsx(fe,{value:n,children:r},n))})]}),Ygt=({title:e,value:t,subtitle:n,icon:r,trend:i,color:a="default"})=>{const o=c=>{switch(c){case"blue":return"text-blue-600";case"green":return"text-green-600";case"purple":return"text-purple-600";case"orange":return"text-orange-600";case"yellow":return"text-yellow-600";case"red":return"text-red-600";default:return"text-muted-foreground"}},l=c=>c?"text-green-600":"text-red-600";return s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:e}),r&&s.jsx(r,{className:`h-4 w-4 ${o(a)}`})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t}),n&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n}),i&&s.jsxs("p",{className:`text-xs mt-1 ${l(i.positive??!0)}`,children:[i.positive!==!1?"+":"",i.value," ",i.label]})]})]})},Xgt=({title:e,value:t,color:n="#ff5932",showPercentage:r=!0})=>{const i=Math.min(Math.max(t,0),100);return s.jsxs("div",{className:"space-y-2",children:[e&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:e}),r&&s.jsxs("span",{className:"text-sm text-gray-600",children:[i.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${i}%`,backgroundColor:n}})})]})},Qi=["#ff5932","#F04F6A","#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1","#d084d0"],rx=Ygt,rd=Xgt,Qgt=()=>{const{id:e}=Nt(),[t,n]=x.useState("overview"),[r,i]=x.useState("6months"),[a,o]=x.useState(!1),[l,c]=x.useState("json"),[u,d]=x.useState(!1),{data:f,metrics:h,loading:m,error:p,refetch:g}=Iqe(r),y=x.useMemo(()=>{const C=new Date;switch(r){case"24h":{const k=new Date(C);return k.setDate(k.getDate()-1),k}case"7days":{const k=new Date(C);return k.setDate(k.getDate()-7),k}case"14days":{const k=new Date(C);return k.setDate(k.getDate()-14),k}case"1month":return new Date(C.getFullYear(),C.getMonth()-1,C.getDate());case"3months":return new Date(C.getFullYear(),C.getMonth()-3,C.getDate());case"6months":return new Date(C.getFullYear(),C.getMonth()-6,C.getDate());case"12months":default:return new Date(C.getFullYear(),C.getMonth()-12,C.getDate())}},[r]),w=x.useMemo(()=>{const C=(M,U="created_at")=>M.filter(D=>new Date(D[U]||D.created_at)>=y),k=C(f.projects),A=C(f.adherents),T=C(f.businessModels),E=C(f.pitches),R=C(f.visionMissions),$=C(f.marketAnalyses),O=C(f.conversations),F=C(f.messages),z=C(f.scores),P=k.filter(M=>["completed","terminé"].includes(M.statut)||["completed","terminé"].includes(M.statut_project)).length,I=z.reduce((M,U)=>U.score_final?{t:M.t+U.score_final,c:M.c+1}:M,{t:0,c:0});return{totalProjects:k.length,totalAdherents:A.length,projectSuccessRate:k.length>0?P/k.length*100:0,averageScore:I.c>0?I.t/I.c:0,avgMessagesPerConversation:O.length>0?F.length/O.length:0,deliverablesSum:T.length+E.length+R.length+$.length,totalBusinessModels:T.length,totalPitches:E.length,totalVisionMissions:R.length,totalMarketAnalyses:$.length}},[f,y]),b=x.useMemo(()=>{const C=[{name:"En cours",value:h.activeProjects,color:"#ff5932"},{name:"Complétés",value:h.completedProjects,color:"#82ca9d"},{name:"Brouillons",value:h.draftProjects,color:"#ffc658"}].filter(R=>R.value>0),k=[{name:"Business Model",completed:h.totalBusinessModels,total:h.totalProjects,rate:h.completionRates.businessModel},{name:"Pitch",completed:h.totalPitches,total:h.totalProjects,rate:h.completionRates.pitch},{name:"Vision/Mission",completed:h.totalVisionMissions,total:h.totalProjects,rate:h.completionRates.visionMission},{name:"Analyse Marché",completed:h.totalMarketAnalyses,total:h.totalProjects,rate:h.completionRates.marketAnalysis},{name:"Concurrence",completed:h.totalConcurrences,total:h.totalProjects,rate:h.totalProjects>0?h.totalConcurrences/h.totalProjects*100:0},{name:"Ressources",completed:h.totalRessources,total:h.totalProjects,rate:h.totalProjects>0?h.totalRessources/h.totalProjects*100:0}],A=Object.entries(h.personaTypes).map(([R,$])=>({name:R,value:$,color:Qi[Object.keys(h.personaTypes).indexOf(R)%Qi.length]})),T=[{name:"Adhérents",value:h.totalAdherents,fill:Qi[0]},{name:"Projets créés",value:h.totalProjects,fill:Qi[1]},{name:"Business Models",value:h.totalBusinessModels,fill:Qi[2]},{name:"Projets complétés",value:h.completedProjects,fill:Qi[3]}],E=[{metric:"Projets",value:Math.min(h.totalProjects*10,100)},{metric:"Engagement",value:Math.min(h.avgMessagesPerConversation*20,100)},{metric:"Complétion",value:h.projectSuccessRate},{metric:"Qualité",value:h.averageScore*20},{metric:"Croissance",value:Math.min(h.monthlyGrowth.projects*25,100)},{metric:"Rétention",value:Math.min(h.activeProjects/Math.max(h.totalProjects,1)*100,100)}];return{projectStatusData:C,deliverablesProgress:k,personaData:A,funnelData:T,performanceData:E,monthlyActivity:h.monthlyActivity}},[h]),j=[{key:"overview",label:"Vue d'ensemble",icon:yo},{key:"projects",label:"Projets",icon:Ci},{key:"deliverables",label:"Livrables",icon:sn},{key:"entrepreneurs",label:"Entrepreneurs",icon:et},{key:"engagement",label:"Engagement",icon:vu},{key:"performance",label:"Performance",icon:zr}],_=()=>{var k;const C={metadata:{organisationId:e,generatedAt:new Date().toISOString(),timeRange:r,totalRecords:Object.values(f).reduce((A,T)=>A+(Array.isArray(T)?T.length:T?1:0),0),sections:Object.keys(f),onboarding:{completed:h.onboardingCompleted,step:h.onboardingStep}},metrics:h,domainData:{organization:f.organization,members:f.adherents,mentors:f.mentors,mentorAssignments:f.mentorAssignments,projects:f.projects,deliverables:f.deliverables,legacyDeliverables:{businessModels:f.businessModels,pitches:f.pitches,visionMissions:f.visionMissions,marketAnalyses:f.marketAnalyses,concurrences:f.concurrences,ressources:f.ressources,juridiques:f.juridiques},personas:f.personas,scores:f.scores,conversations:f.conversations,messages:f.messages,events:f.events,partners:f.partners,payments:{paymentIntents:f.paymentIntents,subscriptions:f.subscriptions},invitations:f.invitationCodes,forms:{templates:f.formTemplates,submissions:f.formSubmissions}},chartData:b,exportVersion:"2.0"};if(l==="json"){const A=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),T=URL.createObjectURL(A),E=document.createElement("a");E.href=T,E.download=`analytics-${e}-${new Date().toISOString().split("T")[0]}.json`,E.click(),URL.revokeObjectURL(T)}else if(l==="csv"){const T=[["=== MÉTRIQUES PRINCIPALES ===",""],["Métrique","Valeur"],["Total Projets",h.totalProjects],["Projets Actifs",h.activeProjects],["Projets Complétés",h.completedProjects],["Projets Brouillons",h.draftProjects],["Total Adhérents",h.totalAdherents],["Total Mentors",h.totalMentors],["Assignments Mentors Actifs",h.activeMentorAssignments],["Assignments Mentors (Total)",h.totalMentorAssignments],["Score Moyen",h.averageScore.toFixed(2)],["Progression Moyenne Projets",(k=h.avgProjectProgress)==null?void 0:k.toFixed(2)],["Taux de Succès (%)",h.projectSuccessRate.toFixed(2)],["Messages par Conversation",h.avgMessagesPerConversation.toFixed(2)],["Onboarding Complété",h.onboardingCompleted],["Étape Onboarding",h.onboardingStep],["",""],["=== LIVRABLES ===",""],["Business Models",h.totalBusinessModels],["Pitches",h.totalPitches],["Vision/Mission",h.totalVisionMissions],["Analyses Marché",h.totalMarketAnalyses],["Analyses Concurrence",h.totalConcurrences],["Ressources",h.totalRessources],["Juridiques",h.totalJuridiques],["Personas",h.totalPersonas],["Projets Évalués",h.totalScores],["Deliverables (nouvelle table)",h.totalDeliverables],["Deliverables Complétés",h.completedDeliverables],["Deliverables Approuvés",h.approvedDeliverables],["",""],["=== ENGAGEMENT ===",""],["Total Conversations",h.totalConversations],["Total Messages",h.totalMessages],["Total Événements",h.totalEvents],["Participations Événements",h.totalEventParticipations],["Participants Moyens/Événement",h.avgParticipantsPerEvent.toFixed(1)],["Événements à Venir",h.upcomingEvents],["Événements Passés",h.pastEvents],["",""],["=== PARTENAIRES ===",""],["Partenaires (Total)",h.totalPartners],["Partenaires Actifs",h.activePartners],...Object.entries(h.partnerTypes||{}).map(([O,F])=>[`Partenaires (${O})`,F]),["",""],["=== FINANCES ===",""],["Total Paiements",h.totalPaymentIntents],["Paiements Réussis",h.successfulPayments],["Total Abonnements",h.totalSubscriptions],["Abonnements Actifs",h.activeSubscriptions],["",""],["=== INVITATIONS ===",""],["Total Codes Invitation",h.totalInvitationCodes],["Codes Actifs",h.activeInvitationCodes],["Codes Utilisés",h.usedInvitationCodes],["",""],["=== FORMULAIRES ===",""],["Templates de Formulaires",h.formTemplates],["Soumissions Totales",h.formSubmissions],["Soumissions Revue",h.reviewedSubmissions],["Soumissions Approuvées",h.approvedSubmissions],["Soumissions Rejetées",h.rejectedSubmissions],["",""],["=== CROISSANCE ===",""],["Nouveaux Projets",h.monthlyGrowth.projects],["Nouveaux Entrepreneurs",h.monthlyGrowth.entrepreneurs],["Nouveaux Business Models",h.monthlyGrowth.businessModels],["Nouvelles Conversations",h.monthlyGrowth.conversations],["Nouveaux Deliverables",h.monthlyGrowth.deliverables],["Nouveaux Partenaires",h.monthlyGrowth.partners],["",""],["=== TAUX DE COMPLÉTION (%) ===",""],["Business Model",h.completionRates.businessModel.toFixed(1)],["Pitch",h.completionRates.pitch.toFixed(1)],["Vision/Mission",h.completionRates.visionMission.toFixed(1)],["Analyse Marché",h.completionRates.marketAnalysis.toFixed(1)]].map(O=>O.map(F=>`"${F}"`).join(",")).join(`
`),E=new Blob([T],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(E),$=document.createElement("a");$.href=R,$.download=`analytics-complete-${e}-${new Date().toISOString().split("T")[0]}.csv`,$.click(),URL.revokeObjectURL(R)}o(!1)},N=async()=>{d(!0),await g(),d(!1)},S=C=>{i(C)};return m?s.jsx("div",{className:"min-h-screen w-full overflow-x-hidden bg-[#F4F4F1]",children:s.jsx("div",{className:"max-w-[100vw] mx-auto",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 max-w-7xl",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-aurentia-orange mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Chargement des analytics avancés..."})]})})})})}):p?s.jsx("div",{className:"min-h-screen w-full overflow-x-hidden bg-[#F4F4F1]",children:s.jsx("div",{className:"max-w-[100vw] mx-auto",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 max-w-7xl",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ts,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),s.jsxs("p",{className:"text-red-500",children:["Erreur lors du chargement: ",p]}),s.jsxs(H,{onClick:N,className:"mt-4",children:[s.jsx(ni,{className:"h-4 w-4 mr-2"}),"Réessayer"]})]})})})})}):s.jsx("div",{className:"min-h-screen w-full overflow-x-hidden",children:s.jsx("div",{className:"max-w-[100vw] mx-auto",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 max-w-7xl animate-fade-in",children:[s.jsx("div",{className:"mb-6 lg:mb-8",children:s.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Analytics Avancés"}),s.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 leading-relaxed",children:"Tableau de bord complet avec toutes les métriques disponibles et capacités d'export."})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[s.jsx(Kgt,{value:r,onChange:S}),s.jsxs(H,{variant:"outline",onClick:N,disabled:u,className:"h-9 shadow-sm",children:[s.jsx(ni,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),s.jsx("span",{className:"hidden sm:inline",children:"Actualiser"})]}),s.jsxs(pt,{open:a,onOpenChange:o,children:[s.jsx(Ll,{asChild:!0,children:s.jsxs(H,{className:"bg-aurentia-orange hover:bg-aurentia-orange/90 text-white h-9 shadow-sm",children:[s.jsx(Fo,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Exporter"})]})}),s.jsxs(gt,{children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Exporter les Analytics"}),s.jsx(Mt,{children:"Choisissez le format d'export pour télécharger toutes les données d'analytics."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Format d'export"}),s.jsxs(vt,{value:l,onValueChange:c,children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"json",children:"JSON (données complètes)"}),s.jsx(fe,{value:"csv",children:"CSV (métriques principales)"})]})]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"JSON :"})," Inclut toutes les données brutes et métriques calculées"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CSV :"})," Tableau des métriques principales pour Excel/Sheets"]})]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>o(!1),children:"Annuler"}),s.jsxs(H,{onClick:_,className:"bg-aurentia-orange hover:bg-aurentia-orange/90 text-white",children:[s.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Télécharger"]})]})]})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[s.jsx(rx,{title:"Entrepreneurs",value:w.totalAdherents,subtitle:`Nouveaux (${Eh[r]})`,icon:et,trend:{value:h.monthlyGrowth.entrepreneurs,label:"cette période"},color:"blue"}),s.jsx(rx,{title:"Projets Totaux",value:w.totalProjects,subtitle:`Créations (${Eh[r]})`,icon:Ci,trend:{value:h.monthlyGrowth.projects,label:"nouveaux"},color:"green"}),s.jsx(rx,{title:"Taux de Succès",value:`${w.projectSuccessRate.toFixed(1)}%`,subtitle:"Projets complétés",icon:zr,color:"purple"}),s.jsx(rx,{title:"Score Moyen",value:`${w.averageScore.toFixed(1)}/5`,subtitle:`${h.totalScores} projets évalués`,icon:Zt,color:"orange"}),s.jsx(rx,{title:"Livrables",value:w.deliverablesSum,subtitle:`Créés (${Eh[r]})`,icon:sn,trend:{value:h.monthlyGrowth.businessModels,label:"ce mois"},color:"red"})]}),s.jsxs(ig,{tabs:j,activeTab:t,onTabChange:n,children:[t==="overview"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsxs(re,{className:"col-span-2 shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5 text-aurentia-orange"}),"Évolution (",Eh[r],")"]}),s.jsx(Xe,{children:"Projets et entrepreneurs"})]}),s.jsx(ie,{children:s.jsx(Ta,{width:"100%",height:350,children:s.jsxs(Ggt,{data:b.monthlyActivity,children:[s.jsx(md,{strokeDasharray:"3 3"}),s.jsx(qa,{dataKey:"month"}),s.jsx(Va,{}),s.jsx(fr,{}),s.jsx(Ha,{}),s.jsx(Wl,{type:"monotone",dataKey:"projects",stackId:"1",stroke:"#ff5932",fill:"#ff5932",name:"Projets"}),s.jsx(Wl,{type:"monotone",dataKey:"entrepreneurs",stackId:"1",stroke:"#F04F6A",fill:"#F04F6A",name:"Entrepreneurs"})]})})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(xF,{className:"h-5 w-5 text-aurentia-orange"}),"Statut des Projets"]}),s.jsx(Xe,{children:"Répartition par état d'avancement"})]}),s.jsxs(ie,{children:[s.jsx(Ta,{width:"100%",height:300,children:s.jsxs(uw,{children:[s.jsx(da,{data:b.projectStatusData,cx:"50%",cy:"50%",labelLine:!1,label:({name:C,percent:k})=>`${C} ${(k*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:b.projectStatusData.map((C,k)=>s.jsx(Td,{fill:C.color},`cell-${k}`))}),s.jsx(fr,{})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:b.projectStatusData.map((C,k)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),s.jsx("span",{children:C.name})]}),s.jsx("span",{className:"font-medium",children:C.value})]},k))})]})]}),s.jsxs(re,{className:"col-span-2 shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-5 w-5 text-aurentia-orange"}),"Funnel de Conversion"]}),s.jsx(Xe,{children:"Parcours des entrepreneurs dans l'écosystème"})]}),s.jsx(ie,{children:s.jsx(Ta,{width:"100%",height:300,children:s.jsxs(uV,{data:b.funnelData,layout:"horizontal",children:[s.jsx(md,{strokeDasharray:"3 3"}),s.jsx(qa,{type:"number"}),s.jsx(Va,{dataKey:"name",type:"category",width:120}),s.jsx(fr,{}),s.jsx(Eu,{dataKey:"value",fill:"#ff5932"})]})})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Hr,{className:"h-5 w-5 text-aurentia-orange"}),"Métriques Rapides"]}),s.jsx(Xe,{children:"Aperçu des performances"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Projets actifs"}),s.jsx("span",{className:"font-semibold text-green-600",children:h.activeProjects})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Croissance mensuelle"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:["+",h.monthlyGrowth.projects," projets"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Score moyen global"}),s.jsxs("span",{className:"font-semibold text-orange-600",children:[h.averageScore.toFixed(1),"/5"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Livrables créés"}),s.jsx("span",{className:"font-semibold text-purple-600",children:h.totalBusinessModels+h.totalPitches+h.totalVisionMissions+h.totalMarketAnalyses})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Taux de complétion"}),s.jsxs("span",{className:"font-semibold text-indigo-600",children:[h.projectSuccessRate.toFixed(1),"%"]})]})]})})]})]})}),t==="projects"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsx(me,{children:"Analyse des Projets"}),s.jsx(Xe,{children:"Distribution détaillée par statut"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-green-800",children:"Projets Actifs"}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:h.activeProjects})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Projets Complétés"}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:h.completedProjects})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-orange-800",children:"Brouillons"}),s.jsx("span",{className:"text-2xl font-bold text-orange-600",children:h.draftProjects})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-800",children:"Total"}),s.jsx("span",{className:"text-2xl font-bold text-gray-600",children:h.totalProjects})]})]})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsx(me,{children:"Croissance des Projets"}),s.jsx(Xe,{children:"Nouveaux projets par période"})]}),s.jsx(ie,{children:s.jsx(Ta,{width:"100%",height:300,children:s.jsxs(eA,{data:b.monthlyActivity,children:[s.jsx(md,{strokeDasharray:"3 3"}),s.jsx(qa,{dataKey:"month"}),s.jsx(Va,{}),s.jsx(fr,{}),s.jsx(Ha,{}),s.jsx(ef,{type:"monotone",dataKey:"projects",stroke:"#ff5932",strokeWidth:2,name:"Nouveaux projets"})]})})})]})]})}),t==="deliverables"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{className:"lg:col-span-2 shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5 text-aurentia-orange"}),"Progression des Livrables"]}),s.jsx(Xe,{children:"Taux de complétion par type de livrable"})]}),s.jsx(ie,{children:s.jsx(Ta,{width:"100%",height:400,children:s.jsxs(uV,{data:b.deliverablesProgress,layout:"horizontal",children:[s.jsx(md,{strokeDasharray:"3 3"}),s.jsx(qa,{type:"number",domain:[0,100]}),s.jsx(Va,{dataKey:"name",type:"category",width:120}),s.jsx(fr,{formatter:(C,k)=>k==="rate"?[`${Number(C).toFixed(1)}%`,"Taux de complétion"]:k==="completed"?[C,"Complétés"]:[C,k]}),s.jsx(Ha,{}),s.jsx(Eu,{dataKey:"rate",fill:"#ff5932",name:"Taux de complétion %"})]})})})]}),b.personaData.length>0&&s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(et,{className:"h-5 w-5 text-aurentia-orange"}),"Types de Personas"]}),s.jsx(Xe,{children:"Répartition par catégorie"})]}),s.jsxs(ie,{children:[s.jsx(Ta,{width:"100%",height:300,children:s.jsxs(uw,{children:[s.jsx(da,{data:b.personaData,cx:"50%",cy:"50%",labelLine:!1,label:({name:C,percent:k})=>`${C} ${(k*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:b.personaData.map((C,k)=>s.jsx(Td,{fill:C.color},`cell-${k}`))}),s.jsx(fr,{})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:b.personaData.map((C,k)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),s.jsx("span",{children:C.name})]}),s.jsx("span",{className:"font-medium",children:C.value})]},k))})]})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5 text-aurentia-orange"}),"Statistiques des Livrables"]}),s.jsx(Xe,{children:"Vue d'ensemble de la production"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Business Models"}),s.jsx("span",{className:"font-semibold text-blue-600",children:h.totalBusinessModels})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Pitches"}),s.jsx("span",{className:"font-semibold text-green-600",children:h.totalPitches})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Vision/Mission"}),s.jsx("span",{className:"font-semibold text-purple-600",children:h.totalVisionMissions})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Analyses Marché"}),s.jsx("span",{className:"font-semibold text-orange-600",children:h.totalMarketAnalyses})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Analyses Concurrence"}),s.jsx("span",{className:"font-semibold text-red-600",children:h.totalConcurrences})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ressources"}),s.jsx("span",{className:"font-semibold text-indigo-600",children:h.totalRessources})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Juridiques"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:h.totalJuridiques})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Personas"}),s.jsx("span",{className:"font-semibold text-pink-600",children:h.totalPersonas})]})]})})]})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-5 w-5 text-aurentia-orange"}),"Progression Détaillée"]}),s.jsx(Xe,{children:"Analyse complète des taux de complétion"})]}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-4",children:b.deliverablesProgress.map((C,k)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:C.name}),s.jsxs("span",{className:"text-sm text-gray-600",children:[C.completed,"/",C.total," (",C.rate.toFixed(1),"%)"]})]}),s.jsx(rd,{title:"",value:C.rate,color:Qi[k%Qi.length]})]},k))})})]})]}),t==="entrepreneurs"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(et,{className:"h-5 w-5 text-aurentia-orange"}),"Recrutement"]}),s.jsx(Xe,{children:"Inscriptions et croissance"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Entrepreneurs"}),s.jsx("span",{className:"font-semibold text-blue-600",children:h.totalAdherents})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:["Nouveaux (",Eh[r],")"]}),s.jsx("span",{className:"font-semibold text-green-600",children:h.monthlyGrowth.entrepreneurs})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Taux de croissance"}),s.jsxs("span",{className:"font-semibold text-purple-600",children:[h.totalAdherents>0?(h.monthlyGrowth.entrepreneurs/h.totalAdherents*100).toFixed(1):0,"%"]})]})]})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Bh,{className:"h-5 w-5 text-aurentia-orange"}),"Activité Moyenne"]}),s.jsx(Xe,{children:"Par entrepreneur"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Projets par entrepreneur"}),s.jsx("span",{className:"font-semibold text-blue-600",children:h.totalAdherents>0?(h.totalProjects/h.totalAdherents).toFixed(1):"0"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Événements par entrepreneur"}),s.jsx("span",{className:"font-semibold text-green-600",children:h.totalAdherents>0?(h.totalEvents/h.totalAdherents).toFixed(1):"0"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Conversations par entrepreneur"}),s.jsx("span",{className:"font-semibold text-purple-600",children:h.totalAdherents>0?(h.totalConversations/h.totalAdherents).toFixed(1):"0"})]})]})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-5 w-5 text-aurentia-orange"}),"Statut des Entrepreneurs"]}),s.jsx(Xe,{children:"Répartition par rôle"})]}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-4",children:(()=>{const C=f.adherents.reduce((E,R)=>{const $=R.user_role||"member";return E[$]=(E[$]||0)+1,E},{}),k=Object.values(C).reduce((E,R)=>E+R,0),A=Object.entries(C),T=Number(k);return A.map(([E,R])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 capitalize",children:E==="member"?"Membre":E==="staff"?"Staff":E==="organisation"?"Organisation":E}),s.jsxs("span",{className:"font-semibold text-indigo-600",children:[R," (",T>0?(R/T*100).toFixed(0):0,"%)"]})]},E))})()})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5 text-aurentia-orange"}),"Évolution des Inscriptions"]}),s.jsx(Xe,{children:"Nouveaux entrepreneurs par période"})]}),s.jsx(ie,{children:s.jsx(Ta,{width:"100%",height:300,children:s.jsxs(eA,{data:b.monthlyActivity,children:[s.jsx(md,{strokeDasharray:"3 3"}),s.jsx(qa,{dataKey:"month"}),s.jsx(Va,{}),s.jsx(fr,{}),s.jsx(Ha,{}),s.jsx(ef,{type:"monotone",dataKey:"entrepreneurs",stroke:"#ff5932",strokeWidth:2,name:"Nouveaux entrepreneurs"})]})})})]}),(()=>{const C=new Date,k={"0-1 mois":0,"1-3 mois":0,"3-6 mois":0,"6-12 mois":0,"+12 mois":0};f.adherents.forEach(T=>{const E=new Date(T.created_at),R=(C.getTime()-E.getTime())/(1e3*60*60*24*30);R<=1?k["0-1 mois"]++:R<=3?k["1-3 mois"]++:R<=6?k["3-6 mois"]++:R<=12?k["6-12 mois"]++:k["+12 mois"]++});const A=Object.entries(k).map(([T,E])=>({name:T,value:E,color:Qi[Object.keys(k).indexOf(T)%Qi.length]})).filter(T=>T.value>0);return A.length>0?s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(et,{className:"h-5 w-5 text-aurentia-orange"}),"Ancienneté des Entrepreneurs"]}),s.jsx(Xe,{children:"Répartition par durée d'adhésion"})]}),s.jsxs(ie,{children:[s.jsx(Ta,{width:"100%",height:300,children:s.jsxs(uw,{children:[s.jsx(da,{data:A,cx:"50%",cy:"50%",labelLine:!1,label:({name:T,percent:E})=>`${T} ${(E*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:A.map((T,E)=>s.jsx(Td,{fill:T.color},`cell-${E}`))}),s.jsx(fr,{})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:A.map((T,E)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),s.jsx("span",{children:T.name})]}),s.jsx("span",{className:"font-medium",children:T.value})]},E))})]})]}):null})()]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5 text-aurentia-orange"}),"Métriques Détaillées"]}),s.jsx(Xe,{children:"Analyse approfondie de la communauté entrepreneuriale"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Productivité"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Projets actifs/entrepreneur"}),s.jsx("span",{className:"font-medium",children:h.totalAdherents>0?(h.activeProjects/h.totalAdherents).toFixed(1):"0"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Livrables/entrepreneur"}),s.jsx("span",{className:"font-medium",children:h.totalAdherents>0?((h.totalBusinessModels+h.totalPitches+h.totalVisionMissions+h.totalMarketAnalyses)/h.totalAdherents).toFixed(1):"0"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Engagement"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Participation événements"}),s.jsxs("span",{className:"font-medium",children:[h.totalEventParticipations>0?(h.totalEventParticipations/h.totalAdherents*100).toFixed(0):0,"% des adhérents"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Taux conversation"}),s.jsxs("span",{className:"font-medium",children:[h.totalAdherents>0?(h.totalConversations/h.totalAdherents*100).toFixed(0):0,"%"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Qualité"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Score moyen"}),s.jsxs("span",{className:"font-medium",children:[h.averageScore.toFixed(1),"/5"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Taux de succès"}),s.jsxs("span",{className:"font-medium",children:[h.projectSuccessRate.toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Croissance"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Nouveaux ce mois"}),s.jsxs("span",{className:"font-medium",children:["+",h.monthlyGrowth.entrepreneurs]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Taux de rétention estimé"}),s.jsxs("span",{className:"font-medium",children:[h.totalAdherents>0?(h.activeProjects/h.totalProjects*100).toFixed(0):0,"%"]})]})]})]})]})})]})]}),t==="engagement"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Bh,{className:"h-5 w-5 text-aurentia-orange"}),"Engagement Événements"]}),s.jsx(Xe,{children:"Participation et création d'événements"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Événements"}),s.jsx("span",{className:"font-semibold text-blue-600",children:h.totalEvents})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Participations Totales"}),s.jsx("span",{className:"font-semibold text-green-600",children:h.totalEventParticipations})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Participants Moyens/Événement"}),s.jsx("span",{className:"font-semibold text-purple-600",children:h.avgParticipantsPerEvent.toFixed(1)})]})]})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-5 w-5 text-aurentia-orange"}),"Statut des Événements"]}),s.jsx(Xe,{children:"Répartition par période"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Événements à Venir"}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:h.upcomingEvents})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-green-800",children:"Événements Passés"}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:h.pastEvents})]})]})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(xF,{className:"h-5 w-5 text-aurentia-orange"}),"Taux de Participation"]}),s.jsx(Xe,{children:"Mesure de l'engagement communautaire"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Taux de participation moyen"}),s.jsxs("span",{className:"font-semibold text-indigo-600",children:[h.totalEvents>0?(h.totalEventParticipations/(h.totalEvents*h.totalAdherents)*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Événements par adhérent"}),s.jsx("span",{className:"font-semibold text-orange-600",children:h.totalAdherents>0?(h.totalEvents/h.totalAdherents).toFixed(1):0})]})]})})]})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Bh,{className:"h-5 w-5 text-aurentia-orange"}),"Activité Événements"]}),s.jsx(Xe,{children:"Création d'événements par période"})]}),s.jsx(ie,{children:s.jsx(Ta,{width:"100%",height:400,children:s.jsxs(eA,{data:b.monthlyActivity,children:[s.jsx(md,{strokeDasharray:"3 3"}),s.jsx(qa,{dataKey:"month"}),s.jsx(Va,{}),s.jsx(fr,{}),s.jsx(Ha,{}),s.jsx(ef,{type:"monotone",dataKey:"events",stroke:"#ff5932",strokeWidth:2,name:"Événements créés"})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(()=>{const C=f.events.reduce((A,T)=>(A[T.type]=(A[T.type]||0)+1,A),{}),k=Object.entries(C).map(([A,T])=>({name:A,value:T,color:Qi[Object.keys(C).indexOf(A)%Qi.length]}));return k.length>0?s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5 text-aurentia-orange"}),"Types d'Événements"]}),s.jsx(Xe,{children:"Répartition par catégorie"})]}),s.jsxs(ie,{children:[s.jsx(Ta,{width:"100%",height:300,children:s.jsxs(uw,{children:[s.jsx(da,{data:k,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percent:T})=>`${A} ${(T*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:k.map((A,T)=>s.jsx(Td,{fill:A.color},`cell-${T}`))}),s.jsx(fr,{})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:k.map((A,T)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:A.color}}),s.jsx("span",{children:A.name})]}),s.jsx("span",{className:"font-medium",children:Number(A.value)})]},T))})]})]}):null})()})]}),t==="performance"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5 text-aurentia-orange"}),"Radar de Performance"]}),s.jsx(Xe,{children:"Vue multidimensionnelle des KPIs"})]}),s.jsx(ie,{children:s.jsx(Ta,{width:"100%",height:350,children:s.jsxs(Wgt,{data:b.performanceData,children:[s.jsx(moe,{}),s.jsx(bg,{dataKey:"metric"}),s.jsx(yg,{angle:90,domain:[0,100]}),s.jsx(qb,{name:"Performance",dataKey:"value",stroke:"#ff5932",fill:"#ff5932",fillOpacity:.6}),s.jsx(fr,{})]})})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-5 w-5 text-aurentia-orange"}),"KPIs Détaillés"]}),s.jsx(Xe,{children:"Indicateurs de performance clés"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(rd,{title:"Taux de complétion Business Model",value:h.completionRates.businessModel,color:"#ff5932"}),s.jsx(rd,{title:"Taux de complétion Pitch",value:h.completionRates.pitch,color:"#82ca9d"}),s.jsx(rd,{title:"Taux de complétion Vision/Mission",value:h.completionRates.visionMission,color:"#ffc658"}),s.jsx(rd,{title:"Taux de complétion Analyse Marché",value:h.completionRates.marketAnalysis,color:"#ff7c7c"}),s.jsx(rd,{title:"Taux de succès global",value:h.projectSuccessRate,color:"#8884d8"}),s.jsx(rd,{title:"Score moyen",value:h.averageScore*20,color:"#d084d0"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(re,{className:"shadow-sm",children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Hr,{className:"h-5 w-5 text-yellow-500"}),"Productivité"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Projets par adhérent"}),s.jsx("span",{className:"font-semibold",children:h.totalAdherents>0?(h.totalProjects/h.totalAdherents).toFixed(1):"0"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Livrables par projet"}),s.jsx("span",{className:"font-semibold",children:h.totalProjects>0?((h.totalBusinessModels+h.totalPitches+h.totalVisionMissions+h.totalMarketAnalyses)/h.totalProjects).toFixed(1):"0"})]})]})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Bh,{className:"h-5 w-5 text-blue-500"}),"Engagement"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Conversations actives"}),s.jsx("span",{className:"font-semibold",children:h.totalConversations})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Messages par conversation"}),s.jsx("span",{className:"font-semibold",children:h.avgMessagesPerConversation.toFixed(1)})]})]})})]}),s.jsxs(re,{className:"shadow-sm",children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"h-5 w-5 text-purple-500"}),"Qualité"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Score moyen"}),s.jsxs("span",{className:"font-semibold",children:[h.averageScore.toFixed(1),"/5"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Projets évalués"}),s.jsx("span",{className:"font-semibold",children:h.totalScores})]})]})})]})]})]})]})]})})})},Jgt=()=>{var Ae;const{id:e}=Nt(),[t,n]=x.useState(""),[r,i]=x.useState(!1),[a,o]=x.useState(""),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,p]=x.useState(!1),[g,y]=x.useState("all"),[v,w]=x.useState("normal"),[b,j]=x.useState([]),[_,N]=x.useState([]),{deliverableNames:S,deliverablesLoading:C,userProjects:k,currentProjectId:A}=yr(),{projects:T}=s4(),{currentConversation:E,conversationHistory:R,isHistoryLoading:$,isConversationLoading:O,isLoading:F,isSubmitting:z,streamingMessageId:P,streamingText:I,loadConversation:M,sendMessage:U,regenerateResponse:D,updateConversationTitle:L,deleteConversation:V,newChat:K}=Ote(g==="all"?void 0:g),G=x.useRef(null),X=[{id:"all",name:"Tous les projets"},...T.map(W=>({id:W.project_id,name:W.nom_projet}))],oe=T.length>0?[`Analyse les ${T.length} projets de l'organisation`,`Quels sont les secteurs les plus représentés parmi nos ${T.length} projets ?`,"Compare les performances des projets actifs vs terminés",`Recommandations pour les ${T.filter(W=>W.statut==="active"||W.statut==="actif").length} projets en cours`]:["Comment démarrer le premier projet de l'organisation ?","Quelles sont les bonnes pratiques pour accompagner les entrepreneurs ?","Comment structurer un programme d'incubation ?","Stratégies de recrutement d'entrepreneurs"],Y=g!=="all"?(()=>{const W=T.find(_e=>_e.project_id===g);return W?[`Analyse du projet "${W.nom_projet}"`,`Améliorer la proposition de valeur de "${W.nom_projet}"`,`Stratégies de développement pour "${W.nom_projet}"`,`Opportunités de partenariats pour ce projet ${W.statut}`]:["Comment améliorer la proposition de valeur de ce projet ?","Analyse des risques spécifiques à ce projet","Stratégies de développement recommandées","Opportunités de partenariats pour ce projet"]})():[],ne=g==="all"?oe:Y,ge=W=>{n(W.target.value)},se=async()=>{if(t.trim()!==""&&!F&&!z){const W=t.trim();n(""),G.current&&(G.current.style.height="auto");const _e=g==="all"?`[Contexte: Organisation ${e}, tous projets] ${W}`:`[Contexte: Organisation ${e}, projet ${g}] ${W}`;await U(_e,v,_,b)||n(W)}},ce=W=>{W.key==="Enter"&&!W.shiftKey&&!z&&!F&&!u&&(W.preventDefault(),W.stopPropagation(),se())},ve=W=>{navigator.clipboard.writeText(W),Ne.success("Message copié dans le presse-papiers")},te=async W=>{await D(W,v,_,b)},ue=async()=>{await L(a)&&i(!1)},ee=W=>{var _e;n(W),(_e=G.current)==null||_e.focus()},le=()=>{E&&(i(!0),o(E.title))},Ie=()=>{c(!0)},Pe=(E==null?void 0:E.messages)||[];return s.jsxs("div",{className:"flex flex-col h-screen bg-[#F8F6F1] overflow-hidden overflow-x-hidden",children:[s.jsxs("div",{className:"flex flex-col flex-1 w-full md:w-[70vw] mx-auto h-full overflow-hidden relative pt-4",children:[s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ej,{className:"w-6 h-6 text-aurentia-pink"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold",children:"Chat Organisation"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Assistance IA pour votre organisation"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4 text-gray-500"}),s.jsxs(vt,{value:g,onValueChange:y,children:[s.jsx(yt,{className:"w-48",children:s.jsx(_t,{placeholder:"Sélectionner un projet"})}),s.jsx(bt,{children:X.map(W=>s.jsx(fe,{value:W.id,children:W.name},W.id))})]})]})]})}),s.jsx(Rte,{currentConversation:E,conversationHistory:R,isConversationLoading:O,isHistoryLoading:$,onLoadConversation:M,onNewChat:K,onRenameConversation:le,onDeleteConversation:Ie,onToggleHistoryMobile:()=>{f?(p(!0),setTimeout(()=>{h(!1),p(!1)},300)):(h(!0),p(!1))}}),(f||m)&&R.length>0&&s.jsx("div",{className:`sm:hidden bg-white border-b border-gray-200 py-2 px-4 mx-4 rounded-xl backdrop-blur-md mt-0.5 absolute top-[120px] left-0 right-0 z-20 ${m?"animate-fade-out":"animate-fade-in"}`,children:$?s.jsxs("div",{className:"flex items-center gap-2 py-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Chargement des conversations..."})]}):s.jsx("div",{className:"flex flex-col gap-1",children:R.map(W=>s.jsx("div",{onClick:()=>{M(W.id),p(!0),setTimeout(()=>{h(!1),p(!1)},300)},className:"py-2 px-3 rounded-md hover:bg-gray-100 cursor-pointer",children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("span",{className:"truncate flex-1 min-w-0",children:W.title}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-auto pl-4",children:new Date(W.updatedAt).toLocaleDateString("fr-FR")})]})},W.id))})}),E&&Pe.length>0?s.jsxs("div",{className:"w-full flex flex-col flex-1 overflow-hidden px-4",children:[s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide pb-[160px] md:pb-[200px]",children:s.jsx(hne,{messages:Pe,isLoading:F,streamingMessageId:P,streamingText:I,onCopyMessage:ve,onRegenerateResponse:te,isStreaming:!!P})}),s.jsx("div",{className:"fixed md:absolute bottom-[100px] md:bottom-[40px] inset-x-0 px-2 md:px-0 bg-[#F8F6F1]/80 backdrop-blur-md z-10",children:s.jsx("div",{className:"w-full mx-auto",children:s.jsx(Gh,{inputMessage:t,placeholder:"Posez une question sur votre organisation...",isLoading:F||u,isSubmitting:z,communicationStyle:v,selectedDeliverables:b,selectedSearchModes:_,deliverableOptions:[],searchModeOptions:[],deliverableNames:[],onInputChange:ge,onKeyPress:ce,onSendMessage:se,onCommunicationStyleChange:w,onSelectedDeliverablesChange:j,onSelectedSearchModesChange:N,onReformQuestion:async()=>{},projectId:g,projectStatus:"organisation"})})})]}):s.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide flex flex-col items-center justify-center px-3 sm:px-4 py-1 sm:py-8 pb-[160px] md:pb-[200px]",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-primary flex items-center justify-center flex-shrink-0 mb-4",children:s.jsx(ff,{className:"w-12 h-12 text-white"})}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 text-center",children:"Assistant IA pour votre organisation"}),s.jsx("p",{className:"text-gray-600 text-center mt-2",children:g==="all"?"Analysez tous vos projets et obtenez des insights globaux":`Focus sur le projet: ${(Ae=X.find(W=>W.id===g))==null?void 0:Ae.name}`})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8 w-full max-w-2xl",children:[s.jsxs(re,{className:"border-aurentia-pink/20",children:[s.jsx(pe,{className:"pb-2",children:s.jsxs(me,{className:"text-sm flex items-center gap-2",children:[s.jsx(Ej,{className:"w-4 h-4 text-aurentia-pink"}),"Portée d'analyse"]})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-gray-600",children:g==="all"?"Vue d'ensemble de tous les projets":"Analyse ciblée du projet sélectionné"})})]}),s.jsxs(re,{className:"border-aurentia-orange/20",children:[s.jsx(pe,{className:"pb-2",children:s.jsxs(me,{className:"text-sm flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4 text-aurentia-orange"}),"Données disponibles"]})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-gray-600",children:"Projets, entrepreneurs, métriques et performances"})})]})]}),s.jsx("div",{className:"w-full text-center space-y-6 sm:space-y-8 px-4",children:s.jsx(Wre,{prompts:ne,onPromptSelect:ee})})]}),s.jsx("div",{className:"fixed md:absolute bottom-[100px] md:bottom-[10px] inset-x-0 px-2 md:px-0 bg-[#F8F6F1]/80 backdrop-blur-md z-10",children:s.jsx("div",{className:"w-full mx-auto",children:s.jsx(Gh,{inputMessage:t,placeholder:"Posez une question sur votre organisation...",isLoading:F||u,isSubmitting:z,communicationStyle:v,selectedDeliverables:b,selectedSearchModes:_,deliverableOptions:[],searchModeOptions:[],deliverableNames:[],onInputChange:ge,onKeyPress:ce,onSendMessage:se,onCommunicationStyleChange:w,onSelectedDeliverablesChange:j,onSelectedSearchModesChange:N,onReformQuestion:async()=>{},projectId:g,projectStatus:"organisation"})})})]})]}),s.jsx(Gre,{isRenameDialogOpen:r,setIsRenameDialogOpen:i,tempConversationName:a,setTempConversationName:o,onSaveRename:ue,onCancelRename:()=>i(!1),isDeleteDialogOpen:l,setIsDeleteDialogOpen:c,onConfirmDelete:async()=>{await V()&&c(!1)},onCancelDelete:()=>c(!1)})]})},Zgt=e=>{const[t,n]=x.useState(Kw),[r,i]=x.useState(!0),[a,o]=x.useState(null),l=async()=>{if(e)try{i(!0),o(null);const{data:d,error:f}=await q.from("organizations").select("event_type_colors").eq("id",e).single();if(f){console.error("Error fetching event type colors:",f),o("Erreur lors du chargement des couleurs");return}d!=null&&d.event_type_colors&&n(d.event_type_colors)}catch(d){console.error("Error in fetchEventTypeColors:",d),o("Erreur lors du chargement des couleurs")}finally{i(!1)}},c=async(d,f)=>{if(!e)return!1;try{const h={...t,[d]:f},{error:m}=await q.from("organizations").update({event_type_colors:h}).eq("id",e);return m?(console.error("Error updating event type color:",m),!1):(n(h),!0)}catch(h){return console.error("Error in updateEventTypeColor:",h),!1}},u=async()=>{if(!e)return!1;try{const{error:d}=await q.from("organizations").update({event_type_colors:Kw}).eq("id",e);return d?(console.error("Error resetting event type colors:",d),!1):(n(Kw),!0)}catch(d){return console.error("Error in resetToDefaultColors:",d),!1}};return x.useEffect(()=>{l()},[e]),{eventTypeColors:t,loading:r,error:a,updateEventTypeColor:c,resetToDefaultColors:u,refetch:l}};var fC,Ze,yle,ble,Cp,wd,dV,wle,jle,AN={},_le=[],ext=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Qc(e,t){for(var n in t)e[n]=t[n];return e}function Nle(e){var t=e.parentNode;t&&t.removeChild(e)}function Z(e,t,n){var r,i,a,o={};for(a in t)a=="key"?r=t[a]:a=="ref"?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?fC.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return Xw(e,o,r,i,null)}function Xw(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++yle};return i==null&&Ze.vnode!=null&&Ze.vnode(a),a}function Fs(){return{current:null}}function kn(e){return e.children}function txt(e,t,n,r,i){var a;for(a in n)a==="children"||a==="key"||a in t||TN(e,a,null,n[a],r);for(a in t)i&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===t[a]||TN(e,a,t[a],n[a],r)}function fV(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||ext.test(t)?n:n+"px"}function TN(e,t,n,r,i){var a;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||fV(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||fV(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?mV:hV,a):e.removeEventListener(t,a?mV:hV,a);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function hV(e){Cp=!0;try{return this.l[e.type+!1](Ze.event?Ze.event(e):e)}finally{Cp=!1}}function mV(e){Cp=!0;try{return this.l[e.type+!0](Ze.event?Ze.event(e):e)}finally{Cp=!1}}function Li(e,t){this.props=e,this.context=t}function Ty(e,t){if(t==null)return e.__?Ty(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ty(e):null}function Sle(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Sle(e)}}function nxt(e){Cp?setTimeout(e):wle(e)}function GO(e){(!e.__d&&(e.__d=!0)&&wd.push(e)&&!PN.__r++||dV!==Ze.debounceRendering)&&((dV=Ze.debounceRendering)||nxt)(PN)}function PN(){var e,t,n,r,i,a,o,l;for(wd.sort(function(c,u){return c.__v.__b-u.__v.__b});e=wd.shift();)e.__d&&(t=wd.length,r=void 0,i=void 0,o=(a=(n=e).__v).__e,(l=n.__P)&&(r=[],(i=Qc({},a)).__v=a.__v+1,mL(l,a,i,n.__n,l.ownerSVGElement!==void 0,a.__h!=null?[o]:null,r,o??Ty(a),a.__h),Tle(r,a),a.__e!=o&&Sle(a)),wd.length>t&&wd.sort(function(c,u){return c.__v.__b-u.__v.__b}));PN.__r=0}function Cle(e,t,n,r,i,a,o,l,c,u){var d,f,h,m,p,g,y,v=r&&r.__k||_le,w=v.length;for(n.__k=[],d=0;d<t.length;d++)if((m=n.__k[d]=(m=t[d])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?Xw(null,m,null,null,m):Array.isArray(m)?Xw(kn,{children:m},null,null,null):m.__b>0?Xw(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(h=v[d])===null||h&&m.key==h.key&&m.type===h.type)v[d]=void 0;else for(f=0;f<w;f++){if((h=v[f])&&m.key==h.key&&m.type===h.type){v[f]=void 0;break}h=null}mL(e,m,h=h||AN,i,a,o,l,c,u),p=m.__e,(f=m.ref)&&h.ref!=f&&(y||(y=[]),h.ref&&y.push(h.ref,null,m),y.push(f,m.__c||p,m)),p!=null?(g==null&&(g=p),typeof m.type=="function"&&m.__k===h.__k?m.__d=c=Ele(m,c,e):c=kle(e,m,h,v,p,c),typeof n.type=="function"&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=e&&(c=Ty(h))}for(n.__e=g,d=w;d--;)v[d]!=null&&(typeof n.type=="function"&&v[d].__e!=null&&v[d].__e==n.__d&&(n.__d=Ale(r).nextSibling),Ole(v[d],v[d]));if(y)for(d=0;d<y.length;d++)Ple(y[d],y[++d],y[++d])}function Ele(e,t,n){for(var r,i=e.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=e,t=typeof r.type=="function"?Ele(r,t,n):kle(n,r,r,i,r.__e,t));return t}function ON(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){ON(n,t)}):t.push(e)),t}function kle(e,t,n,r,i,a){var o,l,c;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(n==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==e)e.appendChild(i),o=null;else{for(l=a,c=0;(l=l.nextSibling)&&c<r.length;c+=1)if(l==i)break e;e.insertBefore(i,a),o=a}return o!==void 0?o:i.nextSibling}function Ale(e){var t,n,r;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=Ale(n)))return r}return null}function mL(e,t,n,r,i,a,o,l,c){var u,d,f,h,m,p,g,y,v,w,b,j,_,N,S,C=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,l=t.__e=n.__e,t.__h=null,a=[l]),(u=Ze.__b)&&u(t);try{e:if(typeof C=="function"){if(y=t.props,v=(u=C.contextType)&&r[u.__c],w=u?v?v.props.value:u.__:r,n.__c?g=(d=t.__c=n.__c).__=d.__E:("prototype"in C&&C.prototype.render?t.__c=d=new C(y,w):(t.__c=d=new Li(y,w),d.constructor=C,d.render=sxt),v&&v.sub(d),d.props=y,d.state||(d.state={}),d.context=w,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),C.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Qc({},d.__s)),Qc(d.__s,C.getDerivedStateFromProps(y,d.__s))),h=d.props,m=d.state,d.__v=t,f)C.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(C.getDerivedStateFromProps==null&&y!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(y,w),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(y,d.__s,w)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(k){k&&(k.__=t)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(y,d.__s,w),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,m,p)})}if(d.context=w,d.props=y,d.__P=e,j=Ze.__r,_=0,"prototype"in C&&C.prototype.render){for(d.state=d.__s,d.__d=!1,j&&j(t),u=d.render(d.props,d.state,d.context),N=0;N<d._sb.length;N++)d.__h.push(d._sb[N]);d._sb=[]}else do d.__d=!1,j&&j(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++_<25);d.state=d.__s,d.getChildContext!=null&&(r=Qc(Qc({},r),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(p=d.getSnapshotBeforeUpdate(h,m)),S=u!=null&&u.type===kn&&u.key==null?u.props.children:u,Cle(e,Array.isArray(S)?S:[S],t,n,r,i,a,o,l,c),d.base=t.__e,t.__h=null,d.__h.length&&o.push(d),g&&(d.__E=d.__=null),d.__e=!1}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=rxt(n.__e,t,n,r,i,a,o,c);(u=Ze.diffed)&&u(t)}catch(k){t.__v=null,(c||a!=null)&&(t.__e=l,t.__h=!!c,a[a.indexOf(l)]=null),Ze.__e(k,t,n)}}function Tle(e,t){Ze.__c&&Ze.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){Ze.__e(r,n.__v)}})}function rxt(e,t,n,r,i,a,o,l){var c,u,d,f=n.props,h=t.props,m=t.type,p=0;if(m==="svg"&&(i=!0),a!=null){for(;p<a.length;p++)if((c=a[p])&&"setAttribute"in c==!!m&&(m?c.localName===m:c.nodeType===3)){e=c,a[p]=null;break}}if(e==null){if(m===null)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,h.is&&h),a=null,l=!1}if(m===null)f===h||l&&e.data===h||(e.data=h);else{if(a=a&&fC.call(e.childNodes),u=(f=n.props||AN).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!l){if(a!=null)for(f={},p=0;p<e.attributes.length;p++)f[e.attributes[p].name]=e.attributes[p].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(txt(e,h,f,i,l),d)t.__k=[];else if(p=t.props.children,Cle(e,Array.isArray(p)?p:[p],t,n,r,i&&m!=="foreignObject",a,o,a?a[0]:n.__k&&Ty(n,0),l),a!=null)for(p=a.length;p--;)a[p]!=null&&Nle(a[p]);l||("value"in h&&(p=h.value)!==void 0&&(p!==e.value||m==="progress"&&!p||m==="option"&&p!==f.value)&&TN(e,"value",p,f.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==e.checked&&TN(e,"checked",p,f.checked,!1))}return e}function Ple(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){Ze.__e(r,n)}}function Ole(e,t,n){var r,i;if(Ze.unmount&&Ze.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ple(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Ze.__e(a,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Ole(r[i],t,n||typeof e.type!="function");n||e.__e==null||Nle(e.__e),e.__=e.__e=e.__d=void 0}function sxt(e,t,n){return this.constructor(e,n)}function Py(e,t,n){var r,i,a;Ze.__&&Ze.__(e,t),i=(r=!1)?null:t.__k,a=[],mL(t,e=t.__k=Z(kn,null,[e]),i||AN,AN,t.ownerSVGElement!==void 0,i?null:t.firstChild?fC.call(t.childNodes):null,a,i?i.__e:t.firstChild,r),Tle(a,e)}function ixt(e,t){var n={__c:t="__cC"+jle++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,a;return this.getChildContext||(i=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(l){l.__e=!0,GO(l)})},this.sub=function(o){i.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),l&&l.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}fC=_le.slice,Ze={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(l){e=l}throw e}},yle=0,ble=function(e){return e!=null&&e.constructor===void 0},Cp=!1,Li.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Qc({},this.state),typeof e=="function"&&(e=e(Qc({},n),this.props)),e&&Qc(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),GO(this))},Li.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),GO(this))},Li.prototype.render=kn,wd=[],wle=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,PN.__r=0,jle=0;var _o,tA,pV,Rle=[],nA=[],gV=Ze.__b,xV=Ze.__r,vV=Ze.diffed,yV=Ze.__c,bV=Ze.unmount;function axt(){for(var e;e=Rle.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Qw),e.__H.__h.forEach(KO),e.__H.__h=[]}catch(t){e.__H.__h=[],Ze.__e(t,e.__v)}}Ze.__b=function(e){_o=null,gV&&gV(e)},Ze.__r=function(e){xV&&xV(e);var t=(_o=e.__c).__H;t&&(tA===_o?(t.__h=[],_o.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=nA,n.__N=n.i=void 0})):(t.__h.forEach(Qw),t.__h.forEach(KO),t.__h=[])),tA=_o},Ze.diffed=function(e){vV&&vV(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Rle.push(t)!==1&&pV===Ze.requestAnimationFrame||((pV=Ze.requestAnimationFrame)||oxt)(axt)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==nA&&(n.__=n.__V),n.i=void 0,n.__V=nA})),tA=_o=null},Ze.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Qw),n.__h=n.__h.filter(function(r){return!r.__||KO(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],Ze.__e(r,n.__v)}}),yV&&yV(e,t)},Ze.unmount=function(e){bV&&bV(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Qw(r)}catch(i){t=i}}),n.__H=void 0,t&&Ze.__e(t,n.__v))};var wV=typeof requestAnimationFrame=="function";function oxt(e){var t,n=function(){clearTimeout(r),wV&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);wV&&(t=requestAnimationFrame(n))}function Qw(e){var t=_o,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),_o=t}function KO(e){var t=_o;e.__c=e.__(),_o=t}function lxt(e,t){for(var n in t)e[n]=t[n];return e}function jV(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function _V(e){this.props=e}(_V.prototype=new Li).isPureReactComponent=!0,_V.prototype.shouldComponentUpdate=function(e,t){return jV(this.props,e)||jV(this.state,t)};var NV=Ze.__b;Ze.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),NV&&NV(e)};var cxt=Ze.__e;Ze.__e=function(e,t,n,r){if(e.then){for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}cxt(e,t,n,r)};var SV=Ze.unmount;function Dle(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=lxt({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return Dle(r,t,n)})),e}function Mle(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return Mle(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function rA(){this.__u=0,this.t=null,this.__b=null}function Ile(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function dw(){this.u=null,this.o=null}Ze.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),SV&&SV(e)},(rA.prototype=new Li).__c=function(e,t){var n=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Ile(r.__v),a=!1,o=function(){a||(a=!0,n.__R=null,i?i(l):l())};n.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=Mle(u,u.__c.__P,u.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},c=t.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},rA.prototype.componentWillUnmount=function(){this.t=[]},rA.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Dle(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&Z(kn,null,e.fallback);return i&&(i.__h=null),[Z(kn,null,t.__a?null:e.children),i]};var CV=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function uxt(e){return this.getChildContext=function(){return e.context},e.children}function dxt(e){var t=this,n=e.i;t.componentWillUnmount=function(){Py(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),t.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),t.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.i.removeChild(r)}}),Py(Z(uxt,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function fxt(e,t){var n=Z(dxt,{__v:e,i:t});return n.containerInfo=t,n}(dw.prototype=new Li).__a=function(e){var t=this,n=Ile(t.__v),r=t.o.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),CV(t,e,r)):i()};n?n(a):a()}},dw.prototype.render=function(e){this.u=null,this.o=new Map;var t=ON(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},dw.prototype.componentDidUpdate=dw.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){CV(e,n,t)})};var hxt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,mxt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,pxt=typeof document<"u",gxt=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(e)};Li.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Li.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var EV=Ze.event;function xxt(){}function vxt(){return this.cancelBubble}function yxt(){return this.defaultPrevented}Ze.event=function(e){return EV&&(e=EV(e)),e.persist=xxt,e.isPropagationStopped=vxt,e.isDefaultPrevented=yxt,e.nativeEvent=e};var kV={configurable:!0,get:function(){return this.class}},AV=Ze.vnode;Ze.vnode=function(e){var t=e.type,n=e.props,r=n;if(typeof t=="string"){var i=t.indexOf("-")===-1;for(var a in r={},n){var o=n[a];pxt&&a==="children"&&t==="noscript"||a==="value"&&"defaultValue"in n&&o==null||(a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&o===!0?o="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!gxt(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&mxt.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a="oninputCapture")),r[a]=o)}t=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=ON(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),t=="select"&&r.defaultValue!=null&&(r.value=ON(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),e.props=r,n.class!=n.className&&(kV.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",kV))}e.$$typeof=hxt,AV&&AV(e)};var TV=Ze.__r;Ze.__r=function(e){TV&&TV(e),e.__c};const Lle=[],YO=new Map;function pL(e){Lle.push(e),YO.forEach(t=>{Fle(t,e)})}function bxt(e){e.isConnected&&e.getRootNode&&$le(e.getRootNode())}function $le(e){let t=YO.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const n=jxt();n&&(t.nonce=n);const r=e===document?document.head:e,i=e===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(t,i)}YO.set(e,t),wxt(t)}}function wxt(e){for(const t of Lle)Fle(e,t)}function Fle(e,t){const{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach((i,a)=>{i=i.trim(),i&&n.insertRule(i+"}",r+a)})}let sA;function jxt(){return sA===void 0&&(sA=_xt()),sA}function _xt(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&$le(document);var Nxt=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';pL(Nxt);class gL{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:n}=this;n[t]=(n[t]||0)+1,this.clearTimeout()}resume(t="",n){let{pauseDepths:r}=this;t in r&&(n?delete r[t]:(r[t]-=1,r[t]<=0&&delete r[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function xL(e){e.parentNode&&e.parentNode.removeChild(e)}function hs(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(Sxt(e,t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null}function Sxt(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function Cxt(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let i=0;i<n.length;i+=1){let a=n[i].querySelectorAll(t);for(let o=0;o<a.length;o+=1)r.push(a[o])}return r}const Ext=/(top|left|right|bottom|width|height)$/i;function Zx(e,t){for(let n in t)zle(e,n,t[n])}function zle(e,t,n){n==null?e.style[t]="":typeof n=="number"&&Ext.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function Ble(e){var t,n;return(n=(t=e.composedPath)===null||t===void 0?void 0:t.call(e)[0])!==null&&n!==void 0?n:e.target}let PV=0;function hC(){return PV+=1,"fc-dom-"+PV}function mC(e){e.preventDefault()}function kxt(e,t){return n=>{let r=hs(n.target,e);r&&t.call(r,n,r)}}function Ule(e,t,n,r){let i=kxt(n,r);return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}function Axt(e,t,n,r){let i;return Ule(e,"mouseover",t,(a,o)=>{if(o!==i){i=o,n(a,o);let l=c=>{i=null,r(c,o),o.removeEventListener("mouseleave",l)};o.addEventListener("mouseleave",l)}})}const OV=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Txt(e,t){let n=r=>{t(r),OV.forEach(i=>{e.removeEventListener(i,n)})};OV.forEach(r=>{e.addEventListener(r,n)})}function qle(e){return Object.assign({onClick:e},Vle(e))}function Vle(e){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(e(t),t.preventDefault())}}}let RV=0;function Qf(){return RV+=1,String(RV)}function vL(){document.body.classList.add("fc-not-allowed")}function yL(){document.body.classList.remove("fc-not-allowed")}function Pxt(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.addEventListener("selectstart",mC)}function Oxt(e){e.style.userSelect="",e.style.webkitUserSelect="",e.removeEventListener("selectstart",mC)}function Rxt(e){e.addEventListener("contextmenu",mC)}function Dxt(e){e.removeEventListener("contextmenu",mC)}function Mxt(e){let t=[],n=[],r,i;for(typeof e=="string"?n=e.split(/\s*,\s*/):typeof e=="function"?n=[e]:Array.isArray(e)&&(n=e),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?t.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&t.push({func:i});return t}function Ixt(e,t,n){let r,i;for(r=0;r<n.length;r+=1)if(i=Lxt(e,t,n[r]),i)return i;return 0}function Lxt(e,t,n){return n.func?n.func(e,t):$xt(e[n.field],t[n.field])*(n.order||1)}function $xt(e,t){return!e&&!t?0:t==null?-1:e==null?1:typeof e=="string"||typeof t=="string"?String(e).localeCompare(String(t)):e-t}function ym(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function ev(e,t,n){return typeof e=="function"?e(...t):typeof e=="string"?t.reduce((r,i,a)=>r.replace("$"+a,i||""),e):n}function Fxt(e,t){return e-t}function Jw(e){return e%1===0}function zxt(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const DV=["years","months","days","milliseconds"],Bxt=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Ut(e,t){return typeof e=="string"?Uxt(e):typeof e=="object"&&e?MV(e):typeof e=="number"?MV({[t||"milliseconds"]:e}):null}function Uxt(e){let t=Bxt.exec(e);if(t){let n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function MV(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:(e.hours||e.hour||0)*60*60*1e3+(e.minutes||e.minute||0)*60*1e3+(e.seconds||e.second||0)*1e3+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=n*7,t.specifiedWeeks=!0),t}function qxt(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function XO(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function Vxt(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function Hxt(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function Wxt(e){return bm(e)/365}function Gxt(e){return bm(e)/30}function bm(e){return Ga(e)/864e5}function Ga(e){return e.years*(365*864e5)+e.months*(30*864e5)+e.days*864e5+e.milliseconds}function bL(e,t){let n=null;for(let r=0;r<DV.length;r+=1){let i=DV[r];if(t[i]){let a=e[i]/t[i];if(!Jw(a)||n!==null&&n!==a)return null;n=a}else if(e[i])return null}return n}function QO(e){let t=e.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return e.days?e.specifiedWeeks&&e.days%7===0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function ku(e,t,n){if(e===t)return!0;let r=e.length,i;if(r!==t.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(e[i],t[i]):e[i]===t[i]))return!1;return!0}const Kxt=["sun","mon","tue","wed","thu","fri","sat"];function IV(e,t){let n=Jc(e);return n[2]+=t*7,ai(n)}function Wr(e,t){let n=Jc(e);return n[2]+=t,ai(n)}function Au(e,t){let n=Jc(e);return n[6]+=t,ai(n)}function Yxt(e,t){return Jf(e,t)/7}function Jf(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60*24)}function Xxt(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60)}function Qxt(e,t){return(t.valueOf()-e.valueOf())/(1e3*60)}function Jxt(e,t){return(t.valueOf()-e.valueOf())/1e3}function Zxt(e,t){let n=An(e),r=An(t);return{years:0,months:0,days:Math.round(Jf(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}function evt(e,t){let n=RN(e,t);return n!==null&&n%7===0?n/7:null}function RN(e,t){return Zc(e)===Zc(t)?Math.round(Jf(e,t)):null}function An(e){return ai([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function tvt(e){return ai([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function nvt(e){return ai([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function rvt(e){return ai([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function svt(e,t,n){let r=e.getUTCFullYear(),i=iA(e,r,t,n);if(i<1)return iA(e,r-1,t,n);let a=iA(e,r+1,t,n);return a>=1?Math.min(i,a):i}function iA(e,t,n,r){let i=ai([t,0,1+ivt(t,n,r)]),a=An(e),o=Math.round(Jf(i,a));return Math.floor(o/7)+1}function ivt(e,t,n){let r=7+t-n;return-((7+ai([e,0,r]).getUTCDay()-t)%7)+r-1}function LV(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function $V(e){return new Date(e[0],e[1]||0,e[2]==null?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function Jc(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function ai(e){return e.length===1&&(e=e.concat([0])),new Date(Date.UTC(...e))}function Hle(e){return!isNaN(e.valueOf())}function Zc(e){return e.getUTCHours()*1e3*60*60+e.getUTCMinutes()*1e3*60+e.getUTCSeconds()*1e3+e.getUTCMilliseconds()}function Wle(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(t==null?r=r.replace("Z",""):t!==0&&(r=r.replace("Z",jL(t,!0)))),r}function wL(e){return e.toISOString().replace(/T.*$/,"")}function avt(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function ovt(e){return ym(e.getUTCHours(),2)+":"+ym(e.getUTCMinutes(),2)+":"+ym(e.getUTCSeconds(),2)}function jL(e,t=!1){let n=e<0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=Math.round(r%60);return t?`${n+ym(i,2)}:${ym(a,2)}`:`GMT${n}${i}${a?`:${ym(a,2)}`:""}`}function tt(e,t,n){let r,i;return function(...a){if(!r)i=e.apply(this,a);else if(!ku(r,a)){let o=e.apply(this,a);(!t||!t(o,i))&&(i=o)}return r=a,i}}function Zw(e,t,n){let r,i;return a=>(r?co(r,a)||(i=e.call(this,a)):i=e.call(this,a),r=a,i)}const aA={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},DN={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},fw=/\s*([ap])\.?m\.?/i,lvt=/,/g,cvt=/\s+/g,uvt=/\u200e/g,dvt=/UTC|GMT/;class fvt{constructor(t){let n={},r={},i=9;for(let a in t)a in aA?(r[a]=t[a],aA[a]<9&&(i=Math.min(aA[a],i))):(n[a]=t[a],a in DN&&(i=Math.min(DN[a],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=tt(FV)}format(t,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(t)}formatRange(t,n,r,i){let{standardDateProps:a,extendedSettings:o}=this,l=vvt(t.marker,n.marker,r.calendarSystem);if(!l)return this.format(t,r);let c=l;c>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(c=1);let u=this.format(t,r),d=this.format(n,r);if(u===d)return u;let f=yvt(a,c),h=FV(f,o,r),m=h(t),p=h(n),g=bvt(u,m,d,p),y=o.separator||i||r.defaultSeparator||"";return g?g.before+m+y+p+g.after:u+y+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function FV(e,t,n){let r=Object.keys(e).length;return r===1&&e.timeZoneName==="short"?i=>jL(i.timeZoneOffset):r===0&&t.week?i=>xvt(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,t.week):hvt(e,t,n)}function hvt(e,t,n){e=Object.assign({},e),t=Object.assign({},t),mvt(e,t),e.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,e),i;if(t.omitZeroMinute){let a=Object.assign({},e);delete a.minute,i=new Intl.DateTimeFormat(n.locale.codes,a)}return a=>{let{marker:o}=a,l;i&&!o.getUTCMinutes()?l=i:l=r;let c=l.format(o);return pvt(c,a,e,t,n)}}function mvt(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),e.timeZoneName==="long"&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function pvt(e,t,n,r,i){return e=e.replace(uvt,""),n.timeZoneName==="short"&&(e=gvt(e,i.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":jL(t.timeZoneOffset))),r.omitCommas&&(e=e.replace(lvt,"").trim()),r.omitZeroMinute&&(e=e.replace(":00","")),r.meridiem===!1?e=e.replace(fw,"").trim():r.meridiem==="narrow"?e=e.replace(fw,(a,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?e=e.replace(fw,(a,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(e=e.replace(fw,a=>a.toLocaleLowerCase())),e=e.replace(cvt," "),e=e.trim(),e}function gvt(e,t){let n=!1;return e=e.replace(dvt,()=>(n=!0,t)),n||(e+=` ${t}`),e}function xvt(e,t,n,r,i){let a=[];return i==="long"?a.push(n):(i==="short"||i==="narrow")&&a.push(t),(i==="long"||i==="short")&&a.push(" "),a.push(r.simpleNumberFormat.format(e)),r.options.direction==="rtl"&&a.reverse(),a.join("")}function vvt(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:Zc(e)!==Zc(t)?1:0}function yvt(e,t){let n={};for(let r in e)(!(r in DN)||DN[r]<=t)&&(n[r]=e[r]);return n}function bvt(e,t,n,r){let i=0;for(;i<e.length;){let a=e.indexOf(t,i);if(a===-1)break;let o=e.substr(0,a);i=a+t.length;let l=e.substr(i),c=0;for(;c<n.length;){let u=n.indexOf(r,c);if(u===-1)break;let d=n.substr(0,u);c=u+r.length;let f=n.substr(c);if(o===d&&l===f)return{before:o,after:l}}}return null}function zV(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function MN(e,t,n,r){let i=zV(e,n.calendarSystem),a=t?zV(t,n.calendarSystem):null;return{date:i,start:i,end:a,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class wvt{constructor(t){this.cmdStr=t}format(t,n,r){return n.cmdFormatter(this.cmdStr,MN(t,null,n,r))}formatRange(t,n,r,i){return r.cmdFormatter(this.cmdStr,MN(t,n,r,i))}}class jvt{constructor(t){this.func=t}format(t,n,r){return this.func(MN(t,null,n,r))}formatRange(t,n,r,i){return this.func(MN(t,n,r,i))}}function Kn(e){return typeof e=="object"&&e?new fvt(e):typeof e=="string"?new wvt(e):typeof e=="function"?new jvt(e):null}const BV={navLinkDayClick:he,navLinkWeekClick:he,duration:Ut,bootstrapFontAwesome:he,buttonIcons:he,customButtons:he,defaultAllDayEventDuration:Ut,defaultTimedEventDuration:Ut,nextDayThreshold:Ut,scrollTime:Ut,scrollTimeReset:Boolean,slotMinTime:Ut,slotMaxTime:Ut,dayPopoverFormat:Kn,slotDuration:Ut,snapDuration:Ut,headerToolbar:he,footerToolbar:he,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Kn,dayHeaderClassNames:he,dayHeaderContent:he,dayHeaderDidMount:he,dayHeaderWillUnmount:he,dayCellClassNames:he,dayCellContent:he,dayCellDidMount:he,dayCellWillUnmount:he,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:he,weekNumbers:Boolean,weekNumberClassNames:he,weekNumberContent:he,weekNumberDidMount:he,weekNumberWillUnmount:he,editable:Boolean,viewClassNames:he,viewDidMount:he,viewWillUnmount:he,nowIndicator:Boolean,nowIndicatorSnap:he,nowIndicatorClassNames:he,nowIndicatorContent:he,nowIndicatorDidMount:he,nowIndicatorWillUnmount:he,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:he,locale:he,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:he,eventOrder:Mxt,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:he,contentHeight:he,direction:String,weekNumberFormat:Kn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:he,initialDate:he,now:he,eventDataTransform:he,stickyHeaderDates:he,stickyFooterScrollbar:he,viewHeight:he,defaultAllDay:Boolean,eventSourceFailure:he,eventSourceSuccess:he,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:he,eventConstraint:he,eventAllow:he,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:he,eventContent:he,eventDidMount:he,eventWillUnmount:he,selectConstraint:he,selectOverlap:he,selectAllow:he,droppable:Boolean,unselectCancel:String,slotLabelFormat:he,slotLaneClassNames:he,slotLaneContent:he,slotLaneDidMount:he,slotLaneWillUnmount:he,slotLabelClassNames:he,slotLabelContent:he,slotLabelDidMount:he,slotLabelWillUnmount:he,dayMaxEvents:he,dayMaxEventRows:he,dayMinWidth:Number,slotLabelInterval:Ut,allDayText:String,allDayClassNames:he,allDayContent:he,allDayDidMount:he,allDayWillUnmount:he,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Kn,rerenderDelay:Number,moreLinkText:he,moreLinkHint:he,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:he,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Ut,hiddenDays:he,fixedWeekCount:Boolean,validRange:he,visibleRange:he,titleFormat:he,eventInteractive:Boolean,noEventsText:String,viewHint:he,navLinkHint:he,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:he,moreLinkClassNames:he,moreLinkContent:he,moreLinkDidMount:he,moreLinkWillUnmount:he,monthStartFormat:Kn,handleCustomRendering:he,customRenderingMetaMap:he,customRenderingReplaces:Boolean},tv={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},UV={datesSet:he,eventsSet:he,eventAdd:he,eventChange:he,eventRemove:he,windowResize:he,eventClick:he,eventMouseEnter:he,eventMouseLeave:he,select:he,unselect:he,loading:he,_unmount:he,_beforeprint:he,_afterprint:he,_noEventDrop:he,_noEventResize:he,_resize:he,_scrollRequest:he},qV={buttonText:he,buttonHints:he,views:he,plugins:he,initialEvents:he,events:he,eventSources:he},pd={headerToolbar:gd,footerToolbar:gd,buttonText:gd,buttonHints:gd,buttonIcons:gd,dateIncrement:gd,plugins:hw,events:hw,eventSources:hw,resources:hw};function gd(e,t){return typeof e=="object"&&typeof t=="object"&&e&&t?co(e,t):e===t}function hw(e,t){return Array.isArray(e)&&Array.isArray(t)?ku(e,t):e===t}const _vt={type:String,component:he,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:he,usesMinMaxTime:Boolean,classNames:he,content:he,didMount:he,willUnmount:he};function oA(e){return NL(e,pd)}function _L(e,t){let n={},r={};for(let i in t)i in e&&(n[i]=t[i](e[i]));for(let i in e)i in t||(r[i]=e[i]);return{refined:n,extra:r}}function he(e){return e}const{hasOwnProperty:IN}=Object.prototype;function NL(e,t){let n={};if(t){for(let r in t)if(t[r]===gd){let i=[];for(let a=e.length-1;a>=0;a-=1){let o=e[a][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=NL(i))}}for(let r=e.length-1;r>=0;r-=1){let i=e[r];for(let a in i)a in n||(n[a]=i[a])}return n}function Pf(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function Gl(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function Gle(e){let t={};for(let n of e)t[n]=!0;return t}function SL(e){let t=[];for(let n in e)t.push(e[n]);return t}function co(e,t){if(e===t)return!0;for(let n in e)if(IN.call(e,n)&&!(n in t))return!1;for(let n in t)if(IN.call(t,n)&&e[n]!==t[n])return!1;return!0}const Nvt=/^on[A-Z]/;function Svt(e,t){const n=Cvt(e,t);for(let r of n)if(!Nvt.test(r))return!1;return!0}function Cvt(e,t){let n=[];for(let r in e)IN.call(e,r)&&(r in t||n.push(r));for(let r in t)IN.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function lA(e,t,n={}){if(e===t)return!0;for(let r in t)if(!(r in e&&Evt(e[r],t[r],n[r])))return!1;for(let r in e)if(!(r in t))return!1;return!0}function Evt(e,t,n){return e===t||n===!0?!0:n?n(e,t):!1}function kvt(e,t=0,n,r=1){let i=[];n==null&&(n=Object.keys(e).length);for(let a=t;a<n;a+=r){let o=e[a];o!==void 0&&i.push(o)}return i}let Kle={};function Avt(e,t){Kle[e]=t}function Tvt(e){return new Kle[e]}class Pvt{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return ai(t)}markerToArray(t){return Jc(t)}}Avt("gregory",Pvt);const Ovt=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Rvt(e){let t=Ovt.exec(e);if(t){let n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if(Hle(n)){let r=null;return t[13]&&(r=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:r}}}return null}class Dvt{constructor(t){let n=this.timeZone=t.timeZone,r=n!=="local"&&n!=="UTC";t.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=Tvt(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let n=this.createMarkerMeta(t);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):ai(LV(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let n=null;return typeof t=="number"?n=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(n=this.timestampToMarker(t))):Array.isArray(t)&&(n=ai(t)),n===null||!Hle(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let n=Rvt(t);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,n){let r=this.calendarSystem.markerToArray(t);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(t,n){let r=this.calendarSystem.markerToArray(t);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(t,n){let r=this.calendarSystem.markerToArray(t);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(t,n){let r=this.calendarSystem.markerToArray(t);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(t,n){let{calendarSystem:r}=this;return Zc(t)===Zc(n)&&r.getMarkerDay(t)===r.getMarkerDay(n)&&r.getMarkerMonth(t)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(t):null}diffWholeMonths(t,n){let{calendarSystem:r}=this;return Zc(t)===Zc(n)&&r.getMarkerDay(t)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(t)+(r.getMarkerYear(n)-r.getMarkerYear(t))*12:null}greatestWholeUnit(t,n){let r=this.diffWholeYears(t,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(t,n),r!==null?{unit:"month",value:r}:(r=evt(t,n),r!==null?{unit:"week",value:r}:(r=RN(t,n),r!==null?{unit:"day",value:r}:(r=Xxt(t,n),Jw(r)?{unit:"hour",value:r}:(r=Qxt(t,n),Jw(r)?{unit:"minute",value:r}:(r=Jxt(t,n),Jw(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,n,r){let i;return r.years&&(i=this.diffWholeYears(t,n),i!==null)?i/Wxt(r):r.months&&(i=this.diffWholeMonths(t,n),i!==null)?i/Gxt(r):r.days&&(i=RN(t,n),i!==null)?i/bm(r):(n.valueOf()-t.valueOf())/Ga(r)}startOf(t,n){return n==="year"?this.startOfYear(t):n==="month"?this.startOfMonth(t):n==="week"?this.startOfWeek(t):n==="day"?An(t):n==="hour"?tvt(t):n==="minute"?nvt(t):n==="second"?rvt(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):svt(t,this.weekDow,this.weekDoy)}format(t,n,r={}){return n.format({marker:t,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,n,r,i={}){return i.isEndExclusive&&(n=Au(n,-1)),r.formatRange({marker:t,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(t)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(t,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(t)),Wle(t,r,n.omitTime)}timestampToMarker(t){return this.timeZone==="local"?ai(LV(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):ai(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-$V(Jc(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Jc(t)):null}toDate(t,n){return this.timeZone==="local"?$V(Jc(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(Jc(t))*1e3*60):new Date(t.valueOf()-(n||0))}}class Hb{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let n,r;if(typeof t=="object"&&t){n=Object.assign({},this.iconClasses);for(r in t)n[r]=this.applyIconOverridePrefix(t[r]);this.iconClasses=n}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let n=this.iconOverridePrefix;return n&&t.indexOf(n)!==0&&(t=n+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[t]||this.iconClasses[t]:r=this.iconClasses[t],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(t){let n;return this.iconOverrideCustomButtonOption&&(n=t[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Hb.prototype.classes={};Hb.prototype.iconClasses={};Hb.prototype.baseIconClass="";Hb.prototype.iconOverridePrefix="";function LN(e){e();let t=Ze.debounceRendering,n=[];function r(i){n.push(i)}for(Ze.debounceRendering=r,Py(Z(Mvt,{}),document.createElement("div"));n.length;)n.shift()();Ze.debounceRendering=t}class Mvt extends Li{render(){return Z("div",{})}componentDidMount(){this.setState({})}}function Yle(e){let t=ixt(e),n=t.Provider;return t.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let a=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&a.forEach(l=>{l.context=o.value,l.forceUpdate()})},this.sub=o=>{a.push(o);let l=o.componentWillUnmount;o.componentWillUnmount=()=>{a.splice(a.indexOf(o),1),l&&l.call(o)}}}return i},t}class Ivt{constructor(t,n,r,i){this.execFunc=t,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const tc=Yle({});function Lvt(e,t,n,r,i,a,o,l,c,u,d,f,h,m){return{dateEnv:i,nowManager:a,options:n,pluginHooks:l,emitter:d,dispatch:c,getCurrentData:u,calendarApi:f,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler(p){d.on("_resize",p)},removeResizeHandler(p){d.off("_resize",p)},createScrollResponder(p){return new Ivt(p,d,Ut(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:m}}class Zf extends Li{shouldComponentUpdate(t,n){return!lA(this.props,t,this.propEquality)||!lA(this.state,n,this.stateEquality)}safeSetState(t){lA(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}Zf.addPropsEquality=$vt;Zf.addStateEquality=Fvt;Zf.contextType=tc;Zf.prototype.propEquality={};Zf.prototype.stateEquality={};class on extends Zf{}on.contextType=tc;function $vt(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t}function Fvt(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t}function Ho(e,t){typeof e=="function"?e(t):e&&(e.current=t)}class CL extends on{constructor(){super(...arguments),this.id=Qf(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!JO(r,n))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&Ho(this.props.elRef,t)}}render(){const{props:t,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:a,renderProps:o}=t,l=Xle(t,[],this.handleEl);let c=!1,u,d=[],f;if(i!=null){const h=typeof i=="function"?i(o,Z):i;if(h===!0)c=!0;else{const m=h&&typeof h=="object";m&&"html"in h?l.dangerouslySetInnerHTML={__html:h.html}:m&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(m?ble(h):typeof h!="function")?u=h:f=h}}else c=!JO(t.generatorName,r);return c&&a&&(u=a(o)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,Z(t.elTag,l,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var n;const{props:r,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:o}=i.options;if(a){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];l&&a(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},r),{elClasses:(r.elClasses||[]).filter(zvt)}))}}applyQueueudDomNodes(){const{queuedDomNodes:t,currentDomNodes:n}=this,r=this.base;if(!ku(t,n)){n.forEach(xL);for(let i of t)r.appendChild(i);this.currentDomNodes=t}}}CL.addPropsEquality({elClasses:ku,elStyle:co,elAttrs:Svt,renderProps:co});function JO(e,t){var n;return!!(t.handleCustomRendering&&e&&(!((n=t.customRenderingMetaMap)===null||n===void 0)&&n[e]))}function Xle(e,t,n){const r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function zvt(e){return!!e}const Qle=Yle(0);class Wi extends Li{constructor(){super(...arguments),this.InnerContent=Bvt.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(Ho(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:t}=this,n=Uvt(t.classNameGenerator,t.renderProps);if(t.children){const r=Xle(t,n,this.handleEl),i=t.children(this.InnerContent,t.renderProps,r);return t.elTag?Z(t.elTag,r,i):i}else return Z(CL,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var t,n;this.el?(n=(t=this.props).didMount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,n;(n=(t=this.props).willUnmount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Wi.contextType=Qle;function Bvt(e,t){const n=e.props;return Z(CL,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}function Uvt(e,t){const n=typeof e=="function"?e(t):e||[];return typeof n=="string"?[n]:n}class $N extends on{render(){let{props:t,context:n}=this,{options:r}=n,i={view:n.viewApi};return Z(Wi,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:[...Jle(t.viewSpec),...t.elClasses||[]],elStyle:t.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>t.children)}}function Jle(e){return[`fc-${e.type}-view`,"fc-view"]}function qvt(e,t){let n=null,r=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function VV(e,t){let n=[],{start:r}=t,i,a;for(e.sort(Vvt),i=0;i<e.length;i+=1)a=e[i],a.start>r&&n.push({start:r,end:a.start}),a.end>r&&(r=a.end);return r<t.end&&n.push({start:r,end:t.end}),n}function Vvt(e,t){return e.start.valueOf()-t.start.valueOf()}function Of(e,t){let{start:n,end:r}=e,i=null;return t.start!==null&&(n===null?n=t.start:n=new Date(Math.max(n.valueOf(),t.start.valueOf()))),t.end!=null&&(r===null?r=t.end:r=new Date(Math.min(r.valueOf(),t.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function Hvt(e,t){return(e.start===null?null:e.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(e.end===null?null:e.end.valueOf())===(t.end===null?null:t.end.valueOf())}function EL(e,t){return(e.end===null||t.start===null||e.end>t.start)&&(e.start===null||t.end===null||e.start<t.end)}function pC(e,t){return(e.start===null||t.start!==null&&t.start>=e.start)&&(e.end===null||t.end!==null&&t.end<=e.end)}function El(e,t){return(e.start===null||t>=e.start)&&(e.end===null||t<e.end)}function Wvt(e,t){return t.start!=null&&e<t.start?t.start:t.end!=null&&e>=t.end?new Date(t.end.valueOf()-1):e}function Zle(e){let t=Math.floor(Jf(e.start,e.end))||1,n=An(e.start),r=Wr(n,t);return{start:n,end:r}}function ece(e,t=Ut(0)){let n=null,r=null;if(e.end){r=An(e.end);let i=e.end.valueOf()-r.valueOf();i&&i>=Ga(t)&&(r=Wr(r,1))}return e.start&&(n=An(e.start),r&&r<=n&&(r=Wr(n,1))),{start:n,end:r}}function Zh(e,t,n,r){return r==="year"?Ut(n.diffWholeYears(e,t),"year"):r==="month"?Ut(n.diffWholeMonths(e,t),"month"):Zxt(e,t)}class tce{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,n,r){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(a,-1,r)}buildNext(t,n,r){let{dateEnv:i}=this.props,a=i.add(i.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(a,1,r)}build(t,n,r=!0){let{props:i}=this,a,o,l,c,u,d;return a=this.buildValidRange(),a=this.trimHiddenDays(a),r&&(t=Wvt(t,a)),o=this.buildCurrentRangeInfo(t,n),l=/^(year|month|week|day)$/.test(o.unit),c=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,l),c=this.trimHiddenDays(c),u=c,i.showNonCurrentDates||(u=Of(u,o.range)),u=this.adjustActiveRange(u),u=Of(u,a),d=EL(o.range,a),El(c,t)||(t=c.start),{currentDate:t,validRange:a,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:l,activeRange:u,renderRange:c,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let t=this.props.validRangeInput,n=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(t,n){let{props:r}=this,i=null,a=null,o=null,l;return r.duration?(i=r.duration,a=r.durationUnit,o=this.buildRangeFromDuration(t,n,i,a)):(l=this.props.dayCount)?(a="day",o=this.buildRangeFromDayCount(t,n,l)):(o=this.buildCustomVisibleRange(t))?a=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),a=QO(i).unit,o=this.buildRangeFromDuration(t,n,i,a)),{duration:i,unit:a,range:o}}getFallbackDuration(){return Ut({day:1})}adjustActiveRange(t){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:a}=this.props,{start:o,end:l}=t;return r&&(bm(i)<0&&(o=An(o),o=n.add(o,i)),bm(a)>1&&(l=An(l),l=Wr(l,-1),l=n.add(l,a))),{start:o,end:l}}buildRangeFromDuration(t,n,r,i){let{dateEnv:a,dateAlignment:o}=this.props,l,c,u;if(!o){let{dateIncrement:f}=this.props;f&&Ga(f)<Ga(r)?o=QO(f).unit:o=i}bm(r)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=An(l));function d(){l=a.startOf(t,o),c=a.add(l,r),u={start:l,end:c}}return d(),this.trimHiddenDays(u)||(t=this.skipHiddenDays(t,n),d()),u}buildRangeFromDayCount(t,n,r){let{dateEnv:i,dateAlignment:a}=this.props,o=0,l=t,c;a&&(l=i.startOf(l,a)),l=An(l),l=this.skipHiddenDays(l,n),c=l;do c=Wr(c,1),this.isHiddenDay(c)||(o+=1);while(o<r);return{start:l,end:c}}buildCustomVisibleRange(t){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(t)):r,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(t,n,r){return t}buildDateIncrement(t){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Ut(1,r):t||Ut({days:1}))}refineRange(t){if(t){let n=qvt(t,this.props.dateEnv);return n&&(n=ece(n)),n}return null}initHiddenDays(){let t=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&t.push(0,6),i=0;i<7;i+=1)(n[i]=t.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(t){let{start:n,end:r}=t;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,n=1,r=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(r?n:0)+7)%7];)t=Wr(t,n);return t}}function kL(e,t,n,r){return{instanceId:Qf(),defId:e,range:t,forcedStartTzo:n??null,forcedEndTzo:r??null}}function Gvt(e,t,n,r){for(let i=0;i<r.length;i+=1){let a=r[i].parse(e,n);if(a){let{allDay:o}=e;return o==null&&(o=t,o==null&&(o=a.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function Rf(e,t,n){let{dateEnv:r,pluginHooks:i,options:a}=n,{defs:o,instances:l}=e;l=Pf(l,c=>!o[c.defId].recurringDef);for(let c in o){let u=o[c];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let f=Kvt(u,d,t,r,i.recurringTypes);for(let h of f){let m=kL(c,{start:h,end:r.add(h,d)});l[m.instanceId]=m}}}return{defs:o,instances:l}}function Kvt(e,t,n,r,i){let o=i[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(o=o.map(An)),o}const ej={id:String,groupId:String,title:String,url:String,interactive:Boolean},nce={start:he,end:he,date:he,allDay:Boolean},Yvt=Object.assign(Object.assign(Object.assign({},ej),nce),{extendedProps:he});function rce(e,t,n,r,i=AL(n),a,o){let{refined:l,extra:c}=sce(e,n,i),u=Qvt(t,n),d=Gvt(l,u,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let h=ZO(l,c,t?t.sourceId:"",d.allDay,!!d.duration,n,a);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=Xvt(l,u,n,r);if(f){let h=ZO(l,c,t?t.sourceId:"",f.allDay,f.hasEnd,n,a),m=kL(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(m.instanceId=o[h.publicId]),{def:h,instance:m}}return null}function sce(e,t,n=AL(t)){return _L(e,n)}function AL(e){return Object.assign(Object.assign(Object.assign({},FN),Yvt),e.pluginHooks.eventRefiners)}function ZO(e,t,n,r,i,a,o){let l={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(o&&e.id?o[e.id]:"")||Qf(),sourceId:n,allDay:r,hasEnd:i,interactive:e.interactive,ui:zN(e,a),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let c of a.pluginHooks.eventDefMemberAdders)Object.assign(l,c(e));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function Xvt(e,t,n,r){let{allDay:i}=e,a,o=null,l=!1,c,u=null,d=e.start!=null?e.start:e.date;if(a=n.dateEnv.createMarkerMeta(d),a)o=a.marker;else if(!r)return null;return e.end!=null&&(c=n.dateEnv.createMarkerMeta(e.end)),i==null&&(t!=null?i=t:i=(!a||a.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),i&&o&&(o=An(o)),c&&(u=c.marker,i&&(u=An(u)),o&&u<=o&&(u=null)),u?l=!0:r||(l=n.options.forceEventDuration||!1,u=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:o,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function Qvt(e,t){let n=null;return e&&(n=e.defaultAllDay),n==null&&(n=t.options.defaultAllDay),n}function Oy(e,t,n,r,i,a){let o=$i(),l=AL(n);for(let c of e){let u=rce(c,t,n,r,l,i,a);u&&eR(u,o)}return o}function eR(e,t=$i()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function TL(e,t){let n=e.instances[t];if(n){let r=e.defs[n.defId],i=gC(e,a=>Jvt(r,a));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return $i()}function Jvt(e,t){return!!(e.groupId&&e.groupId===t.groupId)}function $i(){return{defs:{},instances:{}}}function PL(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function gC(e,t){let n=Pf(e.defs,t),r=Pf(e.instances,i=>n[i.defId]);return{defs:n,instances:r}}function Zvt(e,t){let{defs:n,instances:r}=e,i={},a={};for(let o in n)t.defs[o]||(i[o]=n[o]);for(let o in r)!t.instances[o]&&i[r[o].defId]&&(a[o]=r[o]);return{defs:i,instances:a}}function eyt(e,t){return Array.isArray(e)?Oy(e,null,t,!0):typeof e=="object"&&e?Oy([e],null,t,!0):e!=null?String(e):null}function HV(e){return Array.isArray(e)?e:typeof e=="string"?e.split(/\s+/):[]}const FN={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:he,overlap:he,allow:he,className:HV,classNames:HV,color:String,backgroundColor:String,borderColor:String,textColor:String},tyt={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function zN(e,t){let n=eyt(e.constraint,t);return{display:e.display||null,startEditable:e.startEditable!=null?e.startEditable:e.editable,durationEditable:e.durationEditable!=null?e.durationEditable:e.editable,constraints:n!=null?[n]:[],overlap:e.overlap!=null?e.overlap:null,allows:e.allow!=null?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function ice(e){return e.reduce(nyt,tyt)}function nyt(e,t){return{display:t.display!=null?t.display:e.display,startEditable:t.startEditable!=null?t.startEditable:e.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const ryt={id:String,defaultAllDay:Boolean,url:String,format:String,events:he,eventDataTransform:he,success:he,failure:he};function ace(e,t,n=oce(t)){let r;if(typeof e=="string"?r={url:e}:typeof e=="function"||Array.isArray(e)?r={events:e}:typeof e=="object"&&e&&(r=e),r){let{refined:i,extra:a}=_L(r,n),o=syt(i,t);if(o)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Qf(),sourceDefId:o.sourceDefId,meta:o.meta,ui:zN(i,t),extendedProps:a}}return null}function oce(e){return Object.assign(Object.assign(Object.assign({},FN),ryt),e.pluginHooks.eventSourceRefiners)}function syt(e,t){let n=t.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let a=n[r].parseMeta(e);if(a)return{sourceDefId:r,meta:a}}return null}function iyt(e,t,n,r,i){switch(t.type){case"RECEIVE_EVENTS":return ayt(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,i);case"RESET_RAW_EVENTS":return oyt(e,n[t.sourceId],t.rawEvents,r.activeRange,i);case"ADD_EVENTS":return lyt(e,t.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return PL(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Rf(e,r.activeRange,i):e;case"REMOVE_EVENTS":return Zvt(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return cce(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return gC(e,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return $i();default:return e}}function ayt(e,t,n,r,i,a){if(t&&n===t.latestFetchId){let o=Oy(lce(i,t,a),t,a);return r&&(o=Rf(o,r,a)),PL(cce(e,t.sourceId),o)}return e}function oyt(e,t,n,r,i){const{defIdMap:a,instanceIdMap:o}=uyt(e);let l=Oy(lce(n,t,i),t,i,!1,a,o);return Rf(l,r,i)}function lce(e,t,n){let r=n.options.eventDataTransform,i=t?t.eventDataTransform:null;return i&&(e=WV(e,i)),r&&(e=WV(e,r)),e}function WV(e,t){let n;if(!t)n=e;else{n=[];for(let r of e){let i=t(r);i?n.push(i):i==null&&n.push(r)}}return n}function lyt(e,t,n,r){return n&&(t=Rf(t,n,r)),PL(e,t)}function GV(e,t,n){let{defs:r}=e,i=Gl(e.instances,a=>r[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:n.createMarker(t.toDate(a.range.start,a.forcedStartTzo)),end:n.createMarker(t.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:a.forcedEndTzo}));return{defs:r,instances:i}}function cce(e,t){return gC(e,n=>n.sourceId!==t)}function cyt(e,t){return{defs:e.defs,instances:Pf(e.instances,n=>!t[n.instanceId])}}function uyt(e){const{defs:t,instances:n}=e,r={},i={};for(let a in t){const o=t[a],{publicId:l}=o;l&&(r[l]=a)}for(let a in n){const o=n[a],l=t[o.defId],{publicId:c}=l;c&&(i[c]=a)}return{defIdMap:r,instanceIdMap:i}}class xC{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,n){dyt(this.handlers,t,n)}off(t,n){fyt(this.handlers,t,n)}trigger(t,...n){let r=this.handlers[t]||[],i=this.options&&this.options[t],a=[].concat(i||[],r);for(let o of a)o.apply(this.thisContext,n)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}function dyt(e,t,n){(e[t]||(e[t]=[])).push(n)}function fyt(e,t,n){n?e[t]&&(e[t]=e[t].filter(r=>r!==n)):delete e[t]}const hyt={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function myt(e,t){return Oy(pyt(e),null,t)}function pyt(e){let t;return e===!0?t=[{}]:Array.isArray(e)?t=e.filter(n=>n.daysOfWeek):typeof e=="object"&&e?t=[e]:t=[],t=t.map(n=>Object.assign(Object.assign({},hyt),n)),t}function uce(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},OL(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function gyt(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function OL(e,t){let n={};for(let r of t.pluginHooks.dateSpanTransforms)Object.assign(n,r(e,t));return Object.assign(n,Tyt(e,t.dateEnv)),n}function KV(e,t,n){let{dateEnv:r,options:i}=n,a=t;return e?(a=An(a),a=r.add(a,i.defaultAllDayEventDuration)):a=r.add(a,i.defaultTimedEventDuration),a}function RL(e,t,n,r){let i=BN(e.defs,t),a=$i();for(let o in e.defs){let l=e.defs[o];a.defs[o]=xyt(l,i[o],n,r)}for(let o in e.instances){let l=e.instances[o],c=a.defs[l.defId];a.instances[o]=vyt(l,c,i[l.defId],n,r)}return a}function xyt(e,t,n,r){let i=n.standardProps||{};i.hasEnd==null&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},e),i),{ui:Object.assign(Object.assign({},e.ui),i.ui)});n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function vyt(e,t,n,r,i){let{dateEnv:a}=i,o=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,c=Object.assign({},e);return o&&(c.range=Zle(c.range)),r.datesDelta&&n.startEditable&&(c.range={start:a.add(c.range.start,r.datesDelta),end:a.add(c.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(c.range={start:a.add(c.range.start,r.startDelta),end:c.range.end}),r.endDelta&&n.durationEditable&&(c.range={start:c.range.start,end:a.add(c.range.end,r.endDelta)}),l&&(c.range={start:c.range.start,end:KV(t.allDay,c.range.start,i)}),t.allDay&&(c.range={start:An(c.range.start),end:An(c.range.end)}),c.range.end<c.range.start&&(c.range.end=KV(t.allDay,c.range.start,i)),c}class kh{constructor(t,n){this.context=t,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Un{constructor(t,n,r){this._context=t,this._def=n,this._instance=r||null}setProp(t,n){if(t in nce)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")n=ej[t](n),this.mutate({standardProps:{publicId:n}});else if(t in ej)n=ej[t](n),this.mutate({standardProps:{[t]:n}});else if(t in FN){let r=FN[t](n);t==="color"?r={backgroundColor:n,borderColor:n}:t==="editable"?r={startEditable:n,durationEditable:n}:r={[t]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,n){this.mutate({extendedProps:{[t]:n}})}setStart(t,n={}){let{dateEnv:r}=this._context,i=r.createMarker(t);if(i&&this._instance){let a=this._instance.range,o=Zh(a.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(t,n={}){let{dateEnv:r}=this._context,i;if(!(t!=null&&(i=r.createMarker(t),!i))&&this._instance)if(i){let a=Zh(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,n,r={}){let{dateEnv:i}=this._context,a={allDay:r.allDay},o=i.createMarker(t),l;if(o&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){let c=this._instance.range;r.allDay===!0&&(c=Zle(c));let u=Zh(c.start,o,i,r.granularity);if(l){let d=Zh(c.end,l,i,r.granularity);qxt(u,d)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:d,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(t){let n=Ut(t);n&&this.mutate({startDelta:n})}moveEnd(t){let n=Ut(t);n&&this.mutate({endDelta:n})}moveDates(t){let n=Ut(t);n&&this.mutate({datesDelta:n})}setAllDay(t,n={}){let r={allDay:t},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(t){let{dateEnv:n}=this._context,r=this._instance,i=Kn(t);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(t){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),o=TL(a,n.instanceId);o=RL(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,i);let c=new Un(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:tf(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let t=this._context,n=dce(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:n}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:t}=this._def;return t?new kh(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:a}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),a&&(o.end=a),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),t.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(t.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function dce(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function tf(e,t,n){let{defs:r,instances:i}=e,a=[],o=n?n.instanceId:"";for(let l in i){let c=i[l],u=r[c.defId];c.instanceId!==o&&a.push(new Un(t,u,c))}return a}function YV(e,t,n,r){let i={},a={},o={},l=[],c=[],u=BN(e.defs,t);for(let d in e.defs){let f=e.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],o[f.groupId]||(o[f.groupId]=f)):a[d]=[])}for(let d in e.instances){let f=e.instances[d],h=e.defs[f.defId],m=u[h.defId],p=f.range,g=!h.allDay&&r?ece(p,r):p,y=Of(g,n);y&&(m.display==="inverse-background"?h.groupId?i[h.groupId].push(y):a[f.defId].push(y):m.display!=="none"&&(m.display==="background"?l:c).push({def:h,ui:m,instance:f,range:y,isStart:g.start&&g.start.valueOf()===y.start.valueOf(),isEnd:g.end&&g.end.valueOf()===y.end.valueOf()}))}for(let d in i){let f=i[d],h=VV(f,n);for(let m of h){let p=o[d],g=u[p.defId];l.push({def:p,ui:g,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let d in a){let f=a[d],h=VV(f,n);for(let m of h)l.push({def:e.defs[d],ui:u[d],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:l,fg:c}}function yyt(e){return e.ui.display==="background"||e.ui.display==="inverse-background"}function XV(e,t){e.fcSeg=t}function Ep(e){return e.fcSeg||e.parentNode.fcSeg||null}function BN(e,t){return Gl(e,n=>fce(n,t))}function fce(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),ice(n)}function hce(e,t){let n=e.map(byt);return n.sort((r,i)=>Ixt(r,i,t)),n.map(r=>r._seg)}function byt(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,i=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:e})}function wyt(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:i,ui:a}=e.eventRange,o=a.startEditable;for(let l of r)o=l(o,i,a,t);return o}function jyt(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function _yt(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function mce(e,t,n,r,i,a,o){let{dateEnv:l,options:c}=n,{displayEventTime:u,displayEventEnd:d}=c,f=e.eventRange.def,h=e.eventRange.instance;u==null&&(u=r!==!1),d==null&&(d=i!==!1);let m=h.range.start,p=h.range.end,g=e.start||e.eventRange.range.start,y=e.end||e.eventRange.range.end,v=An(m).valueOf()===An(g).valueOf(),w=An(Au(p,-1)).valueOf()===An(Au(y,-1)).valueOf();return u&&!f.allDay&&(v||w)?(g=v?m:g,y=w?p:y,d&&f.hasEnd?l.formatRange(g,y,t,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):l.format(g,t,{forcedTzo:h.forcedStartTzo})):""}function mu(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&El(t,r.start)}}function Nyt(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function pce(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function gce(e,t){let{def:n,instance:r}=e.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:a,options:o}=t,{eventInteractive:l}=o;return l==null&&(l=n.interactive,l==null&&(l=!!a.hasHandlers("eventClick"))),l?Vle(c=>{a.trigger("eventClick",{el:c.target,event:new Un(t,n,r),jsEvent:c,view:t.viewApi})}):{}}const Syt={start:he,end:he,allDay:Boolean};function Cyt(e,t,n){let r=Eyt(e,t),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=t.add(i.start,n)}return r}function Eyt(e,t){let{refined:n,extra:r}=_L(e,Syt),i=n.start?t.createMarkerMeta(n.start):null,a=n.end?t.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:o},r)}function kyt(e,t){return Hvt(e.range,t.range)&&e.allDay===t.allDay&&Ayt(e,t)}function Ayt(e,t){for(let n in t)if(n!=="range"&&n!=="allDay"&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}function Tyt(e,t){return Object.assign(Object.assign({},vce(e.range,t,e.allDay)),{allDay:e.allDay})}function xce(e,t,n){return Object.assign(Object.assign({},vce(e,t,n)),{timeZone:t.timeZone})}function vce(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function Pyt(e,t,n){let r=sce({editable:!1},n),i=ZO(r.refined,r.extra,"",e.allDay,!0,n);return{def:i,ui:fce(i,t),instance:kL(i.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function Oyt(e,t,n){let r=!1,i=function(l){r||(r=!0,t(l))},a=function(l){r||(r=!0,n(l))},o=e(i,a);o&&typeof o.then=="function"&&o.then(i,a)}class QV extends Error{constructor(t,n){super(t),this.response=n}}function Ryt(e,t,n){e=e.toUpperCase();const r={method:e};return e==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new QV("Failure parsing JSON",i)});throw new QV("Request failed",i)})}let cA;function yce(){return cA==null&&(cA=Dyt()),cA}function Dyt(){if(typeof document>"u")return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let n=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),n}class Myt extends on{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{LN(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{LN(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:n}=t,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",a=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,t.theme.getClass("root")];return yce()||o.push("fc-liquid-hack"),t.children(o,a,i,r)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}}class jg{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}}function Iyt(e,t){return{component:e,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function DL(e){return{[e.component.uid]:e}}const tR={};class _g extends Li{constructor(t,n){super(t,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:n}=this;return t.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(t.unit)||(t.unitValue||1)===1);let a,o;return i?(a=n.dateEnv.startOf(r,t.unit),o=n.dateEnv.add(a,Ut(1,t.unit)).valueOf()-r.valueOf()):(a=r,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:a,todayRange:Lyt(a)},waitMs:o}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}_g.contextType=tc;function Lyt(e){let t=An(e),n=Wr(t,1);return{start:t,end:n}}class $yt{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,n){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:n})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[t]?r.emitter.on(t,n):console.warn(`Unknown listener name '${t}'`)}off(t,n){this.currentDataManager.emitter.off(t,n)}trigger(t,...n){this.currentDataManager.emitter.trigger(t,...n)}changeView(t,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),a,o;for(let l in n)i.push(l);for(a=0;a<i.length;a+=1)if(o=n[i[a]],o&&o.singleUnit===t)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(t)})}incrementDate(t){let n=this.getCurrentData(),r=Ut(t);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(t),Kn(n))}formatRange(t,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(t),i.createMarker(n),Kn(r),r)}formatIso(t,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(t),{omitTime:n})}select(t,n){let r;n==null?t.start!=null?r=t:r={start:t,end:null}:r={start:t,end:n};let i=this.getCurrentData(),a=Cyt(r,i.dateEnv,Ut({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),uce(a,null,i))}unselect(t){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),gyt(t,n))}addEvent(t,n){if(t instanceof Un){let o=t._def,l=t._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:eR({def:o,instance:l})}),this.triggerEventAdd(t)),t}let r=this.getCurrentData(),i;if(n instanceof kh)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=SL(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let a=rce(t,i,r,!1);if(a){let o=new Un(r,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:eR(a)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(t){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:dce(t)})}})}getEventById(t){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;t=String(t);for(let a in r){let o=r[a];if(o.publicId===t){if(o.recurringDef)return new Un(n,o,null);for(let l in i){let c=i[l];if(c.defId===o.defId)return new Un(n,o,c)}}}return null}getEvents(){let t=this.getCurrentData();return tf(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),n=t.eventSources,r=[];for(let i in n)r.push(new kh(t,n[i]));return r}getEventSourceById(t){let n=this.getCurrentData(),r=n.eventSources;t=String(t);for(let i in r)if(r[i].publicId===t)return new kh(n,r[i]);return null}addEventSource(t){let n=this.getCurrentData();if(t instanceof kh)return n.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let r=ace(t,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new kh(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let n=Ut(t);n&&this.trigger("_scrollRequest",{time:n})}}function Fyt(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function bce(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function zyt(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function Byt(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function Uyt(e,t){return{left:e.left-t.left,top:e.top-t.top}}const uA=$i();class qyt{constructor(){this.getKeysForEventDefs=tt(this._getKeysForEventDefs),this.splitDateSelection=tt(this._splitDateSpan),this.splitEventStore=tt(this._splitEventStore),this.splitIndividualUi=tt(this._splitIndividualUi),this.splitEventDrag=tt(this._splitInteraction),this.splitEventResize=tt(this._splitInteraction),this.eventUiBuilders={}}splitProps(t){let n=this.getKeyInfo(t),r=this.getKeysForEventDefs(t.eventStore),i=this.splitDateSelection(t.dateSelection),a=this.splitIndividualUi(t.eventUiBases,r),o=this.splitEventStore(t.eventStore,r),l=this.splitEventDrag(t.eventDrag),c=this.splitEventResize(t.eventResize),u={};this.eventUiBuilders=Gl(n,(d,f)=>this.eventUiBuilders[f]||tt(Vyt));for(let d in n){let f=n[d],h=o[d]||uA,m=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||t.businessHours,dateSelection:i[d]||null,eventStore:h,eventUiBases:m(t.eventUiBases[""],f.ui,a[d]),eventSelection:h.instances[t.eventSelection]?t.eventSelection:"",eventDrag:l[d]||null,eventResize:c[d]||null}}return u}_splitDateSpan(t){let n={};if(t){let r=this.getKeysForDateSpan(t);for(let i of r)n[i]=t}return n}_getKeysForEventDefs(t){return Gl(t.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(t,n){let{defs:r,instances:i}=t,a={};for(let o in r)for(let l of n[o])a[l]||(a[l]=$i()),a[l].defs[o]=r[o];for(let o in i){let l=i[o];for(let c of n[l.defId])a[c]&&(a[c].instances[o]=l)}return a}_splitIndividualUi(t,n){let r={};for(let i in t)if(i)for(let a of n[i])r[a]||(r[a]={}),r[a][i]=t[i];return r}_splitInteraction(t){let n={};if(t){let r=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),i=this._getKeysForEventDefs(t.mutatedEvents),a=this._splitEventStore(t.mutatedEvents,i),o=l=>{n[l]||(n[l]={affectedEvents:r[l]||uA,mutatedEvents:a[l]||uA,isEvent:t.isEvent})};for(let l in r)o(l);for(let l in a)o(l)}return n}}function Vyt(e,t,n){let r=[];e&&r.push(e),t&&r.push(t);let i={"":ice(r)};return n&&Object.assign(i,n),i}function wce(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!El(r.activeRange,e))),isOther:!!(r&&!El(r.currentRange,e)),isToday:!!(t&&El(t,e)),isPast:!!(t&&e<t.start),isFuture:!!(t&&e>=t.end)}}function ML(e,t){let n=["fc-day",`fc-day-${Kxt[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}const Hyt=Kn({year:"numeric",month:"long",day:"numeric"}),Wyt=Kn({week:"long"});function UN(e,t,n="day",r=!0){const{dateEnv:i,options:a,calendarApi:o}=e;let l=i.format(t,n==="week"?Wyt:Hyt);if(a.navLinks){let c=i.toDate(t);const u=d=>{let f=n==="day"?a.navLinkDayClick:n==="week"?a.navLinkWeekClick:null;typeof f=="function"?f.call(o,i.toDate(t),d):(typeof f=="string"&&(n=f),o.zoomTo(t,n))};return Object.assign({title:ev(a.navLinkHint,[l,c],l),"data-navlink":""},r?qle(u):{onClick:u})}return{"aria-label":l}}let dA=null;function Gyt(){return dA===null&&(dA=Kyt()),dA}function Kyt(){let e=document.createElement("div");Zx(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let n=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return xL(e),n}let fA;function Yyt(){return fA||(fA=Xyt()),fA}function Xyt(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=jce(e);return document.body.removeChild(e),t}function jce(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function Qyt(e,t=!1){let n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,a=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,l=jce(e),c=l.y-r-i,u=l.x-a-o,d={borderLeft:r,borderRight:i,borderTop:a,borderBottom:o,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return Gyt()&&n.direction==="rtl"?d.scrollbarLeft=c:d.scrollbarRight=c,t&&(d.paddingLeft=parseInt(n.paddingLeft,10)||0,d.paddingRight=parseInt(n.paddingRight,10)||0,d.paddingTop=parseInt(n.paddingTop,10)||0,d.paddingBottom=parseInt(n.paddingBottom,10)||0),d}function Jyt(e,t=!1,n){let r=IL(e),i=Qyt(e,t),a={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return t&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function IL(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function Zyt(e){let t=_ce(e),n=e.getBoundingClientRect();for(let r of t){let i=bce(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function _ce(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class kp{constructor(t,n,r,i){this.els=n;let a=this.originClientRect=t.getBoundingClientRect();r&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(t){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.left-t),r.push(a.right-t)}this.lefts=n,this.rights=r}buildElVerticals(t){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.top-t),r.push(a.bottom-t)}this.tops=n,this.bottoms=r}leftToIndex(t){let{lefts:n,rights:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(t>=n[a]&&t<r[a])return a}topToIndex(t){let{tops:n,bottoms:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(t>=n[a]&&t<r[a])return a}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return mw(this.tops||[],t.tops||[])&&mw(this.bottoms||[],t.bottoms||[])&&mw(this.lefts||[],t.lefts||[])&&mw(this.rights||[],t.rights||[])}}function mw(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class LL{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class ebt extends LL{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class tbt extends LL{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Qo extends on{constructor(){super(...arguments),this.uid=Qf()}prepareHits(){}queryHit(t,n,r,i){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!hs(t,".fc-event-mirror")}isValidDateDownEl(t){return!hs(t,".fc-event:not(.fc-bg-event)")&&!hs(t,".fc-more-link")&&!hs(t,"a[data-navlink]")&&!hs(t,".fc-popover")}}class Nce{constructor(t=n=>n.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let n=[];for(let r of t)this.insertEntry(r,n);return n}insertEntry(t,n){let r=this.findInsertion(t);this.isInsertionValid(r,t)?this.insertEntryAt(t,r):this.handleInvalidInsertion(r,t,n)}isInsertionValid(t,n){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,n,r){if(this.allowReslicing&&t.touchingEntry){const i=Object.assign(Object.assign({},n),{span:$L(n.span,t.touchingEntry.span)});r.push(i),this.splitEntry(n,t.touchingEntry,r)}else r.push(n)}splitEntry(t,n,r){let i=t.span,a=n.span;i.start<a.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:i.start,end:a.start}},r),i.end>a.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:a.end,end:i.end}},r)}insertEntryAt(t,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(hA(i,n.level,n.levelCoord),hA(r,n.level,[t])):hA(r[n.level],n.lateral,t),this.stackCnts[nf(t)]=n.stackCnt}findInsertion(t){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:a}=this,o=n.length,l=0,c=-1,u=-1,d=null,f=0;for(let p=0;p<o;p+=1){const g=n[p];if(!i&&g>=l+this.getEntryThickness(t))break;let y=r[p],v,w=rR(y,t.span.start,nR),b=w[0]+w[1];for(;(v=y[b])&&v.span.start<t.span.end;){let j=g+this.getEntryThickness(v);j>l&&(l=j,d=v,c=p,u=b),j===l&&(f=Math.max(f,a[nf(v)]+1)),b+=1}}let h=0;if(d)for(h=c+1;h<o&&n[h]<l;)h+=1;let m=-1;return h<o&&n[h]===l&&(m=rR(r[h],t.span.end,nR)[0]),{touchingLevel:c,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:l,level:h,lateral:m}}toRects(){let{entriesByLevel:t,levelCoords:n}=this,r=t.length,i=[];for(let a=0;a<r;a+=1){let o=t[a],l=n[a];for(let c of o)i.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:l}))}return i}}function nR(e){return e.span.end}function nf(e){return e.index+":"+e.span.start}function nbt(e){let t=[];for(let n of e){let r=[],i={span:n.span,entries:[n]};for(let a of t)$L(a.span,i.span)?i={entries:a.entries.concat(i.entries),span:rbt(a.span,i.span)}:r.push(a);r.push(i),t=r}return t}function rbt(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function $L(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function hA(e,t,n){e.splice(t,0,n)}function rR(e,t,n){let r=0,i=e.length;if(!i||t<n(e[r]))return[0,0];if(t>n(e[i-1]))return[i,0];for(;r<i;){let a=Math.floor(r+(i-r)/2),o=n(e[a]);if(t<o)i=a;else if(t>o)r=a+1;else return[a,1]}return[r,0]}class sbt{constructor(t,n){this.emitter=new xC}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}}const FL={};function ibt(e,t){return!e||t>10?Kn({weekday:"short"}):t>1?Kn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Kn({weekday:"long"})}const Sce="fc-col-header-cell";function Cce(e){return e.text}class abt extends on{render(){let{dateEnv:t,options:n,theme:r,viewApi:i}=this.context,{props:a}=this,{date:o,dateProfile:l}=a,c=wce(o,a.todayRange,null,l),u=[Sce].concat(ML(c,r)),d=t.format(o,a.dayHeaderFormat),f=!c.isDisabled&&a.colCnt>1?UN(this.context,o):{},h=t.toDate(o);t.namedTimeZoneImpl&&(h=Au(h,36e5));let m=Object.assign(Object.assign(Object.assign({date:h,view:i},a.extraRenderProps),{text:d}),c);return Z(Wi,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":c.isDisabled?void 0:wL(o)},a.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Cce,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>Z("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&Z(p,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const obt=Kn({weekday:"long"});class lbt extends on{render(){let{props:t}=this,{dateEnv:n,theme:r,viewApi:i,options:a}=this.context,o=Wr(new Date(2592e5),t.dow),l={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=n.format(o,t.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:o},l),{view:i}),t.extraRenderProps),{text:c});return Z(Wi,{elTag:"th",elClasses:[Sce,...ML(l,r),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:Cce,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},d=>Z("div",{className:"fc-scrollgrid-sync-inner"},Z(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,obt)}})))}}class Ece extends on{constructor(){super(...arguments),this.createDayHeaderFormatter=tt(cbt)}render(){let{context:t}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:a}=this.props,o=this.createDayHeaderFormatter(t.options.dayHeaderFormat,i,n.length);return Z(_g,{unit:"day"},(l,c)=>Z("tr",{role:"row"},a&&a("day"),n.map(u=>i?Z(abt,{key:u.toISOString(),date:u,dateProfile:r,todayRange:c,colCnt:n.length,dayHeaderFormat:o}):Z(lbt,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:o}))))}}function cbt(e,t,n){return e||ibt(t,n)}class kce{constructor(t,n){let r=t.start,{end:i}=t,a=[],o=[],l=-1;for(;r<i;)n.isHiddenDay(r)?a.push(l+.5):(l+=1,a.push(l),o.push(r)),r=Wr(r,1);this.dates=o,this.indices=a,this.cnt=o.length}sliceRange(t){let n=this.getDateDayIndex(t.start),r=this.getDateDayIndex(Wr(t.end,-1)),i=Math.max(0,n),a=Math.min(this.cnt-1,r);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:n===i,isEnd:r===a}:null}getDateDayIndex(t){let{indices:n}=this,r=Math.floor(Jf(this.dates[0],t));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class Ace{constructor(t,n){let{dates:r}=t,i,a,o;if(n){for(a=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==a;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));t.push(r)}return t}buildCell(t,n){let r=this.daySeries.dates[t*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let t=[];for(let n=0;n<this.colCnt;n+=1)t.push(this.cells[0][n].date);return t}sliceRange(t){let{colCnt:n}=this,r=this.daySeries.sliceRange(t),i=[];if(r){let{firstIndex:a,lastIndex:o}=r,l=a;for(;l<=o;){let c=Math.floor(l/n),u=Math.min((c+1)*n,o+1);i.push({row:c,firstCol:l%n,lastCol:(u-1)%n,isStart:r.isStart&&l===a,isEnd:r.isEnd&&u-1===o}),l=u}}return i}}class Tce{constructor(){this.sliceBusinessHours=tt(this._sliceBusinessHours),this.sliceDateSelection=tt(this._sliceDateSpan),this.sliceEventStore=tt(this._sliceEventStore),this.sliceEventDrag=tt(this._sliceInteraction),this.sliceEventResize=tt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,n,r,i,...a){let{eventUiBases:o}=t,l=this.sliceEventStore(t.eventStore,o,n,r,...a);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,n,r,o,i,...a),businessHourSegs:this.sliceBusinessHours(t.businessHours,n,r,i,...a),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(t.eventDrag,o,n,r,...a),eventResize:this.sliceEventResize(t.eventResize,o,n,r,...a),eventSelection:t.eventSelection}}sliceNowDate(t,n,r,i,...a){return this._sliceDateSpan({range:{start:t,end:Au(t,1)},allDay:!1},n,r,{},i,...a)}_sliceBusinessHours(t,n,r,i,...a){return t?this._sliceEventStore(Rf(t,pw(n,!!r),i),{},n,r,...a).bg:[]}_sliceEventStore(t,n,r,i,...a){if(t){let o=YV(t,n,pw(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,a),fg:this.sliceEventRanges(o.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(t,n,r,i,...a){if(!t)return null;let o=YV(t.mutatedEvents,n,pw(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,a),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,n,r,i,a,...o){if(!t)return[];let l=pw(n,!!r),c=Of(t.range,l);if(c){t=Object.assign(Object.assign({},t),{range:c});let u=Pyt(t,i,a),d=this.sliceRange(t.range,...o);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(t,n){let r=[];for(let i of t)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(t,n){let r=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(r={start:r.start,end:Wr(r.start,1)});let i=this.sliceRange(r,...n);for(let a of i)a.eventRange=t,a.isStart=t.isStart&&a.isStart,a.isEnd=t.isEnd&&a.isEnd;return i}}function pw(e,t){let n=e.activeRange;return t?n:{start:Au(n.start,e.slotMinTime.milliseconds),end:Au(n.end,e.slotMaxTime.milliseconds-864e5)}}function Pce(e,t,n){let{instances:r}=e.mutatedEvents;for(let i in r)if(!pC(t.validRange,r[i].range))return!1;return Oce({eventDrag:e},n)}function ubt(e,t,n){return pC(t.validRange,e.range)?Oce({dateSelection:e},n):!1}function Oce(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||dbt)(r,t)}function dbt(e,t,n={},r){return!(e.eventDrag&&!fbt(e,t,n,r)||e.dateSelection&&!hbt(e,t,n,r))}function fbt(e,t,n,r){let i=t.getCurrentData(),a=e.eventDrag,o=a.mutatedEvents,l=o.defs,c=o.instances,u=BN(l,a.isEvent?e.eventUiBases:{"":i.selectionConfig});r&&(u=Gl(u,r));let d=cyt(e.eventStore,a.affectedEvents.instances),f=d.defs,h=d.instances,m=BN(f,e.eventUiBases);for(let p in c){let g=c[p],y=g.range,v=u[g.defId],w=l[g.defId];if(!Rce(v.constraints,y,d,e.businessHours,t))return!1;let{eventOverlap:b}=t.options,j=typeof b=="function"?b:null;for(let N in h){let S=h[N];if(EL(y,S.range)&&(m[S.defId].overlap===!1&&a.isEvent||v.overlap===!1||j&&!j(new Un(t,f[S.defId],S),new Un(t,w,g))))return!1}let _=i.eventStore;for(let N of v.allows){let S=Object.assign(Object.assign({},n),{range:g.range,allDay:w.allDay}),C=_.defs[w.defId],k=_.instances[p],A;if(C?A=new Un(t,C,k):A=new Un(t,w),!N(OL(S,t),A))return!1}}return!0}function hbt(e,t,n,r){let i=e.eventStore,a=i.defs,o=i.instances,l=e.dateSelection,c=l.range,{selectionConfig:u}=t.getCurrentData();if(r&&(u=r(u)),!Rce(u.constraints,c,i,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,f=typeof d=="function"?d:null;for(let h in o){let m=o[h];if(EL(c,m.range)&&(u.overlap===!1||f&&!f(new Un(t,a[m.defId],m),null)))return!1}for(let h of u.allows){let m=Object.assign(Object.assign({},n),l);if(!h(OL(m,t),null))return!1}return!0}function Rce(e,t,n,r,i){for(let a of e)if(!pbt(mbt(a,t,n,r,i),t))return!1;return!0}function mbt(e,t,n,r,i){return e==="businessHours"?mA(Rf(r,t,i)):typeof e=="string"?mA(gC(n,a=>a.groupId===e)):typeof e=="object"&&e?mA(Rf(e,t,i)):[]}function mA(e){let{instances:t}=e,n=[];for(let r in t)n.push(t[r].range);return n}function pbt(e,t){for(let n of e)if(pC(n,t))return!0;return!1}const gw=/^(visible|hidden)$/;class gbt extends on{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,Ho(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:n,liquidIsAbsolute:r}=t,i=n&&r,a=["fc-scroller"];return n&&(r?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),Z("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:i&&-(t.overcomeLeft||0)||"",right:i&&-(t.overcomeRight||0)||"",bottom:i&&-(t.overcomeBottom||0)||"",marginLeft:!i&&-(t.overcomeLeft||0)||"",marginRight:!i&&-(t.overcomeRight||0)||"",marginBottom:!i&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(gw.test(this.props.overflowX))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=t;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(gw.test(this.props.overflowY))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=t;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return gw.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return gw.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class _l{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:a}=this,o=!1,l=!1;n!==null?(o=r in a,a[r]=n,i[r]=(i[r]||0)+1,l=!0):(i[r]-=1,i[r]||(delete a[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),l&&this.masterCallback(n,String(r)))}}createRef(t){let n=this.callbackMap[t];return n||(n=this.callbackMap[t]=r=>{this.handleValue(r,String(t))}),n}collect(t,n,r){return kvt(this.currentMap,t,n,r)}getAll(){return SL(this.currentMap)}}function xbt(e){let t=Cxt(e,".fc-scrollgrid-shrink"),n=0;for(let r of t)n=Math.max(n,zxt(r));return Math.ceil(n)}function Dce(e,t){return e.liquid&&t.liquid}function vbt(e,t){return t.maxHeight!=null||Dce(e,t)}function ybt(e,t,n,r){let{expandRows:i}=n;return typeof t.content=="function"?t.content(n):Z("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,Z(r?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(n):t.rowContent))}function bbt(e,t){return ku(e,t,co)}function wbt(e,t){let n=[];for(let r of e){let i=r.span||1;for(let a=0;a<i;a+=1)n.push(Z("col",{style:{width:r.width==="shrink"?jbt(t):r.width||"",minWidth:r.minWidth||""}}))}return Z("colgroup",{},...n)}function jbt(e){return e??4}function _bt(e){for(let t of e)if(t.width==="shrink")return!0;return!1}function Nbt(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function Sbt(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&e.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function sR(e){return Z("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function qN(e){let{stickyHeaderDates:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}function Mce(e){let{stickyFooterScrollbar:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}class zL extends on{constructor(){super(...arguments),this.processCols=tt(t=>t,bbt),this.renderMicroColGroup=tt(wbt),this.scrollerRefs=new _l,this.scrollerElRefs=new _l(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:n,context:r}=this,i=t.sections||[],a=this.processCols(t.cols),o=this.renderMicroColGroup(a,n.shrinkWidth),l=Nbt(t.liquid,r);t.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let c=i.length,u=0,d,f=[],h=[],m=[];for(;u<c&&(d=i[u]).type==="header";)f.push(this.renderSection(d,o,!0)),u+=1;for(;u<c&&(d=i[u]).type==="body";)h.push(this.renderSection(d,o,!1)),u+=1;for(;u<c&&(d=i[u]).type==="footer";)m.push(this.renderSection(d,o,!0)),u+=1;let p=!yce();const g={role:"rowgroup"};return Z("table",{role:"grid",className:l.join(" "),style:{height:t.height}},!!(!p&&f.length)&&Z("thead",g,...f),!!(!p&&h.length)&&Z("tbody",g,...h),!!(!p&&m.length)&&Z("tfoot",g,...m),p&&Z("tbody",g,...f,...h,...m))}renderSection(t,n,r){return"outerContent"in t?Z(kn,{key:t.key},t.outerContent):Z("tr",{key:t.key,role:"presentation",className:Sbt(t,this.props.liquid).join(" ")},this.renderChunkTd(t,n,t.chunk,r))}renderChunkTd(t,n,r,i){if("outerContent"in r)return r.outerContent;let{props:a}=this,{forceYScrollbars:o,scrollerClientWidths:l,scrollerClientHeights:c}=this.state,u=vbt(a,t),d=Dce(a,t),f=a.liquid?o?"scroll":u?"auto":"hidden":"visible",h=t.key,m=ybt(t,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&l[h]!==void 0?l[h]:null,clientHeight:c[h]!==void 0?c[h]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return Z(i?"th":"td",{ref:r.elRef,role:"presentation"},Z("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},Z(gbt,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:a.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:d,liquidIsAbsolute:!0},m)))}_handleScrollerEl(t,n){let r=Cbt(this.props.sections,n);r&&Ho(r.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return _bt(this.props.cols)?xbt(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=Yyt(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,a={},o={};for(let l in n.currentMap){let c=n.currentMap[l];if(c&&c.needsYScrolling()){i=!0;break}}for(let l of this.props.sections){let c=l.key,u=r.currentMap[c];if(u){let d=u.parentNode;a[c]=Math.floor(d.getBoundingClientRect().width-(i?t.y:0)),o[c]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:o}}}zL.addStateEquality({scrollerClientWidths:co,scrollerClientHeights:co});function Cbt(e,t){for(let n of e)if(n.key===t)return n;return null}class BL extends on{constructor(){super(...arguments),this.buildPublicEvent=tt((t,n,r)=>new Un(t,n,r)),this.handleEl=t=>{this.el=t,Ho(this.props.elRef,t),t&&XV(t,this.props.seg)}}render(){const{props:t,context:n}=this,{options:r}=n,{seg:i}=t,{eventRange:a}=i,{ui:o}=a,l={event:this.buildPublicEvent(n,a.def,a.instance),view:n.viewApi,timeText:t.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!t.disableDragging&&wyt(i,n),isStartResizable:!t.disableResizing&&jyt(i,n),isEndResizable:!t.disableResizing&&_yt(i),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return Z(Wi,{elRef:this.handleEl,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:[...Nyt(l),...i.eventRange.ui.classNames,...t.elClasses||[]],elStyle:t.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},t.children)}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&XV(this.el,this.props.seg)}}class UL extends on{render(){let{props:t,context:n}=this,{options:r}=n,{seg:i}=t,{ui:a}=i.eventRange,o=r.eventTimeFormat||t.defaultTimeFormat,l=mce(i,o,n,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return Z(BL,Object.assign({},t,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:gce(i,n),defaultGenerator:Ebt,timeText:l}),(c,u)=>Z(kn,null,Z(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&Z("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}UL.addPropsEquality({seg:co});function Ebt(e){return Z("div",{className:"fc-event-main-frame"},e.timeText&&Z("div",{className:"fc-event-time"},e.timeText),Z("div",{className:"fc-event-title-container"},Z("div",{className:"fc-event-title fc-sticky"},e.event.title||Z(kn,null," "))))}const qL=e=>Z(tc.Consumer,null,t=>{let{options:n}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return Z(Wi,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}),kbt=Kn({day:"numeric"});class VL extends on{constructor(){super(...arguments),this.refineRenderProps=Zw(Abt)}render(){let{props:t,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return Z(Wi,{elRef:t.elRef,elTag:t.elTag,elAttrs:Object.assign(Object.assign({},t.elAttrs),i.isDisabled?{}:{"data-date":wL(t.date)}),elClasses:[...ML(i,n.theme),...t.elClasses||[]],elStyle:t.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},t.children)}}function HL(e){return!!(e.dayCellContent||JO("dayCellContent",e))}function Abt(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:i}=e,a=wce(t,e.todayRange,null,r),o=e.showDayNumber?n.format(t,i?e.monthStartFormat:kbt):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},a),{isMonthStart:i,dayNumberText:o}),e.extraRenderProps)}class Ice extends on{render(){let{props:t}=this,{seg:n}=t;return Z(BL,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:Tbt,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}}function Tbt(e){let{title:t}=e.event;return t&&Z("div",{className:"fc-event-title"},e.event.title)}function Lce(e){return Z("div",{className:`fc-${e}`})}const $ce=e=>Z(tc.Consumer,null,t=>{let{dateEnv:n,options:r}=t,{date:i}=e,a=r.weekNumberFormat||e.defaultFormat,o=n.computeWeekNumber(i),l=n.format(i,a),c={num:o,text:l,date:i};return Z(Wi,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:c,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Pbt,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)});function Pbt(e){return e.text}const pA=10;class Obt extends on{constructor(){super(...arguments),this.state={titleId:hC()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&Ho(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{const n=Ble(t);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:n}=this.context,{props:r,state:i}=this,a=["fc-popover",t.getClass("popover")].concat(r.extraClassNames||[]);return fxt(Z("div",Object.assign({},r.extraAttrs,{id:r.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),Z("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},Z("span",{className:"fc-popover-title",id:i.titleId},r.title),Z("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),Z("div",{className:"fc-popover-body "+t.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,a=Zyt(n);if(a){let o=i.getBoundingClientRect(),l=r?hs(n,".fc-scrollgrid").getBoundingClientRect().top:a.top,c=t?a.right-o.width:a.left;l=Math.max(l,pA),c=Math.min(c,document.documentElement.clientWidth-pA-o.width),c=Math.max(c,pA);let u=i.offsetParent.getBoundingClientRect();Zx(i,{top:l-u.top,left:c-u.left})}}}class Rbt extends Qo{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:a,dateProfile:o}=r,l=n.format(i,t.dayPopoverFormat);return Z(VL,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:a},(c,u,d)=>Z(Obt,{elRef:d.ref,id:r.id,title:l,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},HL(t)&&Z(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(t,n,r,i){let{rootEl:a,props:o}=this;return t>=0&&t<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class Fce extends on{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:hC()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&Ho(this.props.elRef,t)},this.handleClick=t=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,a=JV(n).start;function o(l){let{def:c,instance:u,range:d}=l.eventRange;return{event:new Un(r,c,u),start:r.dateEnv.toDate(d.start),end:r.dateEnv.toDate(d.end),isStart:l.isStart,isEnd:l.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:t,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:n}=this;return Z(tc.Consumer,null,r=>{let{viewApi:i,options:a,calendarApi:o}=r,{moreLinkText:l}=a,{moreCnt:c}=t,u=JV(t),d=typeof l=="function"?l.call(o,c):`+${c} ${l}`,f=ev(a.moreLinkHint,[c],d),h={num:c,shortText:`+${c}`,text:d,view:i};return Z(kn,null,!!t.moreCnt&&Z(Wi,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),qle(this.handleClick)),{title:f,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:t.defaultGenerator||Dbt,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},t.children),n.isPopoverOpen&&Z(Rbt,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=hs(this.linkEl,".fc-view-harness"))}}function Dbt(e){return e.text}function JV(e){if(e.allDayDate)return{start:e.allDayDate,end:Wr(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:zce(t),end:Ibt(t)}}function zce(e){return e.reduce(Mbt).eventRange.range.start}function Mbt(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function Ibt(e){return e.reduce(Lbt).eventRange.range.end}function Lbt(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class $bt{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let n of this.handlers)n(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}}class Fbt extends $bt{constructor(){super(...arguments),this.map=new Map}handle(t){const{map:n}=this;let r=!1;t.isActive?(n.set(t.id,t),r=!0):n.has(t.id)&&(n.delete(t.id),r=!0),r&&this.set(n)}}const zbt=[],Bce={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Uce=Object.assign(Object.assign({},Bce),{buttonHints:{prev:"Previous $0",next:"Next $0",today(e,t){return t==="day"?"Today":`This ${e}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}});function Bbt(e){let t=e.length>0?e[0].code:"en",n=zbt.concat(e),r={en:Uce};for(let i of n)r[i.code]=i;return{map:r,defaultCode:t}}function qce(e,t){return typeof e=="object"&&!Array.isArray(e)?Vce(e.code,[e.code],e):Ubt(e,t)}function Ubt(e,t){let n=[].concat(e||[]),r=qbt(n,t)||Uce;return Vce(e,n,r)}function qbt(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let a=r.slice(0,i).join("-");if(t[a])return t[a]}}return null}function Vce(e,t,n){let r=NL([Bce,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:e,codes:t,week:i,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function nc(e){return{id:Qf(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function Vbt(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let o of a){const l=o.name,c=n[l];c===void 0?(n[l]=o.id,i(o.deps),r=Wbt(r,o)):c!==o.id&&console.warn(`Duplicate plugin '${l}'`)}}return e&&i(e),i(t),r}function Hbt(){let e=[],t=[],n;return(r,i)=>((!n||!ku(r,e)||!ku(i,t))&&(n=Vbt(r,i)),e=r,t=i,n)}function Wbt(e,t){return{premiumReleaseDate:Gbt(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function Gbt(e,t){return e===void 0?t:t===void 0?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class Ku extends Hb{}Ku.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ku.prototype.baseIconClass="fc-icon";Ku.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ku.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ku.prototype.iconOverrideOption="buttonIcons";Ku.prototype.iconOverrideCustomButtonOption="icon";Ku.prototype.iconOverridePrefix="fc-icon-";function Kbt(e,t){let n={},r;for(r in e)iR(r,n,e,t);for(r in t)iR(r,n,e,t);return n}function iR(e,t,n,r){if(t[e])return t[e];let i=Ybt(e,t,n,r);return i&&(t[e]=i),i}function Ybt(e,t,n,r){let i=n[e],a=r[e],o=d=>i&&i[d]!==null?i[d]:a&&a[d]!==null?a[d]:null,l=o("component"),c=o("superType"),u=null;if(c){if(c===e)throw new Error("Can't have a custom view type that references itself");u=iR(c,t,n,r)}return!l&&u&&(l=u.component),l?{type:e,component:l,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function ZV(e){return Gl(e,Xbt)}function Xbt(e){let t=typeof e=="function"?{component:e}:e,{component:n}=t;return t.content?n=e9(t):n&&!(n.prototype instanceof on)&&(n=e9(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function e9(e){return t=>Z(tc.Consumer,null,n=>Z(Wi,{elTag:"div",elClasses:Jle(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function Qbt(e,t,n,r){let i=ZV(e),a=ZV(t.views),o=Kbt(i,a);return Gl(o,l=>Jbt(l,a,t,n,r))}function Jbt(e,t,n,r,i){let a=e.overrides.duration||e.defaults.duration||r.duration||n.duration,o=null,l="",c="",u={};if(a&&(o=Zbt(a),o)){let h=QO(o);l=h.unit,h.value===1&&(c=l,u=t[l]?t[l].rawOptions:{})}let d=h=>{let m=h.buttonText||{},p=e.defaults.buttonTextKey;return p!=null&&m[p]!=null?m[p]:m[e.type]!=null?m[e.type]:m[c]!=null?m[c]:null},f=h=>{let m=h.buttonHints||{},p=e.defaults.buttonTextKey;return p!=null&&m[p]!=null?m[p]:m[e.type]!=null?m[e.type]:m[c]!=null?m[c]:null};return{type:e.type,component:e.component,duration:o,durationUnit:l,singleUnit:c,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},u),e.overrides),buttonTextOverride:d(r)||d(n)||e.overrides.buttonText,buttonTextDefault:d(i)||e.defaults.buttonText||d(tv)||e.type,buttonTitleOverride:f(r)||f(n)||e.overrides.buttonHint,buttonTitleDefault:f(i)||e.defaults.buttonHint||f(tv)}}let t9={};function Zbt(e){let t=JSON.stringify(e),n=t9[t];return n===void 0&&(n=Ut(e),t9[t]=n),n}function e0t(e,t){switch(t.type){case"CHANGE_VIEW_TYPE":e=t.viewType}return e}function t0t(e,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return e}}function n0t(e,t,n){let r=e.initialDate;return r!=null?t.createMarker(r):n.getDateMarker()}function r0t(e,t){switch(t.type){case"SET_OPTION":return Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue});default:return e}}function s0t(e,t,n,r){let i;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if(i=r.buildPrev(e,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(e,n),i.isValid)return i;break}return e}function i0t(e,t,n){let r=t?t.activeRange:null;return Wce({},f0t(e,n),r,n)}function a0t(e,t,n,r){let i=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return Wce(e,t.sources,i,r);case"REMOVE_EVENT_SOURCE":return l0t(e,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Gce(e,i,r):e;case"FETCH_EVENT_SOURCES":return WL(e,t.sourceIds?Gle(t.sourceIds):Kce(e,r),i,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return d0t(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function o0t(e,t,n){let r=t?t.activeRange:null;return WL(e,Kce(e,n),r,!0,n)}function Hce(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function Wce(e,t,n,r){let i={};for(let a of t)i[a.sourceId]=a;return n&&(i=Gce(i,n,r)),Object.assign(Object.assign({},e),i)}function l0t(e,t){return Pf(e,n=>n.sourceId!==t)}function Gce(e,t,n){return WL(e,Pf(e,r=>c0t(r,t,n)),t,!1,n)}function c0t(e,t,n){return Yce(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function WL(e,t,n,r,i){let a={};for(let o in e){let l=e[o];t[o]?a[o]=u0t(l,n,r,i):a[o]=l}return a}function u0t(e,t,n,r){let{options:i,calendarApi:a}=r,o=r.pluginHooks.eventSourceDefs[e.sourceDefId],l=Qf();return o.fetch({eventSource:e,range:t,isRefetch:n,context:r},c=>{let{rawEvents:u}=c;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(a,u,c.response)||u),e.success&&(u=e.success.call(a,u,c.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:u})},c=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,c),u=!0),e.failure&&(e.failure(c),u=!0),u||console.warn(c.message,c),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:c})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:l})}function d0t(e,t,n,r){let i=e[t];return i&&n===i.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):e}function Kce(e,t){return Pf(e,n=>Yce(n,t))}function f0t(e,t){let n=oce(t),r=[].concat(e.eventSources||[]),i=[];e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events);for(let a of r){let o=ace(a,t,n);o&&i.push(o)}return i}function Yce(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function h0t(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function m0t(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function p0t(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function g0t(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function x0t(e,t,n,r,i){let a=e.headerToolbar?n9(e.headerToolbar,e,t,n,r,i):null,o=e.footerToolbar?n9(e.footerToolbar,e,t,n,r,i):null;return{header:a,footer:o}}function n9(e,t,n,r,i,a){let o={},l=[],c=!1;for(let u in e){let d=e[u],f=v0t(d,t,n,r,i,a);o[u]=f.widgets,l.push(...f.viewsWithButtons),c=c||f.hasTitle}return{sectionWidgets:o,viewsWithButtons:l,hasTitle:c}}function v0t(e,t,n,r,i,a){let o=t.direction==="rtl",l=t.customButtons||{},c=n.buttonText||{},u=t.buttonText||{},d=n.buttonHints||{},f=t.buttonHints||{},h=e?e.split(" "):[],m=[],p=!1;return{widgets:h.map(y=>y.split(",").map(v=>{if(v==="title")return p=!0,{buttonName:v};let w,b,j,_,N,S;if(w=l[v])j=C=>{w.click&&w.click.call(C.target,C,C.target)},(_=r.getCustomButtonIconClass(w))||(_=r.getIconClass(v,o))||(N=w.text),S=w.hint||w.text;else if(b=i[v]){m.push(v),j=()=>{a.changeView(v)},(N=b.buttonTextOverride)||(_=r.getIconClass(v,o))||(N=b.buttonTextDefault);let C=b.buttonTextOverride||b.buttonTextDefault;S=ev(b.buttonTitleOverride||b.buttonTitleDefault||t.viewHint,[C,v],C)}else if(a[v])if(j=()=>{a[v]()},(N=c[v])||(_=r.getIconClass(v,o))||(N=u[v]),v==="prevYear"||v==="nextYear"){let C=v==="prevYear"?"prev":"next";S=ev(d[C]||f[C],[u.year||"year","year"],u[v])}else S=C=>ev(d[v]||f[v],[u[C]||C,C],u[v]);return{buttonName:v,buttonClick:j,buttonIcon:_,buttonText:N,buttonHint:S}})),viewsWithButtons:m,hasTitle:p}}class y0t{constructor(t,n,r){this.type=t,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}}let b0t={ignoreRange:!0,parseMeta(e){return Array.isArray(e.events)?e.events:null},fetch(e,t){t({rawEvents:e.eventSource.meta})}};const w0t=nc({name:"array-event-source",eventSourceDefs:[b0t]});let j0t={parseMeta(e){return typeof e.events=="function"?e.events:null},fetch(e,t,n){const{dateEnv:r}=e.context,i=e.eventSource.meta;Oyt(i.bind(null,xce(e.range,r)),a=>t({rawEvents:a}),n)}};const _0t=nc({name:"func-event-source",eventSourceDefs:[j0t]}),N0t={method:String,extraParams:he,startParam:String,endParam:String,timeZoneParam:String};let S0t={parseMeta(e){return e.url&&(e.format==="json"||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null},fetch(e,t,n){const{meta:r}=e.eventSource,i=E0t(r,e.range,e.context);Ryt(r.method,r.url,i).then(([a,o])=>{t({rawEvents:a,response:o})},n)}};const C0t=nc({name:"json-event-source",eventSourceRefiners:N0t,eventSourceDefs:[S0t]});function E0t(e,t,n){let{dateEnv:r,options:i}=n,a,o,l,c,u={};return a=e.startParam,a==null&&(a=i.startParam),o=e.endParam,o==null&&(o=i.endParam),l=e.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof e.extraParams=="function"?c=e.extraParams():c=e.extraParams||{},Object.assign(u,c),u[a]=r.formatIso(t.start),u[o]=r.formatIso(t.end),r.timeZone!=="local"&&(u[l]=r.timeZone),u}const k0t={daysOfWeek:he,startTime:Ut,endTime:Ut,duration:Ut,startRecur:he,endRecur:he};let A0t={parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t},r;return e.duration&&(r=e.duration),!r&&e.startTime&&e.endTime&&(r=Vxt(e.endTime,e.startTime)),{allDayGuess:!e.startTime&&!e.endTime,duration:r,typeData:n}}return null},expand(e,t,n){let r=Of(t,{start:e.startRecur,end:e.endRecur});return r?P0t(e.daysOfWeek,e.startTime,e.dateEnv,n,r):[]}};const T0t=nc({name:"simple-recurring-event",recurringTypes:[A0t],eventRefiners:k0t});function P0t(e,t,n,r,i){let a=e?Gle(e):null,o=An(i.start),l=i.end,c=[];for(t&&(t.milliseconds<0?l=Wr(l,1):t.milliseconds>=1e3*60*60*24&&(o=Wr(o,-1)));o<l;){let u;(!a||a[o.getUTCDay()])&&(t?u=r.add(o,t):u=o,c.push(r.createMarker(n.toDate(u)))),o=Wr(o,1)}return c}const O0t=nc({name:"change-handler",optionChangeHandlers:{events(e,t){r9([e],t)},eventSources:r9}});function r9(e,t){let n=SL(t.getCurrentData().eventSources);if(n.length===1&&e.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});return}let r=[];for(let i of e){let a=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),a=!0;break}a||r.push(i)}for(let i of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)t.calendarApi.addEventSource(i)}function R0t(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},xce(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function D0t(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",tf(e,t))}const M0t=[w0t,_0t,C0t,T0t,O0t,nc({name:"misc",isLoadingFuncs:[e=>Hce(e.eventSources)],propSetHandlers:{dateProfile:R0t,eventStore:D0t}})];class I0t{constructor(t,n){this.runTaskOption=t,this.drainedOption=n,this.queue=[],this.delayedRunner=new gL(this.drain.bind(this))}request(t,n){this.queue.push(t),this.delayedRunner.request(n)}pause(t){this.delayedRunner.pause(t)}resume(t,n){this.delayedRunner.resume(t,n)}drain(){let{queue:t}=this;for(;t.length;){let n=[],r;for(;r=t.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}}function L0t(e,t,n){let r;return/^(year|month)$/.test(e.currentRangeUnit)?r=e.currentRange:r=e.activeRange,n.formatRange(r.start,r.end,Kn(t.titleFormat||$0t(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function $0t(e){let{currentRangeUnit:t}=e;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let n=RN(e.currentRange.start,e.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class s9{constructor(){this.resetListeners=new Set}handleInput(t,n){const r=this.dateEnv;if(t!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=t.toDate(n?t.createMarker(n):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}}class F0t{constructor(t){this.computeCurrentViewData=tt(this._computeCurrentViewData),this.organizeRawLocales=tt(Bbt),this.buildLocale=tt(qce),this.buildPluginHooks=Hbt(),this.buildDateEnv=tt(z0t),this.buildTheme=tt(B0t),this.parseToolbars=tt(x0t),this.buildViewSpecs=tt(Qbt),this.buildDateProfileGenerator=Zw(U0t),this.buildViewApi=tt(q0t),this.buildViewUiProps=Zw(W0t),this.buildEventUiBySource=tt(V0t,co),this.buildEventUiBases=tt(H0t),this.parseContextBusinessHours=Zw(G0t),this.buildTitle=tt(L0t),this.nowManager=new s9,this.emitter=new xC,this.actionRunner=new I0t(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=t,this.actionRunner.pause(),this.nowManager=new s9;let n={},r=this.computeOptionsData(t.optionOverrides,n,t.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,a=this.computeCurrentViewData(i,r,t.optionOverrides,n);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(a.options);let o={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=n0t(r.calendarOptions,r.dateEnv,this.nowManager),c=a.dateProfileGenerator.build(l);El(c.activeRange,l)||(l=c.currentRange.start);for(let h of r.pluginHooks.contextInit)h(o);let u=i0t(r.calendarOptions,c,o),d={dynamicOptionOverrides:n,currentViewType:i,currentDate:l,dateProfile:c,businessHours:this.parseContextBusinessHours(o),eventSources:u,eventUiBases:{},eventStore:$i(),renderableEventStore:$i(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},f=Object.assign(Object.assign({},o),d);for(let h of r.pluginHooks.reducers)Object.assign(d,h(null,null,f));gA(d,o)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(t,n){let{props:r}=this;n===void 0?r.optionOverrides=t:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),t),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:n,state:r,emitter:i}=this,a=r0t(r.dynamicOptionOverrides,t),o=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),l=e0t(r.currentViewType,t),c=this.computeCurrentViewData(l,o,n.optionOverrides,a);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(c.options);let u={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=r;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(f=c.dateProfileGenerator.build(d)),d=t0t(d,t),f=s0t(f,t,d,c.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!El(f.currentRange,d))&&(d=f.currentRange.start);let h=a0t(r.eventSources,t,f,u),m=iyt(r.eventStore,t,h,f,u),g=Hce(h)&&!c.options.progressiveEventRendering&&r.renderableEventStore||m,{eventUiSingleBase:y,selectionConfig:v}=this.buildViewUiProps(u),w=this.buildEventUiBySource(h),b=this.buildEventUiBases(g.defs,y,w),j={dynamicOptionOverrides:a,currentViewType:l,currentDate:d,dateProfile:f,eventSources:h,eventStore:m,renderableEventStore:g,selectionConfig:v,eventUiBases:b,businessHours:this.parseContextBusinessHours(u),dateSelection:h0t(r.dateSelection,t),eventSelection:m0t(r.eventSelection,t),eventDrag:p0t(r.eventDrag,t),eventResize:g0t(r.eventResize,t)},_=Object.assign(Object.assign({},u),j);for(let C of o.pluginHooks.reducers)Object.assign(j,C(r,t,_));let N=gA(r,u),S=gA(j,u);!N&&S?i.trigger("loading",!0):N&&!S&&i.trigger("loading",!1),this.state=j,n.onAction&&n.onAction(t)}updateData(){let{props:t,state:n}=this,r=this.data,i=this.computeOptionsData(t.optionOverrides,n.dynamicOptionOverrides,t.calendarApi),a=this.computeCurrentViewData(n.currentViewType,i,t.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,a.options,i.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),n),l=i.pluginHooks.optionChangeHandlers,c=r&&r.calendarOptions,u=i.calendarOptions;if(c&&c!==u){c.timeZone!==u.timeZone&&(n.eventSources=o.eventSources=o0t(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=GV(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=GV(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let d in l)(this.optionsForHandling.indexOf(d)!==-1||c[d]!==u[d])&&l[d](u[d],o)}this.optionsForHandling=[],t.onData&&t.onData(o)}computeOptionsData(t,n,r){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:o,availableLocaleData:l,extra:c}=this.processRawCalendarOptions(t,n);i9(c);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,l,i.defaultRangeSeparator),d=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),f=this.buildTheme(i,a),h=this.parseToolbars(i,this.stableOptionOverrides,f,d,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:o,availableRawLocales:l.map}}processRawCalendarOptions(t,n){let{locales:r,locale:i}=oA([tv,t,n]),a=this.organizeRawLocales(r),o=a.map,l=this.buildLocale(i||a.defaultCode,o).options,c=this.buildPluginHooks(t.plugins||[],M0t),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BV),UV),qV),c.listenerRefiners),c.optionRefiners),d={},f=oA([tv,l,t,n]),h={},m=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,g=!1;for(let y in f)this.optionsForRefining.indexOf(y)===-1&&(f[y]===m[y]||pd[y]&&y in m&&pd[y](m[y],f[y]))?h[y]=p[y]:u[y]?(h[y]=u[y](f[y]),g=!0):d[y]=m[y];return g&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:a,localeDefaults:l,extra:d}}_computeCurrentViewData(t,n,r,i){let a=n.viewSpecs[t];if(!a)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:l}=this.processRawViewOptions(a,n.pluginHooks,n.localeDefaults,r,i);i9(l),this.nowManager.handleInput(n.dateEnv,o.now);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),u=this.buildViewApi(t,this.getCurrentData,n.dateEnv);return{viewSpec:a,options:o,dateProfileGenerator:c,viewApi:u}}processRawViewOptions(t,n,r,i,a){let o=oA([tv,t.optionDefaults,r,i,t.optionOverrides,a]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BV),UV),qV),_vt),n.listenerRefiners),n.optionRefiners),c={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let m in o)o[m]===u[m]||pd[m]&&pd[m](o[m],u[m])?c[m]=d[m]:(o[m]===this.currentCalendarOptionsInput[m]||pd[m]&&pd[m](o[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(c[m]=this.currentCalendarOptionsRefined[m]):l[m]?c[m]=l[m](o[m]):h[m]=o[m],f=!0);return f&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function z0t(e,t,n,r,i,a,o,l){let c=qce(t||o.defaultCode,o.map);return new Dvt({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:c,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:l})}function B0t(e,t){let n=t.themeClasses[e.themeSystem]||Ku;return new n(e)}function U0t(e){let t=e.dateProfileGeneratorClass||tce;return new t(e)}function q0t(e,t,n){return new y0t(e,t,n)}function V0t(e){return Gl(e,t=>t.ui)}function H0t(e,t,n){let r={"":t};for(let i in e){let a=e[i];a.sourceId&&n[a.sourceId]&&(r[i]=n[a.sourceId])}return r}function W0t(e){let{options:t}=e;return{eventUiSingleBase:zN({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:zN({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function gA(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function G0t(e){return myt(e.options.businessHours,e)}function i9(e,t){for(let n in e)console.warn(`Unknown option '${n}'`)}class K0t extends on{render(){let t=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return Z("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:n}=this,{theme:r}=this.context,i=[],a=!0;for(let o of t){let{buttonName:l,buttonClick:c,buttonText:u,buttonIcon:d,buttonHint:f}=o;if(l==="title")a=!1,i.push(Z("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=l===n.activeButton,m=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",p=[`fc-${l}-button`,r.getClass("button")];h&&p.push(r.getClass("buttonActive")),i.push(Z("button",{type:"button",title:typeof f=="function"?f(n.navUnit):f,disabled:m,"aria-pressed":h,className:p.join(" "),onClick:c},u||(d?Z("span",{className:d,role:"img"}):"")))}}if(i.length>1){let o=a&&r.getClass("buttonGroup")||"";return Z("div",{className:o},...i)}return i[0]}}class a9 extends on{render(){let{model:t,extraClassName:n}=this.props,r=!1,i,a,o=t.sectionWidgets,l=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,a=o.right):a=o.end,Z("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",l||[]),this.renderSection("end",a||[]))}renderSection(t,n){let{props:r}=this;return Z(K0t,{key:t,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class Y0t extends on{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,Ho(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:n}=this,{aspectRatio:r}=t,i=["fc-view-harness",r||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",o="";return r?n.availableWidth!==null?a=n.availableWidth/r:o=`${1/r*100}%`:a=t.height||"",Z("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:o}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class X0t extends jg{constructor(t){super(t),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:a}=i,o=Ep(r);if(o&&i.isValidSegDownEl(n.target)){let l=hs(n.target,".fc-event-forced-url"),c=l?l.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:r,event:new Un(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:a.viewApi}),c&&!n.defaultPrevented&&(window.location.href=c)}},this.destroy=Ule(t.el,"click",".fc-event",this.handleSegClick)}}class Q0t extends jg{constructor(t){super(t),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Ep(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=Axt(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,n,r){let{component:i}=this,{context:a}=i,o=Ep(r);(!n||i.isValidSegDownEl(n.target))&&a.emitter.trigger(t,{el:r,event:new Un(a,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:a.viewApi})}}class J0t extends Zf{constructor(){super(...arguments),this.buildViewContext=tt(Lvt),this.buildViewPropTransformers=tt(ewt),this.buildToolbarProps=tt(Z0t),this.headerRef=Fs(),this.footerRef=Fs(),this.interactionsStore={},this.state={viewLabelId:hC()},this.registerInteractiveComponent=(t,n)=>{let r=Iyt(t,n),o=[X0t,Q0t].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(r));this.interactionsStore[t.uid]=o,tR[t.uid]=r},this.unregisterInteractiveComponent=t=>{let n=this.interactionsStore[t.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[t.uid]}delete tR[t.uid]},this.resizeRunner=new gL(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:n}=this.props;n.handleWindowResize&&t.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:n,options:r}=t,i=!1,a="",o;t.isHeightAuto||t.forPrint?a="":r.height!=null?i=!0:r.contentHeight!=null?a=r.contentHeight:o=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return Z(tc.Provider,{value:l},Z(_g,{unit:"day"},u=>{let d=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,u,t.viewTitle);return Z(kn,null,n.header&&Z(a9,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},d)),Z(Y0t,{liquid:i,height:a,aspectRatio:o,labeledById:c},this.renderView(t),this.buildAppendContent()),n.footer&&Z(a9,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},d)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(r=>new r(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=t.pluginHooks;for(let r in n)n[r](t[r],t)}componentDidUpdate(t){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==t[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,n=t.pluginHooks.viewContainerAppends.map(r=>r(t));return Z(kn,{},...n)}renderView(t){let{pluginHooks:n}=t,{viewSpec:r}=t,i={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},a=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of a)Object.assign(i,l.transform(i,t));let o=r.component;return Z(o,Object.assign({},i))}}function Z0t(e,t,n,r,i,a){let o=n.build(i,void 0,!1),l=n.buildPrev(t,r,!1),c=n.buildNext(t,r,!1);return{title:a,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:o.isValid&&!El(t.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function ewt(e){return e.map(t=>new t)}class twt extends $yt{constructor(t,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;LN(()=>{Py(Z(Myt,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,a,o,l)=>(this.setClassNames(i),this.setHeight(a),Z(Qle.Provider,{value:this.customContentRenderId},Z(J0t,Object.assign({isHeightAuto:o,forPrint:l},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Py(null,this.el),this.setClassNames([]),this.setHeight(""))},bxt(t),this.el=t,this.renderRunner=new gL(this.handleRenderRequest),new F0t({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){LN(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,n){this.currentDataManager.resetOptions(t,n)}setClassNames(t){if(!ku(t,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of t)n.add(r);this.currentClassNames=t}}setHeight(t){zle(this.el,"height",t)}}const nwt=parseInt(String(B.version).split(".")[0]),rwt=nwt<18;class Xce extends x.Component{constructor(){super(...arguments),this.elRef=x.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const t=[];for(const n of this.state.customRenderingMap.values())t.push(B.createElement(swt,{key:n.id,customRendering:n}));return B.createElement("div",{ref:this.elRef},t)}componentDidMount(){this.isUnmounting=!1;const t=new Fbt;this.handleCustomRendering=t.handle.bind(t),this.calendar=new twt(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Rs.flushSync(()=>{})});let n;t.subscribe(r=>{const i=Date.now(),a=!n;(rwt||a||this.isUpdating||this.isUnmounting||i-n<100?Qce:Rs.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}Xce.act=Qce;class swt extends x.PureComponent{render(){const{customRendering:t}=this.props,{generatorMeta:n}=t,r=typeof n=="function"?n(t.renderProps):n;return Rs.createPortal(r,t.containerEl)}}function Qce(e){e()}class iwt extends Qo{constructor(){super(...arguments),this.headerElRef=Fs()}renderSimpleLayout(t,n){let{props:r,context:i}=this,a=[],o=qN(i.options);return t&&a.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),Z($N,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},Z(zL,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:a}))}renderHScrollLayout(t,n,r,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:o,context:l}=this,c=!o.forPrint&&qN(l.options),u=!o.forPrint&&Mce(l.options),d=[];return t&&d.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:sR}]}),Z($N,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},Z(a,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:d}))}}function tj(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.row].push(r);return n}function xw(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.firstCol].push(r);return n}function o9(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let r of e.segs)n[r.row].segs.push(r)}else for(let r=0;r<t;r+=1)n[r]=null;return n}const Jce=Kn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Zce(e){let{display:t}=e.eventRange.ui;return t==="list-item"||t==="auto"&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class eue extends on{render(){let{props:t}=this;return Z(UL,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Jce,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class tue extends on{render(){let{props:t,context:n}=this,{options:r}=n,{seg:i}=t,a=r.eventTimeFormat||Jce,o=mce(i,a,n,!0,t.defaultDisplayEventEnd);return Z(BL,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:gce(t.seg,n),defaultGenerator:awt,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function awt(e){return Z(kn,null,Z("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&Z("div",{className:"fc-event-time"},e.timeText),Z("div",{className:"fc-event-title"},e.event.title||Z(kn,null," ")))}class owt extends on{constructor(){super(...arguments),this.compileSegs=tt(lwt)}render(){let{props:t}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(t.singlePlacements);return Z(Fce,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let i=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return Z(kn,null,n.map(a=>{let o=a.eventRange.instance.instanceId;return Z("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},Zce(a)?Z(tue,Object.assign({seg:a,isDragging:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},mu(a,t.todayRange))):Z(eue,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},mu(a,t.todayRange))))}))}})}}function lwt(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}const cwt=Kn({week:"narrow"});class uwt extends Qo{constructor(){super(...arguments),this.rootElRef=Fs(),this.state={dayNumberId:hC()},this.handleRootEl=t=>{Ho(this.rootElRef,t),Ho(this.props.elRef,t)}}render(){let{context:t,props:n,state:r,rootElRef:i}=this,{options:a,dateEnv:o}=t,{date:l,dateProfile:c}=n;const u=n.showDayNumber&&fwt(l,c.currentRange,o);return Z(VL,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:dwt,date:l,dateProfile:c,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(d,f)=>Z("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&Z($ce,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:UN(t,l,"week"),date:l,defaultFormat:cwt}),!f.isDisabled&&(n.showDayNumber||HL(a)||n.forceDayTop)?Z("div",{className:"fc-daygrid-day-top"},Z(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},UN(t,l)),{id:r.dayNumberId})})):n.showDayNumber?Z("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Z("a",{className:"fc-daygrid-day-number"}," ")):void 0,Z("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,Z("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},Z(owt,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),Z("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function dwt(e){return e.dayNumberText||Z(kn,null," ")}function fwt(e,t,n){const{start:r,end:i}=t,a=Au(i,-1),o=n.getYear(r),l=n.getMonth(r),c=n.getYear(a),u=n.getMonth(a);return!(o===c&&l===u)&&(e.valueOf()===r.valueOf()||n.getDay(e)===1&&e.valueOf()<i.valueOf())}function nue(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function rue(e){return nue(e)+":"+e.lastCol}function hwt(e,t,n,r,i,a,o){let l=new gwt(v=>{let w=e[v.index].eventRange.instance.instanceId+":"+v.span.start+":"+(v.span.end-1);return i[w]||1});l.allowReslicing=!0,l.strictOrder=r,t===!0||n===!0?(l.maxCoord=a,l.hiddenConsumes=!0):typeof t=="number"?l.maxStackCnt=t:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let c=[],u=[];for(let v=0;v<e.length;v+=1){let w=e[v],b=rue(w);i[b]!=null?c.push({index:v,span:{start:w.firstCol,end:w.lastCol+1}}):u.push(w)}let d=l.addSegs(c),f=l.toRects(),{singleColPlacements:h,multiColPlacements:m,leftoverMargins:p}=mwt(f,e,o),g=[],y=[];for(let v of u){m[v.firstCol].push({seg:v,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let w=v.firstCol;w<=v.lastCol;w+=1)h[w].push({seg:wm(v,w,w+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<o.length;v+=1)g.push(0);for(let v of d){let w=e[v.index],b=v.span;m[b.start].push({seg:wm(w,b.start,b.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let j=b.start;j<b.end;j+=1)g[j]+=1,h[j].push({seg:wm(w,j,j+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<o.length;v+=1)y.push(p[v]);return{singleColPlacements:h,multiColPlacements:m,moreCnts:g,moreMarginTops:y}}function mwt(e,t,n){let r=pwt(e,n.length),i=[],a=[],o=[];for(let l=0;l<n.length;l+=1){let c=r[l],u=[],d=0,f=0;for(let m of c){let p=t[m.index];u.push({seg:wm(p,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-d}),d=m.levelCoord+m.thickness}let h=[];d=0,f=0;for(let m of c){let p=t[m.index],g=m.span.end-m.span.start>1,y=m.span.start===l;f+=m.levelCoord-d,d=m.levelCoord+m.thickness,g?(f+=m.thickness,y&&h.push({seg:wm(p,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):y&&(h.push({seg:wm(p,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:f}),f=0)}i.push(u),a.push(h),o.push(f)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:o}}function pwt(e,t){let n=[];for(let r=0;r<t;r+=1)n.push([]);for(let r of e)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function wm(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let i=e.eventRange,a=i.range,o=Of(a,{start:r[t].date,end:Wr(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:e.isStart&&o.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&o.end.valueOf()===a.end.valueOf()})}class gwt extends Nce{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const n=super.addSegs(t),{entriesByLevel:r}=this,i=a=>!this.forceHidden[nf(a)];for(let a=0;a<r.length;a+=1)r[a]=r[a].filter(i);return n}handleInvalidInsertion(t,n,r){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:o,touchingLevel:l,touchingLateral:c}=t;if(this.hiddenConsumes&&o){const u=nf(o);if(!a[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},o),{span:$L(o.span,n.span)}),f=nf(d);a[f]=!0,i[l][c]=d,r.push(d),this.splitEntry(o,n,r)}else a[u]=!0,r.push(o)}super.handleInvalidInsertion(t,n,r)}}class sue extends Qo{constructor(){super(...arguments),this.cellElRefs=new _l,this.frameElRefs=new _l,this.fgElRefs=new _l,this.segHarnessRefs=new _l,this.rootElRef=Fs(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:n,context:r}=this,{options:i}=r,a=t.cells.length,o=xw(t.businessHourSegs,a),l=xw(t.bgEventSegs,a),c=xw(this.getHighlightSegs(),a),u=xw(this.getMirrorSegs(),a),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:m}=hwt(hce(t.fgEventSegs,i.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,t.cells),p=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return Z("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((g,y)=>{let v=this.renderFgSegs(y,t.forPrint?d[y]:f[y],t.todayRange,p),w=this.renderFgSegs(y,xwt(u[y],f),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return Z(uwt,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:t.dateProfile,date:g.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&y===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[y],moreMarginTop:m[y],singlePlacements:d[y],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:Z(kn,null,Z(kn,null,v),Z(kn,null,w)),bgContent:Z(kn,null,this.renderFillSegs(c[y],"highlight"),this.renderFillSegs(o[y],"non-business"),this.renderFillSegs(l[y],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,n){let r=this.props;this.updateSizing(!co(t,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,n,r,i,a,o,l){let{context:c}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=a||o||l,m=[];if(d)for(let p of n){let{seg:g}=p,{instanceId:y}=g.eventRange.instance,v=p.isVisible&&!i[y],w=p.isAbsolute,b="",j="";w&&(c.isRtl?(j=0,b=d.lefts[g.lastCol]-d.lefts[g.firstCol]):(b=0,j=d.rights[g.firstCol]-d.rights[g.lastCol])),m.push(Z("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:nue(g),ref:h?null:this.segHarnessRefs.createRef(rue(g)),style:{visibility:v?"":"hidden",marginTop:w?"":p.marginTop,top:w?p.absoluteTop:"",left:b,right:j}},Zce(g)?Z(tue,Object.assign({seg:g,isDragging:a,isSelected:y===u,defaultDisplayEventEnd:f},mu(g,r))):Z(eue,Object.assign({seg:g,isDragging:a,isResizing:o,isDateSelecting:l,isSelected:y===u,defaultDisplayEventEnd:f},mu(g,r)))))}return m}renderFillSegs(t,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,o=[];if(a)for(let l of t){let c=r?{right:0,left:a.lefts[l.lastCol]-a.lefts[l.firstCol]}:{left:0,right:a.rights[l.firstCol]-a.rights[l.lastCol]};o.push(Z("div",{key:pce(l.eventRange),className:"fc-daygrid-bg-harness",style:c},n==="bg-event"?Z(Ice,Object.assign({seg:l},mu(l,i))):Lce(n)))}return Z(kn,{},...o)}updateSizing(t){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(t){let c=n.cells.map(u=>i.currentMap[u.key]);if(c.length){let u=this.rootElRef.current,d=new kp(u,c,!0,!1);(!r.framePositions||!r.framePositions.similarTo(d))&&this.setState({framePositions:new kp(u,c,!0,!1)})}}const a=this.state.segHeights,o=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),o),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,n={};for(let r in t){let i=Math.round(t[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let t=this.props.cells[0].key,n=this.cellElRefs.currentMap[t],r=this.fgElRefs.currentMap[t];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(n=>t[n.key])}}sue.addStateEquality({segHeights:co});function xwt(e,t){if(!e.length)return[];let n=vwt(t);return e.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function vwt(e){let t={};for(let n of e)for(let r of n)t[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return t}class ywt extends Qo{constructor(){super(...arguments),this.splitBusinessHourSegs=tt(tj),this.splitBgEventSegs=tt(bwt),this.splitFgEventSegs=tt(tj),this.splitDateSelectionSegs=tt(tj),this.splitEventDrag=tt(o9),this.splitEventResize=tt(o9),this.rowRefs=new _l}render(){let{props:t,context:n}=this,r=t.cells.length,i=this.splitBusinessHourSegs(t.businessHourSegs,r),a=this.splitBgEventSegs(t.bgEventSegs,r),o=this.splitFgEventSegs(t.fgEventSegs,r),l=this.splitDateSelectionSegs(t.dateSelectionSegs,r),c=this.splitEventDrag(t.eventDrag,r),u=this.splitEventResize(t.eventResize,r),d=r>=7&&t.clientWidth?t.clientWidth/n.options.aspectRatio/6:null;return Z(_g,{unit:"day"},(f,h)=>Z(kn,null,t.cells.map((m,p)=>Z(sue,{ref:this.rowRefs.createRef(p),key:m.length?m[0].date.toISOString():p,showDayNumbers:r>1,showWeekNumbers:t.showWeekNumbers,todayRange:h,dateProfile:t.dateProfile,cells:m,renderIntro:t.renderRowIntro,businessHourSegs:i[p],eventSelection:t.eventSelection,bgEventSegs:a[p],fgEventSegs:o[p],dateSelectionSegs:l[p],eventDrag:c[p],eventResize:u[p],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:d,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const t=this.rowRefs.currentMap[0].getCellEls()[0],n=t?t.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new kp(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new kp(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,n){let{colPositions:r,rowPositions:i}=this,a=r.leftToIndex(t),o=i.topToIndex(n);if(o!=null&&a!=null){let l=this.props.cells[o][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,a),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(o,a),rect:{left:r.lefts[a],right:r.rights[a],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(t,n){return this.rowRefs.currentMap[t].getCellEls()[n]}getCellRange(t,n){let r=this.props.cells[t][n].date,i=Wr(r,1);return{start:r,end:i}}}function bwt(e,t){return tj(e.filter(wwt),t)}function wwt(e){return e.eventRange.def.allDay}class jwt extends Qo{constructor(){super(...arguments),this.elRef=Fs(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=t,a=r===!0||n===!0;a&&!i&&(a=!1,n=null,r=null);let o=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return Z("div",{ref:this.elRef,className:o.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Z("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:i?t.clientHeight:""}},t.colGroupNode,Z("tbody",{role:"presentation"},Z(ywt,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=_wt(this.elRef.current,this.props.dateProfile);if(t){const n=t.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=t.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function _wt(e,t){let n;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${avt(t.currentDate)}-01"]`)),n||(n=e.querySelector(`[data-date="${wL(t.currentDate)}"]`)),n}class Nwt extends Tce{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,n){return n.sliceRange(t)}}class iue extends Qo{constructor(){super(...arguments),this.slicer=new Nwt,this.tableRef=Fs()}render(){let{props:t,context:n}=this;return Z(jwt,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,n,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}class Swt extends iwt{constructor(){super(...arguments),this.buildDayTableModel=tt(Cwt),this.headerRef=Fs(),this.tableRef=Fs()}render(){let{options:t,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),a=t.dayHeaders&&Z(Ece,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=l=>Z(iue,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:r.forPrint});return t.dayMinWidth?this.renderHScrollLayout(a,o,i.colCnt,t.dayMinWidth):this.renderSimpleLayout(a,o)}}function Cwt(e,t){let n=new kce(e.renderRange,t);return new Ace(n,/year|month|week/.test(e.currentRangeUnit))}class Ewt extends tce{buildRenderRange(t,n,r){let i=super.buildRenderRange(t,n,r),{props:a}=this;return kwt({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function kwt(e){let{dateEnv:t,currentRange:n}=e,{start:r,end:i}=n,a;if(e.snapToWeek&&(r=t.startOfWeek(r),a=t.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=IV(a,1))),e.fixedWeekCount){let o=t.startOfWeek(t.startOfMonth(Wr(n.end,-1))),l=Math.ceil(Yxt(o,i));i=IV(i,6-l)}return{start:r,end:i}}var Awt=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';pL(Awt);var Twt=nc({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Swt,dateProfileGeneratorClass:Ewt},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Pwt extends qyt{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?yyt(t)?["timed","allDay"]:["allDay"]:["timed"]}}const Owt=Kn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function aue(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return Z(tc.Consumer,null,n=>{if(!e.isLabeled)return Z("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:r,options:i,viewApi:a}=n,o=i.slotLabelFormat==null?Owt:Array.isArray(i.slotLabelFormat)?Kn(i.slotLabelFormat[0]):Kn(i.slotLabelFormat),l={level:0,time:e.time,date:r.toDate(e.date),view:a,text:r.format(e.date,o)};return Z(Wi,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:Rwt,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},c=>Z("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},Z(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Rwt(e){return e.text}class Dwt extends on{render(){return this.props.slatMetas.map(t=>Z("tr",{key:t.key},Z(aue,Object.assign({},t))))}}const Mwt=Kn({week:"short"}),Iwt=5;class Lwt extends Qo{constructor(){super(...arguments),this.allDaySplitter=new Pwt,this.headerElRef=Fs(),this.rootElRef=Fs(),this.scrollerElRef=Fs(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=t)},this.renderHeadAxis=(t,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,a=i.renderRange,l=Jf(a.start,a.end)===1?UN(this.context,a.start,"week"):{};return r.weekNumbers&&t==="day"?Z($ce,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:Mwt},c=>Z("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},Z(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):Z("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},Z("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=t=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return Z(Wi,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:$wt,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},a=>Z("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",t==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},Z(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}renderSimpleLayout(t,n,r){let{context:i,props:a}=this,o=[],l=qN(i.options);return t&&o.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:Z("tr",{role:"presentation",className:"fc-scrollgrid-section"},Z("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),Z($N,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},Z(zL,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(t,n,r,i,a,o,l){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&qN(u.options),h=!d.forPrint&&Mce(u.options),m=[];t&&m.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>Z("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),n&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>Z("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:n}]}),m.push({key:"all-day-divider",type:"body",outerContent:Z("tr",{role:"presentation",className:"fc-scrollgrid-section"},Z("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let p=u.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:g=>Z("div",{className:"fc-timegrid-axis-chunk"},Z("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,Z("tbody",null,Z(Dwt,{slatMetas:o}))),Z("div",{className:"fc-timegrid-now-indicator-container"},Z(_g,{unit:p?"minute":"day"},y=>{let v=p&&l&&l.safeComputeTop(y);return typeof v=="number"?Z(qL,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:v},isAxis:!0,date:y}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),h&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:sR},{key:"cols",content:sR}]}),Z($N,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},Z(c,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:a}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:n}=this.context.options;return(t===!0||n===!0)&&(t=void 0,n=Iwt),{dayMaxEvents:t,dayMaxEventRows:n}}}function $wt(e){return e.text}class Fwt{constructor(t,n,r){this.positions=t,this.dateProfile=n,this.slotDuration=r}safeComputeTop(t){let{dateProfile:n}=this;if(El(n.currentRange,t)){let r=An(t),i=t.valueOf()-r.valueOf();if(i>=Ga(n.slotMinTime)&&i<Ga(n.slotMaxTime))return this.computeTimeTop(Ut(i))}return null}computeDateTop(t,n){return n||(n=An(t)),this.computeTimeTop(Ut(t.valueOf()-n.valueOf()))}computeTimeTop(t){let{positions:n,dateProfile:r}=this,i=n.els.length,a=(t.milliseconds-Ga(r.slotMinTime))/Ga(this.slotDuration),o,l;return a=Math.max(0,a),a=Math.min(i,a),o=Math.floor(a),o=Math.min(o,i-1),l=a-o,n.tops[o]+n.getHeight(o)*l}}class zwt extends on{render(){let{props:t,context:n}=this,{options:r}=n,{slatElRefs:i}=t;return Z("tbody",null,t.slatMetas.map((a,o)=>{let l={time:a.time,date:n.dateEnv.toDate(a.date),view:n.viewApi};return Z("tr",{key:a.key,ref:i.createRef(a.key)},t.axis&&Z(aue,Object.assign({},a)),Z(Wi,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class Bwt extends on{constructor(){super(...arguments),this.rootElRef=Fs(),this.slatElRefs=new _l}render(){let{props:t,context:n}=this;return Z("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},Z("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,Z(zwt,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new Fwt(new kp(this.rootElRef.current,Uwt(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function Uwt(e,t){return t.map(n=>e[n.key])}function sx(e,t){let n=[],r;for(r=0;r<t;r+=1)n.push([]);if(e)for(r=0;r<e.length;r+=1)n[e[r].col].push(e[r]);return n}function l9(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let r of e.segs)n[r.col].segs.push(r)}else for(let r=0;r<t;r+=1)n[r]=null;return n}class qwt extends on{render(){let{props:t}=this;return Z(Fce,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>lue(t.hiddenSegs,t),defaultGenerator:Vwt,forceTimed:!0},n=>Z(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Vwt(e){return e.shortText}function Hwt(e,t,n){let r=new Nce;t!=null&&(r.strictOrder=t),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(e),a=nbt(i),o=Wwt(r);return o=Xwt(o,1),{segRects:Qwt(o),hiddenGroups:a}}function Wwt(e){const{entriesByLevel:t}=e,n=GL((r,i)=>r+":"+i,(r,i)=>{let a=Ywt(e,r,i),o=c9(a,n),l=t[r][i];return[Object.assign(Object.assign({},l),{nextLevelNodes:o[0]}),l.thickness+o[1]]});return c9(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}function c9(e,t){if(!e)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=e,a=r,o=[];for(;a<i;)o.push(t(n,a)),a+=1;return o.sort(Gwt),[o.map(Kwt),o[0][1]]}function Gwt(e,t){return t[1]-e[1]}function Kwt(e){return e[0]}function Ywt(e,t,n){let{levelCoords:r,entriesByLevel:i}=e,a=i[t][n],o=r[t]+a.thickness,l=r.length,c=t;for(;c<l&&r[c]<o;c+=1);for(;c<l;c+=1){let u=i[c],d,f=rR(u,a.span.start,nR),h=f[0]+f[1],m=h;for(;(d=u[m])&&d.span.start<a.span.end;)m+=1;if(h<m)return{level:c,lateralStart:h,lateralEnd:m}}return null}function Xwt(e,t){const n=GL((r,i,a)=>nf(r),(r,i,a)=>{let{nextLevelNodes:o,thickness:l}=r,c=l+a,u=l/c,d,f=[];if(!o.length)d=t;else for(let m of o)if(d===void 0){let p=n(m,i,c);d=p[0],f.push(p[1])}else{let p=n(m,d,0);f.push(p[1])}let h=(d-i)*u;return[d-h,Object.assign(Object.assign({},r),{thickness:h,nextLevelNodes:f})]});return e.map(r=>n(r,0,0)[1])}function Qwt(e){let t=[];const n=GL((i,a,o)=>nf(i),(i,a,o)=>{let l=Object.assign(Object.assign({},i),{levelCoord:a,stackDepth:o,stackForward:0});return t.push(l),l.stackForward=r(i.nextLevelNodes,a+i.thickness,o+1)+1});function r(i,a,o){let l=0;for(let c of i)l=Math.max(n(c,a,o),l);return l}return r(e,0,0),t}function GL(e,t){const n={};return(...r)=>{let i=e(...r);return i in n?n[i]:n[i]=t(...r)}}function u9(e,t,n=null,r=0){let i=[];if(n)for(let a=0;a<e.length;a+=1){let o=e[a],l=n.computeDateTop(o.start,t),c=Math.max(l+(r||0),n.computeDateTop(o.end,t));i.push({start:Math.round(l),end:Math.round(c)})}return i}function Jwt(e,t,n,r){let i=[],a=[];for(let u=0;u<e.length;u+=1){let d=t[u];d?i.push({index:u,thickness:1,span:d}):a.push(e[u])}let{segRects:o,hiddenGroups:l}=Hwt(i,n,r),c=[];for(let u of o)c.push({seg:e[u.index],rect:u});for(let u of a)c.push({seg:u,rect:null});return{segPlacements:c,hiddenGroups:l}}const Zwt=Kn({hour:"numeric",minute:"2-digit",meridiem:!1});class oue extends on{render(){return Z(UL,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Zwt}))}}class ejt extends on{constructor(){super(...arguments),this.sortEventSegs=tt(hce)}render(){let{props:t,context:n}=this,{options:r}=n,i=r.selectMirror,a=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||i&&t.dateSelectionSegs||[],o=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},l=this.sortEventSegs(t.fgEventSegs,r.eventOrder);return Z(VL,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},c=>Z("div",{className:"fc-timegrid-col-frame"},Z("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),Z("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,o,!1,!1,!1)),Z("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!t.eventDrag,!!t.eventResize,!!i,"mirror")),Z("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),HL(r)&&Z(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(t,n,r,i,a,o){let{props:l}=this;return l.forPrint?lue(t,l):this.renderPositionedFgSegs(t,n,r,i,a,o)}renderPositionedFgSegs(t,n,r,i,a,o){let{eventMaxStack:l,eventShortHeight:c,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:m,todayRange:p,nowDate:g}=this.props,y=r||i||a,v=u9(t,f,h,d),{segPlacements:w,hiddenGroups:b}=Jwt(t,v,u,l);return Z(kn,null,this.renderHiddenGroups(b,t),w.map(j=>{let{seg:_,rect:N}=j,S=_.eventRange.instance.instanceId,C=y||!!(!n[S]&&N),k=xA(N&&N.span),A=!y&&N?this.computeSegHStyle(N):{left:0,right:0},T=!!N&&N.stackForward>0,E=!!N&&N.span.end-N.span.start<c;return Z("div",{className:"fc-timegrid-event-harness"+(T?" fc-timegrid-event-harness-inset":""),key:o||S,style:Object.assign(Object.assign({visibility:C?"":"hidden"},k),A)},Z(oue,Object.assign({seg:_,isDragging:r,isResizing:i,isDateSelecting:a,isSelected:S===m,isShort:E},mu(_,p,g))))}))}renderHiddenGroups(t,n){let{extraDateSpan:r,dateProfile:i,todayRange:a,nowDate:o,eventSelection:l,eventDrag:c,eventResize:u}=this.props;return Z(kn,null,t.map(d=>{let f=xA(d.span),h=tjt(d.entries,n);return Z(qwt,{key:Wle(zce(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:r,dateProfile:i,todayRange:a,nowDate:o,eventSelection:l,eventDrag:c,eventResize:u})}))}renderFillSegs(t,n){let{props:r,context:i}=this,o=u9(t,r.date,r.slatCoords,i.options.eventMinHeight).map((l,c)=>{let u=t[c];return Z("div",{key:pce(u.eventRange),className:"fc-timegrid-bg-harness",style:xA(l)},n==="bg-event"?Z(Ice,Object.assign({seg:u},mu(u,r.todayRange,r.nowDate))):Lce(n))});return Z(kn,null,o)}renderNowIndicator(t){let{slatCoords:n,date:r}=this.props;return n?t.map((i,a)=>Z(qL,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(t){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,a=t.levelCoord,o=t.levelCoord+t.thickness,l,c;i&&(o=Math.min(1,a+(o-a)*2)),n?(l=1-o,c=a):(l=a,c=1-o);let u={zIndex:t.stackDepth+1,left:l*100+"%",right:c*100+"%"};return i&&!t.stackForward&&(u[n?"marginLeft":"marginRight"]=10*2),u}}function lue(e,{todayRange:t,nowDate:n,eventSelection:r,eventDrag:i,eventResize:a}){let o=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return Z(kn,null,e.map(l=>{let c=l.eventRange.instance.instanceId;return Z("div",{key:c,style:{visibility:o[c]?"hidden":""}},Z(oue,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===r,isShort:!1},mu(l,t,n))))}))}function xA(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}function tjt(e,t){return e.map(n=>t[n.index])}class njt extends on{constructor(){super(...arguments),this.splitFgEventSegs=tt(sx),this.splitBgEventSegs=tt(sx),this.splitBusinessHourSegs=tt(sx),this.splitNowIndicatorSegs=tt(sx),this.splitDateSelectionSegs=tt(sx),this.splitEventDrag=tt(l9),this.splitEventResize=tt(l9),this.rootElRef=Fs(),this.cellElRefs=new _l}render(){let{props:t,context:n}=this,r=n.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),i=t.cells.length,a=this.splitFgEventSegs(t.fgEventSegs,i),o=this.splitBgEventSegs(t.bgEventSegs,i),l=this.splitBusinessHourSegs(t.businessHourSegs,i),c=this.splitNowIndicatorSegs(t.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(t.dateSelectionSegs,i),d=this.splitEventDrag(t.eventDrag,i),f=this.splitEventResize(t.eventResize,i);return Z("div",{className:"fc-timegrid-cols",ref:this.rootElRef},Z("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,Z("tbody",{role:"presentation"},Z("tr",{role:"row"},t.axis&&Z("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},Z("div",{className:"fc-timegrid-col-frame"},Z("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&Z(qL,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:t.nowDate})))),t.cells.map((h,m)=>Z(ejt,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:t.dateProfile,date:h.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:a[m],bgEventSegs:o[m],businessHourSegs:l[m],nowIndicatorSegs:c[m],dateSelectionSegs:u[m],eventDrag:d[m],eventResize:f[m],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;t.onColCoords&&t.clientWidth!==null&&t.onColCoords(new kp(this.rootElRef.current,rjt(this.cellElRefs.currentMap,t.cells),!0,!1))}}function rjt(e,t){return t.map(n=>e[n.key])}class sjt extends Qo{constructor(){super(...arguments),this.processSlotOptions=tt(ijt),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(t.time){let i=r.computeTimeTop(t.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:n}=this;return Z("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Z(Bwt,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Z(njt,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,n){let{dateEnv:r,options:i}=this.context,{colCoords:a}=this,{dateProfile:o}=this.props,{slatCoords:l}=this.state,{snapDuration:c,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),d=a.leftToIndex(t),f=l.positions.topToIndex(n);if(d!=null&&f!=null){let h=this.props.cells[d],m=l.positions.tops[f],p=l.positions.getHeight(f),g=(n-m)/p,y=Math.floor(g*u),v=f*u+y,w=this.props.cells[d].date,b=XO(o.slotMinTime,Hxt(c,v)),j=r.add(w,b),_=r.add(j,c);return{dateProfile:o,dateSpan:Object.assign({range:{start:j,end:_},allDay:!1},h.extraDateSpan),dayEl:a.els[d],rect:{left:a.lefts[d],right:a.rights[d],top:m,bottom:m+p},layer:0}}return null}}function ijt(e,t){let n=t||e,r=bL(e,n);return r===null&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}class ajt extends Tce{sliceRange(t,n){let r=[];for(let i=0;i<n.length;i+=1){let a=Of(t,n[i]);a&&r.push({start:a.start,end:a.end,isStart:a.start.valueOf()===t.start.valueOf(),isEnd:a.end.valueOf()===t.end.valueOf(),col:i})}return r}}class ojt extends Qo{constructor(){super(...arguments),this.buildDayRanges=tt(ljt),this.slicer=new ajt,this.timeColsRef=Fs()}render(){let{props:t,context:n}=this,{dateProfile:r,dayTableModel:i}=t,{nowIndicator:a,nextDayThreshold:o}=n.options,l=this.buildDayRanges(i,r,n.dateEnv);return Z(_g,{unit:a?"minute":"day"},(c,u)=>Z(sjt,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,r,null,n,l),{forPrint:t.forPrint,axis:t.axis,dateProfile:r,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:i.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:c,nowIndicatorSegs:a&&this.slicer.sliceNowDate(c,r,o,n,l),todayRange:u,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords})))}}function ljt(e,t,n){let r=[];for(let i of e.headerDates)r.push({start:n.add(i,t.slotMinTime),end:n.add(i,t.slotMaxTime)});return r}const d9=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function cjt(e,t,n,r,i){let a=new Date(0),o=e,l=Ut(0),c=n||ujt(r),u=[];for(;Ga(o)<Ga(t);){let d=i.add(a,o),f=bL(l,c)!==null;u.push({date:d,time:o,key:d.toISOString(),isoTimeStr:ovt(d),isLabeled:f}),o=XO(o,r),l=XO(l,r)}return u}function ujt(e){let t,n,r;for(t=d9.length-1;t>=0;t-=1)if(n=Ut(d9[t]),r=bL(n,e),r!==null&&r>1)return n;return e}class djt extends Lwt{constructor(){super(...arguments),this.buildTimeColsModel=tt(fjt),this.buildSlatMetas=tt(cjt)}render(){let{options:t,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:a}=i,o=this.buildTimeColsModel(a,r),l=this.allDaySplitter.splitProps(i),c=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,t.slotLabelInterval,t.slotDuration,n),{dayMinWidth:u}=t,d=!u,f=u,h=t.dayHeaders&&Z(Ece,{dates:o.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),m=t.allDaySlot!==!1&&(g=>Z(iue,Object.assign({},l.allDay,{dateProfile:a,dayTableModel:o,nextDayThreshold:t.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),p=g=>Z(ojt,Object.assign({},l.timed,{dayTableModel:o,dateProfile:a,axis:d,slotDuration:t.slotDuration,slatMetas:c,forPrint:i.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,m,p,o.colCnt,u,c,this.state.slatCoords):this.renderSimpleLayout(h,m,p)}}function fjt(e,t){let n=new kce(e.renderRange,t);return new Ace(n,!1)}var hjt='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';pL(hjt);const mjt={allDaySlot:Boolean};var pjt=nc({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:mjt,views:{timeGrid:{component:djt,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});FL.touchMouseIgnoreWait=500;let aR=0,VN=0,oR=!1;class cue{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&gjt(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,xjt()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=t,this.emitter=new xC,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),vjt()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),yjt()}tryStart(t){let n=this.querySubjectEl(t),r=t.target;return n&&(!this.handleSelector||hs(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){oR=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?hs(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return aR||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(oR=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,n){let r=0,i=0;return n?(this.origPageX=t.pageX,this.origPageY=t.pageY):(r=t.pageX-this.origPageX,i=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:r,deltaY:i}}createEventFromTouch(t,n){let r=t.touches,i,a,o=0,l=0;return r&&r.length?(i=r[0].pageX,a=r[0].pageY):(i=t.pageX,a=t.pageY),n?(this.origPageX=i,this.origPageY=a):(o=i-this.origPageX,l=a-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:o,deltaY:l}}}function gjt(e){return e.button===0&&!e.ctrlKey}function xjt(){aR+=1,setTimeout(()=>{aR-=1},FL.touchMouseIgnoreWait)}function vjt(){VN+=1,VN===1&&window.addEventListener("touchmove",uue,{passive:!1})}function yjt(){VN-=1,VN||window.removeEventListener("touchmove",uue,{passive:!1})}function uue(e){oR&&e.preventDefault()}class bjt{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,n,r){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,n){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,n){let r=()=>{this.cleanup(),n()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(t,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Zx(r,{left:i.left,top:i.top}),Txt(r,()=>{r.style.transition="",t()})}cleanup(){this.mirrorEl&&(xL(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Zx(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Zx(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class due extends LL{constructor(t,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=n,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class fue extends due{constructor(t,n){super(new ebt(t),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Jyt(this.scrollController.el)}}class wjt extends due{constructor(t){super(new tbt,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const f9=typeof performance=="function"?performance.now:Date.now;class jjt{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let n=f9();this.handleSide(t,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(t,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,n))}handleMove(t,n){if(this.isEnabled){let r=t-window.scrollX,i=n-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(f9()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,n){let{scrollCache:r}=t,{edgeThreshold:i}=this,a=i-t.distance,o=a*a/(i*i)*this.maxVelocity*n,l=1;switch(t.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*l);break}}computeBestEdge(t,n){let{edgeThreshold:r}=this,i=null,a=this.scrollCaches||[];for(let o of a){let l=o.clientRect,c=t-l.left,u=l.right-t,d=n-l.top,f=l.bottom-n;c>=0&&u>=0&&d>=0&&f>=0&&(d<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"top",distance:d}),f<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:o,name:"bottom",distance:f}),c<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"left",distance:c}),u<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"right",distance:u}))}return i}buildCaches(t){return this.queryScrollEls(t).map(n=>n===window?new wjt(!1):new fue(n,!1))}queryScrollEls(t){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(r)));return n}}class Wb extends sbt{constructor(t,n){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Pxt(document.body),Rxt(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,o,{deltaX:l,deltaY:c}=i;o=l*l+c*c,o>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,Oxt(document.body),Dxt(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new cue(t);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new bjt,this.autoScroller=new jjt}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class _jt{constructor(t){this.el=t,this.origRect=IL(t),this.scrollCaches=_ce(t).map(n=>new fue(n,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let n of this.scrollCaches)t+=n.origScrollLeft-n.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let n of this.scrollCaches)t+=n.origScrollTop-n.getScrollTop();return t}isWithinClipping(t,n){let r={left:t,top:n};for(let i of this.scrollCaches)if(!Njt(i.getEventTarget())&&!Fyt(r,i.clientRect))return!1;return!0}}function Njt(e){let t=e.tagName;return t==="HTML"||t==="BODY"}class vC{constructor(t,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new xC}processFirstCoord(t){let n={left:t.pageX,top:t.pageY},r=n,i=t.subjectEl,a;i instanceof HTMLElement&&(a=IL(i),r=zyt(r,a));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&a){let l=bce(a,o.rect);l&&(r=Byt(l))}this.coordAdjust=Uyt(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(t,n){let r=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(n||!yC(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,t))}prepareHits(){this.offsetTrackers=Gl(this.droppableStore,t=>(t.component.prepareHits(),new _jt(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let n in t)t[n].destroy();this.offsetTrackers={}}queryHitForOffset(t,n){let{droppableStore:r,offsetTrackers:i}=this,a=null;for(let o in r){let l=r[o].component,c=i[o];if(c&&c.isWithinClipping(t,n)){let u=c.computeLeft(),d=c.computeTop(),f=t-u,h=n-d,{origRect:m}=c,p=m.right-m.left,g=m.bottom-m.top;if(f>=0&&f<p&&h>=0&&h<g){let y=l.queryHit(f,h,p,g);y&&pC(y.dateProfile.activeRange,y.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!a||y.layer>a.layer)&&(y.componentId=o,y.context=l.context,y.rect.left+=u,y.rect.right+=u,y.rect.top+=d,y.rect.bottom+=d,a=y)}}}return a}}function yC(e,t){return!e&&!t?!0:!!e!=!!t?!1:kyt(e.dateSpan,t.dateSpan)}function hue(e,t){let n={};for(let r of t.pluginHooks.datePointTransforms)Object.assign(n,r(e,t));return Object.assign(n,Sjt(e,t.dateEnv)),n}function Sjt(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}class Cjt extends jg{constructor(t){super(t),this.handlePointerDown=r=>{let{dragging:i}=this,a=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:o,finalHit:l}=this.hitDragging;if(o&&l&&yC(o,l)){let{context:c}=i,u=Object.assign(Object.assign({},hue(o.dateSpan,c)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",u)}}},this.dragging=new Wb(t.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new vC(this.dragging,DL(t));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Ejt extends jg{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=o=>{let{component:l,dragging:c}=this,{options:u}=l.context,d=u.selectable&&l.isValidDateDownEl(o.origEvent.target);c.setIgnoreMove(!d),c.delay=o.isTouch?kjt(l):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,l)=>{let{context:c}=this.component,u=null,d=!1;if(o){let f=this.hitDragging.initialHit;o.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,o)||(u=Ajt(f,o,c.pluginHooks.dateSelectionTransformers)),(!u||!ubt(u,o.dateProfile,c))&&(d=!0,u=null)}u?c.dispatch({type:"SELECT_DATES",selection:u}):l||c.dispatch({type:"UNSELECT_DATES"}),d?vL():yL(),l||(this.dragSelection=u)},this.handlePointerUp=o=>{this.dragSelection&&(uce(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=t,{options:r}=n.context,i=this.dragging=new Wb(t.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new vC(this.dragging,DL(t));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function kjt(e){let{options:t}=e.context,n=t.selectLongPressDelay;return n==null&&(n=t.longPressDelay),n}function Ajt(e,t,n){let r=e.dateSpan,i=t.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(Fxt);let o={};for(let l of n){let c=l(e,t);if(c===!1)return null;c&&Object.assign(o,c)}return o.range={start:a[0],end:a[3]},o.allDay=r.allDay,o}class Gb extends jg{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let l=o.origEvent.target,{component:c,dragging:u}=this,{mirror:d}=u,{options:f}=c.context,h=c.context;this.subjectEl=o.subjectEl;let m=this.subjectSeg=Ep(o.subjectEl),g=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=TL(h.getCurrentData().eventStore,g),u.minDistance=o.isTouch?0:f.eventDragMinDistance,u.delay=o.isTouch&&g!==c.props.eventSelection?Pjt(c):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=hs(l,".fc"),d.revertDuration=f.dragRevertDuration;let y=c.isValidSegDownEl(l)&&!hs(l,".fc-event-resizer");u.setIgnoreMove(!y),this.isDragging=y&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let l=this.component.context,c=this.eventRange,u=c.instance.instanceId;o.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(o),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Un(l,c.def,c.instance),jsEvent:o.origEvent,view:l.viewApi}))},this.handleHitUpdate=(o,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,m=null,p=!1,g={affectedEvents:c,mutatedEvents:$i(),isEvent:!0};if(o){f=o.context;let y=f.options;d===f||y.editable&&y.droppable?(h=Tjt(u,o,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(m=RL(c,f.getCurrentData().eventUiBases,h,f),g.mutatedEvents=m,Pce(g,o.dateProfile,f)||(p=!0,h=null,m=null,g.mutatedEvents=$i()))):f=null}this.displayDrag(f,g),p?vL():yL(),l||(d===f&&yC(u,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,m=new Un(l,f,h),p=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:y}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:o.origEvent,view:c}),d){if(u===l){let v=new Un(l,g.defs[f.defId],h?g.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:g});let w={oldEvent:m,event:v,relatedEvents:tf(g,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}},b={};for(let j of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(b,j(d,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},w),b),{el:o.subjectEl,delta:d.datesDelta,jsEvent:o.origEvent,view:c})),l.emitter.trigger("eventChange",w)}else if(u){let v={event:m,relatedEvents:tf(p,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},v),{draggedEl:o.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:p}),l.emitter.trigger("eventRemove",v);let w=g.defs[f.defId],b=g.instances[h.instanceId],j=new Un(u,w,b);u.dispatch({type:"MERGE_EVENTS",eventStore:g});let _={event:j,relatedEvents:tf(g,u,b),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};u.emitter.trigger("eventAdd",_),o.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},hue(y.dateSpan,u)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:y.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},_),{draggedEl:o.subjectEl,view:y.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Wb(t.el);i.pointer.selector=Gb.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new vC(this.dragging,tR);a.useSubjectCenter=t.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,n){let r=this.component.context,i=this.receivingContext;i&&i!==t&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:$i(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let t=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t!==n&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Gb.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Tjt(e,t,n,r){let i=e.dateSpan,a=t.dateSpan,o=i.range.start,l=a.range.start,c={};i.allDay!==a.allDay&&(c.allDay=a.allDay,c.hasEnd=t.context.options.allDayMaintainDuration,a.allDay?o=An(n):o=n);let u=Zh(o,l,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);u.milliseconds&&(c.allDay=!1);let d={datesDelta:u,standardProps:c};for(let f of r)f(d,e,t);return d}function Pjt(e){let{options:t}=e.context,n=t.eventLongPressDelay;return n==null&&(n=t.longPressDelay),n}class Ojt extends jg{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:o}=this,l=this.querySegEl(a),c=Ep(l),u=this.eventRange=c.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:o}=this.component,l=this.eventRange;this.relevantEvents=TL(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(a);this.draggingSegEl=c,this.draggingSeg=Ep(c),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:c,event:new Un(o,l.def,l.instance),jsEvent:a.origEvent,view:o.viewApi})},this.handleHitUpdate=(a,o,l)=>{let{context:c}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,m=null,p=!1,g={affectedEvents:u,mutatedEvents:$i(),isEvent:!0};a&&(a.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,a)||(h=Rjt(d,a,l.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(m=RL(u,c.getCurrentData().eventUiBases,h,c),g.mutatedEvents=m,Pce(g,a.dateProfile,c)||(p=!0,h=null,m=null,g.mutatedEvents=null)),m?c.dispatch({type:"SET_EVENT_RESIZE",state:g}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),p?vL():yL(),o||(h&&yC(d,a)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=m)},this.handleDragEnd=a=>{let{context:o}=this.component,l=this.eventRange.def,c=this.eventRange.instance,u=new Un(o,l,c),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:o.viewApi}),this.validMutation){let h=new Un(o,f.defs[l.defId],c?f.instances[c.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:f});let m={oldEvent:u,event:h,relatedEvents:tf(f,o,c),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:d})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Ut(0),endDelta:this.validMutation.endDelta||Ut(0),jsEvent:a.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",m)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=t,r=this.dragging=new Wb(t.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new vC(this.dragging,DL(t));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return hs(t.subjectEl,".fc-event")}}function Rjt(e,t,n,r){let i=e.context.dateEnv,a=e.dateSpan.range.start,o=t.dateSpan.range.start,l=Zh(a,o,i,e.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}class Djt{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,a=Ble(r.origEvent);this.matchesCancel=!!hs(a,i),this.matchesEvent=!!hs(a,Gb.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:a}=this,o=i.getCurrentData();if(!a.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let l=i.options.unselectAuto;l&&(!l||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new cue(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Mjt={fixedMirrorParent:he},Ijt={dateClick:he,eventDragStart:he,eventDragStop:he,eventDrop:he,eventResizeStart:he,eventResizeStop:he,eventResize:he,drop:he,eventReceive:he,eventLeave:he};FL.dataAttrPrefix="";var Ljt=nc({name:"@fullcalendar/interaction",componentInteractions:[Cjt,Ejt,Gb,Ojt],calendarInteractions:[Djt],elementDraggingImpl:Wb,optionRefiners:Mjt,listenerRefiners:Ijt}),$jt={code:"fr",week:{dow:1,doy:4},buttonText:{prev:"Précédent",next:"Suivant",today:"Aujourd'hui",year:"Année",month:"Mois",week:"Semaine",day:"Jour",list:"Planning"},weekText:"Sem.",weekTextLong:"Semaine",allDayText:"Toute la journée",moreLinkText:"en plus",noEventsText:"Aucun évènement à afficher"};function Fjt({eventTypeColors:e,visibleTypes:t,onVisibilityChange:n,onColorChange:r,showColorPicker:i=!1}){const[a,o]=x.useState(!1),l=c=>{kd.forEach(u=>{n(u.value,c)})};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex flex-wrap gap-1",children:kd.filter(c=>!t.has(c.value)).map(c=>s.jsxs(Ce,{variant:"secondary",className:"text-xs cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:e[c.value]+"20",color:e[c.value],border:`1px solid ${e[c.value]}30`},onClick:()=>n(c.value,!0),children:[c.label,s.jsx(Aj,{className:"w-3 h-3 ml-1"})]},c.value))}),s.jsxs(Ts,{open:a,onOpenChange:o,children:[s.jsx(Ps,{asChild:!0,children:s.jsxs(H,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Dl,{className:"w-4 h-4"}),"Filtrer (",t.size,"/",kd.length,")"]})}),s.jsxs(ds,{align:"end",className:"w-56",children:[s.jsxs(kZ,{className:"flex items-center gap-2",children:[s.jsx(Dl,{className:"w-4 h-4"}),"Types d'événements"]}),s.jsx(AT,{}),s.jsxs(mr,{onClick:()=>l(!0),className:"font-medium cursor-pointer",children:[s.jsx(ns,{className:"w-4 h-4 mr-2"}),"Tout afficher"]}),s.jsxs(mr,{onClick:()=>l(!1),className:"font-medium cursor-pointer",children:[s.jsx(Aj,{className:"w-4 h-4 mr-2"}),"Tout masquer"]}),s.jsx(AT,{}),kd.map(c=>{const u=t.has(c.value),d=e[c.value];return s.jsxs(EZ,{checked:u,onCheckedChange:f=>n(c.value,!!f),className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d}}),s.jsx("span",{children:c.label})]}),i&&r&&s.jsx("input",{type:"color",value:d,onChange:f=>r(c.value,f.target.value),onClick:f=>f.stopPropagation(),className:"w-6 h-6 rounded border-none cursor-pointer"})]},c.value)})]})]})]})}function zjt({events:e,eventTypeColors:t,onEventClick:n,onSelect:r,onEventResize:i,onEventDrop:a,loading:o=!1}){const{userProfile:l}=Hf(),{canManageOrganization:c}=cr(),[u,d]=x.useState(new Set(kd.map(y=>y.value))),f=(y,v)=>{const w=new Set(u);v?w.add(y):w.delete(y),d(w)},h=y=>l&&y.organizer_id===l.id||c(),m=x.useMemo(()=>e.filter(y=>u.has(y.type)),[e,u]),p=x.useMemo(()=>m.map(y=>({id:y.id,title:y.title,start:new Date(y.start_date),end:new Date(y.end_date),backgroundColor:t[y.type],borderColor:t[y.type],textColor:"#ffffff",extendedProps:{...y,color:t[y.type]}})),[m,t]),g=y=>{var b;const v=y.event.extendedProps.color,w=y.view.type==="dayGridMonth";return s.jsxs("div",{className:"fc-event-content",style:{backgroundColor:v,color:"white",padding:w?"2px 6px":"4px 8px",borderRadius:"6px",fontSize:w?"11px":"12px",fontWeight:"500",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",overflow:"hidden",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:j=>{j.currentTarget.style.transform="scale(1.02)",j.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:j=>{j.currentTarget.style.transform="scale(1)",j.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)"},children:[s.jsx("div",{className:"fc-event-title",style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:y.event.title}),!w&&y.event.extendedProps.max_participants&&s.jsxs("div",{style:{fontSize:"10px",opacity:.8,flexShrink:0},children:[((b=y.event.extendedProps.participants)==null?void 0:b.length)||0,"/",y.event.extendedProps.max_participants]})]})};return s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"h-5 w-5 text-aurentia-pink"}),"Calendrier des Événements"]}),s.jsx(Fjt,{eventTypeColors:t,visibleTypes:u,onVisibilityChange:f})]})}),s.jsx(ie,{className:"p-6",children:s.jsx("div",{style:{height:"700px"},children:s.jsx(Xce,{plugins:[Twt,pjt,Ljt],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},locale:$jt,events:p,eventContent:g,eventClick:y=>{const v=e.find(w=>w.id===y.event.id);v&&n(v)},selectable:!0,selectMirror:!0,select:y=>{if(y.allDay){const w=new Date(y.startStr),b=new Date(y.endStr),j=new Date(w.getFullYear(),w.getMonth(),w.getDate(),0,1,0,0),_=new Date(b);_.setDate(_.getDate()-1);const N=new Date(_.getFullYear(),_.getMonth(),_.getDate(),23,59,0,0);r({...y,start:j,end:N})}else{const w=rB(y.start),b=rB(y.end);console.log("Calendar selection - Raw:",{start:y.start,end:y.end}),console.log("Calendar selection - Normalized:",{start:w,end:b}),r({...y,start:w,end:b})}},editable:!0,eventAllow:(y,v)=>{if(!v)return!0;const w=e.find(b=>b.id===v.id);return w?h(w):!1},eventResize:y=>{const v=e.find(w=>w.id===y.event.id);v&&h(v)?i(y):y.revert()},eventDrop:y=>{const v=e.find(w=>w.id===y.event.id);v&&h(v)?a(y):y.revert()},height:"100%",dayMaxEvents:4,moreLinkClick:"popover",buttonText:{today:"Aujourd'hui",month:"Mois",week:"Semaine",day:"Jour"},slotLabelFormat:{hour:"numeric",minute:"2-digit",omitZeroMinute:!1,meridiem:!1},eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:!1},eventDragStart:y=>{y.el.style.opacity="0.7",y.el.style.transform="scale(1.05)",y.el.style.zIndex="1000"},eventDragStop:y=>{y.el.style.opacity="1",y.el.style.transform="scale(1)",y.el.style.zIndex="auto"},longPressDelay:300,eventLongPressDelay:300,selectLongPressDelay:300,eventResizeStart:y=>{y.el.style.opacity="0.8"},eventResizeStop:y=>{y.el.style.opacity="1"},eventClassNames:y=>["custom-event",`event-${y.event.extendedProps.type}`]})})})]})}const Bjt=()=>{const{id:e}=Nt(),{events:t,loading:n,error:r,addEvent:i,editEvent:a,removeEvent:o}=i4(e),{eventTypeColors:l,loading:c}=Zgt(e),{toast:u}=ja(),{userProfile:d}=Hf(),[f,h]=x.useState(!1),[m,p]=x.useState(null),[g,y]=x.useState(null),[v,w]=x.useState(!1),b=async S=>e?await i({...S,organizer_id:(d==null?void 0:d.id)||null,organization_id:e})?(u({title:"Événement créé",description:"L'événement a été créé avec succès."}),!0):(u({title:"Erreur",description:"Une erreur s'est produite lors de la création de l'événement.",variant:"destructive"}),!1):!1,j=async S=>{const C=S.event.id,k=S.event.start,A=S.event.end;await a(C,{start_date:vx(k),end_date:vx(A)})||(u({title:"Erreur",description:"Impossible de modifier la durée de l'événement.",variant:"destructive"}),S.revert())},_=async S=>{const C=S.event.id,k=S.event.start,A=S.event.end;await a(C,{start_date:vx(k),end_date:vx(A)})||(u({title:"Erreur",description:"Impossible de déplacer l'événement.",variant:"destructive"}),S.revert())},N={total:t.length,thisMonth:t.filter(S=>{const C=new Date(S.start_date),k=new Date;return C.getMonth()===k.getMonth()&&C.getFullYear()===k.getFullYear()}).length,upcoming:t.filter(S=>new Date(S.start_date)>new Date).length,totalParticipants:t.reduce((S,C)=>S+C.participants.length,0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Événements"}),s.jsx("p",{className:"text-gray-600 text-base",children:"Planifiez et gérez vos événements d'organisation."})]}),s.jsxs(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",onClick:()=>{y(null),w(!0)},children:[s.jsx(In,{className:"w-4 h-4 mr-2"}),"Nouvel événement"]})]})}),s.jsx(xse,{open:v,onOpenChange:w,organisationId:e||"",selectedRange:g,onCreateEvent:b}),r&&s.jsxs($l,{className:"mb-6",children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsx(Fl,{children:r})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Total Événements"}),s.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:N.total})})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Ce Mois"}),s.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:N.thisMonth})})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"À Venir"}),s.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:N.upcoming})})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Participants Total"}),s.jsx(et,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:N.totalParticipants})})]})]}),n&&s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Pt,{className:"h-8 w-8 animate-spin"})}),!n&&!c&&s.jsxs(s.Fragment,{children:[s.jsx(zjt,{events:t,eventTypeColors:l,onEventClick:S=>{p(S),h(!0)},onSelect:S=>{y({start:S.start,end:S.end}),w(!0)},onEventResize:j,onEventDrop:_,loading:n}),s.jsx(vse,{event:m,open:f,onOpenChange:h,editEvent:a,onEventUpdate:S=>{t.map(C=>C.id===S.id?S:C)},onEventDelete:async S=>{if(await o(S))u({title:"Événement supprimé",description:"L'événement a été supprimé avec succès."}),h(!1),p(null);else throw new Error("Impossible de supprimer l'événement.")}}),t.length===0&&!n&&s.jsx(re,{className:"text-center py-12 mt-6",children:s.jsxs(ie,{children:[s.jsx(Wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun événement planifié"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Commencez par créer votre premier événement."}),s.jsxs(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",onClick:()=>w(!0),children:[s.jsx(In,{className:"w-4 h-4 mr-2"}),"Créer un événement"]})]})})]})]})};function mue({id:e,attributes:t,listeners:n}){return s.jsxs(H,{...t,...n,variant:"ghost",size:"icon",className:"text-muted-foreground size-7 hover:bg-transparent",children:[s.jsx(_7,{className:"text-muted-foreground size-3"}),s.jsx("span",{className:"sr-only",children:"Drag to reorder"})]})}function Ujt({row:e,className:t,onRowClick:n,isMobile:r,stickyFirstColumn:i}){const{transform:a,transition:o,setNodeRef:l,isDragging:c,attributes:u,listeners:d}=Cb({id:e.original.id}),[f,h]=x.useState(null),[m,p]=x.useState(!1),g=b=>{r&&(h({x:b.touches[0].clientX,y:b.touches[0].clientY}),p(!1))},y=b=>{if(r&&f){const j=Math.abs(b.touches[0].clientX-f.x),_=Math.abs(b.touches[0].clientY-f.y);(j>10||_>10)&&p(!0)}},v=()=>{r&&h(null)},w=()=>{r&&n&&!m&&n(e.original)};return s.jsx(st,{"data-state":e.getIsSelected()&&"selected","data-dragging":c,ref:l,className:`group relative z-0 hover:bg-[#F5F5F5] data-[state=selected]:bg-[#F5F5F5] data-[dragging=true]:z-10 data-[dragging=true]:opacity-80 transition-colors duration-200 ${r?"cursor-pointer":""} ${t||""}`,style:{transform:Uo.Transform.toString(a),transition:o},onMouseEnter:b=>{b.currentTarget.querySelectorAll('td[style*="position: sticky"]').forEach(_=>{_.style.backgroundColor="#F5F5F5"})},onMouseLeave:b=>{const j=b.currentTarget.querySelectorAll('td[style*="position: sticky"]'),_=e.getIsSelected()?"#F5F5F5":"white";j.forEach(N=>{N.style.backgroundColor=_})},onTouchStart:g,onTouchMove:y,onTouchEnd:v,onClick:b=>{r&&!c&&w()},children:e.getVisibleCells().map((b,j)=>{const _=b.column.id==="drag",N=b.column.id==="select",S=j===2,C=!r&&i&&(N||S);return _?s.jsx(Me,{className:"py-2 px-4",children:s.jsx("div",{className:"flex items-center justify-center -mr-2.5",children:s.jsx(mue,{id:e.original.id,attributes:u,listeners:d})})},b.id):s.jsx(Me,{className:`py-2 px-4 ${C?`sticky z-10 transition-colors duration-200 ${S?"relative after:absolute after:top-0 after:right-0 after:h-full after:w-[1px] after:bg-gradient-to-b after:from-gray-200 after:to-gray-300 after:shadow-[1px_0_3px_0px_rgba(0,0,0,0.1)] after:z-10":""}`:"transition-colors duration-200"}`,style:C?{position:"sticky",left:N?"0px":"40px",backgroundColor:e.getIsSelected()?"#F5F5F5":"white",minWidth:N?"40px":void 0,maxWidth:N?"40px":void 0}:{},onMouseEnter:k=>{if(C){const T=k.currentTarget.closest("tr");T&&T.querySelectorAll('td[style*="position: sticky"]').forEach(R=>{R.style.backgroundColor="#F5F5F5"})}},onMouseLeave:k=>{if(C){const T=k.currentTarget.closest("tr");if(T){const R=T.getAttribute("data-state")==="selected"?"#F5F5F5":"white";T.querySelectorAll('td[style*="position: sticky"]').forEach(O=>{O.style.backgroundColor=R})}}},children:du(b.column.columnDef.cell,b.getContext())},b.id)})})}function qjt(e,t,n=!0,r=!1){const i=[];if(n&&i.push({id:"drag",header:()=>r?s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Dj,{className:"h-4 w-4"})}):null,cell:({row:a})=>{if(r)return s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(H,{variant:"ghost",size:"icon",className:"text-muted-foreground size-7 hover:bg-transparent",onClick:c=>{c.stopPropagation(),t(a.original)},children:s.jsx(Dj,{className:"h-4 w-4"})})});const{attributes:o,listeners:l}=Cb({id:a.original.id});return s.jsx("div",{className:"flex items-center justify-center -mr-1",children:s.jsx(mue,{id:a.original.id,attributes:o,listeners:l})})},size:1}),e.selectable!==!1&&i.push({id:"select",header:({table:a})=>s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(Br,{checked:a.getIsAllPageRowsSelected(),onCheckedChange:o=>a.toggleAllPageRowsSelected(!!o),"aria-label":"Select all"})}),cell:({row:a})=>s.jsx("div",{className:"flex items-center justify-center",onClick:o=>o.stopPropagation(),children:s.jsx(Br,{checked:a.getIsSelected(),onCheckedChange:o=>a.toggleSelected(!!o),"aria-label":"Select row"})}),enableSorting:!1,enableHiding:!1,size:40}),e.columns.forEach((a,o)=>{i.push({accessorKey:a.accessorKey,header:a.header,cell:({row:l})=>{const c=l.original[a.accessorKey];return o===0&&e.modalEnabled&&!r?s.jsxs("div",{className:"flex items-center justify-between min-w-[180px] gap-2",children:[s.jsx("div",{className:"text-sm whitespace-nowrap flex-grow",children:a.cell?a.cell(l.original):c}),s.jsx(H,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-[#F5F5F5] border-gray-300 hover:border-[#F86E19] flex-shrink-0",onClick:u=>{u.stopPropagation(),t(l.original)},children:"Ouvrir"})]}):s.jsx("div",{className:"text-sm whitespace-nowrap",children:a.cell?a.cell(l.original):c})},size:a.size,minSize:a.minSize,enableSorting:a.enableSorting,enableHiding:a.enableHiding,filterFn:a.filterFn,meta:o===0&&e.stickyFirstColumn&&!r?{sticky:"left"}:void 0})}),e.hasUrlColumn){const a=e.hasUrlColumn.icon||Pr;i.push({accessorKey:e.hasUrlColumn.accessorKey,header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"URL"]}),cell:({row:o})=>{const l=o.original[e.hasUrlColumn.accessorKey];return l?s.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-gray-900 hover:text-gray-700 cursor-pointer max-w-[150px] truncate",onClick:c=>c.stopPropagation(),title:l,children:[s.jsx(a,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:l})]}):s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(a,{className:"h-4 w-4 text-gray-400"}),"-"]})},size:150})}if(e.hasDateColumn){const a=e.hasDateColumn.icon||Wt;i.push({accessorKey:e.hasDateColumn.accessorKey,header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"Date"]}),cell:({row:o})=>{const[l,c]=x.useState(o.original[e.hasDateColumn.accessorKey]),[u,d]=x.useState(!1);return s.jsxs(oa,{open:u,onOpenChange:d,children:[s.jsx(la,{asChild:!0,children:s.jsx(H,{variant:"ghost",className:"text-sm text-gray-900 hover:text-gray-700 hover:bg-[#F3F4F6] h-auto p-1 font-normal",onClick:f=>f.stopPropagation(),children:l?l.toLocaleDateString("fr-FR"):"Sélectionner"})}),s.jsx(Ai,{className:"w-auto p-0",align:"start",children:s.jsx(Pb,{mode:"single",selected:l,onSelect:f=>{var h;c(f),d(!1),(h=e.hasDateColumn)!=null&&h.onChange&&e.hasDateColumn.onChange(o.original,f)},initialFocus:!0})})]})},size:120})}if(e.hasLabelsColumn&&i.push({accessorKey:e.hasLabelsColumn.accessorKey,header:"Étiquettes",filterFn:(a,o,l)=>l.includes(a.getValue(o)),cell:({row:a})=>{const o=a.original[e.hasLabelsColumn.accessorKey],l=e.hasLabelsColumn.labelConfig[o];if(!l)return s.jsx("span",{className:"text-sm text-gray-500",children:o});const c=l.icon;return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-lg text-xs font-medium bg-white border border-[#E5E5E5] text-[#747474] whitespace-nowrap",children:[c&&s.jsx("span",{className:`flex items-center justify-center rounded-lg mr-1 ${l.iconBgColor} ${l.iconColor} h-4 w-4`,children:s.jsx(c,{className:"h-3 w-3"})}),o]})},size:100}),e.hasEditableLabelsColumn){const a=vl;i.push({accessorKey:e.hasEditableLabelsColumn.accessorKey,header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"Etiquettes"]}),filterFn:(o,l,c)=>c.includes(o.getValue(l)),cell:({row:o})=>{const[l,c]=x.useState(o.original[e.hasEditableLabelsColumn.accessorKey]||e.hasEditableLabelsColumn.options[0]),[u,d]=x.useState(!1),f=e.hasEditableLabelsColumn.options,h=y=>e.hasEditableLabelsColumn.labelConfig[y]||{icon:null,iconBgColor:"bg-gray-200",iconColor:"text-gray-700"},{icon:m,iconBgColor:p,iconColor:g}=h(l);return s.jsx("div",{onClick:y=>y.stopPropagation(),children:s.jsxs(oa,{open:u,onOpenChange:d,children:[s.jsx(la,{asChild:!0,children:s.jsx("div",{className:"cursor-pointer",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-lg text-xs font-medium bg-white border border-[#E5E5E5] text-[#747474] whitespace-nowrap hover:border-[#F86E19] transition-colors",children:[m&&s.jsx("span",{className:`flex items-center justify-center mr-1 ${p} ${g} h-3 w-3 ${p!=="bg-transparent"?"rounded-lg":""}`,children:s.jsx(m,{className:`${p==="bg-transparent"?"h-3 w-3":"h-2 w-2"}`})}),l]})})}),s.jsx(Ai,{className:"w-48 p-0",align:"start",children:s.jsx(qc,{children:s.jsx(Vc,{children:s.jsx(Hc,{children:f.map(y=>{const v=h(y),w=v.icon;return s.jsx(Wc,{onSelect:()=>{var b;c(y),d(!1),(b=e.hasEditableLabelsColumn)!=null&&b.onChange&&e.hasEditableLabelsColumn.onChange(o.original,y)},className:"justify-start hover:!bg-[#F3F4F6] hover:!text-black data-[highlighted]:!bg-[#F3F4F6] data-[highlighted]:!text-black !bg-transparent !text-black",children:s.jsxs("div",{className:"flex items-center gap-2",children:[w&&s.jsx("span",{className:`flex items-center justify-center ${v.iconBgColor} ${v.iconColor} h-3 w-3 ${v.iconBgColor!=="bg-transparent"?"rounded-lg":""}`,children:s.jsx(w,{className:`${v.iconBgColor==="bg-transparent"?"h-3 w-3":"h-2 w-2"}`})}),s.jsx("span",{className:"text-black",children:y})]})},y)})})})})})]})})},size:120})}if(e.hasProgressColumn&&i.push({accessorKey:"progressValue",header:"Progression",cell:({row:a})=>{const o=a.original.progressValue;return typeof o=="number"?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2 w-28 shadow-inner",children:s.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-[#F86E19] to-[#E55A0F] transition-all duration-500 ease-out shadow-sm",style:{width:`${o}%`}})}),s.jsxs("span",{className:"text-xs font-medium text-gray-600 min-w-[2.5rem] text-right",children:[o,"%"]})]}):s.jsx("div",{className:"text-sm text-gray-500",children:"N/A"})},size:180}),e.hasLinksColumn&&i.push({accessorKey:"relatedLinks",header:"Liens Associés",cell:({row:a})=>{const o=a.original.relatedLinks;return s.jsx("div",{onClick:l=>l.stopPropagation(),children:s.jsx(Ate,{links:o||[],label:o&&o.length>0?"Voir les liens":"Sélectionner"})})},size:150}),e.hasSwitchColumn){const a=Ij;i.push({accessorKey:e.hasSwitchColumn.accessorKey,header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),e.hasSwitchColumn.header]}),cell:({row:o})=>{const[l,c]=x.useState(!1),u=o.original[e.hasSwitchColumn.accessorKey]??!1,[d,f]=x.useState(u);return x.useEffect(()=>{f(u)},[u]),s.jsx("div",{className:"relative flex items-center justify-center h-full",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:h=>h.stopPropagation(),children:s.jsx(As,{checked:d,onCheckedChange:h=>{f(h),e.hasSwitchColumn.onChange(o.original,h)},className:de("data-[state=checked]:bg-[#F86E19] data-[state=unchecked]:bg-[#E0E0E0] transition-colors duration-200",l&&!d?"bg-gray-300":"")})})},size:80})}if(e.hasActionButtonColumn){const a=e.hasActionButtonColumn.icon||Oj,o=e.hasActionButtonColumn.buttonLabel||"Action";i.push({accessorKey:e.hasActionButtonColumn.accessorKey,header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"Bouton"]}),cell:({row:l})=>s.jsx("div",{onClick:c=>c.stopPropagation(),children:s.jsx(H,{variant:"outline",size:"sm",className:"h-7 px-3 text-xs bg-white border-gray-300 hover:bg-[#F3F4F6] hover:border-[#F86E19] hover:text-black transition-colors",onClick:()=>{e.hasActionButtonColumn.onClick(l.original)},children:o})}),size:100})}if(e.hasRatingColumn){const a=Zt,o=e.hasRatingColumn.maxRating||5;i.push({accessorKey:e.hasRatingColumn.accessorKey,header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"Rating"]}),cell:({row:l})=>{const[c,u]=x.useState(l.original[e.hasRatingColumn.accessorKey]||0),[d,f]=x.useState(0);return s.jsx("div",{className:"flex gap-1",onClick:h=>h.stopPropagation(),children:[...Array(o)].map((h,m)=>{const p=m+1;return s.jsx(Zt,{className:`h-4 w-4 cursor-pointer transition-colors ${p<=(d||c)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`,onMouseEnter:()=>f(p),onMouseLeave:()=>f(0),onClick:()=>{var g;u(p),(g=e.hasRatingColumn)!=null&&g.onChange&&e.hasRatingColumn.onChange(l.original,p)}},p)})})},size:120})}if(e.hasMultiSelectLabelsColumn){const a=vl;i.push({accessorKey:e.hasMultiSelectLabelsColumn.accessorKey,header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"Étiquettes"]}),cell:({row:o})=>{const l=e.hasMultiSelectLabelsColumn.options,[c,u]=x.useState(o.original[e.hasMultiSelectLabelsColumn.accessorKey]||[]),[d,f]=x.useState(!1),h=m=>{var g;const p=c.includes(m)?c.filter(y=>y!==m):[...c,m];u(p),(g=e.hasMultiSelectLabelsColumn)!=null&&g.onChange&&e.hasMultiSelectLabelsColumn.onChange(o.original,p)};return s.jsx("div",{onClick:m=>m.stopPropagation(),children:s.jsxs(oa,{open:d,onOpenChange:f,children:[s.jsx(la,{asChild:!0,children:s.jsx(H,{variant:"outline",className:"h-8 px-3 text-xs border-[#E5E5E5] hover:border-[#D0D0D0] bg-white",children:c.length>0?`${c.length} sélectionné(s)`:"Sélectionner"})}),s.jsxs(Ai,{className:"w-56 p-2",align:"start",children:[s.jsx("div",{className:"space-y-1",children:l.map(m=>s.jsxs(H,{variant:"ghost",className:"w-full justify-start text-sm h-8 px-2",onClick:()=>h(m),children:[s.jsx(Br,{checked:c.includes(m),className:"mr-2"}),m]},m))}),c.length>0&&s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(m=>s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${e.hasMultiSelectLabelsColumn.getTagColor(m)}`,children:m},m))})})]})]})})},size:250})}if(e.hasCurrencyColumn){const a=cf,o=e.hasCurrencyColumn.currency||"EUR",l=e.hasCurrencyColumn.locale||"fr-FR";i.push({accessorKey:e.hasCurrencyColumn.accessorKey,header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"Montant"]}),cell:({row:c})=>{const u=c.original[e.hasCurrencyColumn.accessorKey];return s.jsx("div",{className:"text-sm font-medium",children:u!==void 0?new Intl.NumberFormat(l,{style:"currency",currency:o}).format(u):s.jsx("span",{className:"text-gray-500",children:"N/A"})})},size:100})}if(e.hasLocationColumn){const a=e.hasLocationColumn.icon||rs;i.push({accessorKey:e.hasLocationColumn.accessorKey,header:()=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-4 w-4"}),"Localisation"]}),cell:({row:o})=>{const l=o.original[e.hasLocationColumn.accessorKey];if(!(l!=null&&l.address))return s.jsx("div",{className:"text-sm text-gray-500",children:"N/A"});const c=()=>{const d=`https://maps.google.com/maps?q=${encodeURIComponent(l.address)}`;window.open(d,"_blank")};return s.jsx("div",{onClick:u=>u.stopPropagation(),children:s.jsxs(H,{variant:"ghost",size:"sm",className:"h-8 px-2 text-sm text-gray-700 hover:text-[#F86E19] hover:bg-[#FFF5F0]",onClick:c,children:[s.jsx(a,{className:"h-4 w-4 mr-1"}),l.address]})})},size:200})}return e.rowActions&&e.rowActions.length>0&&i.push({id:"actions",cell:({row:a})=>{const o=e.rowActions.filter(l=>!l.show||l.show(a.original));return s.jsx("div",{className:"flex justify-center",children:s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,onClick:l=>l.stopPropagation(),children:s.jsxs(H,{variant:"ghost",className:"data-[state=open]:bg-muted flex size-8 p-0 hover:bg-gray-100",children:[s.jsx(uD,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"sr-only",children:"Open menu"})]})}),s.jsx(ds,{align:"end",className:"w-40",children:o.map((l,c)=>{const u=l.icon;return s.jsxs(mr,{onClick:()=>l.onClick(a.original),className:l.variant==="destructive"?"text-red-600":"",children:[u&&s.jsx(u,{className:"mr-2 h-4 w-4"}),l.label]},c)})})]})})},size:40}),i}function KL({data:e,config:t,onDataChange:n}){var X,oe,Y,ne,ge,se,ce,ve;const[r,i]=x.useState(()=>e),[a,o]=x.useState(null),[l,c]=x.useState({}),[u,d]=x.useState({}),[f,h]=x.useState([]),[m,p]=x.useState({pageIndex:0,pageSize:t.defaultPageSize||10}),[g,y]=x.useState(!1),[v,w]=x.useState(null),[b,j]=x.useState(!1),[_,N]=x.useState(window.innerWidth<=768),S=x.useId(),C=t.draggable!==!1,k=UM(Gd(KM,{activationConstraint:{distance:8}}),Gd(YM,{activationConstraint:{delay:250,tolerance:5}}),Gd(aS)),A=((X=t.modalTabs)==null?void 0:X.map(te=>te.id))||[],{activeTab:T,isTransitioning:E,contentRef:R,modalRef:$,handleTabChange:O,resetTab:F}=W1({tabs:A,defaultTab:A[0]}),z=x.useRef(null);x.useEffect(()=>{const te=()=>N(window.innerWidth<=768);return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]),x.useEffect(()=>{if(a)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}},[a]),x.useEffect(()=>{if(b){const te=document.documentElement,ue=document.body,ee=te.style.overflow,le=ue.style.overflow,Ie=te.style.touchAction,Pe=ue.style.touchAction;te.style.overflow="hidden",ue.style.overflow="hidden",te.style.touchAction="none",ue.style.touchAction="none";const Ae=W=>(W.preventDefault(),W.stopPropagation(),!1);return window.addEventListener("scroll",Ae,{passive:!1}),window.addEventListener("wheel",Ae,{passive:!1}),window.addEventListener("touchmove",Ae,{passive:!1}),()=>{te.style.overflow=ee,ue.style.overflow=le,te.style.touchAction=Ie,ue.style.touchAction=Pe,window.removeEventListener("scroll",Ae),window.removeEventListener("wheel",Ae),window.removeEventListener("touchmove",Ae)}}},[b]);const P=()=>{o(null),F()};x.useEffect(()=>{i(e)},[e]);const I=x.useMemo(()=>(r==null?void 0:r.map(({id:te})=>te))||[],[r]),M=te=>{o(te)},U=x.useMemo(()=>qjt(t,M,C,_),[t,C,_]),D=Ete({data:r,columns:U,state:{rowSelection:l,columnVisibility:u,columnFilters:f,pagination:m},getRowId:te=>te.id.toString(),enableRowSelection:t.selectable!==!1,onRowSelectionChange:c,onColumnVisibilityChange:d,onColumnFiltersChange:h,onPaginationChange:p,getCoreRowModel:Nte(),getFilteredRowModel:Ste(),getPaginationRowModel:Cte()}),L=()=>{j(!0)},V=x.useCallback(te=>{j(!1);const{active:ue,over:ee}=te;ue&&ee&&ue.id!==ee.id&&i(le=>{const Ie=le.findIndex(W=>W.id===ue.id),Pe=le.findIndex(W=>W.id===ee.id),Ae=cS(le,Ie,Pe);return t.onReorder&&t.onReorder(Ae),n&&n(Ae),Ae})},[t,n]),K=te=>{const ue=D.getFilteredSelectedRowModel().rows.map(ee=>ee.original);te.onClick(ue),c({}),w(null)},G=((oe=t.searchKeys)==null?void 0:oe[0])||((Y=t.columns[0])==null?void 0:Y.accessorKey);return s.jsxs("div",{className:"w-full",children:[t.title&&s.jsx(me,{className:"mb-4 mx-4 lg:mx-6",children:t.title}),s.jsxs("div",{className:"hidden md:flex items-center justify-between px-4 lg:px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[t.searchable!==!1&&s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ke,{placeholder:t.searchPlaceholder||"Rechercher...",value:((ne=D.getColumn(G))==null?void 0:ne.getFilterValue())??"",onChange:te=>{var ue;return(ue=D.getColumn(G))==null?void 0:ue.setFilterValue(te.target.value)},className:"max-w-sm pl-8"})]}),t.filters&&t.filters.length>0&&s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsx(H,{variant:"outline",className:"bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0 flex items-center justify-center p-0 w-10 h-10 border border-input","aria-label":"Filter",children:s.jsx(Dl,{className:"h-4 w-4 text-black"})})}),s.jsx(ds,{align:"start",children:t.filters.map(te=>{var ue;return s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsxs(mr,{onSelect:ee=>ee.preventDefault(),className:"flex justify-between",children:[te.label,s.jsx(Oi,{className:"ml-auto h-4 w-4"})]})}),s.jsx(ds,{side:"right",sideOffset:5,align:"center",className:"w-48",children:te.type==="checkbox"&&((ue=te.options)==null?void 0:ue.map(ee=>{var Pe;const le=((Pe=D.getColumn(te.id))==null?void 0:Pe.getFilterValue())||[],Ie=ee.icon;return s.jsxs(mr,{onSelect:Ae=>Ae.preventDefault(),onClick:()=>{var W;const Ae=le.includes(ee.value)?le.filter(_e=>_e!==ee.value):[...le,ee.value];(W=D.getColumn(te.id))==null||W.setFilterValue(Ae.length>0?Ae:void 0)},children:[s.jsx(Br,{checked:le.includes(ee.value),className:"mr-2"}),Ie&&s.jsx(Ie,{className:"mr-2 h-4 w-4"}),ee.label]},ee.value)}))})]},te.id)})})]}),t.bulkActions&&t.bulkActions.length>0&&D.getFilteredSelectedRowModel().rows.length>0&&s.jsx(s.Fragment,{children:t.bulkActions.map((te,ue)=>{const ee=te.icon;return s.jsxs(H,{variant:te.variant||"default",size:"sm",onClick:()=>{te.confirmMessage?(w(te),y(!0)):K(te)},className:"ml-2",children:[ee&&s.jsx(ee,{className:"mr-2 h-4 w-4"}),te.label," (",D.getFilteredSelectedRowModel().rows.length,")"]},ue)})})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsx(H,{variant:"outline",size:"icon",className:"bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0",children:s.jsx(ns,{className:"h-4 w-4"})})}),s.jsx(ds,{align:"end",className:"w-56 custom-select-content-bg",children:D.getAllColumns().filter(te=>te.getCanHide()).map(te=>te.id==="drag"||te.id==="select"||te.id==="actions"?null:s.jsxs(mr,{className:"capitalize custom-select-item-bg",onSelect:ue=>ue.preventDefault(),onClick:()=>te.toggleVisibility(!te.getIsVisible()),children:[s.jsx(Br,{checked:te.getIsVisible(),className:"mr-2"}),te.columnDef.header]},te.id))})]})})]}),s.jsxs("div",{className:"md:hidden px-4 py-4 space-y-4",children:[t.searchable!==!1&&s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ke,{placeholder:t.searchPlaceholder||"Rechercher...",value:((ge=D.getColumn(G))==null?void 0:ge.getFilterValue())??"",onChange:te=>{var ue;return(ue=D.getColumn(G))==null?void 0:ue.setFilterValue(te.target.value)},className:"pl-8"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[t.filters&&t.filters.length>0&&s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsx(H,{variant:"outline",className:"bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0 flex items-center justify-center p-0 w-10 h-10 border border-input","aria-label":"Filter",children:s.jsx(Dl,{className:"h-4 w-4 text-black"})})}),s.jsx(ds,{align:"start",children:t.filters.map(te=>{var ue;return s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsxs(mr,{onSelect:ee=>ee.preventDefault(),className:"flex justify-between",children:[te.label,s.jsx(Oi,{className:"ml-auto h-4 w-4"})]})}),s.jsx(ds,{side:"right",sideOffset:5,align:"center",className:"w-48",children:te.type==="checkbox"&&((ue=te.options)==null?void 0:ue.map(ee=>{var Pe;const le=((Pe=D.getColumn(te.id))==null?void 0:Pe.getFilterValue())||[],Ie=ee.icon;return s.jsxs(mr,{onSelect:Ae=>Ae.preventDefault(),onClick:()=>{var W;const Ae=le.includes(ee.value)?le.filter(_e=>_e!==ee.value):[...le,ee.value];(W=D.getColumn(te.id))==null||W.setFilterValue(Ae.length>0?Ae:void 0)},children:[s.jsx(Br,{checked:le.includes(ee.value),className:"mr-2"}),Ie&&s.jsx(Ie,{className:"mr-2 h-4 w-4"}),ee.label]},ee.value)}))})]},te.id)})})]}),s.jsxs(Ts,{children:[s.jsx(Ps,{asChild:!0,children:s.jsx(H,{variant:"outline",size:"icon",className:"bg-white hover:bg-[#F3F4F6] hover:text-black focus:ring-0 focus:ring-offset-0",children:s.jsx(ns,{className:"h-4 w-4"})})}),s.jsx(ds,{align:"start",className:"w-56 custom-select-content-bg",children:D.getAllColumns().filter(te=>te.getCanHide()).map(te=>te.id==="drag"||te.id==="select"||te.id==="actions"?null:s.jsxs(mr,{className:"capitalize custom-select-item-bg",onSelect:ue=>ue.preventDefault(),onClick:()=>te.toggleVisibility(!te.getIsVisible()),children:[s.jsx(Br,{checked:te.getIsVisible(),className:"mr-2"}),te.columnDef.header]},te.id))})]}),t.bulkActions&&t.bulkActions.length>0&&D.getFilteredSelectedRowModel().rows.length>0&&s.jsx(s.Fragment,{children:t.bulkActions.map((te,ue)=>{const ee=te.icon;return s.jsxs(H,{variant:te.variant||"default",size:"sm",onClick:()=>{te.confirmMessage?(w(te),y(!0)):K(te)},className:"flex-1",children:[ee&&s.jsx(ee,{className:"mr-2 h-4 w-4"}),te.label," (",D.getFilteredSelectedRowModel().rows.length,")"]},ue)})})]})]}),s.jsx("div",{className:`rounded-lg border overflow-x-auto ${_?"w-[95%] mx-auto":"mx-4 lg:mx-6"}`,children:C?s.jsx(QM,{collisionDetection:qM,modifiers:[kte],onDragStart:L,onDragEnd:V,onDragCancel:()=>j(!1),sensors:k,id:S,children:s.jsxs(Zs,{children:[s.jsx(so,{className:"bg-[#F5F5F5] text-black sticky top-0 z-10",children:D.getHeaderGroups().map(te=>s.jsx(st,{children:te.headers.map(ue=>s.jsx(xn,{colSpan:ue.colSpan,className:"text-black font-medium whitespace-nowrap",children:ue.isPlaceholder?null:du(ue.column.columnDef.header,ue.getContext())},ue.id))},te.id))}),s.jsx(ei,{children:(se=D.getRowModel().rows)!=null&&se.length?s.jsx(dS,{items:I,strategy:uS,children:D.getRowModel().rows.map(te=>s.jsx(Ujt,{row:te,className:"h-8",onRowClick:t.modalEnabled?M:void 0,isMobile:_,stickyFirstColumn:t.stickyFirstColumn},te.id))},I.map(te=>te.toString()).join("-")):s.jsx(st,{className:"h-8",children:s.jsx(Me,{colSpan:U.length,className:"h-24 text-center",children:t.emptyMessage||"Aucun résultat."})})})]})}):s.jsxs(Zs,{children:[s.jsx(so,{className:"bg-[#F5F5F5] text-black sticky top-0 z-10",children:D.getHeaderGroups().map(te=>s.jsx(st,{children:te.headers.map(ue=>s.jsx(xn,{colSpan:ue.colSpan,className:"text-black font-medium whitespace-nowrap",children:ue.isPlaceholder?null:du(ue.column.columnDef.header,ue.getContext())},ue.id))},te.id))}),s.jsx(ei,{children:(ce=D.getRowModel().rows)!=null&&ce.length?D.getRowModel().rows.map(te=>s.jsx(st,{"data-state":te.getIsSelected()&&"selected",className:"h-8 group cursor-pointer hover:bg-gray-50",onClick:()=>{t.modalEnabled&&M(te.original)},children:te.getVisibleCells().map(ue=>s.jsx(Me,{style:{width:`${ue.column.getSize()}px`,minWidth:`${ue.column.columnDef.minSize||0}px`},className:"overflow-hidden",children:du(ue.column.columnDef.cell,ue.getContext())},ue.id))},te.id)):s.jsx(st,{className:"h-8",children:s.jsx(Me,{colSpan:U.length,className:"h-24 text-center",children:t.emptyMessage||"Aucun résultat."})})})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between px-4 lg:px-6 py-4",children:[s.jsxs("div",{className:"hidden md:block text-muted-foreground flex-1 text-sm",children:[D.getFilteredSelectedRowModel().rows.length," sur"," ",D.getFilteredRowModel().rows.length," ligne(s) sélectionnée(s)."]}),s.jsxs("div",{className:"flex w-full items-center justify-between md:w-auto md:justify-end md:space-x-6 lg:space-x-8",children:[s.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),s.jsxs(vt,{value:`${D.getState().pagination.pageSize}`,onValueChange:te=>{D.setPageSize(Number(te))},children:[s.jsx(yt,{className:"h-8 w-[70px] bg-[#F9F9F8] focus:ring-0 focus:ring-offset-0",children:s.jsx(_t,{placeholder:D.getState().pagination.pageSize})}),s.jsx(bt,{side:"top",children:(t.pageSizes||[10,20,30,40,50]).map(te=>s.jsx(fe,{value:`${te}`,className:"hover:bg-[#F3F4F6] data-[highlighted]:bg-[#F3F4F6]",children:te},te))})]})]}),s.jsxs("div",{className:"flex w-full items-center justify-between md:w-auto md:justify-center md:gap-8",children:[s.jsxs("div",{className:"text-sm font-medium",children:["Page ",D.getState().pagination.pageIndex+1," sur ",D.getPageCount()]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(H,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>D.setPageIndex(0),disabled:!D.getCanPreviousPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to first page"}),s.jsx(y7,{className:"h-4 w-4"})]}),s.jsxs(H,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>D.previousPage(),disabled:!D.getCanPreviousPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to previous page"}),s.jsx(_a,{className:"h-4 w-4"})]}),s.jsxs(H,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>D.nextPage(),disabled:!D.getCanNextPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to next page"}),s.jsx(Oi,{className:"h-4 w-4"})]}),s.jsxs(H,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>D.setPageIndex(D.getPageCount()-1),disabled:!D.getCanNextPage(),children:[s.jsx("span",{className:"sr-only",children:"Go to last page"}),s.jsx(b7,{className:"h-4 w-4"})]})]})]})]})]}),a&&t.modalEnabled&&t.modalTabs&&s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50",onClick:P,children:[s.jsxs("div",{ref:$,className:"absolute bg-white text-black rounded-xl shadow-2xl transform scale-95 opacity-0 overflow-hidden flex flex-col",onClick:te=>te.stopPropagation(),style:{animation:"scaleIn 0.3s ease-out forwards",height:"80vh",width:window.innerWidth<=768?"90vw":"70vw",transition:"transform 0.3s ease-out",left:"50%",top:"50%",transformOrigin:"center",transform:"translate(-50%, -50%) scale(0.95)"},children:[s.jsxs("div",{className:"flex items-center space-x-4 p-6 pb-4",children:[t.modalAvatar&&s.jsx("div",{className:`flex w-12 md:w-16 h-12 md:h-16 ${t.modalAvatar(a).bgColor||"bg-aurentia-pink"} rounded-full items-center justify-center text-white font-bold text-lg md:text-2xl`,children:t.modalAvatar(a).text}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold",children:t.modalTitle?t.modalTitle(a):a[t.columns[0].accessorKey]}),t.modalSubtitle&&s.jsx("p",{className:"text-gray-600",children:t.modalSubtitle(a)})]})]}),s.jsx("div",{className:"flex border-b border-gray-100 bg-transparent overflow-x-auto",children:t.modalTabs.map(te=>s.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0 ${T===te.id?"border-b-2 border-orange-500 text-orange-500":"text-gray-600 hover:text-gray-800"}`,onClick:()=>O(te.id),children:te.label},te.id))}),s.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-white/60 via-white/40 via-white/20 to-transparent pointer-events-none z-20"}),s.jsx("div",{ref:z,className:"h-full overflow-y-auto p-6 pt-4 pb-4",children:s.jsx("div",{ref:R,className:`${E?"opacity-0 blur-sm transform translate-y-2":"opacity-100 blur-0 transform translate-y-0"}`,style:{transition:E?"none":"opacity 0.4s ease, filter 0.4s ease, transform 0.4s ease"},children:(ve=t.modalTabs.find(te=>te.id===T))==null?void 0:ve.render(a)})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-white/95 via-white/80 via-white/60 via-white/30 via-white/10 to-transparent pointer-events-none z-20"})]})]}),s.jsx("style",{children:`
              @keyframes scaleIn {
                from {
                  opacity: 0;
                  transform: translate(-50%, -50%) scale(0.95);
                }
                to {
                  opacity: 1;
                  transform: translate(-50%, -50%) scale(1);
                }
              }
            `})]}),s.jsx(pt,{open:g,onOpenChange:y,children:s.jsxs(gt,{className:"sm:max-w-[425px] w-[350px]",children:[s.jsxs(jt,{className:"pb-3",children:[s.jsx(xt,{className:"text-lg",children:"Confirmer l'action"}),s.jsx(Mt,{className:"text-sm",children:(v==null?void 0:v.confirmMessage)||`Êtes-vous sûr de vouloir effectuer cette action sur ${D.getFilteredSelectedRowModel().rows.length} ligne(s) ?`})]}),s.jsxs(Kt,{className:"pt-0",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>{y(!1),w(null)},children:"Annuler"}),s.jsx(H,{variant:(v==null?void 0:v.variant)==="destructive"?"destructive":"default",size:"sm",onClick:()=>{v&&K(v),y(!1)},children:"Confirmer"})]})]})})]})}const Vjt={title:"Liste des adhérents",columns:[{accessorKey:"photoUrl",header:"Photo",size:80,cell:e=>{var t,n;return s.jsx("div",{className:"flex items-center justify-center",children:e.photoUrl?s.jsx("img",{src:e.photoUrl,alt:`${e.prenom} ${e.nom}`,className:"w-10 h-10 rounded-full object-cover"}):s.jsxs("div",{className:"w-10 h-10 rounded-full bg-aurentia-pink flex items-center justify-center text-white font-semibold",children:[(t=e.prenom)==null?void 0:t[0],(n=e.nom)==null?void 0:n[0]]})})}},{accessorKey:"nom",header:"Nom",size:150,minSize:120},{accessorKey:"prenom",header:"Prénom",size:150},{accessorKey:"projetsAssocies",header:"Projets",size:200,cell:e=>s.jsx("div",{className:"text-sm",children:e.projetsAssocies&&e.projetsAssocies.length>0?s.jsxs("span",{className:"text-gray-700",children:[e.projetsAssocies.slice(0,2).join(", "),e.projetsAssocies.length>2&&` +${e.projetsAssocies.length-2}`]}):s.jsx("span",{className:"text-gray-400",children:"Aucun projet"})})},{accessorKey:"email",header:"Email",size:250,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.email})]})},{accessorKey:"telephone",header:"Téléphone",size:150,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.telephone||"Non renseigné"})]})},{accessorKey:"linkedin",header:"LinkedIn",size:120,cell:e=>e.linkedin?s.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"Profil"}):s.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})},{accessorKey:"siteWeb",header:"Site Web",size:120,cell:e=>e.siteWeb?s.jsx("a",{href:e.siteWeb,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"Visiter"}):s.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})},{accessorKey:"creditsRestants",header:"Crédits",size:100,cell:e=>s.jsx("span",{className:`text-sm font-semibold ${(e.creditsRestants||0)>0?"text-green-600":"text-red-600"}`,children:e.creditsRestants!==void 0?e.creditsRestants:"N/A"})},{accessorKey:"mentorsAssocies",header:"Mentors",size:150,cell:e=>s.jsx("div",{className:"text-sm",children:e.mentorsAssocies&&e.mentorsAssocies.length>0?s.jsx("span",{className:"text-gray-700",children:e.mentorsAssocies.join(", ")}):s.jsx("span",{className:"text-gray-400",children:"Aucun mentor"})})},{accessorKey:"cotisationPayee",header:"Cotisation",size:150,cell:e=>s.jsx("div",{className:"flex items-center gap-2",children:e.cotisationPayee?s.jsxs(s.Fragment,{children:[s.jsx(Vr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600",children:"À jour"})]}):s.jsxs(s.Fragment,{children:[s.jsx(tn,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:"text-sm text-red-600",children:["En retard ",e.joursRetard?`(${e.joursRetard}j)`:""]})]})})},{accessorKey:"dateInscription",header:"Date d'inscription",size:150}],searchable:!0,searchPlaceholder:"Rechercher un adhérent...",searchKeys:["nom"],filters:[{id:"statut",label:"Statut",type:"checkbox",options:[{label:"Actif",value:"Actif",icon:Vr},{label:"En attente",value:"En attente",icon:uf},{label:"Inactif",value:"Inactif",icon:tn}]}],hasLabelsColumn:{accessorKey:"statut",labelConfig:{Actif:{icon:Vr,iconBgColor:"bg-green-500",iconColor:"text-white"},"En attente":{icon:uf,iconBgColor:"bg-transparent",iconColor:"text-gray-500"},Inactif:{icon:tn,iconBgColor:"bg-red-500",iconColor:"text-white"}}},hasProgressColumn:!0,hasLinksColumn:!0,hasSwitchColumn:{header:"Luthane",accessorKey:"isLuthaneActive",onChange:(e,t)=>{Ne.success(`Luthane pour ${e.nom} ${e.prenom} ${t?"activé":"désactivé"}`)}},rowActions:[{label:"Modifier",icon:zo,onClick:e=>{Ne.info(`Modification de ${e.nom} ${e.prenom}`)}},{label:"Relancer Cotisation",icon:p2,variant:"default",onClick:e=>{e.cotisationPayee?Ne.info(`${e.nom} ${e.prenom} est déjà à jour`):Ne.success(`Relance envoyée à ${e.nom} ${e.prenom}`)}},{label:"Supprimer",icon:Rr,variant:"destructive",onClick:e=>{Ne.success(`${e.nom} ${e.prenom} supprimé`)}}],bulkActions:[{label:"Supprimer",icon:Rr,variant:"destructive",confirmMessage:"Êtes-vous sûr de vouloir supprimer ces adhérents ? Cette action est irréversible.",onClick:e=>{Ne.success(`${e.length} adhérent(s) supprimé(s)`)}}],draggable:!0,onReorder:e=>{console.log("Nouvel ordre:",e)},selectable:!0,pageSizes:[10,20,30,50],defaultPageSize:10,modalEnabled:!0,modalTitle:e=>`${e.nom} ${e.prenom}`,modalSubtitle:e=>e.email,modalAvatar:e=>({text:`${e.nom[0]}${e.prenom[0]}`,bgColor:"bg-aurentia-pink"}),modalTabs:[{id:"resume",label:"Résumé des informations",render:e=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Informations personnelles"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Nom complet"}),s.jsxs("p",{className:"text-[#4B5563]",children:[e.nom," ",e.prenom]})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Email"}),s.jsx("p",{className:"text-[#4B5563]",children:e.email})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Téléphone"}),s.jsx("p",{className:"text-[#4B5563]",children:e.telephone||"Non renseigné"})]}),e.linkedin&&s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"LinkedIn"}),s.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.linkedin})]}),e.siteWeb&&s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Site Web"}),s.jsx("a",{href:e.siteWeb,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.siteWeb})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Informations académiques"}),e.formationChoisie&&s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Formation"}),s.jsx("p",{className:"text-[#4B5563]",children:e.formationChoisie})]}),e.promotion&&s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Promotion"}),s.jsx("p",{className:"text-[#4B5563]",children:e.promotion})]}),e.budgetFormation!==void 0&&s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Budget Formation"}),s.jsxs("p",{className:"text-[#4B5563]",children:[e.budgetFormation," €"]})]}),e.disponibilites&&s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Disponibilités"}),s.jsx("p",{className:"text-[#4B5563]",children:e.disponibilites})]})]}),s.jsxs("div",{className:"col-span-full",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Suivi et finances"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Crédits restants"}),s.jsx("p",{className:`text-2xl font-bold ${(e.creditsRestants||0)>0?"text-green-600":"text-red-600"}`,children:e.creditsRestants!==void 0?e.creditsRestants:"N/A"})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Cotisation"}),s.jsx("p",{className:`text-lg font-semibold ${e.cotisationPayee?"text-green-600":"text-red-600"}`,children:e.cotisationPayee?"À jour":`Retard ${e.joursRetard||0}j`})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Statut"}),s.jsx("p",{className:"text-lg font-semibold text-[#4B5563]",children:e.statut})]})]})]}),e.mentorsAssocies&&e.mentorsAssocies.length>0&&s.jsxs("div",{className:"col-span-full",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Mentors associés"}),s.jsx("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-4",children:s.jsx("p",{className:"text-[#4B5563]",children:e.mentorsAssocies.join(", ")})})]})]})},{id:"projets",label:"Projets",render:e=>{var t;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Projets associés"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[((t=e.projetsAssocies)==null?void 0:t.length)||0," projet(s)"]})]}),e.projetsAssocies&&e.projetsAssocies.length>0?s.jsx("div",{className:"space-y-3",children:e.projetsAssocies.map((n,r)=>s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:n}),s.jsx("p",{className:"text-sm text-gray-600",children:"Cliquez pour voir les détails du projet"})]},r))}):s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:[s.jsx(Wd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun projet associé"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Les projets de cet adhérent apparaîtront ici."})]})]})}},{id:"relationnel",label:"Relationnel",render:e=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Relations et réseau"}),e.mentorsAssocies&&e.mentorsAssocies.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Mentors"}),s.jsx("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-4",children:s.jsx("p",{className:"text-[#4B5563]",children:e.mentorsAssocies.join(", ")})})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:[s.jsx(Wd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Réseau et interactions"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Les connections et interactions apparaîtront ici."})]})]})},{id:"historique",label:"Historique",render:e=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Historique d'activité"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Date d'inscription"}),s.jsx("p",{className:"text-[#4B5563]",children:e.dateInscription})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:[s.jsx(Wd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Journal d'activité"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Conversations, événements participés et toute l'activité apparaîtra ici."})]})]})}],emptyMessage:"Aucun adhérent trouvé."},h9={title:"Liste des mentors",columns:[{accessorKey:"photoUrl",header:"Photo",size:80,cell:e=>{var t,n;return s.jsx("div",{className:"flex items-center justify-center",children:e.photoUrl?s.jsx("img",{src:e.photoUrl,alt:`${e.prenom} ${e.nom}`,className:"w-10 h-10 rounded-full object-cover"}):s.jsxs("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold",children:[(t=e.prenom)==null?void 0:t[0],(n=e.nom)==null?void 0:n[0]]})})}},{accessorKey:"nom",header:"Nom",size:150,minSize:120},{accessorKey:"prenom",header:"Prénom",size:150},{accessorKey:"email",header:"Email",size:250,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.email})]})},{accessorKey:"telephone",header:"Téléphone",size:150,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.telephone||"Non renseigné"})]})},{accessorKey:"description",header:"Description",size:200,cell:e=>s.jsx("span",{className:"text-sm text-gray-600 line-clamp-2",children:e.description||"Aucune description"})},{accessorKey:"nombreProjetsActuels",header:"Mentorés",size:120,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-semibold",children:e.nombreMentores})]})},{accessorKey:"specialite",header:"Spécialité",size:180,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.specialite})]})},{accessorKey:"linkedin",header:"LinkedIn",size:120,cell:e=>e.linkedin?s.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"Profil"}):s.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})},{accessorKey:"disponibilites",header:"Disponibilités",size:150,cell:e=>s.jsx("span",{className:"text-sm text-gray-600",children:e.disponibilites||"À définir"})},{accessorKey:"nombreProjetsMax",header:"Projets Max",size:120,cell:e=>s.jsxs("span",{className:"text-sm font-medium",children:[e.nombreProjetsMax||"N/A"," / ",e.nombreProjetsActuels||0]})}],searchable:!0,searchPlaceholder:"Rechercher un mentor...",searchKeys:["nom"],filters:[{id:"statut",label:"Statut",type:"checkbox",options:[{label:"Actif",value:"Actif",icon:Vr},{label:"En attente",value:"En attente",icon:uf},{label:"Inactif",value:"Inactif",icon:tn}]}],hasLabelsColumn:{accessorKey:"statut",labelConfig:{Actif:{icon:Vr,iconBgColor:"bg-green-500",iconColor:"text-white"},"En attente":{icon:uf,iconBgColor:"bg-transparent",iconColor:"text-gray-500"},Inactif:{icon:tn,iconBgColor:"bg-red-500",iconColor:"text-white"}}},hasProgressColumn:!0,hasLinksColumn:!0,rowActions:[{label:"Modifier",icon:zo,onClick:e=>{Ne.info(`Modification de ${e.nom} ${e.prenom}`)}},{label:"Voir les mentorés",icon:et,onClick:e=>{Ne.info(`Affichage des mentorés de ${e.nom} ${e.prenom}`)}},{label:"Supprimer",icon:Rr,variant:"destructive",onClick:e=>{Ne.success(`${e.nom} ${e.prenom} supprimé`)}}],bulkActions:[{label:"Supprimer",icon:Rr,variant:"destructive",confirmMessage:"Êtes-vous sûr de vouloir supprimer ces mentors ? Cette action est irréversible.",onClick:e=>{Ne.success(`${e.length} mentor(s) supprimé(s)`)}}],draggable:!0,onReorder:e=>{console.log("Nouvel ordre:",e)},selectable:!0,pageSizes:[10,20,30,50],defaultPageSize:10,modalEnabled:!0,modalTitle:e=>`${e.nom} ${e.prenom}`,modalSubtitle:e=>e.specialite,modalAvatar:e=>({text:`${e.nom[0]}${e.prenom[0]}`,bgColor:"bg-blue-500"}),modalTabs:[{id:"resume",label:"Résumé des informations",render:e=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Informations personnelles"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Nom complet"}),s.jsxs("p",{className:"text-[#4B5563]",children:[e.nom," ",e.prenom]})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Email"}),s.jsx("p",{className:"text-[#4B5563]",children:e.email})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Téléphone"}),s.jsx("p",{className:"text-[#4B5563]",children:e.telephone||"Non renseigné"})]}),e.linkedin&&s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"LinkedIn"}),s.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.linkedin})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Informations professionnelles"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Spécialité"}),s.jsx("p",{className:"text-[#4B5563]",children:e.specialite})]}),e.description&&s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-[#4B5563]",children:e.description})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Disponibilités"}),s.jsx("p",{className:"text-[#4B5563]",children:e.disponibilites||"À définir"})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Capacité"}),s.jsxs("p",{className:"text-[#4B5563]",children:[e.nombreProjetsActuels||0," / ",e.nombreProjetsMax||"Non défini"," projets"]})]})]}),s.jsxs("div",{className:"col-span-full",children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Statistiques"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Mentorés actuels"}),s.jsx("p",{className:"text-2xl font-bold text-[#F86E19]",children:e.nombreMentores})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Taux de réussite"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e.progressValue||0,"%"]})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Statut"}),s.jsx("p",{className:"text-lg font-semibold text-[#4B5563]",children:e.statut})]})]})]})]})},{id:"projets",label:"Projets",render:e=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Projets des mentorés"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[e.nombreMentores," mentoré(s)"]})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:[s.jsx(et,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Liste des projets associés"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Les projets des entrepreneurs mentorés apparaîtront ici."})]})]})},{id:"relationnel",label:"Relationnel",render:e=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Relations et interactions"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:[s.jsx(et,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Historique des interactions"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Messages, rendez-vous et interactions avec les mentorés."})]})]})},{id:"historique",label:"Historique",render:e=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Historique d'activité"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Date d'inscription"}),s.jsx("p",{className:"text-[#4B5563]",children:e.dateInscription})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:[s.jsx("p",{className:"text-gray-500",children:"Journal d'activité"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"L'historique complet des activités, événements et rendez-vous."})]})]})}],emptyMessage:"Aucun mentor trouvé."},Hjt={title:"Liste des projets",columns:[{accessorKey:"titre",header:"Titre du projet",size:300,minSize:200,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium",children:e.titre})]})},{accessorKey:"porteur",header:"Porteur de projet",size:200},{accessorKey:"categorie",header:"Catégorie",size:150,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lD,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.categorie})]})},{accessorKey:"dateCreation",header:"Date de création",size:150,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.dateCreation})]})},{accessorKey:"dateEcheance",header:"Échéance",size:150,cell:e=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:e.dateEcheance})]})}],searchable:!0,searchPlaceholder:"Rechercher un projet...",searchKeys:["titre"],filters:[{id:"statut",label:"Statut",type:"checkbox",options:[{label:"En cours",value:"En cours",icon:uf},{label:"En attente",value:"En attente",icon:tn},{label:"Terminé",value:"Terminé",icon:Vr}]},{id:"categorie",label:"Catégorie",type:"checkbox",options:[{label:"Tech",value:"Tech"},{label:"Marketing",value:"Marketing"},{label:"Finance",value:"Finance"},{label:"Design",value:"Design"}]}],hasLabelsColumn:{accessorKey:"statut",labelConfig:{"En cours":{icon:uf,iconBgColor:"bg-blue-500",iconColor:"text-white"},"En attente":{icon:tn,iconBgColor:"bg-orange-500",iconColor:"text-white"},Terminé:{icon:Vr,iconBgColor:"bg-green-500",iconColor:"text-white"}}},hasProgressColumn:!0,hasLinksColumn:!0,rowActions:[{label:"Modifier",icon:zo,onClick:e=>{Ne.info(`Modification du projet ${e.titre}`)}},{label:"Voir les détails",icon:Ci,onClick:e=>{Ne.info(`Affichage des détails de ${e.titre}`)}},{label:"Supprimer",icon:Rr,variant:"destructive",onClick:e=>{Ne.success(`Projet ${e.titre} supprimé`)}}],bulkActions:[{label:"Archiver",icon:Ci,onClick:e=>{Ne.success(`${e.length} projet(s) archivé(s)`)}},{label:"Supprimer",icon:Rr,variant:"destructive",confirmMessage:"Êtes-vous sûr de vouloir supprimer ces projets ? Cette action est irréversible.",onClick:e=>{Ne.success(`${e.length} projet(s) supprimé(s)`)}}],draggable:!0,onReorder:e=>{console.log("Nouvel ordre:",e)},selectable:!0,pageSizes:[10,20,30,50],defaultPageSize:10,modalEnabled:!0,modalTitle:e=>e.titre,modalSubtitle:e=>`Porté par ${e.porteur}`,modalAvatar:e=>({text:e.titre.substring(0,2).toUpperCase(),bgColor:"bg-purple-500"}),modalTabs:[{id:"details",label:"Détails",render:e=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Informations du projet"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Titre"}),s.jsx("p",{className:"text-[#4B5563]",children:e.titre})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Porteur"}),s.jsx("p",{className:"text-[#4B5563]",children:e.porteur})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Catégorie"}),s.jsx("p",{className:"text-[#4B5563]",children:e.categorie})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Planning"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Date de création"}),s.jsx("p",{className:"text-[#4B5563]",children:e.dateCreation})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Échéance"}),s.jsx("p",{className:"text-[#4B5563]",children:e.dateEcheance})]}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 pb-4 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Statut"}),s.jsx("p",{className:"text-2xl font-bold text-[#F86E19]",children:e.statut})]})]})]})},{id:"livrables",label:"Livrables",render:e=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Livrables du projet"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:[s.jsx(Ci,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun livrable pour le moment"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Les livrables du projet apparaîtront ici."})]})]})},{id:"tasks",label:"Tâches",render:e=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Tâches du projet"}),s.jsxs("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:[s.jsx(Ci,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucune tâche"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Les tâches du projet apparaîtront ici."})]})]})},{id:"team",label:"Équipe",render:e=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Membres de l'équipe"}),s.jsx("div",{className:"bg-[#F9FAFB] rounded-md px-4 py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Aucun membre assigné"})})]})}],emptyMessage:"Aucun projet trouvé."},Wjt=()=>{var w;const{id:e}=Nt(),[t,n]=x.useState(null),[r,i]=x.useState(null),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),{mentors:f,loading:h}=dse();x.useEffect(()=>{(async()=>{const{data:{user:j}}=await q.auth.getUser();if(j&&n(j.id),e){const{data:_}=await q.from("organizations").select("created_by").eq("id",e).single();_&&i(_.created_by)}})()},[e]);const m=t===r,p=async()=>{try{if(!t||!e)return;const{error:b}=await q.from("user_organizations").delete().eq("user_id",t).eq("organization_id",e);if(b)throw b;const{error:j}=await q.from("mentors").update({status:"inactive"}).eq("user_id",t).eq("organization_id",e);j&&console.warn("Mentor deactivation error:",j),Ne.success("Vous avez quitté l'organisation avec succès"),o(!1),window.location.href="/dashboard"}catch(b){console.error("Error leaving organization:",b),Ne.error("Erreur lors de la sortie de l'organisation")}},g=async()=>{try{if(!u||!m)return;const b=f.find(N=>N.id===u.id);if(!b)return;const{error:j}=await q.from("user_organizations").delete().eq("user_id",b.user_id).eq("organization_id",e);if(j)throw j;const{error:_}=await q.from("mentors").update({status:"inactive"}).eq("user_id",b.user_id).eq("organization_id",e);_&&console.warn("Mentor deactivation error:",_),Ne.success(`${u.prenom} ${u.nom} a été retiré de l'organisation`),c(!1),d(null),window.location.reload()}catch(b){console.error("Error kicking mentor:",b),Ne.error("Erreur lors du retrait du mentor")}},y=f.map(b=>{var j;return{id:b.id,nom:b.last_name||"N/A",prenom:b.first_name||"N/A",email:b.email||"N/A",telephone:b.phone||"",photoUrl:b.avatar_url,description:b.mentor_bio||b.bio||void 0,specialite:((j=b.expertise)==null?void 0:j[0])||"Généraliste",linkedin:b.linkedin_url,disponibilites:b.availability?JSON.stringify(b.availability):void 0,nombreProjetsMax:b.max_projects||b.max_entrepreneurs,nombreProjetsActuels:b.current_entrepreneurs||0,statut:b.status==="active"?"Actif":b.status==="pending"?"En attente":"Inactif",nombreMentores:b.total_entrepreneurs||0,dateInscription:b.joined_at?new Date(b.joined_at).toLocaleDateString("fr-FR"):"N/A",progressValue:b.success_rate||0,relatedLinks:[{label:"Voir le profil",href:`/organisation/${e}/mentors/${b.id}`},{label:"Entrepreneurs",href:`/organisation/${e}/mentors/${b.id}/entrepreneurs`}],user_id:b.user_id}}),v={...h9,rowActions:(w=h9.rowActions)==null?void 0:w.map(b=>b.label==="Supprimer"?{...b,onClick:j=>{if(!m){Ne.error("Seul le propriétaire peut retirer des mentors");return}if(j.user_id===t){Ne.error("Vous ne pouvez pas vous retirer vous-même");return}d(j),c(!0)}}:b)};return h?s.jsx("div",{className:"space-y-6 p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Chargement des mentors..."})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Mentors & Administrateurs"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Gérez les mentors et administrateurs de votre organisation."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[!m&&s.jsxs(H,{variant:"outline",className:"w-full sm:w-auto h-9 sm:h-10 border-red-500 text-red-500 hover:bg-red-50",onClick:()=>o(!0),children:[s.jsx(df,{className:"w-4 h-4 mr-2"}),"Quitter l'organisation"]}),s.jsxs(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white w-full sm:w-auto h-9 sm:h-10",children:[s.jsx(In,{className:"w-4 h-4 mr-2"}),"Ajouter"]})]})]})}),s.jsx(re,{children:s.jsx(ie,{className:"p-6",children:s.jsx(KL,{data:y,config:v,onDataChange:b=>{console.log("Nouvelles données:",b)}})})}),s.jsx(pt,{open:a,onOpenChange:o,children:s.jsxs(gt,{children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Quitter l'organisation"}),s.jsx(Mt,{children:"Êtes-vous sûr de vouloir quitter cette organisation ? Vous perdrez l'accès à tous les projets et ressources."})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>o(!1),children:"Annuler"}),s.jsx(H,{variant:"destructive",onClick:p,children:"Quitter"})]})]})}),s.jsx(pt,{open:l,onOpenChange:c,children:s.jsxs(gt,{children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Retirer ce mentor"}),s.jsxs(Mt,{children:["Êtes-vous sûr de vouloir retirer ",u==null?void 0:u.prenom," ",u==null?void 0:u.nom," de l'organisation ? Cette action peut être inversée en réinvitant le mentor."]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>{c(!1),d(null)},children:"Annuler"}),s.jsxs(H,{variant:"destructive",onClick:g,children:[s.jsx(hme,{className:"w-4 h-4 mr-2"}),"Retirer"]})]})]})})]})},Gjt=({organizationId:e})=>{const[t,n]=x.useState([]),[r,i]=x.useState([]),[a,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,p]=x.useState(""),[g,y]=x.useState(""),[v,w]=x.useState(""),[b,j]=x.useState("all"),[_,N]=x.useState("");x.useEffect(()=>{S(),C()},[e,b]);const S=async()=>{o(!0);try{let $=q.from("project_summary").select(`
          project_id,
          nom_projet,
          description_synthetique,
          validation_status,
          statut_project,
          user_id,
          created_at,
          organization_id
        `).eq("organization_id",e);b!=="all"&&($=$.eq("validation_status",b));const{data:O,error:F}=await $.order("created_at",{ascending:!1});if(F){console.error("Error fetching projects:",F),n([]);return}if(!O||O.length===0){n([]);return}const z=await Promise.all(O.map(async P=>{let I="Utilisateur inconnu";if(P.user_id)try{const{data:M}=await q.from("profiles").select("first_name, last_name, email").eq("id",P.user_id).single();M&&(I=`${M.first_name||""} ${M.last_name||""}`.trim()||M.email||"Utilisateur inconnu")}catch(M){console.warn("Error fetching profile for user:",P.user_id,M)}return{...P,user_name:I,project_status:P.statut_project}}));n(z)}catch($){console.error("Error fetching projects:",$),n([]),$&&$.code!=="PGRST116"&&Ne.error("Erreur lors du chargement des projets")}finally{o(!1)}},C=async()=>{try{const{data:$,error:O}=await q.from("mentors").select(`
          id,
          user_id,
          expertise,
          bio
        `).eq("organization_id",e).eq("status","active");if(O){console.error("Error fetching mentors:",O),i([]);return}if(!$||$.length===0){i([]);return}const F=await Promise.all($.map(async z=>{var P,I;try{const{data:M}=await q.from("profiles").select("first_name, last_name, email").eq("id",z.user_id).single(),U=M?`${M.first_name||""} ${M.last_name||""}`.trim():"";return{id:z.id,full_name:U||(M==null?void 0:M.email)||"Mentor",email:(M==null?void 0:M.email)||"",speciality:((P=z.expertise)==null?void 0:P[0])||"Généraliste",max_projects:null}}catch(M){return console.warn("Error fetching profile for mentor:",z.user_id,M),{id:z.id,full_name:"Mentor",email:"",speciality:((I=z.expertise)==null?void 0:I[0])||"Généraliste",max_projects:null}}}));i(F)}catch($){console.error("Error fetching mentors:",$),i([])}},k=async()=>{if(!l||!m){Ne.error("Veuillez sélectionner un statut");return}try{const{data:{user:$}}=await q.auth.getUser();if(!$)throw new Error("Non authentifié");const{error:O}=await q.from("project_summary").update({validation_status:m,updated_at:new Date().toISOString()}).eq("project_id",l.project_id);if(O)throw O;await q.rpc("log_user_activity",{p_user_id:$.id,p_organization_id:e,p_activity_type:"project_status_changed",p_description:`Statut du projet "${l.nom_projet}" changé en "${E(m)}"${v?": "+v:""}`,p_entity_type:"project",p_entity_id:l.project_id,p_metadata:{project_name:l.nom_projet,old_status:l.validation_status,new_status:m,comment:v}}),Ne.success("Statut mis à jour avec succès"),d(!1),w(""),S()}catch($){console.error("Error updating status:",$),Ne.error("Erreur lors de la mise à jour du statut")}},A=async()=>{if(!l||!g){Ne.error("Veuillez sélectionner un mentor");return}if(l.validation_status!=="validated"&&l.validation_status!=="in_progress"){Ne.error("Le projet doit être validé avant d'assigner un mentor");return}try{const{data:{user:$}}=await q.auth.getUser();if(!$)throw new Error("Non authentifié");const{error:O}=await q.from("project_mentors").insert({project_id:l.project_id,mentor_id:g,assigned_at:new Date().toISOString(),assigned_by:$.id,status:"active"});if(O){console.error("Error assigning mentor (table may not exist):",O),Ne.error("Erreur: La table project_mentors n'existe pas encore. Voir la migration.");return}const F=r.find(z=>z.id===g);await q.rpc("log_user_activity",{p_user_id:$.id,p_organization_id:e,p_activity_type:"mentor_assigned",p_description:`Mentor "${F==null?void 0:F.full_name}" assigné au projet "${l.nom_projet}"`,p_entity_type:"project",p_entity_id:l.project_id,p_metadata:{project_name:l.nom_projet,mentor_name:F==null?void 0:F.full_name,mentor_id:g}}),Ne.success("Mentor assigné avec succès"),h(!1),y(""),S()}catch($){console.error("Error assigning mentor:",$),Ne.error("Erreur lors de l'assignation du mentor")}},T=$=>{const F={pending:{label:"En attente",className:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Yt},validated:{label:"Validé",className:"bg-green-100 text-green-800 border-green-300",icon:Fc},rejected:{label:"Rejeté",className:"bg-red-100 text-red-800 border-red-300",icon:hi},in_progress:{label:"En cours",className:"bg-blue-100 text-blue-800 border-blue-300",icon:fF},completed:{label:"Terminé",className:"bg-purple-100 text-purple-800 border-purple-300",icon:Fc}}[$||"pending"],z=F.icon;return s.jsxs(Ce,{className:`${F.className} flex items-center gap-1`,variant:"outline",children:[s.jsx(z,{className:"w-3 h-3"}),F.label]})},E=$=>({pending:"En attente",validated:"Validé",rejected:"Rejeté",in_progress:"En cours",completed:"Terminé"})[$]||$,R=t.filter($=>{var O;return _===""||$.nom_projet.toLowerCase().includes(_.toLowerCase())||((O=$.user_name)==null?void 0:O.toLowerCase().includes(_.toLowerCase()))});return s.jsxs(re,{children:[s.jsx(pe,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(mF,{className:"h-5 w-5 text-aurentia-pink"}),"Gestion des projets"]}),s.jsx(Xe,{children:"Valider, suivre et assigner des mentors aux projets"})]})})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(ke,{placeholder:"Rechercher un projet ou utilisateur...",value:_,onChange:$=>N($.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"w-full md:w-64",children:s.jsxs(vt,{value:b,onValueChange:j,children:[s.jsx(yt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dl,{className:"w-4 h-4"}),s.jsx(_t,{})]})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Tous les statuts"}),s.jsx(fe,{value:"pending",children:"En attente"}),s.jsx(fe,{value:"validated",children:"Validé"}),s.jsx(fe,{value:"in_progress",children:"En cours"}),s.jsx(fe,{value:"completed",children:"Terminé"}),s.jsx(fe,{value:"rejected",children:"Rejeté"})]})]})})]}),a?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-aurentia-pink"})}):R.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(mF,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{children:"Aucun projet trouvé"})]}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Zs,{children:[s.jsx(so,{children:s.jsxs(st,{children:[s.jsx(xn,{children:"Projet"}),s.jsx(xn,{children:"Porteur"}),s.jsx(xn,{children:"Statut"}),s.jsx(xn,{children:"Date création"}),s.jsx(xn,{className:"text-right",children:"Actions"})]})}),s.jsx(ei,{children:R.map($=>s.jsxs(st,{children:[s.jsx(Me,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:$.nom_projet}),$.description_synthetique&&s.jsx("p",{className:"text-sm text-gray-500 line-clamp-1 mt-1",children:$.description_synthetique})]})}),s.jsx(Me,{children:s.jsx("p",{className:"text-sm text-gray-700",children:$.user_name})}),s.jsx(Me,{children:T($.validation_status)}),s.jsx(Me,{children:s.jsx("p",{className:"text-sm text-gray-600",children:new Date($.created_at).toLocaleDateString("fr-FR")})}),s.jsx(Me,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:()=>{c($),p($.validation_status||"pending"),d(!0)},children:"Changer statut"}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{c($),h(!0)},disabled:$.validation_status==="pending"||$.validation_status==="rejected",children:[s.jsx(mf,{className:"w-4 h-4 mr-1"}),"Assigner mentor"]})]})})]},$.project_id))})]})}),s.jsx(pt,{open:u,onOpenChange:d,children:s.jsxs(gt,{children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Modifier le statut du projet"}),s.jsxs(Mt,{children:["Projet: ",l==null?void 0:l.nom_projet]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"status",children:"Nouveau statut"}),s.jsxs(vt,{value:m,onValueChange:p,children:[s.jsx(yt,{id:"status",className:"mt-2",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"pending",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-yellow-600"}),"En attente"]})}),s.jsx(fe,{value:"validated",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fc,{className:"w-4 h-4 text-green-600"}),"Validé"]})}),s.jsx(fe,{value:"in_progress",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fF,{className:"w-4 h-4 text-blue-600"}),"En cours"]})}),s.jsx(fe,{value:"completed",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fc,{className:"w-4 h-4 text-purple-600"}),"Terminé"]})}),s.jsx(fe,{value:"rejected",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"w-4 h-4 text-red-600"}),"Rejeté"]})})]})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"comment",children:"Commentaire (optionnel)"}),s.jsx(at,{id:"comment",placeholder:"Ajoutez un commentaire sur ce changement de statut...",value:v,onChange:$=>w($.target.value),className:"mt-2",rows:3})]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>d(!1),children:"Annuler"}),s.jsx(H,{onClick:k,children:"Confirmer"})]})]})}),s.jsx(pt,{open:f,onOpenChange:h,children:s.jsxs(gt,{children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Assigner un mentor"}),s.jsxs(Mt,{children:["Projet: ",l==null?void 0:l.nom_projet]})]}),s.jsx("div",{className:"space-y-4 py-4",children:(l==null?void 0:l.validation_status)==="pending"?s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Ce projet doit d'abord être validé avant de pouvoir assigner un mentor."})}):s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"mentor",children:"Sélectionner un mentor"}),s.jsxs(vt,{value:g,onValueChange:y,children:[s.jsx(yt,{id:"mentor",className:"mt-2",children:s.jsx(_t,{placeholder:"Choisir un mentor..."})}),s.jsx(bt,{children:r.map($=>s.jsx(fe,{value:$.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:$.full_name}),$.speciality&&s.jsx("span",{className:"text-xs text-gray-500",children:$.speciality})]})},$.id))})]}),r.length===0&&s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Aucun mentor disponible dans votre organisation"})]})}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>h(!1),children:"Annuler"}),s.jsx(H,{onClick:A,disabled:(l==null?void 0:l.validation_status)==="pending"||!g,children:"Assigner"})]})]})})]})]})},Kjt=()=>{const{id:e}=Nt(),[t,n]=x.useState("overview"),{projects:r,loading:i}=s4(),a=r.map((o,l)=>{const c=o.statut==="active"||o.statut==="actif"?"En cours":o.statut==="completed"||o.statut==="terminé"?"Terminé":"En attente",u=o.id||`project-${l}`;return{id:u,titre:o.nom_projet||"Sans titre",porteur:o.user_id||"Non assigné",categorie:o.type_de_projet||"Non catégorisé",statut:c,dateCreation:o.created_at?new Date(o.created_at).toLocaleDateString("fr-FR"):"N/A",dateEcheance:o.updated_at?new Date(o.updated_at).toLocaleDateString("fr-FR"):"N/A",progressValue:o.avancement_global?parseInt(o.avancement_global):0,relatedLinks:[{label:"Voir le projet",href:`/organisation/${e}/projets/${u}`},{label:"Tâches",href:`/organisation/${e}/projets/${u}/taches`}]}});return i?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[1,2,3].map(o=>s.jsx("div",{className:"h-32 bg-gray-200 rounded"},o))})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestion des Projets"}),s.jsx("p",{className:"text-gray-600",children:"Suivez et gérez tous les projets de votre organisation"})]})}),s.jsxs(ig,{tabs:[{key:"overview",label:"Vue d'ensemble",icon:eme},{key:"management",label:"Gestion & Validation",icon:Zr}],activeTab:t,onTabChange:n,children:[t==="overview"&&s.jsx(re,{children:s.jsx(ie,{className:"p-6",children:s.jsx(KL,{data:a,config:Hjt,onDataChange:o=>{console.log("Nouvelles données:",o)}})})}),t==="management"&&e&&s.jsx(Gjt,{organizationId:e})]})]})},Yjt=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(null),l=async()=>{if(e)try{i(!0),o(null);const h=await HK(e);n(h||[])}catch(h){console.error("Erreur lors du chargement des livrables:",h),o("Erreur lors du chargement des livrables")}finally{i(!1)}},c=async h=>{try{o(null);const m=await WK(h);return m?(n(p=>[...p,m]),!0):!1}catch(m){return console.error("Erreur lors de la création du livrable:",m),o("Erreur lors de la création du livrable"),!1}},u=async(h,m)=>{try{o(null);const p=await GK(h,m);return p?(n(g=>g.map(y=>y.id===h?{...y,...p}:y)),!0):!1}catch(p){return console.error("Erreur lors de la mise à jour du livrable:",p),o("Erreur lors de la mise à jour du livrable"),!1}},d=async h=>{try{return o(null),await KK(h)?(n(p=>p.filter(g=>g.id!==h)),!0):!1}catch(m){return console.error("Erreur lors de la suppression du livrable:",m),o("Erreur lors de la suppression du livrable"),!1}},f=()=>{const h=t.length,m=t.filter(b=>b.status==="completed").length,p=t.filter(b=>b.status==="in-progress").length,g=new Date,y=t.filter(b=>b.due_date&&new Date(b.due_date)<g&&b.status!=="completed").length,v=t.reduce((b,j)=>(b[j.type]=(b[j.type]||0)+1,b),{}),w=t.reduce((b,j)=>(b[j.status]=(b[j.status]||0)+1,b),{});return{total:h,completed:m,inProgress:p,overdue:y,byType:v,byStatus:w}};return x.useEffect(()=>{e&&l()},[e]),{deliverables:t,loading:r,error:a,addDeliverable:c,editDeliverable:u,removeDeliverable:d,refetch:l,stats:f()}},Xjt=()=>{const{id:e}=Nt(),[t,n]=x.useState(""),[r,i]=x.useState("all"),[a,o]=x.useState("all"),[l,c]=x.useState("Vue grille"),[u,d]=x.useState(!1),[f,h]=x.useState({}),{deliverables:m,loading:p,error:g,stats:y,refetch:v,addDeliverable:w}=Yjt(e),{projects:b}=s4(),{adherents:j}=use(),{toast:_}=ja(),N=O=>({"business-model":"Business Model",pitch:"Pitch","market-analysis":"Analyse de Marché",legal:"Juridique",financial:"Financier",other:"Autre"})[O]||O,S=O=>({"business-model":"📊",pitch:"🎯","market-analysis":"📈",legal:"⚖️",financial:"💰",other:"📋"})[O]||"📋",C=O=>({pending:"En attente","in-progress":"En cours",completed:"Terminé",reviewed:"Validé"})[O],k=O=>({pending:"bg-gray-100 text-gray-800","in-progress":"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",reviewed:"bg-purple-100 text-purple-800"})[O],A=x.useMemo(()=>b.reduce((O,F)=>(O[F.project_id]=F,O),{}),[b]),T=x.useMemo(()=>m.filter(O=>{const F=O.project_id?A[O.project_id]:null,z=O.title.toLowerCase().includes(t.toLowerCase())||(F==null?void 0:F.nom_projet)&&F.nom_projet.toLowerCase().includes(t.toLowerCase())||O.description&&O.description.toLowerCase().includes(t.toLowerCase()),P=r==="all"||O.status===r,I=a==="all"||O.type===a;return z&&P&&I}),[m,t,r,a,A]),E=x.useMemo(()=>({total:y.total,completed:y.completed,inProgress:y.inProgress,pending:y.byStatus.pending||0}),[y]),R=x.useMemo(()=>E.total>0?Math.round(E.completed/E.total*100):0,[E]),$=async()=>{if(!e||!f.title||!f.type){_({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const O={organization_id:e,title:f.title,description:f.description,type:f.type,status:"pending",entrepreneur_id:f.entrepreneur_id,due_date:f.due_date,quality_score:f.quality_score};await w(O)?(_({title:"Succès",description:"Le livrable a été créé avec succès."}),d(!1),h({})):_({title:"Erreur",description:"Erreur lors de la création du livrable.",variant:"destructive"})};return p?s.jsx("div",{className:"mx-auto py-8 min-h-screen animate-fade-in",children:s.jsx("div",{className:"w-[80vw] md:w-11/12 mx-auto px-4",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#ff5932] mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des livrables..."})]})})})}):g?s.jsx("div",{className:"mx-auto py-8 min-h-screen animate-fade-in",children:s.jsx("div",{className:"w-[80vw] md:w-11/12 mx-auto px-4",children:s.jsx(re,{className:"text-center py-12",children:s.jsxs(ie,{children:[s.jsx("div",{className:"text-red-600 mb-4",children:"⚠️"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Erreur de chargement"}),s.jsx("p",{className:"text-gray-600 mb-4",children:g}),s.jsx(H,{onClick:v,style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:"Réessayer"})]})})})}):s.jsx("div",{className:"mx-auto py-8 min-h-screen animate-fade-in",children:s.jsxs("div",{className:"w-[80vw] md:w-11/12 mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Livrables"}),s.jsx("p",{className:"text-gray-600 text-base",children:"Suivez et gérez les livrables de votre organisation."})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs(pt,{open:u,onOpenChange:d,children:[s.jsx(Ll,{asChild:!0,children:s.jsxs(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"Nouveau livrable"]})}),s.jsxs(gt,{className:"sm:max-w-md",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Créer un nouveau livrable"}),s.jsx(Mt,{children:"Créez un nouveau livrable pour votre organisation."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"title",children:"Titre *"}),s.jsx(ke,{id:"title",value:f.title||"",onChange:O=>h(F=>({...F,title:O.target.value})),placeholder:"Titre du livrable..."})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"type",children:"Type *"}),s.jsxs(vt,{value:f.type||"",onValueChange:O=>h(F=>({...F,type:O})),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Sélectionner un type"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"business-model",children:"Business Model"}),s.jsx(fe,{value:"pitch",children:"Pitch"}),s.jsx(fe,{value:"market-analysis",children:"Analyse de Marché"}),s.jsx(fe,{value:"legal",children:"Juridique"}),s.jsx(fe,{value:"financial",children:"Financier"}),s.jsx(fe,{value:"other",children:"Autre"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"entrepreneur",children:"Entrepreneur (optionnel)"}),s.jsxs(vt,{value:f.entrepreneur_id||"",onValueChange:O=>h(F=>({...F,entrepreneur_id:O})),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Sélectionner un adhérent"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"",children:"Aucun adhérent"}),j.map(O=>s.jsx(fe,{value:O.id,children:O.email},O.id))]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Be,{htmlFor:"description",children:"Description"}),s.jsx(at,{id:"description",value:f.description||"",onChange:O=>h(F=>({...F,description:O.target.value})),placeholder:"Description du livrable...",rows:3})]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>d(!1),children:"Annuler"}),s.jsx(H,{onClick:$,style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:"Créer"})]})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Total Livrables"}),s.jsx(sn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold",children:E.total}),s.jsx(D1,{value:R,className:"mt-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[R,"% terminé"]})]})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Terminés"}),s.jsx(Gt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold",children:E.completed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Livrables validés"})]})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"En cours"}),s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold",children:E.inProgress}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"En développement"})]})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"En attente"}),s.jsx(ui,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold",children:E.pending}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"À démarrer"})]})]})]}),s.jsxs(ig,{tabs:[{key:"Vue grille",label:"Vue grille",icon:fD},{key:"Vue liste",label:"Vue liste",icon:hD}],activeTab:l,onTabChange:c,children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ke,{placeholder:"Rechercher un livrable, adhérent ou projet...",value:t,onChange:O=>n(O.target.value),className:"pl-10"})]})}),s.jsxs(vt,{value:r,onValueChange:i,children:[s.jsx(yt,{className:"w-48",children:s.jsx(_t,{placeholder:"Statut"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Tous les statuts"}),s.jsx(fe,{value:"pending",children:"En attente"}),s.jsx(fe,{value:"in-progress",children:"En cours"}),s.jsx(fe,{value:"completed",children:"Terminé"}),s.jsx(fe,{value:"reviewed",children:"Validé"})]})]}),s.jsxs(vt,{value:a,onValueChange:o,children:[s.jsx(yt,{className:"w-48",children:s.jsx(_t,{placeholder:"Type"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Tous les types"}),s.jsx(fe,{value:"business-model",children:"Business Model"}),s.jsx(fe,{value:"pitch",children:"Pitch"}),s.jsx(fe,{value:"market-analysis",children:"Analyse de Marché"}),s.jsx(fe,{value:"legal",children:"Juridique"}),s.jsx(fe,{value:"financial",children:"Financier"}),s.jsx(fe,{value:"other",children:"Autre"})]})]})]}),l==="Vue grille"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(O=>{const F=O.project_id?A[O.project_id]:null;return s.jsxs(re,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx(pe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-lg",children:S(O.type)}),s.jsx(me,{className:"text-base font-semibold text-gray-900 leading-tight",children:O.title})]}),s.jsxs(Xe,{className:"text-xs text-gray-500",children:[(F==null?void 0:F.nom_projet)||"Projet inconnu"," • ID: ",O.entrepreneur_id||"N/A"]})]}),s.jsx(Ce,{className:k(O.status),children:C(O.status)})]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:O.description||"Aucune description"}),O.quality_score&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ui,{className:"h-4 w-4 text-yellow-500"}),s.jsxs("span",{className:"text-sm font-medium",children:[O.quality_score,"/100"]})]}),O.due_date&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Échéance: ",new Date(O.due_date).toLocaleDateString("fr-FR")]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[s.jsxs("span",{children:["Créé: ",new Date(O.created_at).toLocaleDateString("fr-FR")]}),O.completed_at&&s.jsxs("span",{children:["Terminé: ",new Date(O.completed_at).toLocaleDateString("fr-FR")]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(ns,{className:"h-4 w-4 mr-1"}),"Voir"]}),s.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(Fo,{className:"h-4 w-4 mr-1"}),"Télécharger"]})]})]})]},O.id)})}),l==="Vue liste"&&s.jsx("div",{className:"space-y-4",children:T.map(O=>{const F=O.project_id?A[O.project_id]:null;return s.jsx(re,{className:"hover:shadow-sm transition-shadow",children:s.jsx(ie,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("span",{className:"text-2xl",children:S(O.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.description||"Aucune description"}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[s.jsxs("span",{children:["📋 ",(F==null?void 0:F.nom_projet)||"Projet inconnu"]}),s.jsxs("span",{children:["👤 ID: ",O.entrepreneur_id||"N/A"]}),s.jsxs("span",{children:["📅 ",N(O.type)]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ce,{className:k(O.status),children:C(O.status)}),O.quality_score&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ui,{className:"h-4 w-4 text-yellow-500"}),s.jsxs("span",{className:"text-sm font-medium",children:[O.quality_score,"/100"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",children:s.jsx(ns,{className:"h-4 w-4"})}),s.jsx(H,{variant:"outline",size:"sm",children:s.jsx(Fo,{className:"h-4 w-4"})})]})]})]})})},O.id)})})]}),T.length===0&&s.jsx(re,{className:"text-center py-12",children:s.jsxs(ie,{children:[s.jsx(sn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun livrable trouvé"}),s.jsx("p",{className:"text-gray-600 mb-4",children:t||r!=="all"||a!=="all"?"Aucun livrable ne correspond à vos critères de recherche.":"Commencez par créer votre premier livrable."}),t||r!=="all"||a!=="all"?s.jsx(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",onClick:()=>{n(""),i("all"),o("all")},children:"Réinitialiser les filtres"}):s.jsx(pt,{open:u,onOpenChange:d,children:s.jsx(Ll,{asChild:!0,children:s.jsxs(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"Nouveau livrable"]})})})]})})]})})},Qjt=()=>{const{id:e}=Nt(),{adherents:t,loading:n}=use(),r=t.map(i=>({id:i.id,nom:i.last_name||"N/A",prenom:i.first_name||"N/A",email:i.email||"N/A",telephone:i.phone||"",photoUrl:i.avatar_url,projetsAssocies:i.project_names||void 0,linkedin:i.linkedin_url,siteWeb:i.website,creditsRestants:i.monthly_credits_remaining,mentorsAssocies:i.mentor_names||void 0,cotisationPayee:i.payment_status==="paid",joursRetard:i.subscription_days_overdue||0,formationChoisie:i.program_type,promotion:i.cohort_year,budgetFormation:i.training_budget,disponibilites:i.availability_schedule?JSON.stringify(i.availability_schedule):void 0,statut:i.status==="active"?"Actif":i.status==="pending"?"En attente":"Inactif",dateInscription:i.joined_at?new Date(i.joined_at).toLocaleDateString("fr-FR"):new Date().toLocaleDateString("fr-FR"),progressValue:i.completion_rate||0,relatedLinks:[{label:"Voir le profil",href:`/organisation/${e}/adherents/${i.id}`},{label:"Projets",href:`/organisation/${e}/adherents/${i.id}/projets`}]}));return n?s.jsx("div",{className:"space-y-6 p-8",children:s.jsx(Ln,{message:"Chargement des adhérents...",fullScreen:!0})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Adhérents"}),s.jsx("p",{className:"text-gray-600 text-base",children:"Gérez les adhérents de votre organisation."})]})})}),s.jsx(re,{children:s.jsx(ie,{className:"p-6",children:s.jsx(KL,{data:r,config:Vjt,onDataChange:i=>{console.log("Nouvelles données:",i)}})})})]})},Jjt=()=>{const{codes:e,loading:t,generateCode:n}=fse(),{toast:r}=ja(),[i,a]=x.useState("pending"),[o,l]=x.useState(!1),[c,u]=x.useState(""),[d,f]=x.useState(""),[h,m]=x.useState(!1),p=()=>({role:"entrepreneur",email:""}),[g,y]=x.useState(p()),v=e.map(T=>({id:T.id,code:T.code,type:"link",role:T.role,status:T.is_active?"pending":"expired",createdAt:new Date(T.created_at),expiresAt:T.expires_at?new Date(T.expires_at):new Date(Date.now()+30*24*60*60*1e3),createdBy:"Admin",maxUses:T.max_uses||1,currentUses:T.current_uses})),w=()=>"INV-"+Math.random().toString(36).substr(2,6).toUpperCase(),b=T=>{l(T),T&&(y(p()),u(""),f(""))},j=async T=>{m(!0);try{const E=await n({code:w(),role:T.role,created_by:"",expires_at:new Date(Date.now()+2592e6).toISOString(),max_uses:1,is_active:!0});E&&(u(E.code),f(T.email||""))}catch{r({title:"Erreur",description:"Une erreur s'est produite lors de la création du code d'invitation.",variant:"destructive"})}finally{m(!1)}};if(t)return s.jsx("div",{className:"space-y-6 p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Chargement des invitations..."})]})})});const _=T=>{navigator.clipboard.writeText(T),r({title:"Copié",description:"Le code a été copié dans le presse-papiers."})},N=T=>bse(T),S=T=>wse(T),C=T=>jse(T),k=v.filter(T=>i==="all"?!0:T.status===i),A={total:v.length,pending:v.filter(T=>T.status==="pending").length,accepted:v.filter(T=>T.status==="accepted").length,expired:v.filter(T=>T.status==="expired").length};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Invitations"}),s.jsx("p",{className:"text-gray-600 text-base",children:"Gérez les invitations pour rejoindre votre organisation."})]}),s.jsxs(pt,{open:o,onOpenChange:b,children:[s.jsx(Ll,{asChild:!0,children:s.jsxs(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:[s.jsx(In,{className:"w-4 h-4 mr-2"}),"Créer une invitation"]})}),s.jsxs(gt,{children:[s.jsxs(jt,{children:[s.jsx(xt,{children:c?"Code d'invitation créé":"Créer une invitation"}),s.jsx(Mt,{children:c?d?`Le code d'invitation a été généré avec succès. Il sera envoyé à ${d} une fois la fonctionnalité d'email implémentée.`:"Le code d'invitation a été généré avec succès.":"Invitez de nouveaux membres à rejoindre votre organisation."})]}),c?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Code d'invitation"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ke,{value:c,readOnly:!0,className:"font-mono text-center"}),s.jsx(H,{variant:"outline",size:"sm",onClick:()=>_(c),children:s.jsx(Xa,{className:"w-4 h-4"})})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Email"}),s.jsx(ke,{placeholder:"email@exemple.com",value:g.email||"",onChange:T=>y(E=>({...E,email:T.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rôle"}),s.jsxs(vt,{value:g.role,onValueChange:T=>y(E=>({...E,role:T})),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:yse.map(T=>s.jsx(fe,{value:T.value,children:T.label},T.value))})]})]})]}),s.jsx(Kt,{children:c?s.jsx(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",onClick:()=>{l(!1),u(""),f("")},children:"Fermer"}):s.jsxs(s.Fragment,{children:[s.jsx(H,{variant:"outline",onClick:()=>l(!1),children:"Annuler"}),s.jsx(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",onClick:()=>j(g),disabled:h,children:h?"Création...":"Créer l'invitation"})]})})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Total"}),s.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:A.total})})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"En attente"}),s.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:A.pending})})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Acceptées"}),s.jsx(Gt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:A.accepted})})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Expirées"}),s.jsx(hi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:A.expired})})]})]}),s.jsx(re,{children:s.jsx(ie,{className:"pt-6",children:s.jsx(ig,{tabs:[{key:"all",label:`Toutes (${A.total})`,icon:Ft},{key:"pending",label:`En attente (${A.pending})`,icon:Yt},{key:"accepted",label:`Acceptées (${A.accepted})`,icon:Gt},{key:"expired",label:`Expirées (${A.expired})`,icon:hi}],activeTab:i,onTabChange:a,children:k.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ft,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune invitation"}),s.jsx("p",{className:"text-gray-600",children:"Aucune invitation ne correspond à ce statut."})]}):s.jsx("div",{className:"space-y-4",children:k.map(T=>s.jsx(re,{className:"border-l-4 border-l-aurentia-pink",children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[T.type==="email"?s.jsx(Ft,{className:"w-4 h-4 text-aurentia-pink"}):s.jsx(Dp,{className:"w-4 h-4 text-aurentia-pink"}),s.jsx("span",{className:"font-medium font-mono",children:T.code})]}),s.jsx(Ce,{className:N(T.status),children:S(T.status)}),s.jsx(Ce,{variant:"outline",children:C(T.role)})]}),T.email&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Destinataire: ",T.email]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Créée le ",T.createdAt.toLocaleDateString("fr-FR")]}),s.jsxs("span",{children:["Expire le ",T.expiresAt.toLocaleDateString("fr-FR")]}),T.usedAt&&s.jsxs("span",{children:["Utilisée le ",T.usedAt.toLocaleDateString("fr-FR")]}),T.usedBy&&s.jsxs("span",{children:["par ",T.usedBy]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[T.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>_(T.code),children:[s.jsx(Xa,{className:"w-4 h-4 mr-2"}),"Copier le code"]}),T.type==="email"&&s.jsxs(H,{variant:"outline",size:"sm",children:[s.jsx(Rj,{className:"w-4 h-4 mr-2"}),"Renvoyer"]})]}),s.jsx(H,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-800",children:s.jsx(Rr,{className:"w-4 h-4"})})]})]})})},T.id))})})})})]})};function Zjt(){const{id:e}=Nt(),t=It(),{toast:n}=ja(),[r,i]=x.useState([]),[a,o]=x.useState(!0),[l,c]=x.useState(null);x.useEffect(()=>{u()},[e]);const u=async()=>{try{o(!0);const{data:p,error:g}=await q.from("organisation_forms").select(`
          id,
          title,
          description,
          published,
          created_at,
          updated_at
        `).eq("organisation_id",e).order("created_at",{ascending:!1});if(g)throw g;i(p||[])}catch(p){console.error("Error loading forms:",p),n({title:"Erreur",description:"Impossible de charger les formulaires.",variant:"destructive"})}finally{o(!1)}},d=async()=>{if(l)try{const{error:p}=await q.from("organisation_forms").delete().eq("id",l);if(p)throw p;i(r.filter(g=>g.id!==l)),n({title:"Formulaire supprimé",description:"Le formulaire a été supprimé avec succès."})}catch(p){console.error("Error deleting form:",p),n({title:"Erreur",description:"Impossible de supprimer le formulaire.",variant:"destructive"})}finally{c(null)}},f=async p=>{try{const{data:g,error:y}=await q.from("organisation_forms").select("*").eq("id",p).single();if(y)throw y;const v={...g,id:`form_${Date.now()}`,title:`${g.title} (copie)`,published:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:w}=await q.from("organisation_forms").insert(v);if(w)throw w;await u(),n({title:"Formulaire dupliqué",description:"Le formulaire a été dupliqué avec succès."})}catch(g){console.error("Error duplicating form:",g),n({title:"Erreur",description:"Impossible de dupliquer le formulaire.",variant:"destructive"})}},h=p=>`${window.location.origin}/form/${e}/${p}`,m=p=>{navigator.clipboard.writeText(h(p)),n({title:"Lien copié",description:"Le lien du formulaire a été copié dans le presse-papier."})};return a?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Formulaires"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Créez et gérez vos formulaires de collecte de données"})]}),s.jsxs(H,{onClick:()=>t(`/organisation/${e}/forms/create`),children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"Créer un formulaire"]})]}),r.length===0?s.jsx(re,{className:"text-center py-12",children:s.jsxs(ie,{children:[s.jsx(sn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun formulaire"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Créez votre premier formulaire pour commencer à collecter des données"}),s.jsxs(H,{onClick:()=>t(`/organisation/${e}/forms/create`),children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"Créer un formulaire"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(p=>s.jsxs(re,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(pe,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(me,{className:"text-lg",children:p.title}),s.jsx(Xe,{className:"mt-1",children:p.description||"Aucune description"})]}),s.jsx(Ce,{variant:p.published?"default":"secondary",children:p.published?"Publié":"Brouillon"})]})}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[s.jsxs("span",{children:[p.responses_count||0," réponses"]}),s.jsxs("span",{children:["Créé le ",new Date(p.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>t(`/organisation/${e}/forms/edit/${p.id}`),children:[s.jsx(zo,{className:"h-4 w-4 mr-1"}),"Éditer"]}),p.published&&s.jsxs(s.Fragment,{children:[s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>window.open(h(p.id),"_blank"),children:[s.jsx(ns,{className:"h-4 w-4 mr-1"}),"Voir"]}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>m(p.id),children:[s.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Lien"]})]}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>t(`/organisation/${e}/forms/responses/${p.id}`),children:[s.jsx(Yhe,{className:"h-4 w-4 mr-1"}),"Réponses"]}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>f(p.id),children:[s.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Dupliquer"]}),s.jsx(H,{variant:"outline",size:"sm",onClick:()=>c(p.id),className:"text-destructive hover:text-destructive",children:s.jsx(Rr,{className:"h-4 w-4"})})]})]})]},p.id))}),s.jsx(R1,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(rb,{children:[s.jsxs(sb,{children:[s.jsx(ab,{children:"Êtes-vous sûr ?"}),s.jsx(ob,{children:"Cette action supprimera définitivement le formulaire et toutes ses réponses. Cette action est irréversible."})]}),s.jsxs(ib,{children:[s.jsx(cb,{children:"Annuler"}),s.jsx(lb,{onClick:d,className:"bg-destructive text-destructive-foreground",children:"Supprimer"})]})]})})]})}const m9=()=>{var g,y,v,w,b,j,_,N,S,C,k,A,T,E,R,$;const{id:e}=Nt(),{organisation:t,loading:n,refetch:r}=r4(),{toast:i}=ja(),[a,o]=x.useState("notifications"),[l,c]=x.useState("idle"),[u,d]=x.useState(!1),[f,h]=x.useState({notifications:{emailNotifications:((y=(g=t==null?void 0:t.settings)==null?void 0:g.notifications)==null?void 0:y.emailNotifications)??!0,projectUpdates:((w=(v=t==null?void 0:t.settings)==null?void 0:v.notifications)==null?void 0:w.projectUpdates)??!0,mentorAssignments:((j=(b=t==null?void 0:t.settings)==null?void 0:b.notifications)==null?void 0:j.mentorAssignments)??!0,weeklyReports:((N=(_=t==null?void 0:t.settings)==null?void 0:_.notifications)==null?void 0:N.weeklyReports)??!1,systemAlerts:((C=(S=t==null?void 0:t.settings)==null?void 0:S.notifications)==null?void 0:C.systemAlerts)??!0},branding:{primaryColor:((A=(k=t==null?void 0:t.settings)==null?void 0:k.branding)==null?void 0:A.primaryColor)||(t==null?void 0:t.primary_color)||"#ff5932",secondaryColor:((E=(T=t==null?void 0:t.settings)==null?void 0:T.branding)==null?void 0:E.secondaryColor)||(t==null?void 0:t.secondary_color)||"#1a1a1a",whiteLabel:(($=(R=t==null?void 0:t.settings)==null?void 0:R.branding)==null?void 0:$.whiteLabel)??!1,publicProfile:!1}});x.useEffect(()=>{var O,F,z,P,I,M,U,D,L,V,K,G,X,oe,Y,ne;t&&h({notifications:{emailNotifications:((F=(O=t==null?void 0:t.settings)==null?void 0:O.notifications)==null?void 0:F.emailNotifications)??!0,projectUpdates:((P=(z=t==null?void 0:t.settings)==null?void 0:z.notifications)==null?void 0:P.projectUpdates)??!0,mentorAssignments:((M=(I=t==null?void 0:t.settings)==null?void 0:I.notifications)==null?void 0:M.mentorAssignments)??!0,weeklyReports:((D=(U=t==null?void 0:t.settings)==null?void 0:U.notifications)==null?void 0:D.weeklyReports)??!1,systemAlerts:((V=(L=t==null?void 0:t.settings)==null?void 0:L.notifications)==null?void 0:V.systemAlerts)??!0},branding:{primaryColor:((G=(K=t==null?void 0:t.settings)==null?void 0:K.branding)==null?void 0:G.primaryColor)||(t==null?void 0:t.primary_color)||"#ff5932",secondaryColor:((oe=(X=t==null?void 0:t.settings)==null?void 0:X.branding)==null?void 0:oe.secondaryColor)||(t==null?void 0:t.secondary_color)||"#1a1a1a",whiteLabel:((ne=(Y=t==null?void 0:t.settings)==null?void 0:Y.branding)==null?void 0:ne.whiteLabel)??!1,publicProfile:(t==null?void 0:t.is_public)??!0}})},[t]);const m=async()=>{if(e){c("saving"),d(!1);try{const{updateOrganisationSettings:O}=await qp(async()=>{const{updateOrganisationSettings:P}=await Promise.resolve().then(()=>kwe);return{updateOrganisationSettings:P}},void 0),F={};f.branding.publicProfile!==void 0&&(F.is_public=f.branding.publicProfile);const z={branding:{primaryColor:f.branding.primaryColor,secondaryColor:f.branding.secondaryColor,whiteLabel:f.branding.whiteLabel},notifications:f.notifications};F.settings=z,await O(e,F),await r(),c("saved"),i({title:"Paramètres sauvegardés",description:"Les modifications ont été appliquées avec succès."}),setTimeout(()=>c("idle"),3e3)}catch(O){c("error"),i({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"}),console.error("Erreur lors de la sauvegarde:",O)}}},p=(O,F,z)=>{h(P=>({...P,[O]:{...P[O],[F]:z}})),d(!0)};return n?s.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),s.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramètres de l'Organisation"}),s.jsx("p",{className:"text-gray-600",children:"Gérez les paramètres et la configuration de votre organisation"})]}),u&&s.jsx(H,{onClick:m,disabled:l==="saving",className:"mt-4 sm:mt-0",children:l==="saving"?s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"mr-2 h-4 w-4 animate-spin"}),"Sauvegarde..."]}):l==="saved"?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Sauvegardé"]}):l==="error"?s.jsxs(s.Fragment,{children:[s.jsx(ts,{className:"mr-2 h-4 w-4"}),"Erreur"]}):s.jsxs(s.Fragment,{children:[s.jsx(Hy,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})})]}),s.jsxs(ig,{tabs:[{key:"notifications",label:"Notifications",icon:p2},{key:"branding",label:"Branding",icon:gF},{key:"integrations",label:"Intégrations",icon:Pr}],activeTab:a,onTabChange:o,children:[a==="notifications"&&s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(p2,{className:"h-5 w-5"}),"Préférences de Notifications"]}),s.jsx(Xe,{children:"Gérez les notifications pour votre organisation"})]}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Notifications par email"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir les notifications importantes par email"})]}),s.jsx(As,{checked:f.notifications.emailNotifications,onCheckedChange:O=>p("notifications","emailNotifications",O)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Mises à jour de projets"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notifications lors des mises à jour de projets"})]}),s.jsx(As,{checked:f.notifications.projectUpdates,onCheckedChange:O=>p("notifications","projectUpdates",O)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Assignations de mentors"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notifications lors des assignations mentor-entrepreneur"})]}),s.jsx(As,{checked:f.notifications.mentorAssignments,onCheckedChange:O=>p("notifications","mentorAssignments",O)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Rapports hebdomadaires"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir un résumé hebdomadaire des activités"})]}),s.jsx(As,{checked:f.notifications.weeklyReports,onCheckedChange:O=>p("notifications","weeklyReports",O)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Alertes système"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notifications pour les problèmes système"})]}),s.jsx(As,{checked:f.notifications.systemAlerts,onCheckedChange:O=>p("notifications","systemAlerts",O)})]})]})]}),a==="branding"&&s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(gF,{className:"h-5 w-5"}),"Personnalisation de Marque"]}),s.jsx(Xe,{children:"Personnalisez l'apparence de votre organisation"})]}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Couleur principale"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ke,{type:"color",value:f.branding.primaryColor,onChange:O=>p("branding","primaryColor",O.target.value),className:"w-16 h-10"}),s.jsx(ke,{value:f.branding.primaryColor,onChange:O=>p("branding","primaryColor",O.target.value),placeholder:"#ff5932"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Couleur secondaire"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ke,{type:"color",value:f.branding.secondaryColor,onChange:O=>p("branding","secondaryColor",O.target.value),className:"w-16 h-10"}),s.jsx(ke,{value:f.branding.secondaryColor,onChange:O=>p("branding","secondaryColor",O.target.value),placeholder:"#1a1a1a"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Mode white-label"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Masquer la marque Aurentia pour vos utilisateurs"})]}),s.jsx(As,{checked:f.branding.whiteLabel,onCheckedChange:O=>p("branding","whiteLabel",O)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Profil public"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Rendre le profil de l'organisation visible publiquement"})]}),s.jsx(As,{checked:f.branding.publicProfile,onCheckedChange:O=>p("branding","publicProfile",O)})]})]})]}),a==="integrations"&&s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Pr,{className:"h-5 w-5"}),"Intégrations Externes"]}),s.jsx(Xe,{children:"Connectez votre organisation avec des outils externes"})]}),s.jsx(ie,{className:"space-y-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Pr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Intégrations à venir"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Les intégrations avec Slack, Teams, et d'autres outils seront bientôt disponibles."}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[s.jsx("div",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm",children:"Slack"}),s.jsx("div",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm",children:"Microsoft Teams"}),s.jsx("div",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm",children:"Google Workspace"}),s.jsx("div",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm",children:"Zapier"})]})]})})]})]})]})},e_t=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(null),l=async()=>{if(e)try{i(!0),o(null);const f=await VK(e);n(f)}catch(f){o("Erreur lors du chargement des partenaires"),console.error("Erreur chargement partenaires:",f)}finally{i(!1)}},c=async f=>{try{const h=await QK({...f,rating:0,collaboration_type:f.collaboration_type||[]});return h?(n(m=>[h,...m]),!0):!1}catch(h){return o("Erreur lors de la création du partenaire"),console.error("Erreur création partenaire:",h),!1}},u=async(f,h)=>{try{const m=await JK(f,h);return m?(n(p=>p.map(g=>g.id===f?m:g)),!0):!1}catch(m){return o("Erreur lors de la modification du partenaire"),console.error("Erreur modification partenaire:",m),!1}},d=async f=>{try{return await ZK(f)?(n(m=>m.filter(p=>p.id!==f)),!0):!1}catch(h){return o("Erreur lors de la suppression du partenaire"),console.error("Erreur suppression partenaire:",h),!1}};return x.useEffect(()=>{l()},[e]),{partners:t,loading:r,error:a,fetchPartners:l,addPartner:c,editPartner:u,removePartner:d}},t_t=()=>{const{id:e}=Nt(),{partners:t,loading:n,error:r,addPartner:i,removePartner:a}=e_t(e),[o,l]=x.useState(""),[c,u]=x.useState("all"),[d,f]=x.useState("all"),[h,m]=x.useState(!1),[p,g]=x.useState("all"),[y,v]=x.useState({name:"",type:"other",description:"",website:"",contact_email:"",contact_phone:"",collaboration_type:[],status:"prospect",organization_id:e||""}),w=async()=>{if(!y.name.trim()||!e)return;await i({...y,organization_id:e})&&(m(!1),v({name:"",type:"other",description:"",website:"",contact_email:"",contact_phone:"",collaboration_type:[],status:"prospect",organization_id:e}))},b=E=>({investor:"Investisseur",accelerator:"Accélérateur",incubator:"Incubateur",corporate:"Entreprise",government:"Public",university:"Université",other:"Autre"})[E],j=E=>({investor:"bg-green-100 text-green-800",accelerator:"bg-blue-100 text-blue-800",incubator:"bg-purple-100 text-purple-800",corporate:"bg-indigo-100 text-indigo-800",government:"bg-gray-100 text-gray-800",university:"bg-orange-100 text-orange-800",other:"bg-slate-100 text-slate-800"})[E],_=E=>({active:"bg-green-100 text-green-800",prospect:"bg-yellow-100 text-yellow-800",inactive:"bg-red-100 text-red-800"})[E],N=E=>({active:"Actif",prospect:"Prospect",inactive:"Inactif"})[E],S=E=>({investor:tme,accelerator:Yn,incubator:Yn,corporate:Yn,government:Pr,university:et,other:Zt})[E],C=t.filter(E=>{const R=E.name.toLowerCase().includes(o.toLowerCase())||E.description&&E.description.toLowerCase().includes(o.toLowerCase()),$=c==="all"||E.type===c,O=d==="all"||E.status===d,F=p==="all"||E.type===p;return R&&$&&O&&F}),k={total:t.length,active:t.filter(E=>E.status==="active").length,prospect:t.filter(E=>E.status==="prospect").length,avgRating:t.length>0?Math.round(t.reduce((E,R)=>E+R.rating,0)/t.length*10)/10:0},A={investor:t.filter(E=>E.type==="investor").length,accelerator:t.filter(E=>E.type==="accelerator").length,incubator:t.filter(E=>E.type==="incubator").length,corporate:t.filter(E=>E.type==="corporate").length,government:t.filter(E=>E.type==="government").length,university:t.filter(E=>E.type==="university").length,other:t.filter(E=>E.type==="other").length},T=E=>Array.from({length:5},(R,$)=>s.jsx(Zt,{className:`w-4 h-4 ${$<E?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},$));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Partenaires"}),s.jsx("p",{className:"text-gray-600 text-base",children:"Gérez vos partenaires et collaborateurs externes."})]}),s.jsxs(pt,{open:h,onOpenChange:m,children:[s.jsx(Ll,{asChild:!0,children:s.jsxs(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:[s.jsx(In,{className:"w-4 h-4 mr-2"}),"Ajouter un partenaire"]})}),s.jsxs(gt,{className:"max-w-2xl",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Ajouter un nouveau partenaire"}),s.jsx(Mt,{children:"Ajoutez un nouveau partenaire à votre écosystème."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nom du partenaire"}),s.jsx(ke,{placeholder:"Nom de l'organisation ou de la personne",value:y.name,onChange:E=>v(R=>({...R,name:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type"}),s.jsxs(vt,{value:y.type,onValueChange:E=>v(R=>({...R,type:E})),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Sélectionner un type"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"investor",children:"Investisseur"}),s.jsx(fe,{value:"accelerator",children:"Accélérateur"}),s.jsx(fe,{value:"incubator",children:"Incubateur"}),s.jsx(fe,{value:"corporate",children:"Entreprise"}),s.jsx(fe,{value:"government",children:"Public"}),s.jsx(fe,{value:"university",children:"Université"}),s.jsx(fe,{value:"other",children:"Autre"})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description"}),s.jsx(at,{placeholder:"Description du partenaire et de ses activités",rows:3,value:y.description,onChange:E=>v(R=>({...R,description:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Email"}),s.jsx(ke,{type:"email",placeholder:"contact@partenaire.com",value:y.contact_email,onChange:E=>v(R=>({...R,contact_email:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Téléphone"}),s.jsx(ke,{placeholder:"+33 1 23 45 67 89",value:y.contact_phone,onChange:E=>v(R=>({...R,contact_phone:E.target.value}))})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Site web"}),s.jsx(ke,{placeholder:"https://partenaire.com",value:y.website,onChange:E=>v(R=>({...R,website:E.target.value}))})]})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>m(!1),children:"Annuler"}),s.jsx(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",onClick:w,disabled:!y.name.trim(),children:"Ajouter le partenaire"})]})]})]})]})}),r&&s.jsxs($l,{className:"mb-6",children:[s.jsx(ts,{className:"h-4 w-4"}),s.jsx(Fl,{children:r})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Total Partenaires"}),s.jsx(et,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:k.total})})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Actifs"}),s.jsx(et,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:k.active})})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Prospects"}),s.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsx("div",{className:"text-2xl font-bold",children:k.prospect})})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Note Moyenne"}),s.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[k.avgRating,"/5"]})})]})]}),n&&s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Pt,{className:"h-8 w-8 animate-spin"})}),!n&&s.jsx(s.Fragment,{children:s.jsxs(ig,{tabs:[{key:"all",label:`Tous (${k.total})`,icon:et},{key:"investor",label:`Investisseurs (${A.investor})`,icon:cf},{key:"accelerator",label:`Accélérateurs (${A.accelerator})`,icon:cme},{key:"incubator",label:`Incubateurs (${A.incubator})`,icon:Yn},{key:"corporate",label:`Entreprises (${A.corporate})`,icon:Ej},{key:"government",label:`Public (${A.government})`,icon:nme},{key:"university",label:`Universités (${A.university})`,icon:dD},{key:"other",label:`Autres (${A.other})`,icon:uD}],activeTab:p,onTabChange:g,children:[s.jsx(re,{className:"mb-6",children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(ke,{placeholder:"Rechercher un partenaire...",value:o,onChange:E=>l(E.target.value),className:"pl-10"})]})}),s.jsxs(vt,{value:d,onValueChange:f,children:[s.jsx(yt,{className:"w-40",children:s.jsx(_t,{placeholder:"Statut"})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"all",children:"Tous"}),s.jsx(fe,{value:"active",children:"Actif"}),s.jsx(fe,{value:"prospect",children:"Prospect"}),s.jsx(fe,{value:"inactive",children:"Inactif"})]})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:C.map(E=>{const R=S(E.type);return s.jsxs(re,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(pe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 bg-aurentia-pink rounded-lg flex items-center justify-center text-white",children:s.jsx(R,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold",children:E.name}),s.jsx("p",{className:"text-sm text-gray-600",children:E.contact_email||"Aucun contact"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ce,{className:j(E.type),children:b(E.type)}),s.jsx(Ce,{className:_(E.status),children:N(E.status)})]})]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:E.description||"Aucune description disponible"}),s.jsxs("div",{className:"space-y-2",children:[E.contact_email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:E.contact_email})]}),E.contact_phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ha,{className:"w-4 h-4"}),s.jsx("span",{children:E.contact_phone})]}),E.website&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Pr,{className:"w-4 h-4"}),s.jsx("a",{href:E.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-aurentia-pink hover:underline",children:"Site web"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.collaboration_type.slice(0,3).map(($,O)=>s.jsx(Ce,{variant:"outline",className:"text-xs",children:$},O)),E.collaboration_type.length>3&&s.jsxs(Ce,{variant:"outline",className:"text-xs",children:["+",E.collaboration_type.length-3]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 block",children:"Note"}),s.jsx("div",{className:"flex",children:T(E.rating)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 block",children:"Ajouté"}),s.jsx("div",{className:"font-semibold",children:new Date(E.created_at).getFullYear()})]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Mis à jour: ",new Date(E.updated_at).toLocaleDateString("fr-FR")]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(zo,{className:"w-4 h-4 mr-2"}),"Modifier"]}),s.jsx(H,{variant:"outline",size:"sm",onClick:()=>a(E.id),children:s.jsx(Rr,{className:"w-4 h-4"})})]})]})})]},E.id)})}),C.length===0&&!n&&s.jsx(re,{className:"text-center py-12",children:s.jsxs(ie,{children:[s.jsx(et,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun partenaire trouvé"}),s.jsx("p",{className:"text-gray-600 mb-4",children:t.length===0?"Commencez par ajouter votre premier partenaire.":"Aucun partenaire ne correspond à vos critères de recherche."}),t.length>0&&s.jsx(H,{variant:"outline",onClick:()=>{l(""),f("all"),g("all")},children:"Réinitialiser les filtres"})]})})]})})]})},p9=({bucket:e,value:t,folder:n="",maxSizeMB:r=5,onUpload:i,onDelete:a,mode:o="logo",disabled:l=!1,fallbackText:c="O"})=>{const[u,d]=x.useState(t||null),[f,h]=x.useState(!1),[m,p]=x.useState(null),[g,y]=x.useState(!1),v=x.useRef(0);x.useEffect(()=>{d(t||null)},[t]);const w=async k=>{if(l)return;if(!k.type.startsWith("image/")){we({title:"Erreur",description:"Le fichier doit être une image.",variant:"destructive"});return}const A=r*1024*1024;if(k.size>A){we({title:"Erreur",description:`La taille du fichier ne doit pas dépasser ${r} MB.`,variant:"destructive"});return}const T=URL.createObjectURL(k);d(T),h(!0),p(0);try{const E=`${Date.now()}_${Math.random().toString(36).slice(2)}_${k.name.replace(/\s+/g,"_")}`,R=n?`${n}/${E}`:E,{data:$,error:O}=await q.storage.from(e).upload(R,k,{upsert:!1,contentType:k.type});if(O)throw O;const{data:F}=q.storage.from(e).getPublicUrl(R),z=(F==null?void 0:F.publicUrl)||"";p(100),d(z),i&&i(z),we({title:"Upload terminé",description:"Image chargée avec succès."})}catch(E){console.error("Upload error:",E),we({title:"Erreur upload",description:(E==null?void 0:E.message)||"Erreur lors de l'upload",variant:"destructive"}),d(t||null)}finally{h(!1),setTimeout(()=>p(null),400),URL.revokeObjectURL(T)}},b=async k=>{var T;const A=(T=k.target.files)==null?void 0:T[0];A&&await w(A)},j=k=>{k.preventDefault(),k.stopPropagation(),!l&&(v.current++,k.dataTransfer.items&&k.dataTransfer.items.length>0&&y(!0))},_=k=>{k.preventDefault(),k.stopPropagation(),!l&&(v.current--,v.current===0&&y(!1))},N=k=>{k.preventDefault(),k.stopPropagation()},S=k=>{if(k.preventDefault(),k.stopPropagation(),l)return;y(!1),v.current=0;const A=k.dataTransfer.files;if(A&&A.length>0){const T=A[0];w(T)}},C=()=>{l||!window.confirm("Supprimer cette image ?")||(d(null),a&&a(),we({title:"Image supprimée",description:"La référence de l'image a été supprimée."}))};return o==="logo"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"relative group",onDragEnter:j,onDragLeave:_,onDragOver:N,onDrop:S,children:u?s.jsxs("div",{className:de("w-32 h-32 rounded-full overflow-hidden border-4 relative transition-all",!l&&"cursor-pointer",g?"border-aurentia-pink scale-105":"border-gray-200"),children:[s.jsx("img",{src:u,alt:"Logo",className:"w-full h-full object-cover"}),!l&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer",children:[s.jsx(Tx,{className:"w-8 h-8 text-white"}),s.jsx("input",{type:"file",accept:"image/*",onChange:b,disabled:f||l,className:"hidden"})]}),!f&&s.jsx(H,{type:"button",variant:"destructive",size:"sm",onClick:C,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8 p-0",children:s.jsx(tn,{className:"w-4 h-4"})})]}),f&&s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex flex-col items-center justify-center gap-2",children:[s.jsx(Pt,{className:"w-8 h-8 text-white animate-spin"}),m!==null&&s.jsx("div",{className:"w-3/4 bg-gray-300 rounded-full h-2",children:s.jsx("div",{className:"bg-aurentia-pink h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]})]}):s.jsx("label",{className:de("w-32 h-32 rounded-full border-4 border-dashed flex flex-col items-center justify-center bg-gradient-to-br from-aurentia-pink to-aurentia-orange text-white text-4xl font-bold transition-all",!l&&"cursor-pointer hover:border-aurentia-pink",g?"border-aurentia-pink scale-105 border-solid":"border-gray-300"),children:l?s.jsx("span",{children:c.charAt(0).toUpperCase()}):s.jsxs(s.Fragment,{children:[s.jsx(y2,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"text-xs text-center px-2",children:g?"Déposer ici":"Cliquer ou glisser"}),s.jsx("input",{type:"file",accept:"image/*",onChange:b,disabled:f||l,className:"hidden"})]})})}),!l&&s.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Max ",r," MB • JPG, PNG, GIF"]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"relative group",onDragEnter:j,onDragLeave:_,onDragOver:N,onDrop:S,children:u?s.jsxs("div",{className:de("w-full h-48 rounded-lg overflow-hidden border-2 relative transition-all",!l&&"cursor-pointer",g?"border-aurentia-pink scale-[1.02]":"border-gray-200"),children:[s.jsx("img",{src:u,alt:"Banner",className:"w-full h-full object-cover"}),!l&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer",children:[s.jsx(Tx,{className:"w-12 h-12 text-white"}),s.jsx("input",{type:"file",accept:"image/*",onChange:b,disabled:f||l,className:"hidden"})]}),!f&&s.jsxs(H,{type:"button",variant:"destructive",size:"sm",onClick:C,className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(tn,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]}),f&&s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex flex-col items-center justify-center gap-2",children:[s.jsx(Pt,{className:"w-12 h-12 text-white animate-spin"}),m!==null&&s.jsx("div",{className:"w-3/4 bg-gray-300 rounded-full h-2",children:s.jsx("div",{className:"bg-aurentia-pink h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]})]}):s.jsx("label",{className:de("w-full h-48 rounded-lg border-2 border-dashed flex flex-col items-center justify-center transition-all",!l&&"cursor-pointer hover:border-aurentia-pink hover:bg-gray-100",g?"border-aurentia-pink bg-aurentia-pink/5 border-solid scale-[1.02]":"border-gray-300 bg-gray-50"),children:l?s.jsxs(s.Fragment,{children:[s.jsx(y2,{className:"w-12 h-12 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Aucune bannière"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Tx,{className:de("w-12 h-12 mb-2 transition-colors",g?"text-aurentia-pink":"text-gray-400")}),s.jsx("span",{className:de("text-sm font-medium transition-colors",g?"text-aurentia-pink":"text-gray-600"),children:g?"Déposer l'image ici":"Cliquer pour ajouter une bannière"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"ou glisser-déposer une image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:b,disabled:f||l,className:"hidden"})]})})}),!l&&s.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Formats acceptés: JPG, PNG, GIF (max ",r," MB)"]})]})},n_t=[{value:"incubator",label:"Incubateur"},{value:"accelerator",label:"Accélérateur"},{value:"business_school",label:"École de commerce"},{value:"university",label:"Université"},{value:"consulting",label:"Cabinet de conseil"},{value:"other",label:"Autre"}],pue=["Tech","Fintech","Healthtech","Edtech","Agritech","Cleantech","E-commerce","SaaS","IoT","IA/Machine Learning","Blockchain","Mobilité","Immobilier","Retail","Manufacturing","Services","Entertainment","Cybersécurité","Biotechnologie","Energie","Foodtech","Proptech","Legaltech","Insurtech","Medtech","Deeptech","Greentech","Regtech","Martech","Autre"],gue=["Idéation","Pré-seed","Seed","Série A","Série B","Série C+","Growth stage","Scale-up","Expansion internationale","Early stage","Late stage","Pre-revenue","Post-revenue","Breakeven","Profitable"],xue=["Accompagnement stratégique","Développement produit","Marketing digital","Financement","Juridique","RH","Technologie","International","Opérations","Ventes","Partenariats","Pitch training","Go-to-market","Product-market fit","Growth hacking","Fundraising","Business development","Innovation","Transformation digitale"],vue=["Mentoring individuel","Workshops collectifs","Formations","Financement direct","Mise en relation investisseurs","Espaces de coworking","Support technique","Support juridique","Développement commercial","Networking","Coaching personnalisé","Masterclasses","Bootcamps","Hackathons","Pitch sessions","Demo days","Accès à des experts","Ressources en ligne","Accompagnement réglementaire","Support comptable"],yue=["France","Europe","Amérique du Nord","Amérique du Sud","Afrique","Asie","Océanie","International"],mc={PRIMARY:"#FF592C",SECONDARY:"#FF592C"},r_t=()=>{var O,F,z,P,I,M;const{id:e}=Nt(),{organisation:t,loading:n,refetch:r}=r4(),{stats:i,loading:a}=cse(),{userProfile:o}=cr(),[l,c]=x.useState(!1),[u,d]=x.useState("idle"),[f,h]=x.useState({}),[m,p]=x.useState(!1),[g,y]=x.useState(!0);x.useEffect(()=>{(async()=>{if(!(o!=null&&o.id)||!e){y(!1);return}try{const{data:D,error:L}=await q.from("organizations").select("created_by").eq("id",e).single();if(L)throw L;p((D==null?void 0:D.created_by)===o.id)}catch(D){console.error("Error checking ownership:",D),p(!1)}finally{y(!1)}})()},[o==null?void 0:o.id,e]);const[v,w]=x.useState({name:"",type:"incubator",description:"",website:"",email:"",phone:"",address:"",foundedYear:new Date().getFullYear(),teamSize:0,logo_url:"",banner_url:"",mission:"",vision:"",values:[],sectors:[],stages:[],specializations:[],methodology:"",programDurationMonths:6,successCriteria:"",supportTypes:[],geographicFocus:[],socialMedia:{linkedin:"",twitter:"",website:""},isPublic:!0,allowDirectApplications:!0}),b=t?{id:t.id,name:t.name,type:t.type||"incubator",description:t.description||"Aucune description disponible",foundedYear:t.founded_year||2018,headquarters:t.address||"Non spécifié",website:t.website||"",email:t.email||"Non spécifié",phone:t.phone||"",mission:t.mission||"Mission à définir",vision:t.vision||"Vision à définir",values:t.values?typeof t.values=="string"?JSON.parse(t.values):t.values:["Innovation","Excellence"],methodology:t.methodology||"",successCriteria:t.success_criteria||"",supportTypes:t.support_types?typeof t.support_types=="string"?JSON.parse(t.support_types):t.support_types:[],stats:{totalStartups:(i==null?void 0:i.totalAdherents)||0,activePrograms:3,totalInvestment:0,successRate:(i==null?void 0:i.successRate)||0,teamSize:t.team_size||(i==null?void 0:i.totalMentors)||0,averageProgramDuration:t.program_duration_months||(i==null?void 0:i.averageProjectDuration)||0},sectors:t.sectors?typeof t.sectors=="string"?JSON.parse(t.sectors):t.sectors:["Tech","Innovation"],stages:t.stages?typeof t.stages=="string"?JSON.parse(t.stages):t.stages:["Pré-seed","Seed"],geographicFocus:t.geographic_focus?typeof t.geographic_focus=="string"?JSON.parse(t.geographic_focus):t.geographic_focus:["France"],specializations:t.specializations?typeof t.specializations=="string"?JSON.parse(t.specializations):t.specializations:[],socialMedia:t.social_media?typeof t.social_media=="string"?JSON.parse(t.social_media):t.social_media:{linkedin:"",twitter:"",website:""},isPublic:t.is_public!==void 0?t.is_public:!0,allowDirectApplications:t.allow_direct_applications!==void 0?t.allow_direct_applications:!0,lastUpdated:new Date(t.updated_at||t.created_at)}:null;x.useEffect(()=>{var U,D,L;b&&!l&&w({name:b.name||"",type:b.type||"incubator",description:b.description||"",website:b.website||"",email:b.email||"",phone:b.phone||"",address:b.headquarters||"",foundedYear:b.foundedYear||new Date().getFullYear(),teamSize:b.stats.teamSize||0,logo_url:(t==null?void 0:t.logo_url)||"",banner_url:(t==null?void 0:t.banner_url)||"",mission:b.mission||"",vision:b.vision||"",values:b.values||[],sectors:b.sectors||[],stages:b.stages||[],specializations:b.specializations||[],methodology:b.methodology||"",programDurationMonths:b.stats.averageProgramDuration||6,successCriteria:b.successCriteria||"",supportTypes:b.supportTypes||[],geographicFocus:b.geographicFocus||[],socialMedia:{linkedin:((U=b.socialMedia)==null?void 0:U.linkedin)||"",twitter:((D=b.socialMedia)==null?void 0:D.twitter)||"",website:((L=b.socialMedia)==null?void 0:L.website)||""},isPublic:b.isPublic!==void 0?b.isPublic:!0,allowDirectApplications:b.allowDirectApplications!==void 0?b.allowDirectApplications:!0})},[b,l,t]);const j=()=>{c(!0),h({})},_=()=>{var U,D,L;c(!1),h({}),b&&w({name:b.name||"",type:b.type||"incubator",description:b.description||"",website:b.website||"",email:b.email||"",phone:b.phone||"",address:b.headquarters||"",foundedYear:b.foundedYear||new Date().getFullYear(),teamSize:b.stats.teamSize||0,logo_url:(t==null?void 0:t.logo_url)||"",banner_url:(t==null?void 0:t.banner_url)||"",mission:b.mission||"",vision:b.vision||"",values:b.values||[],sectors:b.sectors||[],stages:b.stages||[],specializations:b.specializations||[],methodology:b.methodology||"",programDurationMonths:b.stats.averageProgramDuration||6,successCriteria:b.successCriteria||"",supportTypes:b.supportTypes||[],geographicFocus:b.geographicFocus||[],socialMedia:{linkedin:((U=b.socialMedia)==null?void 0:U.linkedin)||"",twitter:((D=b.socialMedia)==null?void 0:D.twitter)||"",website:((L=b.socialMedia)==null?void 0:L.website)||""},isPublic:b.isPublic!==void 0?b.isPublic:!0,allowDirectApplications:b.allowDirectApplications!==void 0?b.allowDirectApplications:!0})},N=()=>{var D,L;const U={};return(D=v.name)!=null&&D.trim()||(U.name="Le nom de l'organisation est requis"),(L=v.email)!=null&&L.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)&&(U.email="Format d'email invalide"),v.foundedYear&&(v.foundedYear<1900||v.foundedYear>new Date().getFullYear())&&(U.foundedYear="Année de création invalide"),v.teamSize<0&&(U.teamSize="La taille de l'équipe ne peut pas être négative"),h(U),Object.keys(U).length===0},S=(U,D)=>{w(L=>{const V=L[U],K=V.includes(D)?V.filter(G=>G!==D):[...V,D];return{...L,[U]:K}})},C=(U,D)=>{D.trim()&&w(L=>{const V=L[U];return V.includes(D.trim())?L:{...L,[U]:[...V,D.trim()]}})},k=(U,D)=>{w(L=>({...L,[U]:L[U].filter(V=>V!==D)}))};if(n||a)return s.jsx("div",{className:"space-y-6 p-4 md:p-8",children:s.jsx(Ln,{message:"Chargement du profil...",fullScreen:!0})});if(!b)return s.jsx("div",{className:"space-y-6 p-4 md:p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ts,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Organisation non trouvée"})]})});const A=async()=>{if(N()){d("saving");try{const U={name:v.name,type:v.type,description:v.description,website:v.website,email:v.email,phone:v.phone,address:v.address,founded_year:v.foundedYear,team_size:v.teamSize,logo_url:v.logo_url||null,banner_url:v.banner_url||null,mission:v.mission,vision:v.vision,values:JSON.stringify(v.values),sectors:JSON.stringify(v.sectors),stages:JSON.stringify(v.stages),specializations:JSON.stringify(v.specializations),methodology:v.methodology,program_duration_months:v.programDurationMonths,success_criteria:v.successCriteria,support_types:JSON.stringify(v.supportTypes),geographic_focus:JSON.stringify(v.geographicFocus),social_media:JSON.stringify(v.socialMedia),is_public:v.isPublic,allow_direct_applications:v.allowDirectApplications,updated_at:new Date().toISOString()};await WD(t.id,U),d("saved"),c(!1),setTimeout(()=>d("idle"),3e3),await r()}catch(U){console.error("Erreur lors de la sauvegarde:",U),d("error"),setTimeout(()=>d("idle"),3e3)}}},T=U=>({incubator:"Incubateur",accelerator:"Accélérateur",venture_capital:"Fonds d'investissement",corporate:"Corporate",university:"Université",government:"Public"})[U],E=U=>({incubator:"bg-blue-100 text-blue-800",accelerator:"bg-purple-100 text-purple-800",venture_capital:"bg-green-100 text-green-800",corporate:"bg-indigo-100 text-indigo-800",university:"bg-orange-100 text-orange-800",government:"bg-gray-100 text-gray-800"})[U],R=U=>U>=1e6?`${(U/1e6).toFixed(1)}M€`:U>=1e3?`${(U/1e3).toFixed(0)}k`:U.toString(),$=({label:U,field:D,options:L,placeholder:V="Ajouter...",className:K="grid grid-cols-2 md:grid-cols-3 gap-2"})=>{const[G,X]=x.useState(""),oe=v[D],Y=()=>{G.trim()&&(C(D,G.trim()),X(""))};return s.jsxs("div",{children:[s.jsx(Be,{className:"text-sm font-medium mb-3 block",children:U}),l?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:K,children:L.map(ne=>s.jsx(H,{variant:oe.includes(ne)?"default":"outline",size:"sm",onClick:()=>S(D,ne),className:`text-xs ${oe.includes(ne)?"bg-aurentia-pink hover:bg-aurentia-pink/90 text-white":"hover:bg-gray-50"}`,children:ne},ne))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ke,{value:G,onChange:ne=>X(ne.target.value),placeholder:V,onKeyPress:ne=>{ne.key==="Enter"&&(ne.preventDefault(),Y())},className:"flex-1"}),s.jsx(H,{type:"button",onClick:Y,size:"sm",variant:"outline",children:s.jsx(In,{className:"w-4 h-4"})})]}),oe.filter(ne=>!L.includes(ne)).length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:oe.filter(ne=>!L.includes(ne)).map((ne,ge)=>s.jsxs(Ce,{variant:"secondary",className:"cursor-pointer hover:bg-red-50 flex items-center gap-1",onClick:()=>k(D,ne),children:[ne," ",s.jsx(tn,{className:"w-3 h-3"})]},ge))})]}):s.jsx("div",{className:"flex flex-wrap gap-2",children:oe.length>0?oe.map((ne,ge)=>s.jsx(Ce,{variant:"outline",children:ne},ge)):s.jsx("span",{className:"text-gray-500 text-sm",children:"Aucune information"})})]})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Informations de l'Organisation"}),s.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:m?"Gérez les informations publiques de votre organisation.":"Consultez les informations de l'organisation."})]}),m&&s.jsx("div",{className:"flex items-center gap-3",children:l?s.jsxs(s.Fragment,{children:[s.jsx(H,{variant:"outline",onClick:_,children:"Annuler"}),s.jsxs(H,{onClick:A,disabled:u==="saving",style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:[u==="saving"?s.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}):u==="saved"?s.jsx(Gt,{className:"w-4 h-4 mr-2"}):s.jsx(Hy,{className:"w-4 h-4 mr-2"}),u==="saving"?"Enregistrement...":u==="saved"?"Enregistré":"Enregistrer"]})]}):s.jsxs(H,{onClick:j,style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",children:[s.jsx(zo,{className:"w-4 h-4 mr-2"}),"Modifier le profil"]})})]})}),u==="saved"&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[s.jsx(Gt,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-green-800",children:"Profil mis à jour avec succès"})]}),u==="error"&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[s.jsx(ts,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-red-800",children:"Erreur lors de la sauvegarde. Veuillez réessayer."})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 md:gap-8",children:[s.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[s.jsxs(re,{children:[s.jsx(pe,{className:"pb-0",children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"w-5 h-5"}),"Informations générales"]})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsx("div",{className:"relative -mx-6 -mt-6 mb-6",children:l&&m?s.jsxs("div",{className:"p-6 pb-0",children:[s.jsx(Be,{className:"mb-3 block",children:"Bannière"}),s.jsx(p9,{bucket:"organisation-banner",value:v.banner_url,folder:"",maxSizeMB:5,mode:"banner",disabled:!l,onUpload:U=>w(D=>({...D,banner_url:U})),onDelete:()=>w(U=>({...U,banner_url:""}))})]}):s.jsx("div",{className:"h-48 bg-gradient-to-r from-aurentia-pink to-aurentia-orange relative overflow-hidden",children:((t==null?void 0:t.banner_url)||v.banner_url)&&s.jsx("img",{src:(t==null?void 0:t.banner_url)||v.banner_url||"",alt:"Banner",className:"w-full h-full object-cover",onError:U=>{U.target.style.display="none"}})})}),s.jsx("div",{className:"flex flex-col sm:flex-row items-start gap-4 -mt-16 relative z-10",children:l&&m?s.jsxs("div",{className:"w-full",children:[s.jsx(Be,{className:"mb-3 block",children:"Logo"}),s.jsx(p9,{bucket:"organisation-logo",value:v.logo_url,folder:"",maxSizeMB:2,mode:"logo",disabled:!l,fallbackText:v.name,onUpload:U=>w(D=>({...D,logo_url:U})),onDelete:()=>w(U=>({...U,logo_url:""}))})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-shrink-0",children:t!=null&&t.logo_url||v.logo_url?s.jsx("img",{src:(t==null?void 0:t.logo_url)||v.logo_url||"",alt:`${b.name} logo`,className:"w-24 h-24 rounded-lg object-cover border-4 border-white shadow-lg bg-white",onError:U=>{const D=U.target,L=D.parentElement;if(L){D.style.display="none";const V=document.createElement("div");V.className="w-24 h-24 rounded-lg flex items-center justify-center text-white font-bold text-3xl border-4 border-white shadow-lg",V.style.backgroundColor=(t==null?void 0:t.primary_color)||"#FF592C",V.textContent=b.name.charAt(0).toUpperCase(),L.appendChild(V)}}}):s.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center text-white font-bold text-3xl border-4 border-white shadow-lg",style:{backgroundColor:(t==null?void 0:t.primary_color)||"#FF592C"},children:b.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"flex-1 w-full pt-12",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:l?s.jsxs("div",{children:[s.jsx(ke,{id:"name",value:v.name,onChange:U=>w(D=>({...D,name:U.target.value})),className:`text-lg font-semibold ${f.name?"border-red-500":""}`,placeholder:"Nom de votre organisation"}),f.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.name})]}):s.jsx("h2",{className:"text-2xl font-bold",children:b.name})}),s.jsx("div",{children:l?s.jsxs(vt,{value:v.type,onValueChange:U=>w(D=>({...D,type:U})),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(fe,{value:"incubator",children:"Incubateur"}),s.jsx(fe,{value:"accelerator",children:"Accélérateur"}),s.jsx(fe,{value:"venture_capital",children:"Fonds d'investissement"}),s.jsx(fe,{value:"corporate",children:"Corporate"}),s.jsx(fe,{value:"university",children:"Université"}),s.jsx(fe,{value:"government",children:"Public"})]})]}):s.jsx(Ce,{className:E(b.type),children:T(b.type)})})]})})]})}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"description",children:"Description"}),l?s.jsx(at,{id:"description",value:v.description,onChange:U=>w(D=>({...D,description:U.target.value})),rows:4,placeholder:"Décrivez votre organisation..."}):s.jsx("p",{className:"text-gray-600 mt-2",children:b.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"foundedYear",children:"Année de création"}),l?s.jsxs("div",{children:[s.jsx(ke,{id:"foundedYear",type:"number",value:v.foundedYear,onChange:U=>w(D=>({...D,foundedYear:parseInt(U.target.value)||0})),className:f.foundedYear?"border-red-500":"",min:"1900",max:new Date().getFullYear()}),f.foundedYear&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.foundedYear})]}):s.jsx("p",{className:"text-gray-600 mt-2",children:b.foundedYear})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"teamSize",children:"Taille de l'équipe"}),l?s.jsxs("div",{children:[s.jsx(ke,{id:"teamSize",type:"number",value:v.teamSize,onChange:U=>w(D=>({...D,teamSize:parseInt(U.target.value)||0})),className:f.teamSize?"border-red-500":"",min:"0"}),f.teamSize&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.teamSize})]}):s.jsxs("p",{className:"text-gray-600 mt-2",children:[b.stats.teamSize," personnes"]})]})]})]})]}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"w-5 h-5"}),"Mission, Vision & Valeurs"]})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"mission",children:"Mission"}),l?s.jsx(at,{id:"mission",value:v.mission,onChange:U=>w(D=>({...D,mission:U.target.value})),rows:3,placeholder:"Décrivez la mission de votre organisation..."}):s.jsx("p",{className:"text-gray-600 mt-2",children:b.mission||"Aucune mission définie"})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"vision",children:"Vision"}),l?s.jsx(at,{id:"vision",value:v.vision,onChange:U=>w(D=>({...D,vision:U.target.value})),rows:2,placeholder:"Quelle est votre vision à long terme ?"}):s.jsx("p",{className:"text-gray-600 mt-2",children:b.vision||"Aucune vision définie"})]}),s.jsx($,{label:"Valeurs",field:"values",options:[],placeholder:"Ajouter une valeur...",className:"flex flex-wrap gap-2"})]})]}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"w-5 h-5"}),"Spécialisations"]})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsx($,{label:"Secteurs d'activité",field:"sectors",options:pue,placeholder:"Autre secteur..."}),s.jsx($,{label:"Stades d'investissement",field:"stages",options:gue,placeholder:"Autre stade..."}),s.jsx($,{label:"Zones géographiques",field:"geographicFocus",options:yue,placeholder:"Autre zone...",className:"grid grid-cols-2 md:grid-cols-4 gap-2"}),s.jsx($,{label:"Spécialisations",field:"specializations",options:xue,placeholder:"Autre spécialisation..."})]})]}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(et,{className:"w-5 h-5"}),"Méthodologie & Programme"]})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"methodology",children:"Méthodologie d'accompagnement"}),l?s.jsx(at,{id:"methodology",value:v.methodology,onChange:U=>w(D=>({...D,methodology:U.target.value})),rows:4,placeholder:"Décrivez votre méthodologie d'accompagnement..."}):s.jsx("p",{className:"text-gray-600 mt-2",children:b.methodology||"Aucune méthodologie définie"})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"programDuration",children:"Durée des programmes (mois)"}),l?s.jsx(ke,{id:"programDuration",type:"number",value:v.programDurationMonths,onChange:U=>w(D=>({...D,programDurationMonths:parseInt(U.target.value)||0})),min:"1",max:"36",placeholder:"ex: 6, 12..."}):s.jsxs("p",{className:"text-gray-600 mt-2",children:[b.stats.averageProgramDuration||"Non défini"," mois"]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"successCriteria",children:"Critères de succès"}),l?s.jsx(at,{id:"successCriteria",value:v.successCriteria,onChange:U=>w(D=>({...D,successCriteria:U.target.value})),rows:3,placeholder:"Comment mesurez-vous le succès de vos programmes ?"}):s.jsx("p",{className:"text-gray-600 mt-2",children:b.successCriteria||"Aucun critère défini"})]}),s.jsx($,{label:"Types de support",field:"supportTypes",options:vue,placeholder:"Autre type de support..."})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(mi,{className:"w-5 h-5"}),"Statistiques"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-aurentia-pink",children:b.stats.totalStartups}),s.jsx("div",{className:"text-xs text-gray-600",children:"Startups accompagnées"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-aurentia-pink",children:b.stats.activePrograms}),s.jsx("div",{className:"text-xs text-gray-600",children:"Programmes actifs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-aurentia-pink",children:R(b.stats.totalInvestment)}),s.jsx("div",{className:"text-xs text-gray-600",children:"Investissements"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-aurentia-pink",children:[b.stats.successRate,"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:"Taux de succès"})]})]})})]}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"w-5 h-5"}),"Contact"]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"sidebar-email",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ft,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),l?s.jsxs("div",{className:"flex-1",children:[s.jsx(ke,{id:"sidebar-email",type:"email",value:v.email,onChange:U=>w(D=>({...D,email:U.target.value})),className:`w-full ${f.email?"border-red-500":""}`}),f.email&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.email})]}):s.jsx("span",{className:"text-sm",children:b.email})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"sidebar-phone",children:"Téléphone"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(ha,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),l?s.jsx(ke,{id:"sidebar-phone",value:v.phone,onChange:U=>w(D=>({...D,phone:U.target.value})),className:"flex-1",placeholder:"Numéro de téléphone"}):s.jsx("span",{className:"text-sm text-gray-500",children:b.phone||"Non renseigné"})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"sidebar-website",children:"Site web"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Pr,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),l?s.jsx(ke,{id:"sidebar-website",value:v.website,onChange:U=>w(D=>({...D,website:U.target.value})),className:"flex-1",placeholder:"https://..."}):b.website?s.jsx("a",{href:b.website,target:"_blank",rel:"noopener noreferrer",className:"text-aurentia-pink hover:underline text-sm",children:b.website}):s.jsx("span",{className:"text-sm text-gray-500",children:"Non renseigné"})]})]}),s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"sidebar-address",children:"Adresse"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(rs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),l?s.jsx(ke,{id:"sidebar-address",value:v.address,onChange:U=>w(D=>({...D,address:U.target.value})),className:"flex-1",placeholder:"Adresse complète"}):s.jsx("span",{className:"text-sm",children:b.headquarters})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx(Be,{children:"Réseaux sociaux"}),s.jsx("div",{className:"space-y-3 mt-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx(ke,{value:v.socialMedia.linkedin,onChange:U=>w(D=>({...D,socialMedia:{...D.socialMedia,linkedin:U.target.value}})),placeholder:"Profil LinkedIn"}),s.jsx(ke,{value:v.socialMedia.twitter,onChange:U=>w(D=>({...D,socialMedia:{...D.socialMedia,twitter:U.target.value}})),placeholder:"Profil Twitter"}),s.jsx(ke,{value:v.socialMedia.website,onChange:U=>w(D=>({...D,socialMedia:{...D.socialMedia,website:U.target.value}})),placeholder:"Site web additionnel"})]}):s.jsxs("div",{className:"space-y-1",children:[((O=b.socialMedia)==null?void 0:O.linkedin)&&s.jsx("a",{href:b.socialMedia.linkedin,className:"text-aurentia-pink hover:underline block text-sm",children:"LinkedIn"}),((F=b.socialMedia)==null?void 0:F.twitter)&&s.jsx("a",{href:b.socialMedia.twitter,className:"text-aurentia-pink hover:underline block text-sm",children:"Twitter"}),((z=b.socialMedia)==null?void 0:z.website)&&s.jsx("a",{href:b.socialMedia.website,className:"text-aurentia-pink hover:underline block text-sm",children:"Site web"}),!((P=b.socialMedia)!=null&&P.linkedin)&&!((I=b.socialMedia)!=null&&I.twitter)&&!((M=b.socialMedia)!=null&&M.website)&&s.jsx("span",{className:"text-sm text-gray-500",children:"Aucun réseau social renseigné"})]})})]})]})]}),s.jsxs(re,{children:[s.jsx(pe,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Vy,{className:"w-5 h-5"}),"Paramètres"]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Profil public"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Visible dans les annuaires"})]}),s.jsx(As,{checked:l?v.isPublic:b.isPublic,onCheckedChange:U=>w(D=>({...D,isPublic:U})),disabled:!l})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Candidatures directes"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Recevoir des candidatures"})]}),s.jsx(As,{checked:l?v.allowDirectApplications:b.allowDirectApplications,onCheckedChange:U=>w(D=>({...D,allowDirectApplications:U})),disabled:!l})]})]})]}),s.jsx(re,{children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Wt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Dernière mise à jour: ",b.lastUpdated.toLocaleDateString("fr-FR")]})]})})})]})]})]})},s_t=()=>{const{id:e}=Nt(),t=It(),[n,r]=x.useState(!0),[i,a]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(""),[p,g]=x.useState(""),[y,v]=x.useState(""),[w,b]=x.useState([]),[j,_]=x.useState("");x.useEffect(()=>{N()},[e]);const N=async()=>{try{r(!0);const{data:{user:E}}=await q.auth.getUser();if(!E){Ne.error("Non authentifié"),t("/login");return}const{data:R}=await q.from("organizations").select("created_by").eq("id",e).single();u((R==null?void 0:R.created_by)===E.id);const{data:$,error:O}=await q.from("mentors").select("*").eq("user_id",E.id).eq("organization_id",e).single();O&&console.error("Mentor fetch error:",O);const{data:F,error:z}=await q.from("profiles").select("*").eq("id",E.id).single();if(z){Ne.error("Erreur lors du chargement du profil");return}let P=[];$!=null&&$.expertise&&(Array.isArray($.expertise)?P=$.expertise:typeof $.expertise=="string"&&(P=$.expertise.split(",").map(M=>M.trim()).filter(M=>M)));const I={id:($==null?void 0:$.id)||"",user_id:E.id,first_name:F.first_name||"",last_name:F.last_name||"",email:F.email||"",phone:F.phone||"",bio:($==null?void 0:$.bio)||"",linkedin_url:($==null?void 0:$.linkedin_url)||"",expertise:P,status:($==null?void 0:$.status)||"active",total_entrepreneurs:($==null?void 0:$.total_entrepreneurs)||0,success_rate:($==null?void 0:$.success_rate)||0,rating:($==null?void 0:$.rating)||0,joined_at:F.created_at||"",user_role:F.user_role||"staff",current_entrepreneurs:0,completed_assignments:0};l(I),m(I.bio),g(I.linkedin_url),v(I.phone),b(I.expertise)}catch(E){console.error("Error fetching profile:",E),Ne.error("Erreur lors du chargement du profil")}finally{r(!1)}},S=()=>{const E=j.trim();E&&!w.includes(E)&&(b([...w,E]),_(""))},C=E=>{b(w.filter(R=>R!==E))},k=E=>{E.key==="Enter"&&(E.preventDefault(),S())},A=async()=>{try{if(a(!0),o!=null&&o.id){const{error:R}=await q.from("mentors").update({bio:h,linkedin_url:p,expertise:w,updated_at:new Date().toISOString()}).eq("id",o.id);if(R)throw R}const{error:E}=await q.from("profiles").update({phone:y}).eq("id",o==null?void 0:o.user_id);if(E)throw E;Ne.success("Profil mis à jour avec succès"),await N()}catch(E){console.error("Error saving profile:",E),Ne.error("Erreur lors de la sauvegarde")}finally{a(!1)}},T=async()=>{try{if(!(o!=null&&o.user_id)||!e)return;const{error:E}=await q.from("user_organizations").delete().eq("user_id",o.user_id).eq("organization_id",e);if(E)throw E;const{error:R}=await q.from("mentors").update({status:"inactive"}).eq("user_id",o.user_id).eq("organization_id",e);R&&console.warn("Mentor deactivation error:",R),Ne.success("Vous avez quitté l'organisation avec succès"),f(!1),t("/dashboard")}catch(E){console.error("Error leaving organization:",E),Ne.error("Erreur lors de la sortie de l'organisation")}};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-aurentia-pink mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Chargement du profil..."})]})}):o?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mon Profil Mentor"}),s.jsx("p",{className:"text-gray-600",children:"Gérez vos informations et votre profil de mentor"})]}),s.jsxs("div",{className:"flex gap-2",children:[!c&&s.jsxs(H,{variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-50",onClick:()=>f(!0),children:[s.jsx(df,{className:"w-4 h-4 mr-2"}),"Quitter l'organisation"]}),s.jsxs(H,{style:{backgroundColor:"#ff5932"},className:"hover:opacity-90 text-white",onClick:A,disabled:i,children:[s.jsx(Hy,{className:"w-4 h-4 mr-2"}),i?"Enregistrement...":"Enregistrer"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Mentorés Actuels"}),s.jsx(mi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[o.current_entrepreneurs,"/",o.total_entrepreneurs]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"En cours / Capacité max"})]})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Accompagnements Terminés"}),s.jsx(Fc,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.completed_assignments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total complétés"})]})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Taux de Réussite"}),s.jsx(ui,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[o.success_rate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Projets réussis"})]})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Note Moyenne"}),s.jsx(ui,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[o.rating.toFixed(1),"/5"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Évaluation globale"})]})]}),s.jsxs(re,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Disponibilité"}),s.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.current_entrepreneurs<o.total_entrepreneurs?s.jsx("span",{className:"text-green-600",children:"Disponible"}):s.jsx("span",{className:"text-orange-600",children:"Complet"})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.total_entrepreneurs-o.current_entrepreneurs," place",o.total_entrepreneurs-o.current_entrepreneurs!==1?"s":""," restante",o.total_entrepreneurs-o.current_entrepreneurs!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsx(me,{children:"Informations Personnelles"}),s.jsx(Xe,{children:"Ces informations ne peuvent pas être modifiées ici"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{className:"flex items-center gap-2",children:[s.jsx(Mp,{className:"w-4 h-4"}),"Nom complet"]}),s.jsx(ke,{value:`${o.first_name} ${o.last_name}`,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),"Email"]}),s.jsx(ke,{value:o.email,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"w-4 h-4"}),"Téléphone"]}),s.jsx(ke,{value:y,onChange:E=>v(E.target.value),placeholder:"Votre numéro de téléphone"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Be,{children:"Rôle:"}),s.jsx(Ce,{className:"bg-aurentia-pink text-white px-3 py-1.5",children:o.user_role==="organisation"?"Propriétaire":"Mentor"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Be,{children:"Statut:"}),s.jsx(Ce,{className:`${o.status==="active"?"bg-green-500 text-white":"bg-gray-500 text-white"} px-3 py-1.5`,children:o.status==="active"?"Actif":"Inactif"})]})]})]}),s.jsxs(re,{children:[s.jsxs(pe,{children:[s.jsx(me,{children:"Informations Professionnelles"}),s.jsx(Xe,{children:"Modifiez vos informations de mentor"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"bio",className:"flex items-center gap-2",children:[s.jsx(lD,{className:"w-4 h-4"}),"Biographie"]}),s.jsx(at,{id:"bio",value:h,onChange:E=>m(E.target.value),placeholder:"Décrivez votre expérience et votre approche de mentorat...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"expertise",className:"flex items-center gap-2",children:[s.jsx(ui,{className:"w-4 h-4"}),"Expertises"]}),w.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:w.map((E,R)=>s.jsxs(Ce,{className:"bg-aurentia-pink text-white px-3 py-1.5 flex items-center gap-2",children:[E,s.jsx(tn,{className:"h-3 w-3 cursor-pointer hover:text-gray-200",onClick:()=>C(E)})]},R))}),s.jsx(ke,{id:"expertise",value:j,onChange:E=>_(E.target.value),onKeyDown:k,placeholder:"Tapez une expertise et appuyez sur Entrée..."}),s.jsx("p",{className:"text-xs text-gray-500",children:"Appuyez sur Entrée pour ajouter une expertise"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Be,{htmlFor:"linkedin",className:"flex items-center gap-2",children:[s.jsx(rme,{className:"w-4 h-4"}),"LinkedIn"]}),s.jsx(ke,{id:"linkedin",value:p,onChange:E=>g(E.target.value),placeholder:"https://linkedin.com/in/votre-profil"})]}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Membre depuis:"})," ",new Date(o.joined_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})})]})]})]}),o.expertise.length>0&&s.jsxs(re,{children:[s.jsx(pe,{children:s.jsx(me,{children:"Mes Expertises Actuelles"})}),s.jsx(ie,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:o.expertise.map((E,R)=>s.jsx(Ce,{variant:"outline",className:"bg-aurentia-pink/10 text-aurentia-pink border-aurentia-pink",children:E},R))})})]}),s.jsx(pt,{open:d,onOpenChange:f,children:s.jsxs(gt,{children:[s.jsxs(jt,{children:[s.jsx(xt,{children:"Quitter l'organisation"}),s.jsx(Mt,{children:"Êtes-vous sûr de vouloir quitter cette organisation ? Vous perdrez l'accès à tous les projets et ressources. Cette action peut être inversée si vous êtes réinvité."})]}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>f(!1),children:"Annuler"}),s.jsxs(H,{variant:"destructive",onClick:T,children:[s.jsx(df,{className:"w-4 h-4 mr-2"}),"Quitter"]})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-gray-500",children:"Profil non trouvé"})})},g9=({bucket:e,value:t,folder:n="",label:r,maxSizeMB:i=5,onUpload:a,onDelete:o,aspectRatio:l="square"})=>{const[c,u]=x.useState(t||null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[p,g]=x.useState(null);x.useEffect(()=>{u(t||null)},[t]);const y=async b=>{var S;const j=(S=b.target.files)==null?void 0:S[0];if(!j)return;if(g(null),!j.type.startsWith("image/")){g("Le fichier doit être une image."),we({title:"Erreur",description:"Le fichier doit être une image.",variant:"destructive"});return}const _=i*1024*1024;if(j.size>_){g(`Taille maximale ${i} MB`),we({title:"Erreur",description:`La taille du fichier ne doit pas dépasser ${i} MB.`,variant:"destructive"});return}const N=URL.createObjectURL(j);u(N),f(!0),m(0);try{const C=`${Date.now()}_${Math.random().toString(36).slice(2)}_${j.name.replace(/\s+/g,"_")}`,k=n?`${n}/${C}`:C,{data:A,error:T}=await q.storage.from(e).upload(k,j,{upsert:!1,contentType:j.type});if(T)throw T;const{data:E}=q.storage.from(e).getPublicUrl(k),R=(E==null?void 0:E.publicUrl)||"";m(100),u(R),a&&a(R),we({title:"Upload terminé",description:"Image chargée avec succès."})}catch(C){console.error("Upload error:",C),g((C==null?void 0:C.message)||"Erreur lors de l'upload"),we({title:"Erreur upload",description:(C==null?void 0:C.message)||"Erreur lors de l'upload",variant:"destructive"}),u(t||null)}finally{f(!1),setTimeout(()=>m(null),400),URL.revokeObjectURL(N)}},v=()=>{window.confirm("Supprimer cette image ?")&&(u(null),g(null),o&&o(),we({title:"Image supprimée",description:"La référence de l'image a été supprimée."}))},w=l==="square"?"w-32 h-32":"w-full h-32";return s.jsxs("div",{className:"space-y-2",children:[r&&s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`${w} relative group rounded-lg overflow-hidden border-2 border-dashed border-gray-300 hover:border-aurentia-pink transition-colors bg-gray-50`,children:[c?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:c,alt:r||"Preview",className:"w-full h-full object-cover"}),!d&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsxs(H,{type:"button",variant:"destructive",size:"sm",onClick:v,className:"gap-2",children:[s.jsx(tn,{className:"w-4 h-4"}),"Supprimer"]})})]}):s.jsxs("label",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer gap-2",children:[s.jsx(Tx,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-xs text-gray-500 text-center px-2",children:"Cliquer pour sélectionner"}),s.jsx("input",{type:"file",accept:"image/*",onChange:y,disabled:d,className:"hidden"})]}),d&&s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex flex-col items-center justify-center gap-2",children:[s.jsx(Pt,{className:"w-8 h-8 text-white animate-spin"}),h!==null&&s.jsx("div",{className:"w-3/4 bg-gray-300 rounded-full h-2",children:s.jsx("div",{className:"bg-aurentia-pink h-2 rounded-full transition-all duration-300",style:{width:`${h}%`}})})]})]}),c&&!d&&s.jsxs("label",{className:"cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors text-sm",children:[s.jsx(Tx,{className:"w-4 h-4"}),"Changer l'image"]}),s.jsx("input",{type:"file",accept:"image/*",onChange:y,disabled:d,className:"hidden"})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Formats acceptés: JPG, PNG, GIF (max ",i," MB)"]}),p&&s.jsx("p",{className:"text-xs text-red-500",children:p})]})]})},x9={"organisation-logo":{maxSizeMB:2},"organisation-banner":{maxSizeMB:5}},i_t=()=>{const{id:e}=Nt(),t=It(),n=hb(),{userProfile:r,organizationId:i,loading:a}=cr(),o=e||i,[l,c]=x.useState(1),[u,d]=x.useState(!1),[f,h]=x.useState(""),[m,p]=x.useState(""),[g,y]=x.useState(""),[v,w]=x.useState("next"),[b,j]=x.useState(!1),[_,N]=x.useState(!1),[S,C]=x.useState(null),[k,A]=x.useState(!1),T=x.useRef(!1),[E,R]=x.useState({name:"",type:"",customType:"",description:"",foundedYear:new Date().getFullYear(),website:"",email:(r==null?void 0:r.email)||"",phone:"",address:"",teamSize:0,welcome_message:"",primary_color:mc.PRIMARY,secondary_color:mc.SECONDARY,logo_url:"",banner_url:"",newsletter_enabled:!1,mission:"",vision:"",values:[],sectors:[],stages:[],specializations:[],methodology:"",programDurationMonths:6,successCriteria:"",supportTypes:[],geographicFocus:[],customGeographic:"",socialMediaLinkedin:"",socialMediaTwitter:"",socialMediaWebsite:"",isPublic:!0,allowDirectApplications:!0}),$=6;x.useEffect(()=>{(async()=>{if(a)return;const L=localStorage.getItem("organisation-onboarding-form");if(L)try{const V=JSON.parse(L);R(K=>({...K,...V}))}catch(V){console.error("Error parsing saved form data:",V)}if(o)try{const V=await O1(o);if(C(V),A(!1),T.current){console.log("[OrganisationOnboarding] Already checked redirect, skipping");return}const K=window.location.pathname,G=K==="/setup-organization";if(V.onboarding_completed&&!G){if(T.current=!0,K.includes("/onboarding")){console.log("[OrganisationOnboarding] Onboarding completed on onboarding route, redirecting to dashboard"),we({title:"Onboarding déjà complété",description:"Redirection vers votre dashboard..."}),t(`/organisation/${o}/dashboard`,{replace:!0});return}console.log("[OrganisationOnboarding] Onboarding completed but not on onboarding route - no redirect")}G&&V.onboarding_completed&&console.log("[OrganisationOnboarding] On setup route with completed onboarding - SetupOrganization will handle redirect");const X=Y=>{if(!Y)return[];if(typeof Y=="string")try{return JSON.parse(Y)}catch{return[]}return Array.isArray(Y)?Y:[]},oe=Y=>{if(!Y)return{};if(typeof Y=="string")try{return JSON.parse(Y)}catch{return{}}return typeof Y=="object"?Y:{}};R({name:V.name||"",type:V.type||"",customType:V.custom_type||"",description:V.description||"",foundedYear:V.founded_year||new Date().getFullYear(),website:V.website||"",email:V.email||(r==null?void 0:r.email)||"",phone:V.phone||"",address:V.address||"",teamSize:V.team_size||0,welcome_message:V.welcome_message||"",primary_color:V.primary_color||mc.PRIMARY,secondary_color:V.secondary_color||mc.SECONDARY,logo_url:V.logo_url||"",banner_url:V.banner_url||"",newsletter_enabled:V.newsletter_enabled||!1,mission:V.mission||"",vision:V.vision||"",values:X(V.values),sectors:X(V.sectors),stages:X(V.stages),specializations:X(V.specializations),methodology:V.methodology||"",programDurationMonths:V.program_duration_months||6,successCriteria:V.success_criteria||"",supportTypes:X(V.support_types),geographicFocus:X(V.geographic_focus),customGeographic:V.custom_geographic||"",socialMediaLinkedin:oe(V.social_media).linkedin||"",socialMediaTwitter:oe(V.social_media).twitter||"",socialMediaWebsite:oe(V.social_media).website||"",isPublic:V.is_public!==void 0?V.is_public:!0,allowDirectApplications:V.allow_direct_applications!==void 0?V.allow_direct_applications:!0}),V.onboarding_step&&V.onboarding_step>0&&c(Math.min(V.onboarding_step+1,$))}catch(V){console.error("Erreur lors du chargement de l'organisation:",V),we({title:"Erreur de chargement",description:V.message||"Une erreur s'est produite",variant:"destructive"}),t("/individual/dashboard")}else{if(a)return;if(!r){setTimeout(()=>{r||(we({title:"Erreur",description:"Profil utilisateur non trouvé. Veuillez vous reconnecter.",variant:"destructive"}),t("/login"))},2e3);return}A(!0),R(V=>({...V,email:r.email||""}))}})()},[o,t,r,a]),x.useEffect(()=>{(E.name||E.type||E.description)&&localStorage.setItem("organisation-onboarding-form",JSON.stringify(E))},[E]);const O=()=>{R(D=>({...D,[m]:f})),d(!1)},F=(D,L)=>{R(V=>{const K=V[D],G=K.includes(L)?K.filter(X=>X!==L):[...K,L];return{...V,[D]:G}})},z=()=>{if(l===1){if(!E.name.trim())return we({title:"Champ requis",description:"Le nom de l'organisation est obligatoire.",variant:"destructive"}),!1;if(!E.type)return we({title:"Champ requis",description:"Le type d'organisation est obligatoire.",variant:"destructive"}),!1;if(!E.description.trim())return we({title:"Champ requis",description:"La description de l'organisation est obligatoire.",variant:"destructive"}),!1;if(!E.email.trim())return we({title:"Champ requis",description:"L'email de contact est obligatoire.",variant:"destructive"}),!1}if(l===2){if(!E.mission.trim())return we({title:"Champ requis",description:"La mission de l'organisation est obligatoire.",variant:"destructive"}),!1;if(!E.vision.trim())return we({title:"Champ requis",description:"La vision de l'organisation est obligatoire.",variant:"destructive"}),!1}return l===3&&E.sectors.length===0?(we({title:"Sélection requise",description:"Veuillez sélectionner au moins un secteur d'activité.",variant:"destructive"}),!1):!0},P=()=>{z()&&l<$&&(w("next"),j(!0),setTimeout(()=>{c(D=>D+1),j(!1)},150))},I=()=>{l>1&&(w("prev"),j(!0),setTimeout(()=>{c(D=>D-1),j(!1)},150))},M=async()=>{N(!0);try{if(!(r!=null&&r.id)&&(await new Promise(K=>setTimeout(K,1e3)),!(r!=null&&r.id)))throw new Error("Profil utilisateur manquant. Veuillez rafraîchir la page et réessayer.");const{data:{session:D},error:L}=await q.auth.getSession();if(L||!D){console.error("Session error before submit:",L);const{data:K,error:G}=await q.auth.refreshSession();if(G||!K.session)throw new Error("Votre session a expiré. Veuillez vous reconnecter.");console.log("Session refreshed successfully")}let V=o;if(k){const K={name:E.name,type:E.type,custom_type:E.customType,description:E.description,website:E.website,email:E.email,phone:E.phone,address:E.address,welcome_message:E.welcome_message,primary_color:E.primary_color||mc.PRIMARY,secondary_color:E.secondary_color||mc.SECONDARY,logo_url:E.logo_url||null,banner_url:E.banner_url||null,newsletter_enabled:E.newsletter_enabled,created_by:r.id,team_size:typeof E.teamSize=="number"?E.teamSize:0,founded_year:Number(E.foundedYear)||new Date().getFullYear(),mission:E.mission,vision:E.vision,values:JSON.stringify(E.values),sectors:JSON.stringify(E.sectors),stages:JSON.stringify(E.stages),specializations:JSON.stringify(E.specializations),methodology:E.methodology,program_duration_months:Number(E.programDurationMonths)||6,success_criteria:E.successCriteria,support_types:JSON.stringify(E.supportTypes),geographic_focus:JSON.stringify(E.geographicFocus),custom_geographic:E.customGeographic,social_media:JSON.stringify({linkedin:E.socialMediaLinkedin,twitter:E.socialMediaTwitter,website:E.socialMediaWebsite}),is_public:E.isPublic,allow_direct_applications:E.allowDirectApplications,onboarding_completed:!0,onboarding_step:$},G=await GD(K);V=G.id;const{error:X}=await q.from("profiles").update({user_role:"organisation",organization_setup_pending:!1}).eq("id",r.id);if(X)throw console.error("Erreur lors de la mise à jour du profil:",X),X;const{error:oe}=await q.from("user_organizations").insert({user_id:r.id,organization_id:G.id,user_role:"organisation",is_primary:!0,status:"active"});if(oe)throw console.error("Erreur lors de la création de la relation user_organizations:",oe),oe;localStorage.removeItem("organisation-onboarding-form")}else{const K={name:E.name,type:E.type,custom_type:E.customType,description:E.description,founded_year:E.foundedYear,website:E.website,email:E.email,phone:E.phone,address:E.address,team_size:Number(E.teamSize)||0,welcome_message:E.welcome_message,primary_color:E.primary_color||mc.PRIMARY,secondary_color:E.secondary_color||mc.SECONDARY,logo_url:E.logo_url||null,banner_url:E.banner_url||null,newsletter_enabled:E.newsletter_enabled,mission:E.mission,vision:E.vision,values:JSON.stringify(E.values),sectors:JSON.stringify(E.sectors),stages:JSON.stringify(E.stages),specializations:JSON.stringify(E.specializations),methodology:E.methodology,program_duration_months:Number(E.programDurationMonths)||6,success_criteria:E.successCriteria,support_types:JSON.stringify(E.supportTypes),geographic_focus:JSON.stringify(E.geographicFocus),custom_geographic:E.customGeographic,social_media:JSON.stringify({linkedin:E.socialMediaLinkedin,twitter:E.socialMediaTwitter,website:E.socialMediaWebsite}),is_public:E.isPublic,allow_direct_applications:E.allowDirectApplications,onboarding_completed:!0,onboarding_step:$,updated_at:new Date().toISOString()};await WD(V,K),localStorage.removeItem("organisation-onboarding-form")}we({title:"Onboarding terminé !",description:"Votre organisation est maintenant configurée. Redirection vers votre tableau de bord..."}),setTimeout(()=>{t(`/organisation/${V}/dashboard`)},1500)}catch(D){console.error("Erreur lors de la sauvegarde:",D),we({title:"Erreur de sauvegarde",description:D.message||"Une erreur s'est produite lors de la sauvegarde.",variant:"destructive"})}finally{N(!1)}},U=D=>[Yn,zr,ui,et,Pr,Zr][D-1]||Yn;if(a||!k&&!S){const D=a?"Chargement...":"Chargement de l'organisation...";return s.jsx(Ln,{message:D,fullScreen:!0})}return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-aurentia-pink to-aurentia-orange bg-clip-text text-transparent",children:k?"Créer votre organisation":`Configuration de ${(S==null?void 0:S.name)||"votre organisation"}`}),s.jsx("p",{className:"text-gray-600",children:k?"Configurez votre organisation et complétez votre profil en 6 étapes":"Complétez votre profil d'organisation pour commencer à accompagner des entrepreneurs"})]}),s.jsx("div",{className:"max-w-3xl mx-auto mb-8",children:s.jsx("div",{className:"flex items-center justify-between",children:Array.from({length:$},(D,L)=>{const V=L+1,K=U(V),G=V<l,X=V===l;return s.jsxs(B.Fragment,{children:[s.jsxs("div",{className:`flex flex-col items-center ${n?"scale-75":""}`,children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${G?"bg-green-500 border-green-500 text-white":X?"bg-aurentia-pink border-aurentia-pink text-white":"bg-white border-gray-300 text-gray-400"}`,children:G?s.jsx(Gt,{className:"w-6 h-6"}):s.jsx(K,{className:"w-6 h-6"})}),!n&&s.jsxs("span",{className:`text-xs mt-2 text-center ${X?"text-aurentia-pink font-medium":"text-gray-500"}`,children:["Étape ",V]})]}),V<$&&s.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-all duration-300 ${V<l?"bg-green-500":"bg-gray-300"}`})]},V)})})}),s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:`transition-all duration-300 ${b?"opacity-0 transform scale-95":"opacity-100 transform scale-100"}`,children:[l===1&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Yn,{className:"w-6 h-6 text-aurentia-pink"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Informations de base"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom de l'organisation *"}),s.jsx(ke,{value:E.name,onChange:D=>R(L=>({...L,name:D.target.value})),placeholder:"Nom de votre organisation...",className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type d'organisation *"}),s.jsxs(vt,{value:E.type,onValueChange:D=>R(L=>({...L,type:D,customType:""})),children:[s.jsx(yt,{className:"w-full",children:s.jsx(_t,{placeholder:"Sélectionnez un type d'organisation"})}),s.jsx(bt,{children:n_t.map(D=>s.jsx(fe,{value:D.value,children:D.label},D.value))})]}),E.type==="other"&&s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Précisez le type d'organisation"}),s.jsx(ke,{value:E.customType||"",onChange:D=>R(L=>({...L,customType:D.target.value})),placeholder:"Ex: Association, Collectif, etc.",className:"w-full"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description de votre organisation ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(at,{value:E.description,onChange:D=>R(L=>({...L,description:D.target.value})),placeholder:"Décrivez votre mission et vos objectifs...",className:"w-full",rows:4})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Année de fondation"}),s.jsx(ke,{type:"number",value:E.foundedYear,onChange:D=>R(L=>({...L,foundedYear:parseInt(D.target.value)||new Date().getFullYear()})),className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taille de l'équipe"}),s.jsx(ke,{type:"number",min:0,value:E.teamSize===""?"":E.teamSize,onChange:D=>{const L=D.target.value;if(L==="")R(V=>({...V,teamSize:""}));else{const V=parseInt(L);R(K=>({...K,teamSize:isNaN(V)||V<0?0:V}))}},className:"w-full"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site web"}),s.jsx(ke,{type:"url",value:E.website,onChange:D=>R(L=>({...L,website:D.target.value})),placeholder:"https://...",className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone"}),s.jsx(ke,{type:"tel",value:E.phone,onChange:D=>R(L=>({...L,phone:D.target.value})),placeholder:"Numéro de téléphone...",className:"w-full"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email de contact ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ke,{type:"email",value:E.email,onChange:D=>R(L=>({...L,email:D.target.value})),placeholder:"contact@organisation.com",className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message de bienvenue (optionnel)"}),s.jsx(at,{value:E.welcome_message,onChange:D=>R(L=>({...L,welcome_message:D.target.value})),placeholder:"Message d'accueil pour les entrepreneurs...",className:"w-full",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur principale (optionnel)"}),s.jsx(ke,{type:"color",value:E.primary_color,onChange:D=>R(L=>({...L,primary_color:D.target.value})),className:"w-full h-10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur secondaire (optionnel)"}),s.jsx(ke,{type:"color",value:E.secondary_color,onChange:D=>R(L=>({...L,secondary_color:D.target.value})),className:"w-full h-10"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:"Newsletter"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Activer l'inscription à la newsletter pour les entrepreneurs"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:E.newsletter_enabled,onChange:D=>R(L=>({...L,newsletter_enabled:D.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-aurentia-pink/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-aurentia-pink"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsx("div",{children:s.jsx(g9,{bucket:"organisation-logo",value:E.logo_url||void 0,folder:`organisations/${o||"temp"}`,label:"Logo de l'organisation",maxSizeMB:x9["organisation-logo"].maxSizeMB,aspectRatio:"square",onUpload:D=>R(L=>({...L,logo_url:D})),onDelete:()=>R(D=>({...D,logo_url:""}))})}),s.jsx("div",{children:s.jsx(g9,{bucket:"organisation-banner",value:E.banner_url||void 0,folder:`organisations/${o||"temp"}`,label:"Bannière",maxSizeMB:x9["organisation-banner"].maxSizeMB,aspectRatio:"wide",onUpload:D=>R(L=>({...L,banner_url:D})),onDelete:()=>R(D=>({...D,banner_url:""}))})})]})]})]}),l===2&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(zr,{className:"w-6 h-6 text-aurentia-pink"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mission, Vision & Valeurs"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Mission ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(at,{value:E.mission,onChange:D=>R(L=>({...L,mission:D.target.value})),placeholder:"Définissez la mission de votre organisation...",className:"w-full min-h-[100px] resize-y",rows:4})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vision ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(at,{value:E.vision,onChange:D=>R(L=>({...L,vision:D.target.value})),placeholder:"Définissez la vision de votre organisation...",className:"w-full min-h-[100px] resize-y",rows:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valeurs"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:E.values.map((D,L)=>s.jsxs(Ce,{variant:"outline",className:"cursor-pointer hover:bg-red-50",onClick:()=>R(V=>({...V,values:V.values.filter((K,G)=>G!==L)})),children:[D," ×"]},L))}),s.jsx(ke,{placeholder:"Ajouter une valeur...",onKeyPress:D=>{if(D.key==="Enter"){D.preventDefault();const L=D.currentTarget.value.trim();L&&!E.values.includes(L)&&(R(V=>({...V,values:[...V.values,L]})),D.currentTarget.value="")}}})]})]})]}),l===3&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(ui,{className:"w-6 h-6 text-aurentia-pink"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Spécialisations"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Secteurs d'activité ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:pue.map(D=>s.jsx(H,{variant:E.sectors.includes(D)?"default":"outline",size:"sm",onClick:()=>F("sectors",D),className:E.sectors.includes(D)?"bg-aurentia-orange-aurentia hover:bg-aurentia-orange-aurentia/90":"",children:D},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Stades d'investissement"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:gue.map(D=>s.jsx(H,{variant:E.stages.includes(D)?"default":"outline",size:"sm",onClick:()=>F("stages",D),className:E.stages.includes(D)?"bg-aurentia-orange-aurentia hover:bg-aurentia-orange-aurentia/90":"",children:D},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Types d'accompagnement"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:xue.map(D=>s.jsx(H,{variant:E.specializations.includes(D)?"default":"outline",size:"sm",onClick:()=>F("specializations",D),className:E.specializations.includes(D)?"bg-aurentia-orange-aurentia hover:bg-aurentia-orange-aurentia/90":"",children:D},D))})]})]})]}),l===4&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(et,{className:"w-6 h-6 text-aurentia-pink"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Méthodologie"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Méthodologie d'accompagnement"}),s.jsx(at,{value:E.methodology,onChange:D=>R(L=>({...L,methodology:D.target.value})),placeholder:"Décrivez votre approche d'accompagnement...",className:"w-full",rows:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durée moyenne des programmes (mois)"}),s.jsx(ke,{type:"number",min:1,value:E.programDurationMonths===""?"":E.programDurationMonths,onChange:D=>{const L=D.target.value;if(L==="")R(V=>({...V,programDurationMonths:""}));else{const V=parseInt(L);R(K=>({...K,programDurationMonths:isNaN(V)||V<1?1:V}))}},className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Critères de succès"}),s.jsx(at,{value:E.successCriteria,onChange:D=>R(L=>({...L,successCriteria:D.target.value})),placeholder:"Comment mesurez-vous le succès de vos accompagnements...",className:"w-full",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Types de support"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:vue.map(D=>s.jsx(H,{variant:E.supportTypes.includes(D)?"default":"outline",size:"sm",onClick:()=>F("supportTypes",D),className:E.supportTypes.includes(D)?"bg-aurentia-orange-aurentia hover:bg-aurentia-orange-aurentia/90":"",children:D},D))})]})]})]}),l===5&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Pr,{className:"w-6 h-6 text-aurentia-pink"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Zone géographique & Contacts"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Zones géographiques d'intervention"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:yue.map(D=>s.jsx(H,{variant:E.geographicFocus.includes(D)?"default":"outline",size:"sm",onClick:()=>F("geographicFocus",D),className:E.geographicFocus.includes(D)?"bg-aurentia-orange-aurentia hover:bg-aurentia-orange-aurentia/90":"",children:D},D))}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville principale ou région"}),s.jsx(kv,{addressType:"regions",value:E.customGeographic,onChange:D=>R(L=>({...L,customGeographic:D})),placeholder:"Commencer à taper une ville, région ou pays...",className:"w-full"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse complète de l'organisation"}),s.jsx(kv,{addressType:"full",value:E.address,onChange:D=>R(L=>({...L,address:D})),placeholder:"Commencer à taper une adresse complète...",className:"w-full"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn"}),s.jsx(ke,{value:E.socialMediaLinkedin,onChange:D=>R(L=>({...L,socialMediaLinkedin:D.target.value})),placeholder:"URL LinkedIn...",className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter"}),s.jsx(ke,{value:E.socialMediaTwitter,onChange:D=>R(L=>({...L,socialMediaTwitter:D.target.value})),placeholder:"URL Twitter...",className:"w-full"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site web supplémentaire"}),s.jsx(ke,{value:E.socialMediaWebsite,onChange:D=>R(L=>({...L,socialMediaWebsite:D.target.value})),placeholder:"URL site web...",className:"w-full"})]})]})]}),l===6&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Zr,{className:"w-6 h-6 text-aurentia-pink"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Paramètres de visibilité"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:"Profil public"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Votre organisation sera visible dans les annuaires publics"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:E.isPublic,onChange:D=>R(L=>({...L,isPublic:D.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-aurentia-pink/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-aurentia-pink"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:"Candidatures directes"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Permettre aux entrepreneurs de vous contacter directement"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:E.allowDirectApplications,onChange:D=>R(L=>({...L,allowDirectApplications:D.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-aurentia-pink/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-aurentia-pink"})]})]})]}),s.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-r from-aurentia-pink/10 to-aurentia-orange/10 rounded-lg border border-aurentia-pink/20",children:[s.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"🎉 Prêt à lancer votre organisation !"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Votre profil est maintenant complet. Vous pourrez modifier ces informations à tout moment depuis votre tableau de bord."})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-8",children:[s.jsxs(H,{variant:"outline",onClick:I,disabled:l===1||_,className:"flex items-center gap-2",children:[s.jsx(_a,{className:"w-4 h-4"}),"Précédent"]}),l===$?s.jsxs(H,{onClick:M,disabled:_,className:"bg-gradient-to-r from-aurentia-pink to-aurentia-orange hover:from-aurentia-pink/90 hover:to-aurentia-orange/90 text-white flex items-center gap-2",children:[_?"Finalisation...":"Terminer l'onboarding",s.jsx(Gt,{className:"w-4 h-4"})]}):s.jsxs(H,{onClick:P,disabled:_,className:"bg-aurentia-orange-aurentia hover:bg-aurentia-orange-aurentia/90 text-white flex items-center gap-2",children:["Suivant",s.jsx(Oi,{className:"w-4 h-4"})]})]})]})]}),s.jsx(pt,{open:u,onOpenChange:d,children:s.jsxs(gt,{className:"sm:max-w-[500px]",children:[s.jsxs(jt,{children:[s.jsx(xt,{children:g}),s.jsx(Mt,{children:"Décrivez en détail cet aspect de votre organisation."})]}),s.jsx(at,{value:f,onChange:D=>h(D.target.value),placeholder:"Votre texte ici...",className:"min-h-[150px]"}),s.jsxs(Kt,{children:[s.jsx(H,{variant:"outline",onClick:()=>d(!1),children:"Annuler"}),s.jsx(H,{onClick:O,className:"bg-aurentia-pink hover:bg-aurentia-pink/90 text-white",children:"Sauvegarder"})]})]})})]})},a_t=()=>{const{loading:e,organizationId:t}=cr(),n=It(),r=x.useRef(!1);return x.useEffect(()=>{if(r.current){console.log("[SetupOrganization] Already redirected, skipping");return}!e&&t&&(console.log("[SetupOrganization] User already has organization, redirecting to dashboard"),r.current=!0,n(`/organisation/${t}/dashboard`,{replace:!0}))},[e,t,n]),e?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):t?s.jsx(Ln,{message:"Redirection...",fullScreen:!0}):(console.log("[SetupOrganization] Rendering OrganisationOnboarding for new setup"),s.jsx(i_t,{}))},o_t=()=>{const e=It(),{getDefaultDashboard:t}=cr(),{userProfile:n,loading:r}=Hf(),[i,a]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const{data:{session:l}}=await q.auth.getSession();l?r||(n!=null&&n.user_role?e(t(),{replace:!0}):e("/signup",{replace:!0})):e("/login",{replace:!0})}catch(l){console.error("Erreur lors de la gestion du callback d'authentification:",l),e("/login",{replace:!0})}finally{a(!1)}})()},[e,t,n,r]),i||r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg",children:"Chargement de l'authentification..."})}):null},l_t=({defaultTab:e="credits"})=>{const[t,n]=x.useState(e),[r,i]=x.useState(!1),[a,o]=x.useState("auto"),l=x.useRef(null),c=x.useRef(null);return x.useLayoutEffect(()=>{var f,h;if(l.current&&c.current){const m=l.current.scrollHeight,p=((f=c.current.querySelector("header"))==null?void 0:f.clientHeight)||80,g=((h=c.current.querySelector(".flex.justify-center.my-4"))==null?void 0:h.clientHeight)||80,y=96,v=m+p+g+y;o(`${v}px`);const w=new ResizeObserver(()=>{if(l.current&&!r&&c.current){const j=l.current.scrollHeight+p+g+y;o(`${j}px`)}});return w.observe(l.current),()=>{w.disconnect()}}},[t,r]),{activeTab:t,isTransitioning:r,modalHeight:a,contentRef:l,modalRef:c,handleTabChange:f=>{f===t||r||(i(!0),setTimeout(()=>{n(f),setTimeout(()=>{var h,m;if(l.current&&c.current){const p=l.current.scrollHeight,g=((h=c.current.querySelector("header"))==null?void 0:h.clientHeight)||80,y=((m=c.current.querySelector(".flex.justify-center.my-4"))==null?void 0:m.clientHeight)||80,w=p+g+y+96;o(`${w}px`)}setTimeout(()=>{i(!1)},60)},30)},100))},resetTab:()=>{n(e),i(!1),o("auto")}}},nj=[{credits:"1 000",price:"10€",image:"/credits-image/1000-credits.png",description:{base:"1000"}},{credits:"3 000",price:"25€",image:"/credits-image/3000-credits.png",description:{base:"2 500",bonus:"500"}},{credits:"7 000",price:"50€",image:"/credits-image/7000-credits.png",description:{base:"5 000",bonus:"2 000"}}],c_t=()=>{const{activeTab:e,isTransitioning:t,modalHeight:n,contentRef:r,modalRef:i,handleTabChange:a,resetTab:o}=l_t({defaultTab:"credits"}),l=hb(),{isCreditsDialogOpen:c,closeCreditsDialog:u}=QD();return s.jsx(pt,{open:c,onOpenChange:d=>{d||(o(),u())},children:s.jsxs(gt,{ref:i,className:"bg-gray-50 w-[90vw] md:w-[70vw] max-w-none overflow-y-auto rounded-lg",style:{height:n,maxHeight:"calc(100vh - 100px)",transition:"height 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:[s.jsx(jt,{className:"flex flex-col items-center justify-center p-4 border-b",children:s.jsx(xt,{className:"text-3xl font-bold text-slate-800 text-center",children:"Débloquez votre liberté."})}),s.jsxs("div",{className:"flex flex-col flex-grow overflow-hidden pt-4",children:[s.jsx("div",{className:"flex justify-center my-4",children:s.jsxs(mb,{type:"single",value:e,onValueChange:d=>a(d),className:"mb-6",children:[s.jsx(ma,{value:"subscription",className:"data-[state=off]:bg-white data-[state=off]:shadow-sm data-[state=off]:text-gray-900",children:"Abonnements"}),s.jsx(ma,{value:"credits",className:"data-[state=off]:bg-white data-[state=off]:shadow-sm data-[state=off]:text-gray-900",children:"Crédits"})]})}),s.jsx("div",{ref:r,className:`flex-grow flex justify-center items-start transition-all duration-300 ${t?"opacity-0 blur-sm transform translate-y-2":"opacity-100 blur-0 transform translate-y-0"}`,children:e==="credits"?l?s.jsx(f_t,{}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-6",children:nj.map(d=>s.jsxs(re,{className:"group relative rounded-xl flex flex-col aspect-square w-full bg-white border border-gray-200 shadow-lg",children:[s.jsxs(pe,{className:"text-center pt-8 flex-grow flex flex-col justify-center items-center transition-all duration-300 group-hover:blur-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsxs("div",{className:"bg-gray-100 rounded-md p-2 flex items-center space-x-1",children:[s.jsx("img",{src:"/credit-3D.png",alt:"crédits",className:"w-4 h-4"}),s.jsx("p",{className:"text-base text-slate-600",children:d.description.base})]}),d.description.bonus&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-slate-600 font-bold",children:"+"}),s.jsxs("div",{className:"bg-gray-100 rounded-md p-2 flex items-center space-x-1",children:[s.jsx("img",{src:"/credit-3D.png",alt:"crédits bonus",className:"w-4 h-4"}),s.jsx("p",{className:"text-base text-slate-600",children:d.description.bonus})]})]})]}),s.jsx("img",{src:d.image,alt:`${d.credits} credits`,className:"w-44 h-44 object-contain transition-transform group-hover:scale-105"}),s.jsx("div",{className:"border-t border-gray-200 w-full mt-12 mb-4"}),s.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:s.jsxs("p",{className:"text-4xl font-bold text-aurentia-orange-aurentia flex items-baseline",children:["€",d.price.replace("€",""),s.jsx("span",{className:"text-sm font-normal ml-1",children:"EUR"})]})})]}),s.jsx(ie,{className:"flex-grow flex-col justify-end p-6 md:hidden",children:s.jsx(H,{className:"w-full bg-aurentia-orange-aurentia hover:bg-aurentia-orange-dark text-white font-semibold py-3 rounded-lg shadow-sm",children:"Obtenir"})}),s.jsx("div",{className:"absolute inset-0 hidden justify-center items-center group-hover:flex",children:s.jsx(H,{className:"bg-aurentia-orange-aurentia hover:bg-aurentia-orange-dark text-white font-semibold py-3 px-6 rounded-lg shadow-sm",children:"Obtenir"})})]},d.price))}):s.jsx("div",{className:"flex justify-center items-center p-6",children:s.jsxs(re,{className:"rounded-xl shadow-lg w-full max-w-sm border-2 border-aurentia-orange-aurentia",children:[s.jsxs("div",{className:"bg-aurentia-orange-aurentia text-white text-center py-2 rounded-t-xl flex items-center justify-center text-sm font-semibold",children:[s.jsx("span",{className:"mr-2",children:"🔥"})," Populaire"]}),s.jsx(pe,{className:"text-left px-6 pt-6 pb-4",children:s.jsx(me,{className:"text-4xl font-bold text-slate-800 mb-2",children:"Entrepreneur"})}),s.jsxs(ie,{className:"px-6 pb-6",children:[s.jsxs("div",{className:"text-5xl font-bold text-slate-800 mb-4",children:["$12,90",s.jsx("span",{className:"text-base font-normal text-slate-600",children:"/mois"})]}),s.jsxs("div",{className:"bg-gray-100 rounded-lg px-4 py-2 flex items-center justify-center mb-6",children:[s.jsx("img",{src:"/credit-3D.png",alt:"crédits",className:"w-6 h-6 mr-2"}),s.jsxs("p",{className:"text-xl font-bold text-slate-800",children:["1 500 ",s.jsx("span",{className:"text-base font-normal",children:"/mois"})]})]}),s.jsxs("ul",{className:"space-y-3 text-slate-700 text-base",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-aurentia-orange-aurentia mr-2",children:"✔"})," 3 projets d'entreprise"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-aurentia-orange-aurentia mr-2",children:"✔"})," Livrables premium"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-aurentia-orange-aurentia mr-2",children:"✔"})," Exportation PDF"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-aurentia-orange-aurentia mr-2",children:"✔"})," Accès à toutes les fonctionnalités"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-aurentia-orange-aurentia mr-2",children:"✔"})," Collaboration utilisateurs"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"text-aurentia-orange-aurentia mr-2",children:"✔"})," Support prioritaire"]})]}),s.jsx(H,{className:"w-full mt-8 bg-aurentia-orange-aurentia hover:bg-aurentia-orange-dark text-white font-bold py-3 rounded-lg shadow-sm",children:"Tester gratuitement"})]})]})})})]})]})})},u_t={enter:e=>({x:e>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?300:-300,opacity:0})},v9=1e4,d_t=(e,t)=>Math.abs(e)*t,f_t=()=>{const[[e,t],n]=x.useState([0,0]),r=a=>{n([(e+a+nj.length)%nj.length,a])},i=nj[e];return s.jsxs("div",{className:"relative flex items-center justify-center w-full p-6 overflow-hidden h-[450px]",children:[s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:"absolute left-0 md:left-4 z-20 bg-gray-100 rounded-full shadow",children:s.jsx(_a,{className:"h-8 w-8 text-aurentia-orange-aurentia"})}),s.jsx(qv,{initial:!1,custom:t,children:s.jsx(fu.div,{custom:t,variants:u_t,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:(a,{offset:o,velocity:l})=>{const c=d_t(o.x,l.x);c<-v9?r(1):c>v9&&r(-1)},className:"absolute w-full max-w-sm",children:s.jsxs(re,{className:"relative rounded-xl flex flex-col aspect-square w-full bg-white border border-gray-200 shadow-lg",children:[s.jsxs(pe,{className:"text-center pt-8 flex-grow flex flex-col justify-center items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsxs("div",{className:"bg-gray-100 rounded-md p-2 flex items-center space-x-1",children:[s.jsx("img",{src:"/credit-3D.png",alt:"crédits",className:"w-4 h-4"}),s.jsx("p",{className:"text-base text-slate-600",children:i.description.base})]}),i.description.bonus&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-slate-600 font-bold",children:"+"}),s.jsxs("div",{className:"bg-gray-100 rounded-md p-2 flex items-center space-x-1",children:[s.jsx("img",{src:"/credit-3D.png",alt:"crédits bonus",className:"w-4 h-4"}),s.jsx("p",{className:"text-base text-slate-600",children:i.description.bonus})]})]})]}),s.jsx("img",{src:i.image,alt:`${i.credits} credits`,className:"w-44 h-44 object-contain"}),s.jsx("div",{className:"border-t border-gray-200 w-full mt-12 mb-4"}),s.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:s.jsxs("p",{className:"text-4xl font-bold text-aurentia-orange-aurentia flex items-baseline",children:["€",i.price.replace("€",""),s.jsx("span",{className:"text-sm font-normal ml-1",children:"EUR"})]})})]}),s.jsx(ie,{className:"flex-grow flex-col justify-end p-6",children:s.jsx(H,{className:"w-full bg-aurentia-orange-aurentia hover:bg-aurentia-orange-dark text-white font-semibold py-3 rounded-lg shadow-sm",children:"Obtenir"})})]})},e)}),s.jsx(H,{variant:"ghost",size:"icon",onClick:()=>r(1),className:"absolute right-0 md:right-4 z-20 bg-aurentia-orange-aurentia rounded-full shadow",children:s.jsx(Oi,{className:"h-8 w-8 text-white"})})]})},h_t=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),[o,l]=x.useState(!1),c=async()=>{try{r(!0),a(null);const{data:{user:d}}=await q.auth.getUser();if(!d){t([]);return}const f=await ji.getPendingInvitations();t(f),f.length>0?l(!0):l(!1)}catch(d){console.error("Erreur lors de la récupération des invitations:",d),a(d instanceof Error?d.message:"Erreur inconnue")}finally{r(!1)}};return x.useEffect(()=>{c()},[]),x.useEffect(()=>{const{data:{subscription:d}}=q.auth.onAuthStateChange((f,h)=>{f==="SIGNED_IN"&&h?c():f==="SIGNED_OUT"&&(t([]),l(!1))});return()=>{d.unsubscribe()}},[]),x.useEffect(()=>{(async()=>{const{data:{user:f}}=await q.auth.getUser();if(!(f!=null&&f.email))return;const h=q.channel("project_invitations_changes").on("postgres_changes",{event:"*",schema:"public",table:"project_invitations",filter:`email=eq.${f.email}`},()=>{c()}).subscribe();return()=>{q.removeChannel(h)}})()},[]),{invitations:e,loading:n,error:i,showModal:o,handleInvitationAccepted:()=>{c()},refetch:c}},m_t=({isOpen:e,invitations:t,onInvitationAccepted:n})=>{const{toast:r}=ja(),[i,a]=x.useState(null),o=async(f,h)=>{a(f);try{const m=await ji.acceptInvitationById(f);m.success?(r({title:"Invitation acceptée !",description:`Vous êtes maintenant collaborateur du projet "${h}".`,variant:"default"}),n()):r({title:"Erreur",description:m.error||"Impossible d'accepter l'invitation.",variant:"destructive"})}catch(m){console.error("Erreur lors de l'acceptation de l'invitation:",m),r({title:"Erreur",description:"Une erreur s'est produite lors de l'acceptation de l'invitation.",variant:"destructive"})}finally{a(null)}},l=async(f,h)=>{a(f);try{r({title:"Invitation rejetée",description:`L'invitation pour le projet "${h}" a été rejetée.`,variant:"default"}),n()}catch(m){console.error("Erreur lors du rejet de l'invitation:",m),r({title:"Erreur",description:"Une erreur s'est produite lors du rejet de l'invitation.",variant:"destructive"})}finally{a(null)}},c=f=>new Date(f).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),u=f=>{switch(f){case"admin":return"bg-red-100 text-red-800";case"editor":return"bg-blue-100 text-blue-800";case"viewer":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{switch(f){case"admin":return"Administrateur";case"editor":return"Éditeur";case"viewer":return"Lecteur";default:return f}};return s.jsx(pt,{open:e,onOpenChange:()=>{},modal:!0,children:s.jsxs(gt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto [&>button]:hidden",children:[s.jsxs(jt,{children:[s.jsxs(xt,{className:"flex items-center gap-2",children:[s.jsx(mf,{className:"w-5 h-5"}),"Invitations en attente"]}),s.jsxs(Mt,{children:["Vous avez ",t.length," invitation",t.length>1?"s":""," en attente pour collaborer sur des projets."]})]}),s.jsx("div",{className:"space-y-4",children:t.map(f=>s.jsxs(re,{className:"border-l-4 border-l-primary",children:[s.jsx(pe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(me,{className:"text-lg font-semibold",children:f.project_name||`Projet ${f.project_id.slice(0,8)}...`}),s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),"Invitation envoyée à ",f.email]})]}),s.jsx(Ce,{className:u(f.role),children:d(f.role)})]})}),s.jsx(ie,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),"Invité le ",c(f.invited_at)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(et,{className:"w-4 h-4"}),"Expire le ",c(f.expires_at)]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[s.jsxs(H,{onClick:()=>o(f.id,f.project_name||"ce projet"),disabled:i===f.id,className:"flex items-center gap-2",children:[s.jsx(Gt,{className:"w-4 h-4"}),i===f.id?"Acceptation...":"Accepter"]}),s.jsxs(H,{variant:"outline",onClick:()=>l(f.id,f.project_name||"ce projet"),disabled:i===f.id,className:"flex items-center gap-2",children:[s.jsx(tn,{className:"w-4 h-4"}),"Refuser"]})]})]})})]},f.id))})]})})},p_t=()=>{const{invitations:e,showModal:t,handleInvitationAccepted:n}=h_t();return e.length===0?null:s.jsx(m_t,{isOpen:t,invitations:e,onInvitationAccepted:n})},g_t=new Lxe({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1}}});class x_t extends x.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return console.error("Error boundary caught an error:",t),{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error boundary caught an error:",t,n)}render(){var t;return this.state.hasError?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-red-50",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"An error occurred while loading the application."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reload Page"}),s.jsx("pre",{className:"mt-4 text-xs text-left bg-gray-100 p-4 rounded overflow-auto max-w-lg",children:(t=this.state.error)==null?void 0:t.toString()})]})}):this.props.children}}const v_t=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!1),i=x.useRef(!0),a=x.useRef(!1),o=x.useRef(null),l=x.useCallback(async()=>{if(a.current){console.log("[ProtectedRoute] Auth check already in progress, skipping");return}a.current=!0;try{console.log("[ProtectedRoute] Starting auth check...");const c=new Promise((h,m)=>{o.current=setTimeout(()=>{m(new Error("Auth check timeout"))},5e3)}),u=q.auth.getSession(),{data:{session:d},error:f}=await Promise.race([u,c]);if(o.current&&clearTimeout(o.current),!i.current)return;if(f){console.error("[ProtectedRoute] Session error:",f),t(!1);return}if(!(d!=null&&d.user)){console.log("[ProtectedRoute] No session found"),t(!1);return}console.log("[ProtectedRoute] Session valid for user:",d.user.id),t(!0);try{const h=q.from("profiles").select("email_confirmation_required, email_confirmed_at").eq("id",d.user.id).single(),m=new Promise((y,v)=>{setTimeout(()=>v(new Error("Profile fetch timeout")),3e3)}),{data:p,error:g}=await Promise.race([h,m]);if(!i.current)return;if(g)console.warn("[ProtectedRoute] Profile fetch error (non-critical):",g),r(!1);else{const y=(p==null?void 0:p.email_confirmation_required)!==!1||(p==null?void 0:p.email_confirmed_at)===null;r(y)}}catch(h){console.warn("[ProtectedRoute] Profile check failed (non-critical):",h),r(!1)}}catch(c){console.error("[ProtectedRoute] Auth check error:",c),i.current&&t(!1)}finally{a.current=!1,o.current&&clearTimeout(o.current)}},[]);return x.useEffect(()=>{i.current=!0,console.log("[ProtectedRoute] Mounting, performing initial auth check"),l();const{data:c}=q.auth.onAuthStateChange(async(u,d)=>{console.log("[ProtectedRoute] Auth state changed:",u),i.current&&(u==="SIGNED_OUT"?(t(!1),r(!1)):(u==="SIGNED_IN"||u==="TOKEN_REFRESHED")&&setTimeout(()=>{i.current&&l()},100))});return()=>{i.current=!1,o.current&&clearTimeout(o.current),c.subscription.unsubscribe()}},[l]),e===null?s.jsx(Ln,{message:"Chargement...",fullScreen:!0}):e?n&&window.location.pathname!=="/verify-email"?(console.log("[ProtectedRoute] Email verification required"),s.jsx(Qr,{to:"/verify-email",replace:!0})):s.jsxs(s.Fragment,{children:[s.jsx(q8e,{}),s.jsx(H2,{})]}):(console.log("[ProtectedRoute] Not authenticated, redirecting to login"),s.jsx(Qr,{to:"/login",replace:!0}))},y_t=()=>(console.log("App component rendered"),s.jsx(x_t,{children:s.jsx($xe,{client:g_t,children:s.jsxs(SD,{children:[s.jsx(Qme,{}),s.jsx(Ape,{}),s.jsx(Jve,{children:s.jsx(y0e,{children:s.jsx(Uwe,{children:s.jsxs(RY,{children:[s.jsx(c_t,{}),s.jsx(p_t,{}),s.jsxs(Vve,{children:[s.jsx(Ve,{path:"/login",element:s.jsx(Nwe,{})}),s.jsx(Ve,{path:"/signup",element:s.jsx(Pwe,{})}),s.jsx(Ve,{path:"/verify-email",element:s.jsx(Mwe,{})}),s.jsx(Ve,{path:"/confirm-email/:token",element:s.jsx(Owe,{})}),s.jsx(Ve,{path:"/accept-invitation",element:s.jsx(zwe,{})}),s.jsx(Ve,{path:"/update-email-confirm",element:s.jsx(Iwe,{})}),s.jsx(Ve,{path:"/update-password",element:s.jsx(Fwe,{})}),s.jsx(Ve,{path:"/auth/callback",element:s.jsx(o_t,{})}),s.jsxs(Ve,{element:s.jsx(v_t,{}),children:[s.jsx(Ve,{path:"/setup-organization",element:s.jsx(a_t,{})}),s.jsx(Ve,{path:"/organisation",element:s.jsx(yje,{})}),s.jsxs(Ve,{element:s.jsx(U8e,{}),children:[s.jsx(Ve,{path:"/individual/dashboard",element:s.jsx(rje,{})}),s.jsx(Ve,{path:"/individual/profile",element:s.jsx(vje,{})}),s.jsx(Ve,{path:"/individual/project-business/:projectId",element:s.jsx(S3,{})}),s.jsx(Ve,{path:"/individual/project-business",element:s.jsx(S3,{})}),s.jsx(Ve,{path:"/individual/chatbot",element:s.jsx(Vz,{})}),s.jsx(Ve,{path:"/individual/chatbot/:projectId",element:s.jsx(Vz,{})}),s.jsx(Ve,{path:"/individual/outils",element:s.jsx(c2e,{})}),s.jsx(Ve,{path:"/individual/outils/:slug/:id",element:s.jsx(vPe,{})}),s.jsx(Ve,{path:"/individual/ressources",element:s.jsx(LMe,{})}),s.jsx(Ve,{path:"/individual/collaborateurs",element:s.jsx(HLe,{})}),s.jsx(Ve,{path:"/individual/template",element:s.jsx(WLe,{})}),s.jsx(Ve,{path:"/individual/template/tool-template",element:s.jsx(GLe,{})}),s.jsx(Ve,{path:"/individual/components-template",element:s.jsx(VLe,{})}),s.jsx(Ve,{path:"/individual/plan-action",element:s.jsx(P8e,{})}),s.jsx(Ve,{path:"/individual/roadmap/:id",element:s.jsx(ARe,{})}),s.jsx(Ve,{path:"/individual/project/:projectId",element:s.jsx(mNe,{})}),s.jsx(Ve,{path:"/individual/form-business-idea",element:s.jsx(yNe,{})}),s.jsx(Ve,{path:"/individual/warning",element:s.jsx(r2e,{})}),s.jsx(Ve,{path:"/individual/automatisations",element:s.jsx(K_e,{})}),s.jsx(Ve,{path:"/individual/knowledge",element:s.jsx(hNe,{})}),s.jsx(Ve,{path:"/individual/partenaires",element:s.jsx(yPe,{})}),s.jsx(Ve,{path:"/individual/my-organization",element:s.jsx(X8e,{})}),s.jsx(Ve,{path:"/organisation/:id/dashboard",element:s.jsx(ws,{children:s.jsx(Mqe,{})})}),s.jsx(Ve,{path:"/organisation/:id/adherents",element:s.jsx(ws,{children:s.jsx(Qjt,{})})}),s.jsx(Ve,{path:"/organisation/:id/projets",element:s.jsx(ws,{children:s.jsx(Kjt,{})})}),s.jsx(Ve,{path:"/organisation/:id/invitations",element:s.jsx(ws,{children:s.jsx(Jjt,{})})}),s.jsx(Ve,{path:"/organisation/:id/analytics",element:s.jsx(ws,{children:s.jsx(Qgt,{})})}),s.jsx(Ve,{path:"/organisation/:id/forms",element:s.jsx(ws,{children:s.jsx(Zjt,{})})}),s.jsx(Ve,{path:"/organisation/:id/settings",element:s.jsx(ws,{children:s.jsx(m9,{})})}),s.jsx(Ve,{path:"/organisation/:id/evenements",element:s.jsx(ws,{children:s.jsx(Bjt,{})})}),s.jsx(Ve,{path:"/organisation/:id/mentors",element:s.jsx(ws,{children:s.jsx(Wjt,{})})}),s.jsx(Ve,{path:"/organisation/:id/my-profile",element:s.jsx(ws,{children:s.jsx(s_t,{})})}),s.jsx(Ve,{path:"/organisation/:id/partenaires",element:s.jsx(ws,{children:s.jsx(t_t,{})})}),s.jsx(Ve,{path:"/organisation/:id/livrables",element:s.jsx(ws,{children:s.jsx(Xjt,{})})}),s.jsx(Ve,{path:"/organisation/:id/chatbot",element:s.jsx(ws,{children:s.jsx(Jgt,{})})}),s.jsx(Ve,{path:"/organisation/:id/informations",element:s.jsx(ws,{children:s.jsx(r_t,{})})}),s.jsx(Ve,{path:"/organisation/:id/settings",element:s.jsx(ws,{requireOwner:!0,children:s.jsx(m9,{})})}),s.jsx(Ve,{path:"/super-admin/organizations",element:s.jsx("div",{children:"Organisations - À créer"})}),s.jsx(Ve,{path:"/super-admin/users",element:s.jsx("div",{children:"Utilisateurs - À créer"})}),s.jsx(Ve,{path:"/super-admin/analytics",element:s.jsx("div",{children:"Analytics Global - À créer"})}),s.jsx(Ve,{path:"/super-admin/invitations",element:s.jsx("div",{children:"Codes d'invitation - À créer"})}),s.jsx(Ve,{path:"/super-admin/settings",element:s.jsx("div",{children:"Paramètres Super Admin - À créer"})})]})]}),s.jsx(Ve,{path:"/dashboard",element:s.jsx(Qr,{to:"/individual/dashboard",replace:!0})}),s.jsx(Ve,{path:"/profile",element:s.jsx(Qr,{to:"/individual/profile",replace:!0})}),s.jsx(Ve,{path:"/project-business",element:s.jsx(Qr,{to:"/individual/project-business",replace:!0})}),s.jsx(Ve,{path:"/outils",element:s.jsx(Qr,{to:"/individual/outils",replace:!0})}),s.jsx(Ve,{path:"/ressources",element:s.jsx(Qr,{to:"/individual/ressources",replace:!0})}),s.jsx(Ve,{path:"/collaborateurs",element:s.jsx(Qr,{to:"/individual/collaborateurs",replace:!0})}),s.jsx(Ve,{path:"/member/*",element:s.jsx(Qr,{to:"/individual/dashboard",replace:!0})}),s.jsx(Ve,{path:"/member/incubator",element:s.jsx(Qr,{to:"/individual/my-organization",replace:!0})}),s.jsx(Ve,{path:"/",element:s.jsx(Qr,{to:"/login",replace:!0})}),s.jsx(Ve,{path:"*",element:s.jsx(pNe,{})})]})]})})})})]})})})),b_t=window.fetch;window.fetch=async(...e)=>{const t=await b_t(...e),n=t.headers.get("content-type");if(n&&n.includes("application/json")){const r=t.clone();try{const i=await r.json();i&&typeof i=="object"&&i.credits===!1&&(console.warn("Crédits insuffisants détectés dans la réponse API (intercepteur global)."),window.triggerCreditsInsufficientDialog&&window.triggerCreditsInsufficientDialog())}catch(i){console.log("Erreur de parsing JSON dans l'intercepteur global:",i)}}return t};console.log("API Interceptor chargé.");qW(document.getElementById("root")).render(s.jsx(RY,{children:s.jsx(y_t,{})}));
