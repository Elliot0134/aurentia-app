-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.Template (
  user_id uuid NOT NULL,
  project_id uuid NOT NULL DEFAULT gen_random_uuid(),
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT Template_pkey PRIMARY KEY (user_id),
  CONSTRAINT Template_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT Template_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_business_idea(project_id)
);
CREATE TABLE public.b2b (
  user_id uuid NOT NULL DEFAULT gen_random_uuid(),
  project_id uuid NOT NULL,
  b2b_segments_principaux text,
  b2b_caracteristiques_distinctives text,
  b2b_taille_accessibilite text,
  b2b_hierarchisation_potentiel text,
  b2b_profils_demographiques text,
  b2b_traits_psychographiques text,
  b2b_comportements_achat text,
  b2b_facteurs_influence text,
  b2b_etapes_decisionnelles text,
  b2b_points_contact_critiques text,
  b2b_facteurs_conversion_friction text,
  b2b_influences_externes text,
  b2b_besoins_explicites text,
  b2b_besoins_implicites text,
  b2b_motivations_profondes text,
  b2b_declencheurs_achat text,
  b2b_personas_detailles text,
  b2b_facteurs_decisionnels_cles text,
  b2b_strategies_engagement text,
  b2b_recommandations_marketing text,
  CONSTRAINT b2b_pkey PRIMARY KEY (project_id),
  CONSTRAINT b2b_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_responses(project_id),
  CONSTRAINT b2b_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.b2c (
  project_id uuid NOT NULL,
  user_id uuid NOT NULL,
  b2c_segments_principaux text,
  b2c_caracteristiques_distinctives text,
  b2c_taille_accessibilite text,
  b2c_hierarchisation_potentiel text,
  b2c_profils_demographiques text,
  b2c_traits_psychographiques text,
  b2c_comportements_achat text,
  b2c_facteurs_influence text,
  b2c_etapes_decisionnelles text,
  b2c_points_contact_critiques text,
  b2c_facteurs_conversion_friction text,
  b2c_influences_externes text,
  b2c_besoins_explicites text,
  b2c_besoins_implicites text,
  b2c_motivations_profondes text,
  b2c_declencheurs_achat text,
  b2c_personas_detailles text,
  b2c_facteurs_decisionnels_cles text,
  b2c_strategies_engagement text,
  b2c_recommandations_marketing text,
  CONSTRAINT b2c_pkey PRIMARY KEY (project_id),
  CONSTRAINT b2c_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_responses(project_id),
  CONSTRAINT b2c_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.business_model (
  user_id uuid NOT NULL,
  project_id uuid NOT NULL DEFAULT gen_random_uuid(),
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  partenaires_cles text,
  activites_cles text,
  proposition_valeur text,
  ressources_humaines text,
  ressources_financieres text,
  ressources_materielles text,
  ressources_intellectuelles text,
  relations_clients text,
  canaux text,
  segments_clients text,
  structure_couts_analyse text,
  structure_couts_liste_des_couts text,
  flux_revenus_analyse text,
  flux_revenus_liste_des_revenus text,
  CONSTRAINT business_model_pkey PRIMARY KEY (user_id),
  CONSTRAINT business_model_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_business_idea(project_id),
  CONSTRAINT business_model_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.carte_empathie (
  user_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  project_id uuid,
  nom_persona text,
  secteur_activite text,
  objectif_central text,
  qui_souhaitons_nous_comprendre text,
  sa_situation text,
  son_role text,
  que_doit_elle_faire_differemment text,
  quelles_taches_souhaite_elle_realiser text,
  comment_saura_elle_quelle_a_reussi text,
  marche_offres text,
  environnement_immediat text,
  ce_que_font_les_autres text,
  lectures_films_videos text,
  ce_que_nous_avons_entendu_dire text,
  ce_quelle_pourrait_dire text,
  au_quotidien text,
  comportement_observe text,
  ce_quelle_pourrait_faire text,
  ce_que_disent_les_autres text,
  ce_que_disent_ses_amis text,
  ce_que_disent_ses_collegues text,
  les_on_dit text,
  peurs text,
  frustrations text,
  obstacles text,
  souhaits text,
  reves text,
  motivations text,
  autres_pensees_influencant_comportement text,
  CONSTRAINT carte_empathie_pkey PRIMARY KEY (user_id),
  CONSTRAINT carte_empathie_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary_v2(project_id),
  CONSTRAINT carte_empathie_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.complexite (
  user_id uuid NOT NULL DEFAULT gen_random_uuid(),
  project_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  free_composants_techniques_necessaires text,
  free_niveau_complexite_technique text,
  free_defis_techniques_potentiels text,
  free_hierarchisation_aspects_techniques text,
  free_ressources_humaines_critiques text,
  free_ressources_materielles_necessaires text,
  free_besoins_financiers text,
  free_gaps_competences_ressources text,
  pay_estimation_delais_developpement text,
  pay_facteurs_influence_calendrier text,
  pay_dependances_chronologiques text,
  pay_calendrier_realiste_propose text,
  pay_contraintes_reglementaires_legales text,
  pay_obstacles_lies_marche text,
  pay_defis_acceptation_utilisateurs text,
  pay_difficultes_integration text,
  pay_capacite_evolution_projet text,
  pay_points_friction_mise_echelle text,
  pay_aspects_scalabilite text,
  pay_strategies_facilitation_croissance text,
  pay_evaluation_globale_complexite text,
  pay_defis_critiques_risques_majeurs text,
  pay_facteurs_cles text,
  pay_recommandations_gestion_complexite text,
  CONSTRAINT complexite_pkey PRIMARY KEY (project_id),
  CONSTRAINT complexite_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT complexite_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_responses(project_id)
);
CREATE TABLE public.concurrence (
  user_id uuid NOT NULL DEFAULT gen_random_uuid(),
  project_id uuid NOT NULL,
  free_direct_definition text NOT NULL,
  free_direct_importance text,
  free_indirect_definition text,
  free_indirect_importance text,
  free_potentiel_definition text,
  free_potentiel_importance text,
  free_segmentation_concurrentielle text,
  free_critere_differentiation_1 text,
  free_critere_differentiation_2 text,
  free_critere_differentiation_3 text,
  concurrent_1_nom text,
  concurrent_1_description text,
  concurrent_1_url text,
  concurrent_1_forces text,
  concurrent_1_faiblesses text,
  concurrent_1_caracteristiques text,
  concurrent_2_nom text,
  concurrent_2_description text,
  concurrent_2_url text,
  concurrent_2_forces text,
  concurrent_2_faiblesses text,
  concurrent_2_caracteristiques text,
  concurrent_3_nom text,
  concurrent_3_description text,
  concurrent_3_url text,
  concurrent_3_forces text,
  concurrent_3_faiblesses text,
  concurrent_3_caracteristiques text,
  concurrent_4_nom text,
  concurrent_4_description text,
  concurrent_4_url text,
  concurrent_4_forces text,
  concurrent_4_faiblesses text,
  concurrent_4_caracteristiques text,
  concurrent_5_nom text,
  concurrent_5_description text,
  concurrent_5_url text,
  concurrent_5_forces text,
  concurrent_5_faiblesses text,
  concurrent_5_caracteristiques text,
  concurrent_6_nom text,
  concurrent_6_description text,
  concurrent_6_url text,
  concurrent_6_forces text,
  concurrent_6_faiblesses text,
  concurrent_6_caracteristiques text,
  concurrent_7_nom text,
  concurrent_7_description text,
  concurrent_7_url text,
  concurrent_7_forces text,
  concurrent_7_faiblesses text,
  concurrent_7_caracteristiques text,
  concurrent_8_nom text,
  concurrent_8_description text,
  concurrent_8_url text,
  concurrent_8_forces text,
  concurrent_8_faiblesses text,
  concurrent_8_caracteristiques text,
  concurrent_9_nom text,
  concurrent_9_description text,
  concurrent_9_url text,
  concurrent_9_forces text,
  concurrent_9_faiblesses text,
  concurrent_9_caracteristiques text,
  concurrent_10_nom text,
  concurrent_10_description text,
  concurrent_10_url text,
  concurrent_10_forces text,
  concurrent_10_faiblesses text,
  concurrent_10_caracteristiques text,
  avis text,
  recommandations text,
  justification_avis text,
  CONSTRAINT concurrence_pkey PRIMARY KEY (project_id),
  CONSTRAINT concurrence_user_id_fkey1 FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT concurrence_project_id_fkey1 FOREIGN KEY (project_id) REFERENCES public.form_business_idea(project_id)
);
CREATE TABLE public.concurrence_ancien (
  user_id uuid NOT NULL DEFAULT gen_random_uuid(),
  project_id uuid NOT NULL,
  free_direct_definition text NOT NULL,
  free_direct_importance text,
  free_indirect_definition text,
  free_indirect_importance text,
  free_potentiel_definition text,
  free_potentiel_importance text,
  free_segmentation_concurrentielle text,
  free_critere_differentiation_1 text,
  free_critere_differentiation_2 text,
  free_critere_differentiation_3 text,
  concurrent_1_nom text,
  concurrent_1_description text,
  concurrent_1_url text,
  concurrent_1_forces text,
  concurrent_1_faiblesses text,
  concurrent_1_caracteristiques text,
  concurrent_2_nom text,
  concurrent_2_description text,
  concurrent_2_url text,
  concurrent_2_forces text,
  concurrent_2_faiblesses text,
  concurrent_2_caracteristiques text,
  concurrent_3_nom text,
  concurrent_3_description text,
  concurrent_3_url text,
  concurrent_3_forces text,
  concurrent_3_faiblesses text,
  concurrent_3_caracteristiques text,
  concurrent_4_nom text,
  concurrent_4_description text,
  concurrent_4_url text,
  concurrent_4_forces text,
  concurrent_4_faiblesses text,
  concurrent_4_caracteristiques text,
  concurrent_5_nom text,
  concurrent_5_description text,
  concurrent_5_url text,
  concurrent_5_forces text,
  concurrent_5_faiblesses text,
  concurrent_5_caracteristiques text,
  concurrent_6_nom text,
  concurrent_6_description text,
  concurrent_6_url text,
  concurrent_6_forces text,
  concurrent_6_faiblesses text,
  concurrent_6_caracteristiques text,
  concurrent_7_nom text,
  concurrent_7_description text,
  concurrent_7_url text,
  concurrent_7_forces text,
  concurrent_7_faiblesses text,
  concurrent_7_caracteristiques text,
  concurrent_8_nom text,
  concurrent_8_description text,
  concurrent_8_url text,
  concurrent_8_forces text,
  concurrent_8_faiblesses text,
  concurrent_8_caracteristiques text,
  concurrent_9_nom text,
  concurrent_9_description text,
  concurrent_9_url text,
  concurrent_9_forces text,
  concurrent_9_faiblesses text,
  concurrent_9_caracteristiques text,
  concurrent_10_nom text,
  concurrent_10_description text,
  concurrent_10_url text,
  concurrent_10_forces text,
  concurrent_10_faiblesses text,
  concurrent_10_caracteristiques text,
  CONSTRAINT concurrence_ancien_pkey PRIMARY KEY (project_id),
  CONSTRAINT concurrence_duplicate_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT concurrence_duplicate_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_responses(project_id)
);
CREATE TABLE public.conversation (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  user_id uuid NOT NULL,
  project_id uuid NOT NULL,
  title text NOT NULL DEFAULT 'Nouvelle conversation'::text,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT conversation_pkey PRIMARY KEY (id),
  CONSTRAINT conversation_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id),
  CONSTRAINT conversation_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.definition_livrable (
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  definition text,
  importance text,
  description text,
  Nom du livrable text NOT NULL DEFAULT 'test'::text,
  CONSTRAINT definition_livrable_pkey PRIMARY KEY (Nom du livrable)
);
CREATE TABLE public.form_business_idea (
  user_id uuid NOT NULL,
  project_id uuid NOT NULL DEFAULT gen_random_uuid(),
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  nom_projet text,
  produit_service text,
  reponse_besoin text,
  clients_type text,
  moyens_minimum text,
  type_projet text,
  localisation text,
  project_sentence text,
  other_infos text,
  motivations_entrepreneur text,
  CONSTRAINT form_business_idea_pkey PRIMARY KEY (project_id),
  CONSTRAINT form_business_idea_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.form_responses (
  project_id uuid NOT NULL DEFAULT gen_random_uuid(),
  user_id uuid,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  project_name text,
  project_type text,
  project_sector text,
  project_subsector ARRAY,
  project_scope text,
  project_location text,
  precise_location text,
  project_description text,
  products_services text,
  problem_solution text,
  differentiator text,
  budget text,
  processing_status text NOT NULL DEFAULT 'pending'::text,
  summary_description_synthetique text,
  summary_produit_service text,
  summary_ problemes text,
  summary_elements_distinctifs text,
  summary_public_cible text,
  summary_vision_3_ans text,
  summary_description_projet text,
  summary_competences text,
  summary_business_model text,
  summary_problemes text,
  summary_proposition_valeur text,
  CONSTRAINT form_responses_pkey PRIMARY KEY (project_id),
  CONSTRAINT form_responses_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.marche (
  user_id uuid NOT NULL DEFAULT gen_random_uuid(),
  project_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  free_marche text,
  free_marches_annexe text,
  free_description_du_marche text,
  free_3_enjeux_principaux text,
  free_evolution_du_marche text,
  free_predictions text,
  free_difficulte_a_l_entree text,
  free_details_difficulte_a_l_entree text,
  free_classification text,
  free_justification_concise text,
  free_marche_viable text,
  pay_economique_opportunite_1_description text,
  pay_economique_opportunite_1_source text,
  pay_economique_opportunite_1_url text,
  pay_economique_opportunite_1_impact_potentiel text,
  pay_economique_opportunite_2_description text,
  pay_economique_opportunite_2_source text,
  pay_economique_opportunite_2_url text,
  pay_economique_opportunite_2_impact_potentiel text,
  pay_economique_opportunite_3_description text,
  pay_economique_opportunite_3_source text,
  pay_economique_opportunite_3_url text,
  pay_economique_opportunite_3_impact_potentiel text,
  pay_economique_menace_1_description text,
  pay_economique_menace_1_source text,
  pay_economique_menace_1_url text,
  pay_economique_menace_1_impact_potentiel text,
  pay_economique_menace_2_description text,
  pay_economique_menace_2_source text,
  pay_economique_menace_2_url text,
  pay_economique_menace_2_impact_potentiel text,
  pay_economique_menace_3_description text,
  pay_economique_menace_3_source text,
  pay_economique_menace_3_url text,
  pay_economique_menace_3_impact_potentiel text,
  pay_sociodemographique_opportunite_1_description text,
  pay_sociodemographique_opportunite_1_source text,
  pay_sociodemographique_opportunite_1_url text,
  pay_sociodemographique_opportunite_1_impact_potentiel text,
  pay_sociodemographique_opportunite_2_description text,
  pay_sociodemographique_opportunite_2_source text,
  pay_sociodemographique_opportunite_2_url text,
  pay_sociodemographique_opportunite_2_impact_potentiel text,
  pay_sociodemographique_opportunite_3_description text,
  pay_sociodemographique_opportunite_3_source text,
  pay_sociodemographique_opportunite_3_url text,
  pay_sociodemographique_opportunite_3_impact_potentiel text,
  pay_sociodemographique_menace_1_description text,
  pay_sociodemographique_menace_1_source text,
  pay_sociodemographique_menace_1_url text,
  pay_sociodemographique_menace_1_impact_potentiel text,
  pay_sociodemographique_menace_2_description text,
  pay_sociodemographique_menace_2_source text,
  pay_sociodemographique_menace_2_url text,
  pay_sociodemographique_menace_2_impact_potentiel text,
  pay_sociodemographique_menace_3_description text,
  pay_sociodemographique_menace_3_source text,
  pay_sociodemographique_menace_3_url text,
  pay_sociodemographique_menace_3_impact_potentiel text,
  pay_technologique_opportunite_1_description text,
  pay_technologique_opportunite_1_source text,
  pay_technologique_opportunite_1_url text,
  pay_technologique_opportunite_1_impact_potentiel text,
  pay_technologique_opportunite_2_description text,
  pay_technologique_opportunite_2_source text,
  pay_technologique_opportunite_2_url text,
  pay_technologique_opportunite_2_impact_potentiel text,
  pay_technologique_opportunite_3_description text,
  pay_technologique_opportunite_3_source text,
  pay_technologique_opportunite_3_url text,
  pay_technologique_opportunite_3_impact_potentiel text,
  pay_technologique_menace_1_description text,
  pay_technologique_menace_1_source text,
  pay_technologique_menace_1_url text,
  pay_technologique_menace_1_impact_potentiel text,
  pay_technologique_menace_2_description text,
  pay_technologique_menace_2_source text,
  pay_technologique_menace_2_url text,
  pay_technologique_menace_2_impact_potentiel text,
  pay_technologique_menace_3_description text,
  pay_technologique_menace_3_source text,
  pay_technologique_menace_3_url text,
  pay_technologique_menace_3_impact_potentiel text,
  pay_exploitation_opportunite_1_recommandation text,
  pay_exploitation_opportunite_1_opportunite_associee text,
  pay_exploitation_opportunite_1_priorite text,
  pay_exploitation_opportunite_2_recommandation text,
  pay_exploitation_opportunite_2_opportunite_associee text,
  pay_exploitation_opportunite_2_priorite text,
  pay_exploitation_opportunite_3_recommandation text,
  pay_exploitation_opportunite_3_opportunite_associee text,
  pay_exploitation_opportunite_3_priorite text,
  pay_attenuation_menace_1_recommandation text,
  pay_attenuation_menace_1_menace_associee text,
  pay_attenuation_menace_1_priorite text,
  pay_attenuation_menace_2_recommandation text,
  pay_attenuation_menace_2_menace_associee text,
  pay_attenuation_menace_2_priorite text,
  pay_attenuation_menace_3_recommandation text,
  pay_attenuation_menace_3_menace_associee text,
  pay_attenuation_menace_3_priorite text,
  pay_vue_d_ensemble text,
  pay_synthese_demande text,
  pay_segment_1_nom text,
  pay_segment_1_ca_potentiel text,
  pay_segment_1_taille_volume text,
  pay_segment_1_caracteristiques text,
  pay_segment_1_frequence_achat text,
  pay_segment_1_panier_moyen text,
  pay_ca_an_un text,
  pay_ca_an_deux text,
  pay_ca_an_trois text,
  pay_justification_projections text,
  pay_facteurs_influence text,
  pay_segment_2_nom text,
  pay_segment_2_ca_potentiel text,
  pay_segment_2_taille_volume text,
  pay_segment_2_caracteristiques text,
  pay_segment_2_frequence_achat text,
  pay_segment_2_panier_moyen text,
  pay_segment_3_nom text,
  pay_segment_3_ca_potentiel text,
  pay_segment_3_taille_volume text,
  pay_segment_3_caracteristiques text,
  pay_segment_3_frequence_achat text,
  pay_segment_3_panier_moyen text,
  avis text,
  justification_avis text,
  CONSTRAINT marche_pkey PRIMARY KEY (project_id),
  CONSTRAINT marche_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id),
  CONSTRAINT marche_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.messages (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  conversation_id uuid NOT NULL,
  sender text NOT NULL CHECK (sender = ANY (ARRAY['user'::text, 'bot'::text])),
  content text NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT messages_pkey PRIMARY KEY (id),
  CONSTRAINT messages_conversation_id_fkey FOREIGN KEY (conversation_id) REFERENCES public.conversation(id)
);
CREATE TABLE public.mini_swot (
  user_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  project_id uuid NOT NULL,
  economique_opportunite_1 text,
  economique_opportunite_2 text,
  economique_menace_1 text,
  economique_menace_2 text,
  socio_opportunite_1 text,
  socio_opportunite_2 text,
  socio_menace_1 text,
  socio_menace_2 text,
  force_1 text,
  force_2 text,
  force_3 text,
  force_4 text,
  faiblesse_1 text,
  faiblesse_2 text,
  faiblesse_3 text,
  faiblesse_4 text,
  recommandations text,
  avis text,
  justification_avis text,
  CONSTRAINT mini_swot_pkey PRIMARY KEY (project_id),
  CONSTRAINT mini_swot_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT mini_swot_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id)
);
CREATE TABLE public.organisms (
  user_id uuid NOT NULL DEFAULT gen_random_uuid(),
  project_id uuid NOT NULL,
  organism_segments_principaux text,
  organism_caracteristiques_distinctives text,
  organism_taille_accessibilite text,
  organism_hierarchisation_potentiel text,
  organism_profils_demographiques text,
  organism_traits_psychographiques text,
  organism_comportements_achat text,
  organism_facteurs_influence text,
  organism_etapes_decisionnelles text,
  organism_points_contact_critiques text,
  organism_facteurs_conversion_friction text,
  organism_influences_externes text,
  organism_besoins_explicites text,
  organism_besoins_implicites text,
  organism_motivations_profondes text,
  organism_declencheurs_achat text,
  organism_personas_detailles text,
  organism_facteurs_decisionnels_cles text,
  organism_strategies_engagement text,
  organism_recommandations_marketing text,
  CONSTRAINT organisms_pkey PRIMARY KEY (project_id),
  CONSTRAINT organisms_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_responses(project_id),
  CONSTRAINT organisms_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.originalite (
  user_id uuid NOT NULL DEFAULT gen_random_uuid(),
  project_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  free_evaluation_globale_originalite text,
  free_positionnement_concurrentiel text,
  free_risques_opportunites_identifies text,
  free_recommandations_strategiques text,
  free_perspectives_differenciation_future text,
  free_niveau_global_originalite text,
  free_elements_innovants text,
  free_caractere_unique_proposition_valeur text,
  free_facteurs_differenciation_cles text,
  pay_cartographie_concurrentielle text,
  pay_positionnement_acteurs_existants text,
  pay_lacunes_opportunites_identifiees text,
  pay_forces_concurrents text,
  pay_faiblesses_concurrents text,
  pay_avantages_identifies text,
  pay_durabilite_avantages text,
  pay_barrieres_imitation text,
  pay_strategies_renforcement text,
  pay_potentiel_protection text,
  pay_elements_protégeables text,
  pay_risques_conflits_propriete_intellectuelle text,
  pay_strategie_protection_recommandee text,
  pay_force_impact_differenciateur text,
  pay_perception_client_potentielle text,
  pay_valeur_ajoutee_marche text,
  pay_recommandations_amelioration text,
  CONSTRAINT originalite_pkey PRIMARY KEY (project_id),
  CONSTRAINT originalite_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT originalite_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_responses(project_id)
);
CREATE TABLE public.persona_express_b2b (
  user_id uuid NOT NULL,
  project_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  identite_professionnelle text,
  contexte_organisationnel text,
  responsabilites_cles text,
  enjeux_business text,
  processus_decision text,
  recherche_information text,
  objections_courantes text,
  strategie_approche text,
  recommandations_b2b text,
  CONSTRAINT persona_express_b2b_pkey PRIMARY KEY (project_id),
  CONSTRAINT buyer_b2b_user_id_fkey1 FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT persona_express_b2b_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id)
);
CREATE TABLE public.persona_express_b2c (
  user_id uuid NOT NULL,
  project_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  identite text,
  contexte_personnel text,
  motivations_valeurs text,
  defis_frustrations text,
  comportement_achat text,
  presence_digitale text,
  strategies_marketing text,
  approche_vente text,
  avis text,
  recommandations text,
  justification_avis text,
  recommandations_b2c text,
  CONSTRAINT persona_express_b2c_pkey PRIMARY KEY (project_id),
  CONSTRAINT persona_express_b2c_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id),
  CONSTRAINT buyer_b2c_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.persona_express_organismes (
  user_id uuid NOT NULL,
  project_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  identite_institutionnelle text,
  contexte_organisationnel text,
  mission_responsabilites text,
  contraintes_budgetaires text,
  enjeux_prioritaires text,
  processus_decision text,
  valeurs_attentes text,
  strategie_approche text,
  recommandations_organisme text,
  CONSTRAINT persona_express_organismes_pkey PRIMARY KEY (project_id),
  CONSTRAINT persona_express_organismes_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id),
  CONSTRAINT buyer_organismes_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.pertinence (
  project_id uuid NOT NULL,
  user_id uuid NOT NULL DEFAULT gen_random_uuid(),
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  free_evaluation_definition_probleme text,
  free_dimensions_identifiees text,
  free_restructuration_problematique text,
  free_niveaux_probleme text,
  free_urgence_importance_probleme text,
  free_taille_impact_marche text,
  free_valeur_creee_resolution text,
  free_conclusion_pertinence text,
  pay_causes_fondamentales_identifiees text,
  pay_facteurs_persistance_probleme text,
  pay_adequation_solution_causes text,
  pay_approches_alternatives_suggerees text,
  pay_niveau_adequation_global text,
  pay_aspects_couverts_efficacement text,
  pay_lacunes_identifiees text,
  pay_recommandations_amelioration text,
  pay_analyse_validation_existante text,
  pay_methodologies_complementaires text,
  pay_indicateurs_confirmation text,
  pay_plan_validation_suggere text,
  pay_evaluation_globale_pertinence text,
  pay_solidite_formulation_probleme text,
  pay_qualite_adequation_solution text,
  pay_recommandations_strategiques text,
  pay_validation_idee text,
  pay_viabilite_projet text,
  pay_post_mvp text,
  CONSTRAINT pertinence_pkey PRIMARY KEY (project_id),
  CONSTRAINT pertinence_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_responses(project_id),
  CONSTRAINT pertinence_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.pitch (
  user_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  project_id uuid NOT NULL,
  pitch_30_secondes_texte text,
  pitch_30_secondes_appel_action text,
  pitch_court_texte text,
  pitch_court_appel_action text,
  pitch_complet_texte text,
  pitch_complet_appel_action text,
  CONSTRAINT pitch_pkey PRIMARY KEY (project_id),
  CONSTRAINT Pitch_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT Pitch_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id)
);
CREATE TABLE public.products (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  id_stripe text,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  Nom text,
  Description text,
  prix text,
  crédits text,
  descritpion text,
  CONSTRAINT products_pkey PRIMARY KEY (id)
);
CREATE TABLE public.profiles (
  id uuid NOT NULL,
  email text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  nb_projects text DEFAULT '2'::text,
  drive_folder_url text,
  drive_folder_id text,
  drive_folder_rag text,
  conv_limit text,
  credits_restants text DEFAULT '5'::text,
  credit_limit text DEFAULT '5'::text,
  CONSTRAINT profiles_pkey PRIMARY KEY (id),
  CONSTRAINT profiles_id_fkey FOREIGN KEY (id) REFERENCES auth.users(id)
);
CREATE TABLE public.profiles_beta (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  nom text,
  email text,
  beta_testeur boolean,
  code_beta text,
  commentaire text,
  CONSTRAINT profiles_beta_pkey PRIMARY KEY (id)
);
CREATE TABLE public.project_summary (
  project_id uuid NOT NULL DEFAULT uuid_generate_v4(),
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  nom_projet text,
  description_synthetique text,
  produit_service text,
  proposition_valeur text,
  problemes text,
  elements_distinctifs text,
  public_cible text,
  b2c_profile text,
  b2c_problems text,
  b2b_profile text,
  b2b_problems text,
  organismes_profile text,
  organismes_problems text,
  user_id uuid,
  Marche_cible text,
  marches_annexes text,
  project_location text,
  project_type text,
  budget text,
  statut text,
  statut_persona_epxress text,
  statut_mini_swot text,
  Motivation_entrepreneur text,
  statut_success_story text,
  statut_pitch text,
  statut_concurrence text,
  statut_business_model text,
  statut_proposition_valeur text,
  statut_pestel text,
  statut_ressources text,
  drive_folder_url text,
  drive_folder_id text,
  doc_free_id text,
  statut_vision_mission_valeurs text,
  statut_project text,
  CONSTRAINT project_summary_pkey PRIMARY KEY (project_id),
  CONSTRAINT project_summary_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_business_idea(project_id),
  CONSTRAINT project_summary_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.project_summary_v2 (
  project_id uuid NOT NULL DEFAULT uuid_generate_v4(),
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  nom_projet text,
  description_synthetique text,
  produit_service text,
  proposition_valeur text,
  problemes text,
  elements_distinctifs text,
  public_cible text,
  b2c_profile text,
  b2c_problems text,
  b2b_profile text,
  b2b_problems text,
  organismes_profile text,
  organismes_problems text,
  vision_3_ans text,
  user_id uuid,
  Marche_cible text,
  marches_annexes text,
  project_location text,
  project_type text,
  mail_user text,
  budget text,
  competences text,
  business_model text,
  statut text,
  validation_profile_acheteur text,
  validation_pestel text,
  validation_concurrence text,
  validation_originalite text,
  validation_pertinence text,
  validation_complexite text,
  statut buyer personna text,
  CONSTRAINT project_summary_v2_pkey PRIMARY KEY (project_id),
  CONSTRAINT project_summary_v2_project_id_fkey1 FOREIGN KEY (project_id) REFERENCES public.form_business_idea(project_id),
  CONSTRAINT project_summary_v2_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.proposition_valeur (
  user_id uuid NOT NULL,
  project_id uuid NOT NULL DEFAULT gen_random_uuid(),
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  b2c_profil_aspirations text,
  b2c_profil_besoins text,
  b2c_profil_problemes text,
  b2b_profil_aspirations text,
  b2b_profil_besoins text,
  b2b_profil_problemes text,
  organismes_profil_aspirations text,
  organismes_profil_besoins text,
  organismes_profil_problemes text,
  b2c_carte_valeur_produits_services text,
  b2c_carte_valeur_createurs_benefices text,
  b2c_carte_valeur_solutions text,
  b2b_carte_valeur_produits_services text,
  b2b_carte_valeur_createurs_benefices text,
  b2b_carte_valeur_solutions text,
  organismes_carte_valeur_produits_services text,
  organismes_carte_valeur_createurs_benefices text,
  organismes_carte_valeur_solutions text,
  CONSTRAINT proposition_valeur_pkey PRIMARY KEY (project_id),
  CONSTRAINT proposition_valeur_user_id_fkey1 FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT proposition_valeur_project_id_fkey1 FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id),
  CONSTRAINT proposition_valeur_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT proposition_valeur_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_business_idea(project_id)
);
CREATE TABLE public.rag (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  user_id uuid,
  project_id uuid,
  content text,
  metadata jsonb,
  embedding USER-DEFINED,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT rag_pkey PRIMARY KEY (id),
  CONSTRAINT rag_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id),
  CONSTRAINT rag_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.ressources_requises (
  user_id uuid NOT NULL,
  project_id uuid NOT NULL DEFAULT gen_random_uuid(),
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  ressources_materielles text,
  ressources_humaines text,
  ressources_techniques text,
  CONSTRAINT ressources_requises_pkey PRIMARY KEY (project_id),
  CONSTRAINT ressources_requises_project_id_fkey1 FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id),
  CONSTRAINT ressources_requises_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.success_story (
  user_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  project_id uuid NOT NULL,
  projections_un_an_titre text,
  projections_un_an_vision text,
  projections_trois_ans_titre text,
  projections_trois_ans_vision text,
  projections_cinq_ans_titre text,
  projections_cinq_ans_vision text,
  message_motivation text,
  CONSTRAINT success_story_pkey PRIMARY KEY (project_id),
  CONSTRAINT success_story_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT success_story_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id)
);
CREATE TABLE public.vision_mission_valeurs (
  user_id uuid NOT NULL,
  project_id uuid NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  vision text,
  mission text,
  valeurs text,
  coherence_strategique text,
  CONSTRAINT vision_mission_valeurs_pkey PRIMARY KEY (project_id),
  CONSTRAINT vision_mission_valeurs_user_id_fkey1 FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT vision_mission_valeurs_project_id_fkey FOREIGN KEY (project_id) REFERENCES public.form_business_idea(project_id),
  CONSTRAINT vision_mission_valeurs_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT vision_mission_valeurs_project_id_fkey1 FOREIGN KEY (project_id) REFERENCES public.project_summary(project_id)
);